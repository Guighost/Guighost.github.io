<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: https://ssl.gstatic.com 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *;">


    <title>Medieval Farms - Farming Sim by GuiGhost Games</title>
    <style>
               .lime-scene {
                   display: block !important;
               }

               body {
                   background-color: black;
                   background-image: url(images/UI/battleback11.png);
                   background-size: cover;
                   background-repeat: no-repeat;
               }


               #loadingGG {
                   position: absolute;
                   top: 30%;
                   left: 50%;
                   min-width: 50%;
                   height: 70%;
                   transform: translateX(-150px);
                   z-index: 15000;
               }



               #inter1 {
                   position: absolute;
                   /*left: 50%;*/
                   width: 98%;
                   left: 1%;
                   height: 95%;
                   max-height: 95%;
                   background-color: black;
                   margin-bottom: 2px;
                   /*transform: translate(-160px, 0px);*/
                   z-index: 15000;
                   display: none;
                   color: azure;
                   background-image: url("images/ads/fallbackLogo.png");
                   background-repeat: no-repeat;
                   background-position: top;
                   font-size: large;
               }

               #interCount {
                   position: absolute;
                   text-align: center;
                   border-radius: 9px;
                   min-width: 30px;
                   height: 25px;
                   background-color: darkblue;
                   font-size: large;
                   top: 5px;
                   right: 0px;
                   transform: translate(0px,-5px);
               }

               #adWrap {
                   border: 1px solid red;
                   width: 300px;
                   height: 250px;
                   margin-top: 20px;
                   margin-left: 50%;
                   transform: translateX(-150px);
                   align-content: center;
               }

               #gPlayImg {
                   display: inline-block;
                   width: 300px;
                   margin-left: 50%;
                   transform: translate(-150px,30px);
               }



               #closePop {
                   position: absolute;
                   text-align: center;
                   border-radius: 9px;
                   min-width: 30px;
                   height: 25px;
                   background-color: black;
                   font-size: large;
                   top: 0px;
                   transform: translate(-5px,-15px);
               }

               #testerr {
                   position: absolute;
                   top: 420px;
                   left: 10px;
                   width: 50px;
                   height: 40px;
                   background-color: red;
                   color: azure;
               }

               #fbshare {
                   background-image: url( "images/UI/blankBack7.png");
                   /*background-color: #8a2be2;*/
                   height: 450px;
                   width: 315px;
                   position: absolute;
                   left: 50%;
                   top: 135px;
                   transform: translate(-160px,0px);
                   display: none;
                   font-family: 'Comic Sans MS';
                   font-size: 14px;
                   z-index: 2000;
                   background-size: contain;
                   background-repeat: no-repeat;
               }

               #closeFB {
                   background-image: url( "images/UI/XButton.png");
                   background-size: contain;
                   height: 50px;
                   width: 50px;
                   /*border: 2px groove grey;*/
                   border-radius: 10px;
                   position: absolute;
                   left: 50%;
                   top: 95%;
                   transform: translate(-25px,-2px);
                   font-family: 'Comic Sans MS';
                   font-size: large;
                   text-align: center;
               }

               #fbshareTitle {
                   background-color: azure;
                   height: 30px;
                   width: 99%;
                   border: 2px inset grey;
                   border-radius: 10px;
                   font-family: 'Comic Sans MS';
                   font-size: large;
                   text-align: center;
               }

               #logoImg3 {
                   transform: translate(5px,5px);
                   height: 90px;
                   width: 240px;
               }

               #outerStarCashImg {
                   width: 150px;
                   margin-left: 50%;
                   transform: translate(-75px,25px);
               }

               #starCashOuterLabel {
                   position: absolute;
                   font-size: 22px;
                   font-family: 'Comic Sans MS';
                   color: purple;
                   text-align: center;
                   left: 50%;
                   z-index: 100;
                   transform: translate(-12px,15px);
               }

               #currentStarCashBack, #currentStarCashBack2, #currentStarCashBack3, #currentStarCashBack4 {
                   width: 273px;
                   height: 50px;
                   font-family: 'Comic Sans MS';
                   font-size: 16px;
                   color: yellow;
                   margin-left: 18px;
                   margin-top: 20px;
                   /*transform: translate(0px,-10px);*/
                   border: 2px groove brown;
                   border-radius: 5px;
                   background-color: darkgreen;
               }

               #currentStarCashBack3 {
                   width: 267px;
                   height: 50px;
                   text-align: left;
                   padding-left: 5px;
                   padding-top: -20px;
                   /*display: none;*/
               }

               #currentStarCashBack4 {
                   margin-top: 60px;
                   padding-top: 10px;
                   padding-left: 3px;
                   text-align: left;
                   font-size: 18px;
               }

               #starCashRow3 {
                   width: 100%;
                   height: 100%;
                   transform: translate(0px,-15px);
                   touch-action: none;
               }

               #lowerStarCashImg, #lowerStarCashImg2 {
                   width: 50px;
                   transform: translate(5px,0px);
               }

               #lowerStarCashImg3 {
                   width: 45px;
                   transform: translate(0px,15px);
               }

               #lowerArrow, #lowerArrow2, #lowerArrow3 {
                   width: 35px;
                   height: 35px;
                   transform: translate(10px, -5px);
               }

               #lowerStarCashCoin {
                   width: 50px;
                   height: 50px;
                   margin-left: 5%;
                   transform: translate(5px, 0px);
               }

               #buyWithStarCash, #buyWithStarCashTools, #viewAdImg, #buyStarsFromModal {
                   width: 80px;
                   height: 35px;
                   margin-left: 50%;
                   transform: translate(40px, -47px);
                   touch-action: none;
               }

               #viewAdImg {
                   width: 88px;
                   height: 45px;
                   margin-left: 50%;
                   transform: translate(37px, -32px);
                   touch-action: none;
               }

               #row2label {
                   transform: translate(75px, -50px);
               }

               #buyStarsFromModal {
                   width: 80px;
                   height: 55px;
                   transform: translate(45px, -35px);
               }
               /*#currentStarCashBack2 {
                   width: 280px;
                   height: 50px;
                   font-family: 'Comic Sans MS';
                   font-size: 20px;
                   color: yellow;
                   text-align: left;
                   margin-left: 10px;
                   transform: translate(0px,30px);
                   border: 1px groove azure;
                   border-radius: 5px;
                   background-color: saddlebrown;
               }*/
               #descShare {
                   font-family: 'Comic Sans MS';
                   color: gold;
                   font-size: large;
                   text-align: center;
                   width: 95%;
               }
               /*#shareLink{
                       width: 90%;
                   }*/
               #postInviteToWall {
                   position: absolute;
                   left: 2%;
                   top: 78%;
               }




               #sucessbuyTxt {
                   width: 180px;
                   color: darkgreen;
                   font-family: 'Comic Sans MS';
                   margin-left: 50%;
                   font-size: 28px;
                   font-weight: 500;
                   transform: translate(-70px,-15px);
                   display: none;
               }

               .alignleft {
                   position: absolute;
                   top: 2px;
                   left: 2px;
                   z-index: 500;
               }

               .alignright {
                   position: absolute;
                   top: 2px;
                   right: 2px;
                   z-index: 500;
                   width: 120px;
                   height: 600px;
               }


               /**
        * blazingStar
        * - Radiate shiny things
        */
               @keyframes blazingStar {
                   1% {
                       border-radius: unset;
                       box-shadow: 0px 0px 40px rgba(255, 255, 0,.6);
                       /*transform: scale(1);*/
                   }

                   10% {
                       box-shadow: 0px 0px 0px;
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   20% {
                       box-shadow: 0px 0px 120px rgba(255, 255, 0,.6);
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   30% {
                       box-shadow: 0px 0px 0px;
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   40% {
                       box-shadow: 0px 0px 120px rgba(255, 255, 0,.6);
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   50% {
                       box-shadow: 0px 0px 0px;
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   60% {
                       box-shadow: 0px 0px 20vh rgba(255, 255, 0,1);
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   70% {
                       box-shadow: 0px 0px 0px;
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   80% {
                       box-shadow: 0px 0px 20vh rgba(255, 255, 0,1);
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   90% {
                       box-shadow: 0px 0px 0px;
                       /*border-radius: 50%;*/
                       /*transform: scale(1);*/
                   }

                   99% {
                       box-shadow: 0px 0px 20vh rgba(255, 255, 0,1);
                       /*border-radius: 50%;*/
                       /*transform: scale(1.1);*/
                   }
               }

               .blazingStar {
                   animation-timing-function: ease-out;
                   transform-origin: bottom center;
                   animation-name: blazingStar;
                   animation-duration: 5s;
               }



               #foundIt {
                   background-image: url("images/UI/blankBack6.png");
                   /*background-color: #8a2be2;*/
                   height: 370px;
                   width: 315px;
                   position: absolute;
                   top: 135px;
                   margin-left: 50%;
                   transform: translateX(-155px);
                   display: none;
                   font-family: 'Comic Sans MS';
                   font-size: 14px;
                   z-index: 2000;
                   background-size: contain;
                   background-repeat: no-repeat;
                   /*z-index: 5000;*/
                   align-content: center;
                   text-align: center;
                   word-wrap: break-word;
               }

                   #foundIt h1 {
                       padding-top: 12px;
                   }

               #foundItImage {
                   padding-top: 20px;
                   padding-bottom: 5px;
                   width: 100px;
                   height: 100px;
                   margin: 0 auto;
                   background-image: url("images/items/ringEmerald.png");
                   background-size: contain;
                   background-repeat: no-repeat;
                   margin-bottom: 50px;
               }

               #foundItSubText {
                   width: 300px;
                   margin: 0 auto;
                   font-size: 18px;
                   transform: translateY(-30px);
               }

               #foundItClose {
                   width: 100px;
                   height: 25px;
                   margin: 0 auto;
                   background-color: #00ff00;
                   margin-top: 10px;
                   font-size: 18px;
                   font-weight: 500;
               }

               @media (max-width: 800px) {
                   .alignleft, .alignright {
                       display: none;
                   }

                   #inter1 {
                       width: 98%;
                       left: 1%;
                   }
               }

               @media (max-width: 760px) {
                   .alignleft, .alignright {
                       display: none;
                   }
               }

               @media (max-width: 320px) {


                   #gPlayImg {
                       width: 200px;
                       margin-left: 50%;
                       transform: translate(-100px,0px);
                   }

                   #fbshare {
                       top: 18px;
                   }
               }

               @media (max-width: 320px) and (max-height:480px) {


                   #gPlayImg {
                       width: 200px;
                       margin-left: 50%;
                       transform: translate(-100px,50px);
                   }

                   #loadingGG {
                       position: absolute;
                       top: 10%;
                       left: 50%;
                       min-width: 50%;
                       height: 100%;
                       transform: translateX(-150px);
                       z-index: 15000;
                   }
               }

               /*/////rate me*/
               #rateMe {
                   position: absolute;
                   min-height: 100%;
                   min-width: 100%;
                   background-color: black;
                   background-image: url("images/selfPromoteBack2.png");
                   background-position: top;
                   background-repeat: no-repeat;
                   background-size: contain;
                   z-index: 1000;
                   /*min-width: 400px;
                   max-width: 500px;
                   max-height: 400px;*/
                   align-content: center;
                   text-align: center;
                   font-family: 'Comic Sans MS';
                   font-size: 16px;
                   color: azure;
                   text-shadow: 2px 2px #101511;
                   display: none;
                   top: 0px;
               }

               #rateMeInner {
                   position: absolute;
                   background-image: linear-gradient(grey,ActiveCaption);
                   top: 30%;
                   margin-left: 50%;
                   height: 230px;
                   width: 312px;
                   border: 5px grey groove;
                   transform: translate(-161px,25px);
                   z-index: 3100;
                   /*display: none;*/
               }

               #rateMeBtnWrap {
                   position: absolute;
                   bottom: 5px;
                   width: 100%;
                   left: 0px;
               }

               .rateBtn {
                   float: left;
                   width: 26%;
                   height: 32px;
                   background-image: linear-gradient(forestGreen,#17BF39 );
                   border: 5px groove green;
                   border-radius: 5px;
                   align-content: center;
                   text-align: center;
                   margin: 2%;
                   font-family: 'Comic Sans MS';
                   font-size: 15px;
                   text-shadow: 1px 1px black;
                   color: azure;
                   padding-top: 3px;
                   /*margin-left: 5%;*/
               }

               #rateImage {
                   background-image: linear-gradient(lightcoral,yellow );
                   margin-top: 4%;
                   display: inline-block;
                   width: 300px;
                   margin-left: 50%;
                   transform: translate(-150px,-35px);
                   z-index: 2000;
                   border-radius: 10px;
               }

               #rateMeBtnNo {
                   background-image: linear-gradient(red,lightcoral );
                   margin-top: 4%;
               }

               #rateMeBtnLater {
                   background-image: linear-gradient(blue, #149EB7);
                   margin-top: 4%;
               }

               #rateMeBtnYes {
                   padding-top: 9px;
                   height: 45px;
                   margin-top: 3%;
                   font-size: 16px;
               }

               #rateMeText {
                   transform: translate(0px,-18px);
               }


               .tilt-in-fwd-tr {
                   -webkit-animation: tilt-in-fwd-tr 0.6s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
                   animation: tilt-in-fwd-tr 0.6s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
                   opacity: 1;
               }


               /* ----------------------------------------------
        * Generated by Animista on 2020-4-24 22:56:26
        * Licensed under FreeBSD License.
        * See http://animista.net/license for more info.
        * w: http://animista.net, t: @cssanimista
        * ---------------------------------------------- */

               /**
        * ----------------------------------------
        * animation tilt-in-fwd-tr
        * ----------------------------------------
        */
               @-webkit-keyframes tilt-in-fwd-tr {
                   0% {
                       -webkit-transform: rotateY(20deg) rotateX(35deg) translate(300px, -300px) skew(-35deg, 10deg);
                       transform: rotateY(20deg) rotateX(35deg) translate(300px, -300px) skew(-35deg, 10deg);
                       opacity: 0;
                   }

                   100% {
                       -webkit-transform: rotateY(0) rotateX(0deg) translate(0, 0) skew(0deg, 0deg);
                       transform: rotateY(0) rotateX(0deg) translate(0, 0) skew(0deg, 0deg);
                       opacity: 1;
                   }
               }

               @keyframes tilt-in-fwd-tr {
                   0% {
                       -webkit-transform: rotateY(20deg) rotateX(35deg) translate(300px, -300px) skew(-35deg, 10deg);
                       transform: rotateY(20deg) rotateX(35deg) translate(300px, -300px) skew(-35deg, 10deg);
                       opacity: 0;
                   }

                   100% {
                       -webkit-transform: rotateY(0) rotateX(0deg) translate(-160px,0px) skew(0deg, 0deg);
                       transform: rotateY(0) rotateX(0deg) translate(-160px,0px) skew(0deg, 0deg);
                       opacity: 1;
                   }
               }

               .slit-out-vertical {
                   -webkit-animation: slit-out-vertical 0.5s ease-in both;
                   animation: slit-out-vertical 0.5s ease-in both;
               }

               /**
        * ----------------------------------------
        * animation slit-out-vertical
        * ----------------------------------------
        */
               @-webkit-keyframes slit-out-vertical {
                   0% {
                       -webkit-transform: translateZ(0) rotateY(0);
                       transform: translateZ(0) rotateY(0);
                       opacity: 1;
                   }

                   54% {
                       -webkit-transform: translateZ(-160px) rotateY(87deg);
                       transform: translateZ(-160px) rotateY(87deg);
                       opacity: 1;
                   }

                   100% {
                       -webkit-transform: translateZ(-800px) rotateY(90deg);
                       transform: translateZ(-800px) rotateY(90deg);
                       opacity: 0;
                   }
               }

               @keyframes slit-out-vertical {
                   0% {
                       -webkit-transform: translateZ(0) rotateY(0);
                       transform: translateZ(0) rotateY(0);
                       opacity: 1;
                   }

                   54% {
                       -webkit-transform: translateZ(-160px) rotateY(87deg);
                       transform: translateZ(-160px) rotateY(87deg);
                       opacity: 1;
                   }

                   100% {
                       -webkit-transform: translateZ(-800px) rotateY(90deg);
                       transform: translateZ(-800px) rotateY(90deg);
                       transform: translate(-160px,0px);
                       opacity: 0;
                   }
               }

               .flip-out-hor-top {
                   -webkit-animation: flip-out-hor-top 0.45s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
                   animation: flip-out-hor-top 0.45s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
               }


               /**
        * ----------------------------------------
        * animation flip-out-hor-top
        * ----------------------------------------
        */
               @-webkit-keyframes flip-out-hor-top {
                   0% {
                       -webkit-transform: rotateX(0) translate(-160px,0px);
                       transform: rotateX(0) translate(-160px,0px);
                       opacity: 1;
                   }

                   100% {
                       -webkit-transform: rotateX(70deg) translate(-160px,0px);
                       transform: rotateX(70deg) translate(-160px,0px);
                       opacity: 0;
                   }
               }

               @keyframes flip-out-hor-top {
                   0% {
                       -webkit-transform: rotateX(0) translate(-160px,0px);
                       transform: rotateX(0) translate(-160px,0px);
                       opacity: 1;
                   }

                   100% {
                       -webkit-transform: rotateX(70deg) translate(-160px,0px);
                       transform: rotateX(70deg) translate(-160px,0px);
                       opacity: 0;
                       display: none;
                   }
               }
    </style>



    <script type="text/javascript" src="farming_1.5Compiled.js"></script>
</head>


<body onload="farming.start()">
    <!--<script>
        //window.setTimeout(function () { farming.start(); }, 15000);
        nope not here
    </script>-->
    <div id="loadingGG"><IMG SRC="images/UI/loading4.gif"></div>


    <div id="fbshare">
        <div id="fbshareContent">
            <div id="descShare">

                <!--<img id="logoImg3" src="images/UI/MenuTop2.png" alt="FarmImg" />-->
            </div>
            <div id="outerStarCash">
                <p id="starCashOuterLabel">50</p>
                <img id="outerStarCashImg" src="images/UI/starCashBack.png" alt="StarCashImg" />
            </div>
            <div id="currentStarCashBack">
                <img id="lowerStarCashImg" src="images/UI/plus5StarCash.png" alt="StarCashImg" /> <img id="lowerArrow" src="images/UI/rightBtn.png" alt="rightBtn" />
                <img id="lowerStarCashCoin" src="images/UI/coin500.png" alt="StarCashCoin" /><img id="buyWithStarCash" src="images/UI/greenBuy.png" alt="StarCashImg" />
            </div>

            <div id="currentStarCashBack2">
                <img id="lowerStarCashImg2" src="images/UI/plus10StarCash.png" alt="StarCashImg" />
                <img id="lowerArrow2" src="images/UI/rightBtn.png" alt="rightBtn2" />
                <img id="lowerStarCashCoin" src="images/tools500.png" alt="tools500" /><img id="buyWithStarCashTools" src="images/UI/greenBuy.png" alt="StarCashBuyImg" />
            </div>
            <div id="currentStarCashBack3">
                <div id="starCashRow3">
                    Watch to Earn <img id="lowerStarCashImg3" src="images/UI/plus3StarCash.png" alt="StarCashImg" />
                    <img id="viewAdImg" src="images/UI/viewAd.png" alt="View Ad" />
                </div>
                <p id="waitText"></p>
            </div>

            <p id="sucessbuyTxt"> + $500</p>
            <div id="currentStarCashBack4">
                Buy Stars in Town <img id="buyStarsFromModal" src="images/UI/shopIcon.png" alt="buyStars" />
            </div>
        </div>
        <div id="fbshareFooter"> <a id="closeFB"></a></div>

    </div>

    <div id="rateMe">
        <div id="rateMeInner">
            <div id="rateMeTopWrap">

                <div id="rateMeText">

                    <p><h2>Please Rate Our App</h2> It takes only a moment and helps alot</p>
                </div>

            </div>
            <div id="rateMeImage"> <img id="rateImage" alt='Rate on Google Play' src='images/ratingstars.png' />   </div>

            <div id="rateMeBtnWrap">

                <div id="rateMeBtnNo" class="rateBtn">No Thanks</div>

                <div id="rateMeBtnYes" class="rateBtn"> <b>Rate Now</b>  </div>
                <div id="rateMeBtnLater" class="rateBtn">Later</div>
            </div>


        </div>

    </div>
    <div id="foundIt" class="blazingStar">
        <div id="foundItInner">
            <h1 id="foundItTitle"> Item Found! </h1>
            <h2 id="foundItSubTitle"> Emerald Ring </h2>
            <div id="foundItImage"></div>
            <div id="foundItSubText"> Someone in town may be interested in this item</div>
            <div id="foundItClose">CLOSE</div>

        </div>
    </div>
    <!--<script type="text/javascript" src="cordova.js"></script>-->
    <div class="alignleft">



        <iframe src="//rcm-na.amazon-adsystem.com/e/cm?o=1&p=11&l=ez&f=ifr&linkID=692ac2ae1b87ac1549a2749e07927cf6&t=guighost-20&tracking_id=guighost-20" width="120" height="600" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>
    </div>

    <div class="alignright">

        <iframe src="//rcm-na.amazon-adsystem.com/e/cm?o=1&p=11&l=ez&f=ifr&linkID=692ac2ae1b87ac1549a2749e07927cf6&t=guighost-20&tracking_id=guighost-20" width="120" height="600" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>

    </div>

    <div id="inter1">
        <div id="adWrap">
            <iframe src="//rcm-na.amazon-adsystem.com/e/cm?o=1&p=49&l=ur1&category=amazonhomepage&f=ifr&linkID=98c53bd0a2ace89ffea814ca6df8d421&t=guighost-20&tracking_id=guighost-20" width="300" height="600" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>



            <div id="interCount">15</div>
        </div>
    </div>

    <script type=text/javascript>



        // set interval to check fo        r interstatialad
    if (localStorage.getItem("rateMeNever") == null) {
        localStorage.setItem("rateMeNever", 0);
    }
    if (localStorage.getItem("showRewarded") == null) {
                    localStorage.setItem("showRewarded", 0);
            }
    if (localStorage.getItem("MedFarms_boughtMasterPack") == null) {
        localStorage.setItem("MedFarms_boughtMasterPack", 0);
    } if (localStorage.getItem("MedFarms_boughtSmallStars") == null) {
       localStorage.setItem("MedFarms_boughtSmallStars", 0);
    } if (localStorage.getItem("MedFarms_boughtStarterPack") == null) {
        localStorage.setItem("MedFarms_boughtStarterPack", 0);
    } if (localStorage.getItem("MedFarms_boughtLargeStars") == null) {
        localStorage.setItem("MedFarms_boughtLargeStars", 0);
    }

var showItOrNo = 1;
var showItOrNo2 = 0;
    var onceOnlyAd = 0;
    var showRewarded = 0;
    var rewardedCompleted = 0;
    var rewardValue = 3;


    var callback2 = function (result) {
        if (!result) {
            app.writeLog('Rewarded ad is not ready');
            return;
        }

        // The ad is ready
        var onRewardGranted = function (rewardValue, COINS) {
            if (rewardType == Enhance.RewardType.ITEM)
                app.writeLog("Reward granted (item)"),
                    rewardedCompleted = 1,
                    localStorage.setItem('MedFarm_Rewarded', 1);

            else if (rewardType == Enhance.RewardType.COINS)
                app.writeLog("Reward granted (coins), value: " + rewardValue),
                    rewardedComplete1,
                    localStorage.setItem('MedFarm_Rewarded', 1);

            else {
                console.log("rewarded fallback"),
                    rewardedCompleted = 1,
                    localStorage.setItem('MedFarm_Rewarded', 1); }
        };

        var onRewardDeclined = function () {
            app.writeLog('Reward declined'),
                rewardedCompleted = 0;
            document.getElementById("waitText").innerHTML = 'Reward declined- you must watch the ad to get the reward';
        };

        var onRewardUnavailable = function () {
            app.writeLog('Reward unavailable');
            rewardedCompleted = 0;
            document.getElementById("waitText").innerHTML = 'Reward unavailable- please wait a while before you boost again', c.setPaused(0);
        };

        Enhance.showRewardedAd(onRewardGranted, onRewardDeclined, onRewardUnavailable);
    };



    var callback = function (result) {
        if (!result) {
            app.writeLog('Interstitial ad is not ready');
            return;
        }

        Enhance.showInterstitialAd();

    };
    ////primary loop 2 - external loads
//var tid2 = setInterval(interPop2, 500);


    function interPop2() {
        ////more games check
        moreGamesClicked = localStorage.getItem("moreGamesClicked")
        if (moreGamesClicked == 1) {
            openLink();
            moreGamesClicked = 0;
        }

    //interstatial ads
        showItOrNo2 = 0;
        showItOrNo2 = parseInt(localStorage.getItem('MedFarm_LoadAd'));
         //hide for AdFree
            if (showItOrNo2 == 1) {
                localStorage.setItem('MedFarm_LoadAd', 0);
                localStorage.setItem('adWatched', 1);
                showItOrNo2 = 0;
                try { Enhance.isInterstitialReady(callback); }
                catch(err){console.log("Caught interstital  error " + err)}

            }
         //hide for AdFree
            //rewarded video
            showRewarded = parseInt(localStorage.getItem('MedFarm_StarCashBoost'));
            if (showRewarded == 1) {
                console.log("interpop2 detected showRewarded = " + showRewarded)
                showRewarded = 0;
                //award starcash

                    //console.log("adRewardCompleted1 = " + rewardCompleted);
                    rewardedCompleted = 0;
                    starCash = parseInt(localStorage.getItem('starCash'));
                    console.log("before starcash = " + starCash);
                    starCash = parseInt(starCash) + 3;
                    console.log("after add starcash = " + starCash);
                    localStorage.setItem('starCash', starCash);
                    //document.getElementById("sucessbuyTxt").style.display = 'block';
                    document.getElementById("starCashOuterLabel").innerHTML = starCash;
                    //document.getElementById("sucessbuyTxt").innerHTML = '+ 3 Stars';
                    localStorage.setItem('MedFarm_Rewarded', 0);

				try { Enhance.isRewardedAdReady(callback2); }
                catch (err) { console.log("Caught rewarded error " + err); document.getElementById("waitText").innerHTML = 'Ad failed - you can try again soon.'; }
                 showRewarded = 0;
				localStorage.setItem('MedFarm_StarCashBoost', 0);
                localStorage.setItem('MedFarm_LoadAd', 0);
                setTimeout(function () { document.getElementById("sucessbuyTxt").style.display = 'none'; }, 10000);
            }





    }
       ////rate me
         var rateMeBtnYes = document.getElementById("rateMeBtnYes")
         rateMeBtnYes.addEventListener("click", openRateOnPlay);
         rateMeBtnYes.addEventListener("touchstart", openRateOnPlay);


       var rateMeBtnNo = document.getElementById("rateMeBtnNo")
       rateMeBtnNo.addEventListener("click", closeRate1);
       rateMeBtnNo.addEventListener("touchstart", closeRate1);

       var rateMeBtnLater = document.getElementById("rateMeBtnLater")
       rateMeBtnLater.addEventListener("click", closeRate2);
       rateMeBtnLater.addEventListener("touchstart", closeRate2);

        var rateImage = document.getElementById("rateImage")
        rateImage.addEventListener("click", openRateOnPlay);
        rateImage.addEventListener("touchstart", openRateOnPlay);

        function closeFBShare() {

            document.getElementById("fbshare").style.display = 'none';
        }

        function closeRate1() {
                document.getElementById("rateMe").style.display = 'none';
               localStorage.setItem("rateMeNever", 1)

          }
       function closeRate2() {
                document.getElementById("rateMe").style.display = 'none';
               localStorage.setItem("rateMeNever", 0)

          }

        function openRateOnPlay() {
                document.getElementById("rateMe").style.display = 'none';
                try { cordova.plugins.market.open('com.wGuiGhostFarms_9861566'); }
                catch (err) { console.log("caught = " + err) }


          }

            function showAdFallback() {
               console.log("clicked fallback and starCash = " + starCash)
                localStorage.setItem('MedFarm_LoadAd', 1);
                //localStorage.setItem('GuiGhostFarms_player', JSON.stringify(player));
                starCash = localStorage.getItem('starCash');
              starCash = starCash + 3;
               localStorage.setItem('starCash', starCash);

               setTimeout(function () {
                   document.getElementById("starCashOuterLabel").innerHTML = starCash;
                   document.getElementById("waitText").innerHTML = '+ 3 Stars';
                   document.getElementById("waitText").style.display = 'block'; }, 1500);
               setTimeout(function () { document.getElementById("waitText").style.display = 'none'; }, 15000);
            }
            var whichMore = 'stack';
            ///more games button function
            function openLink() {
                console.log("clicked more games");
                localStorage.setItem("moreGamesClicked", 0);
                if (whichMore == 'stack') {
                    whichMore == 'star'
                    try {
                        cordova.plugins.market.open('com.GuiGhostGames.StackerBoB');
                        //cordova.plugins.market.search('guighost')
                    }
                    catch (err) { console.log("caught = " + err) }
                }
                else if (whichMore == 'star') {
                    whichMore == 'stack'
                    try {
                        cordova.plugins.market.open('com.GuiGhostGames.StarMatch2048');
                        //cordova.plugins.market.search('guighost')
                    }
                    catch (err) { console.log("caught = " + err) }
                }


            }

    ///In App Payments
            var callback_SmallSP = function () {
                var onPurchaseSuccess = function () {
                    Enhance.purchases.getDisplayTitle('starpack_small',  '50 Stars', function (result) {
                        localStorage.setItem('MedFarms_boughtSmallStars', 1);
                        alert("You have sucessfully purchased " + result);

                    });
                    starCash = parseInt(localStorage.getItem('starCash'));
                    //console.log("before starcash = " + starCash);
                    starCash = parseInt(starCash) + 50;
                    //console.log("after buy small starcash = " + starCash);
                    localStorage.setItem('starCash', starCash);
                };

                var onPurchaseFailed = function () {
                    // Failure
                    alert('purchased failed');
                };


                Enhance.purchases.attemptPurchase('starpack_small', onPurchaseSuccess, onPurchaseFailed);


            };



            var callback_LargeSP = function () {
                var onPurchaseSuccess = function () {
                    Enhance.purchases.getDisplayTitle('starpack_large', '300 Stars', function (result) {
                        localStorage.setItem('MedFarms_boughtLargeStars', 1);
                        alert("You have sucessfully purchased " + result);
                    });
                    starCash = parseInt(localStorage.getItem('starCash'));
                    console.log("before starcash = " + starCash);
                    starCash = parseInt(starCash) + 300;
                    console.log("after buy large starcash = " + starCash);
                    localStorage.setItem('starCash', starCash);
                };

                var onPurchaseFailed = function () {
                    // Failure
                    alert('purchased failed');
                };

                Enhance.purchases.attemptPurchase('starpack_large', onPurchaseSuccess, onPurchaseFailed);
            };





            var callback_starterPack = function () {
                var onPurchaseSuccess = function () {
                    Enhance.purchases.getDisplayTitle('starter_pack', 'Resource Starter Pack', function (result) {

                        localStorage.setItem('MedFarms_boughtStarterPack', 1);
                        alert("You have sucessfully purchased " +  result);
                    });
                    player.tools = player.tools + 250;
                    player.cropsStored[14].stored = player.cropsStored[14].stored + 250;
                    player.cropsStored[15].stored = player.cropsStored[15].stored + 250;

                };

                var onPurchaseFailed = function () {
                    // Failure
                    alert('purchased failed');
                };

                Enhance.purchases.attemptPurchase('starter_pack', onPurchaseSuccess, onPurchaseFailed);
            };



            var callback_masterPack = function () {
                var onPurchaseSuccess = function () {
                    Enhance.purchases.getDisplayTitle('master_pack', 'Resource Master Pack', function (result) {
                        localStorage.setItem('MedFarms_boughtMasterPack', 1);
                        alert("You have sucessfully purchased " + result);
                    });
                    player.tools = player.tools + 750;
                    player.cropsStored[14].stored = player.cropsStored[14].stored + 750;
                    player.cropsStored[15].stored = player.cropsStored[15].stored + 750;
                    player.money = player.money + 2500;
                    starCash = parseInt(localStorage.getItem('starCash'));
                    starCash = parseInt(starCash) + 50;
                    localStorage.setItem('starCash', starCash);

                };

                var onPurchaseFailed = function () {
                    // Failure
                    alert('purchased failed');
                };

                Enhance.purchases.attemptPurchase('master_pack', onPurchaseSuccess, onPurchaseFailed);
            };

            var buyingSmallStars = 0;
            var buyingLargeStars = 0;
            var buyingStarterPack = 0;
            var buyingMasterPack = 0;

            localStorage.setItem('MedFarms_buyingSmallStars', 0)

             localStorage.setItem('MedFarms_buyingLargeStars', 0)

             localStorage.setItem('MedFarms_buyingStarterPack', 0)

            localStorage.setItem('MedFarms_buyingMasterPack', 0)

          var purchaseCheck =   setInterval(function () {
                 //console.log("tickk");
                 buyingSmallStars = localStorage.getItem('MedFarms_buyingSmallStars');
                 buyingLargeStars = localStorage.getItem('MedFarms_buyingLargeStars');
                 buyingStarterPack = localStorage.getItem('MedFarms_buyingStarterPack');
                 buyingMasterPack = localStorage.getItem('MedFarms_buyingMasterPack');
                 if (buyingSmallStars == 1) {
                     console.log("in IF buying small stars");
                     try { Enhance.purchases.isSupported(callback_SmallSP); }
                     catch (err) { console.log("failed small stars"); };
                     localStorage.setItem('MedFarms_buyingSmallStars', 0);

                 }
                 else if (buyingLargeStars == 1) {
                     try { Enhance.purchases.isSupported(callback_LargeSP); }
                     catch (err) { console.log("failed karge stars "); }
                     localStorage.setItem('MedFarms_buyingLargeStars', 0);

                 }
                 else if (buyingStarterPack == 1) {
                     try { Enhance.purchases.isSupported(callback_starterPack); }
                     catch (err) { console.log("failed buystarter"); };
                     localStorage.setItem('MedFarms_buyingStarterPack', 0);

                 }
                 else if (buyingMasterPack == 1) {
                     try { Enhance.purchases.isSupported(callback_masterPack); }
                     catch (err) { console.log("failedBuyMaster"); }
                     localStorage.setItem('MedFarms_buyingMasterPack', 0);


                 }

            }, 250);




          //// local notification
          //var onPermissionGranted = function () {
          //    // Success
          //    try {
          //        Enhance.disableLocalNotification();
          //        Enhance.enableLocalNotification('Your farm needs you', 'Play it now!', 60);
          //    }
          //    catch (err) { console.log("caught notification INNER error = " + err); alert(err) }

          //};

          //var onPermissionRefused = function () {
          //    // Failure
          //    console.log("caught notification error Permission refused ")
          //    alert(result)
          //};
          //function tryNotif() {
          //    try { Enhance.requestLocalNotificationPermission(OnPermissionGranted, OnPermissionRefused); }
          //    catch (err) { console.log("caught notification INNER error = " + err) };
          //}
          //window.addEventListener('load', function () {
          //    tryNotif();
          //})


    /////
          //var currentGameVersion = 1.5;
          //let requestURL = 'https://guighostgames.com/MedievalFarms/currentAppVersion.json';
          //let request = new XMLHttpRequest();
          //try {
          //    request.open('GET', requestURL);
          //    request.responseType = 'json';
          //    request.send();
          //    request.onload = function () {
          //        const versionDetected = JSON.stringify(request.response);
          //        console.log("versionCheck = " + versionDetected);
          //        //console.log(player)
          //        //console.log("response = " + request.response.latestVersion)
          //        if (currentGameVersion < request.response.latestVersion) {

          //            var answer = confirm("A new version is available. Click on OK to Visit the playstore to get the new content.")
          //            if (answer) { openPlayForUpdate(); }

          //        }


          //    }
          //}
          //catch (err) {console.log("failed versioncheck") }

          //function openPlayForUpdate() {
          //    try {
          //        cordova.plugins.market.open('com.wGuiGhostFarms_9861566');
          //     }
          //    catch (err) { console.log("caught = " + err) }

          //}
          document.getElementById("starCashOuterLabel").innerHTML = starCash;
    </script>
</body>
</html>