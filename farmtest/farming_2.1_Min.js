var sceneThis="",COMPILED=!0,goog=goog||{};goog.global=this,goog.DEBUG=!1,goog.LOCALE="en",goog.provide=function(e){if(!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e)},goog.setTestOnly=function(e){if(COMPILED&&!goog.DEBUG)throw e=e||"",Error(": "+e)},COMPILED||(goog.isProvided_=function(e){return!goog.implicitNamespaces_[e]&&!!goog.getObjectByName(e)},goog.implicitNamespaces_={}),goog.exportPath_=function(e,t,i){e=e.split("."),i=i||goog.global,e[0]in i||!i.execScript||i.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)!e.length&&goog.isDef(t)?i[o]=t:i=i[o]||(i[o]={})},goog.getObjectByName=function(e,t){for(var i,o=e.split("."),s=t||goog.global;i=o.shift();){if(!goog.isDefAndNotNull(s[i]))return null;s=s[i]}return s},goog.globalize=function(e,t){var i,o=t||goog.global;for(i in e)o[i]=e[i]},goog.addDependency=function(e,t,i){if(!COMPILED){for(var o,e=e.replace(/\\/g,"/"),s=goog.dependencies_,n=0;o=t[n];n++)(s.nameToPath[o]=e)in s.pathToNames||(s.pathToNames[e]={}),s.pathToNames[e][o]=!0;for(o=0;t=i[o];o++)e in s.requires||(s.requires[e]={}),s.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(e){if(!COMPILED&&!goog.isProvided_(e)){if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,void goog.writeScripts_()}throw e="goog.require could not find: "+e,goog.global.console&&goog.global.console.error(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(e){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_||(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return void 0!==e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var i=e[t].src,o=-1==(o=i.lastIndexOf("?"))?i.length:o;if("base.js"==i.substr(o-7,7)){goog.basePath=i.substr(0,o-7);break}}},goog.importScript_=function(e){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[e]&&t(e)&&(goog.dependencies_.written[e]=!0)},goog.writeScriptTag_=function(e){return!!goog.inHtmlDocument_()&&(goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0)},goog.writeScripts_=function(){var e,o=[],s={},n=goog.dependencies_;for(e in goog.included_)n.written[e]||function e(t){if(!(t in n.written)){if(!(t in n.visited)&&(n.visited[t]=!0,t in n.requires))for(var i in n.requires[t])if(!goog.isProvided_(i)){if(!(i in n.nameToPath))throw Error("Undefined nameToPath for "+i);e(n.nameToPath[i])}t in s||(s[t]=!0,o.push(t))}}(e);for(e=0;e<o.length;e++){if(!o[e])throw Error("Undefined script input");goog.importScript_(goog.basePath+o[e])}},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var i=Object.prototype.toString.call(e);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isDef=function(e){return void 0!==e},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){if("object"!=(i=goog.typeOf(e))&&"array"!=i)return e;if(e.clone)return e.clone();var t,i="array"==i?[]:{};for(t in e)i[t]=goog.cloneObject(e[t]);return i},goog.bindNative_=function(e,t,i){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(t,i,e){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,o),t.apply(i,e)}}return function(){return t.apply(i,arguments)}},goog.bind=function(e,t,i){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.unshift.apply(e,i),t.apply(this,e)}},goog.mixin=function(e,t){for(var i in t)e[i]=t[i]},goog.now=Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");var t,i;null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),void 0!==goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_?goog.global.eval(e):((i=(t=goog.global.document).createElement("script")).type="text/javascript",i.defer=!1,i.appendChild(t.createTextNode(e)),t.body.appendChild(i),t.body.removeChild(i))}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){function o(e){return goog.cssNameMapping_[e]||e}var i=function(e){for(var e=e.split("-"),t=[],i=0;i<e.length;i++)t.push(o(e[i]));return t.join("-")},i=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?o:i:function(e){return e};return t?e+"-"+i(t):i(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){var i,o=t||{};for(i in o)var s=(""+o[i]).replace(/\$/g,"$$$$"),e=e.replace(RegExp("\\{\\$"+i+"\\}","gi"),s);return e},goog.exportSymbol=function(e,t,i){goog.exportPath_(e,t,i)},goog.exportProperty=function(e,t,i){e[t]=i},goog.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new i,e.prototype.constructor=e},goog.base=function(e,t,i){var o=arguments.callee.caller;if(o.superClass_)return o.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var s=Array.prototype.slice.call(arguments,2),n=!1,r=e.constructor;r;r=r.superClass_&&r.superClass_.constructor)if(r.prototype[t]===o)n=!0;else if(n)return r.prototype[t].apply(e,s);if(e[t]===o)return e.constructor.prototype[t].apply(e,s);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)};var lime={DirtyObject:function(){}};lime.DirtyObject.prototype.update=function(){},goog.math={},goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},goog.math.Coordinate.distance=function(e,t){var i=e.x-t.x,t=e.y-t.y;return Math.sqrt(i*i+t*t)},goog.math.Coordinate.squaredDistance=function(e,t){var i=e.x-t.x,t=e.y-t.y;return i*i+t*t},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Box=function(e,t,i,o){this.top=e,this.right=t,this.bottom=i,this.left=o},goog.math.Box.boundingBox=function(e){for(var t=new goog.math.Box(e.y,e.x,e.y,e.x),i=1;i<arguments.length;i++){var o=arguments[i];t.top=Math.min(t.top,o.y),t.right=Math.max(t.right,o.x),t.bottom=Math.max(t.bottom,o.y),t.left=Math.min(t.left,o.x)}return t},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,i,o){return goog.isObject(e)?(this.top=this.top-e.top,this.right=this.right+e.right,this.bottom=this.bottom+e.bottom,this.left=this.left-e.left):(this.top=this.top-e,this.right=this.right+t,this.bottom=this.bottom+i,this.left=this.left-o),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&(e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left)},goog.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var i=goog.math.Box.relativePositionX(e,t),t=goog.math.Box.relativePositionY(e,t);return Math.sqrt(i*i+t*t)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,i){return e.left<=t.right+i&&t.left<=e.right+i&&e.top<=t.bottom+i&&t.top<=e.bottom+i},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e){return this.width=this.width*e,this.height=this.height*e,this},goog.math.Size.prototype.scaleToFit=function(e){return this.scale(this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height)},goog.math.Box.size={},goog.math.Size.scaleVec2={},goog.math.Box.prototype.size=function(){return new goog.math.Size(this.right-this.left,this.bottom-this.top)},goog.math.Size.prototype.scaleVec2=function(e){return this.width*=e.x,this.height*=e.y,this},lime.Renderer=function(){},lime.Renderer.prototype.draw=goog.nullFunction,lime.Renderer.prototype.getType=function(){return this.base||this},lime.Renderer.prototype.makeSubRenderer=function(e){return goog.object.extend(e,this),e.base=this.getType(),e},lime.Renderer.CANVAS=new lime.Renderer,lime.Renderer.CANVAS.updateLayout=function(){},lime.Renderer.CANVAS.drawCanvas=function(){var e,t,i,o=this.getQuality(),s=this.measureContents(),n=this.relativeQuality_||1,r=n/o;this.domElement&&(this.boundsCache&&this.boundsCache.contains(s)&&(t=this.boundsCache.size().area()/s.size().area())&&t<1.6&&.5<t?s=this.boundsCache:1!=this.staticCanvas&&0!=this.children_.length&&(this instanceof lime.Scene||s.expand(12,12,12,12)),t=(e=(this.boundsCache=s).size()).clone().scale(n).ceil(),this.domElement.width==t.width&&this.domElement.height==t.height||(this.domElement.width=t.width,this.domElement.height=t.height,this.redraw_=1),i=this.getScale().clone(),this.transitionsActive_[lime.Transition.SCALE]&&(i=this.transitionsActive_[lime.Transition.SCALE]),0!=t.width?i.scale(e.width*r/t.width):i.scale(1/o),o=this.getFrame(),this.ax=(o.left-s.left)*n,this.ay=(o.top-s.top)*n,s=this.getSize().clone().scaleVec2(this.getAnchorPoint()).scale(n),n=this.getPosition().clone(),this.transitionsActive_[lime.Transition.POSITION]&&(n=this.transitionsActive_[lime.Transition.POSITION]),n.x*=r,n.y*=r,n.x-=s.width+this.ax,n.y-=s.height+this.ay,lime.style.setTransformOrigin(this.domElement,(this.ax+s.width)/t.width*100,(this.ay+s.height)/t.height*100,!0),this.transitionsActiveSet_[lime.Transition.POSITION]||this.transitionsActiveSet_[lime.Transition.SCALE]||this.transitionsActiveSet_[lime.Transition.ROTATION]||(r=-this.getRotation(),goog.isDef(this.transitionsActive_[lime.Transition.ROTATION])&&(r=-this.transitionsActive_[lime.Transition.ROTATION]),lime.style.setTransform(this.domElement,(new lime.style.Transform).setPrecision(.1).translate(n.x,n.y).scale(i.x,i.y).rotate(r))),this.redraw_&&(r=this.domElement.getContext("2d"),n=this.relativeQuality_||1,r.clearRect(0,0,t.width,t.height),r.save(),r.translate(this.ax,this.ay),r.scale(n,n),t=this.getSize(),i=this.getAnchorPoint(),r.translate(t.width*i.x,t.height*i.y),this.renderer.drawCanvasObject.call(this,r),r.restore(),this.redraw_=0))},lime.Renderer.CANVAS.update=function(){},lime.Renderer.CANVAS.drawCanvasObject=function(e){if(this.inTree_&&(this.mask_!=this.activeMask_&&(this.activeMask_&&lime.Renderer.DOM.removeMask.call(this),this.mask_&&lime.Renderer.DOM.addMask.call(this)),!this.maskTarget_&&!this.hidden_&&0!=this.opacity_&&1!=this.isMask)){var t;1!=this.opacity_&&(e.globalAlpha*=this.opacity_),this.mask_&&(lime.Renderer.DOM.calculateMaskPosition.call(this.mask_),t=this.activeMask_,r=this.scale_,e.save(),e.save(),e.translate(t.mPos.x,t.mPos.y),e.rotate(-t.mRot),this.needsDomElement&&e.rotate(this.getRotation()*Math.PI/180),e.beginPath(),e.moveTo(0,0),e.lineTo(t.mWidth/r.x,0),e.lineTo(t.mWidth/r.x,t.mHeight/r.y),e.lineTo(0,t.mHeight/r.y),e.closePath(),e.restore(),e.clip()),t=new goog.math.Coordinate(0,0),this.renderer.draw.call(this,e);for(var i,o=0;i=this.children_[o];o++){var s=i.localToParent(t).clone(),n=i.getRotation(),r=i.getScale();e.save(),e.translate(s.x,s.y),e.scale(r.x,r.y),0!=n&&e.rotate(-n*Math.PI/180),this.renderer.drawCanvasObject.call(i,e),e.restore()}1!=this.opacity_&&(e.globalAlpha/=this.opacity_),this.activeMask_&&e.restore()}},goog.debug={},goog.debug.Error=function(e){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"",e&&(this.message=""+e)},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.string={},goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var i=e.length-t.length;return 0<=i&&e.indexOf(t,i)==i},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.subs=function(e,t){for(var i=1;i<arguments.length;i++)var o=(""+arguments[i]).replace(/\$/g,"$$$$"),e=e.replace(/\%s/,o);return e},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptySafe=function(e){return goog.string.isEmpty(goog.string.makeSafe(e))},goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&e<="~"||""<=e&&e<="�"},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){e=(""+e).toLowerCase(),t=(""+t).toLowerCase();return e<t?-1:e==t?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var i=e.toLowerCase().match(goog.string.numerateCompareRegExp_),o=t.toLowerCase().match(goog.string.numerateCompareRegExp_),s=Math.min(i.length,o.length),n=0;n<s;n++){var r=i[n],a=o[n];if(r!=a)return i=parseInt(r,10),!isNaN(i)&&(o=parseInt(a,10),!isNaN(o)&&i-o)?i-o:r<a?-1:1}return i.length!=o.length?i.length-o.length:e<t?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(""+e)},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){return t?e.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;"):(goog.string.allRe_.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(goog.string.amperRe_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.ltRe_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.gtRe_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.quotRe_,"&quot;"))),e)},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/\"/g,goog.string.allRe_=/[&<>\"]/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesUsingDom_=function(e){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},s=document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var i=o[e];return i||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(i=String.fromCharCode(t))),i||(s.innerHTML=e+" ",i=s.firstChild.nodeValue.slice(0,-1)),o[e]=i)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));if(!isNaN(i))return String.fromCharCode(i)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.stripQuotes=function(e,t){for(var i=t.length,o=0;o<i;o++){var s=1==i?t:t.charAt(o);if(e.charAt(0)==s&&e.charAt(e.length-1)==s)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,i){return i&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),i&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,i,o){var s;return i&&(e=goog.string.unescapeEntities(e)),o&&e.length>t?(t<o&&(o=t),s=e.length-o,e=e.substring(0,t-o)+"..."+e.substring(s)):e.length>t&&(o=Math.floor(t/2),s=e.length-o,e=e.substring(0,o+t%2)+"..."+e.substring(s)),i&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if((e=""+e).quote)return e.quote();for(var t=['"'],i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);t[i+1]=goog.string.specialEscapeChars_[o]||(31<s&&s<127?o:goog.string.escapeChar(o))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=goog.string.escapeChar(e.charAt(i));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,i=e.charCodeAt(0);return 31<i&&i<127?t=e:(i<256?(t="\\x",(i<16||256<i)&&(t+="0")):(t="\\u",i<4096&&(t+="0")),t+=i.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.toMap=function(e){for(var t={},i=0;i<e.length;i++)t[e.charAt(i)]=!0;return t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,i){var o=e;return 0<=t&&t<e.length&&0<i&&(o=e.substr(0,t)+e.substr(t+i,e.length-t-i)),o},goog.string.remove=function(e,t){t=RegExp(goog.string.regExpEscape(t),"");return e.replace(t,"")},goog.string.removeAll=function(e,t){t=RegExp(goog.string.regExpEscape(t),"g");return e.replace(t,"")},goog.string.regExpEscape=function(e){return(""+e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,i){return-1==(i=(e=goog.isDef(i)?e.toFixed(i):""+e).indexOf("."))&&(i=e.length),goog.string.repeat("0",Math.max(0,t-i))+e},goog.string.makeSafe=function(e){return null==e?"":""+e},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var i=0,o=goog.string.trim(""+e).split("."),s=goog.string.trim(""+t).split("."),n=Math.max(o.length,s.length),r=0;0==i&&r<n;r++){var a=o[r]||"",l=s[r]||"",d=RegExp("(\\d*)(\\D*)","g"),g=RegExp("(\\d*)(\\D*)","g");do{var c=d.exec(a)||["","",""],m=g.exec(l)||["","",""];if(0==c[0].length&&0==m[0].length)break;var i=0==c[1].length?0:parseInt(c[1],10),p=0==m[1].length?0:parseInt(m[1],10),i=goog.string.compareElements_(i,p)||goog.string.compareElements_(0==c[2].length,0==m[2].length)||goog.string.compareElements_(c[2],m[2])}while(0==i)}return i},goog.string.compareElements_=function(e,t){return e<t?-1:t<e?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var t=0,i=0;i<e.length;++i)t=31*t+e.charCodeAt(i),t%=goog.string.HASHCODE_MAX_;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmpty(e)?NaN:t},goog.string.toCamelCase=function(e){return(""+e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return(""+e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){t=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(e,t,i){return t+i.toUpperCase()})},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.doAssertFailure_=function(e,t,i,o){var s,n="Assertion failed";throw i?(n=n+": "+i,s=o):e&&(n+=": "+e,s=t),new goog.asserts.AssertionError(""+n,s||[])},goog.asserts.assert=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},goog.asserts.assertNumber=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,i,o){!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("instanceof check failed.",null,i,Array.prototype.slice.call(arguments,3))},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=!0,goog.array.peek=function(e){return e[e.length-1]},goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(e,t,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,i)}:function(e,t,i){if(i=null==i?0:i<0?Math.max(0,e.length+i):i,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(e,t,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==i?e.length-1:i)}:function(e,t,i){if((i=null==i?e.length-1:i)<0&&(i=Math.max(0,e.length+i)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,i):-1;for(;0<=i;i--)if(i in e&&e[i]===t)return i;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(e,t,i){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,t,i)}:function(e,t,i){for(var o=e.length,s=goog.isString(e)?e.split(""):e,n=0;n<o;n++)n in s&&t.call(i,s[n],n,e)},goog.array.forEachRight=function(e,t,i){for(var o=e.length,s=goog.isString(e)?e.split(""):e,o=o-1;0<=o;--o)o in s&&t.call(i,s[o],o,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(e,t,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,t,i)}:function(e,t,i){for(var o,s=e.length,n=[],r=0,a=goog.isString(e)?e.split(""):e,l=0;l<s;l++)l in a&&(o=a[l],t.call(i,o,l,e)&&(n[r++]=o));return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(e,t,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,t,i)}:function(e,t,i){for(var o=e.length,s=Array(o),n=goog.isString(e)?e.split(""):e,r=0;r<o;r++)r in n&&(s[r]=t.call(i,n[r],r,e));return s},goog.array.reduce=function(i,o,e,s){if(i.reduce)return s?i.reduce(goog.bind(o,s),e):i.reduce(o,e);var n=e;return goog.array.forEach(i,function(e,t){n=o.call(s,n,e,t,i)}),n},goog.array.reduceRight=function(i,o,e,s){if(i.reduceRight)return s?i.reduceRight(goog.bind(o,s),e):i.reduceRight(o,e);var n=e;return goog.array.forEachRight(i,function(e,t){n=o.call(s,n,e,t,i)}),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(e,t,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,t,i)}:function(e,t,i){for(var o=e.length,s=goog.isString(e)?e.split(""):e,n=0;n<o;n++)if(n in s&&t.call(i,s[n],n,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(e,t,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,t,i)}:function(e,t,i){for(var o=e.length,s=goog.isString(e)?e.split(""):e,n=0;n<o;n++)if(n in s&&!t.call(i,s[n],n,e))return!1;return!0},goog.array.find=function(e,t,i){return(t=goog.array.findIndex(e,t,i))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,i){for(var o=e.length,s=goog.isString(e)?e.split(""):e,n=0;n<o;n++)if(n in s&&t.call(i,s[n],n,e))return n;return-1},goog.array.findRight=function(e,t,i){return(t=goog.array.findIndexRight(e,t,i))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,i){for(var o=e.length,s=goog.isString(e)?e.split(""):e,o=o-1;0<=o;o--)if(o in s&&t.call(i,s[o],o,e))return o;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,i){goog.array.splice(e,i,0,t)},goog.array.insertArrayAt=function(e,t,i){goog.partial(goog.array.splice,e,i,0).apply(null,t)},goog.array.insertBefore=function(e,t,i){var o;2==arguments.length||(o=goog.array.indexOf(e,i))<0?e.push(t):goog.array.insertAt(e,t,o)},goog.array.remove=function(e,t){var i=goog.array.indexOf(e,t);return(t=0<=i)&&goog.array.removeAt(e,i),t},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,i){return 0<=(t=goog.array.findIndex(e,t,i))&&(goog.array.removeAt(e,t),!0)},goog.array.concat=function(e){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var i=Array(t),o=0;o<t;o++)i[o]=e[o];return i}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var i=1;i<arguments.length;i++){var o,s=arguments[i];if(goog.isArray(s)||(o=goog.isArrayLike(s))&&s.hasOwnProperty("callee"))e.push.apply(e,s);else if(o)for(var n=e.length,r=s.length,a=0;a<r;a++)e[n+a]=s[a];else e.push(s)}},goog.array.splice=function(e,t,i,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,i){return goog.asserts.assert(null!=e.length),arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(e,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,t,i)},goog.array.removeDuplicates=function(e,t){for(var i=t||e,o={},s=0,n=0;n<e.length;){var r=e[n++],a=goog.isObject(r)?"o"+goog.getUid(r):(typeof r).charAt(0)+r;Object.prototype.hasOwnProperty.call(o,a)||(o[a]=!0,i[s++]=r)}i.length=s},goog.array.binarySearch=function(e,t,i){return goog.array.binarySearch_(e,i||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,i){return goog.array.binarySearch_(e,t,!0,void 0,i)},goog.array.binarySearch_=function(e,t,i,o,s){for(var n,r=0,a=e.length;r<a;){var l=r+a>>1,d=i?t.call(s,e[l],l,e):t(o,e[l]);0<d?r=1+l:(a=l,n=!d)}return n?r:~r},goog.array.sort=function(e,t){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.sort.call(e,t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var i=0;i<e.length;i++)e[i]={index:i,value:e[i]};var o=t||goog.array.defaultCompare;for(goog.array.sort(e,function(e,t){return o(e.value,t.value)||e.index-t.index}),i=0;i<e.length;i++)e[i]=e[i].value},goog.array.sortObjectsByKey=function(e,i,t){var o=t||goog.array.defaultCompare;goog.array.sort(e,function(e,t){return o(e[i],t[i])})},goog.array.isSorted=function(e,t,i){for(var t=t||goog.array.defaultCompare,o=1;o<e.length;o++){var s=t(e[o-1],e[o]);if(0<s||0==s&&i)return!1}return!0},goog.array.equals=function(e,t,i){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;for(var o=e.length,i=i||goog.array.defaultCompareEquality,s=0;s<o;s++)if(!i(e[s],t[s]))return!1;return!0},goog.array.compare=function(e,t,i){return goog.array.equals(e,t,i)},goog.array.compare3=function(e,t,i){for(var i=i||goog.array.defaultCompare,o=Math.min(e.length,t.length),s=0;s<o;s++){var n=i(e[s],t[s]);if(0!=n)return n}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return t<e?1:e<t?-1:0},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,i){return(i=goog.array.binarySearch(e,t,i))<0&&(goog.array.insertAt(e,t,-(i+1)),!0)},goog.array.binaryRemove=function(e,t,i){return 0<=(t=goog.array.binarySearch(e,t,i))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t){for(var i={},o=0;o<e.length;o++){var s=e[o],n=t(s,o,e);goog.isDef(n)&&(i[n]||(i[n]=[])).push(s)}return i},goog.array.repeat=function(e,t){for(var i=[],o=0;o<t;o++)i[o]=e;return i},goog.array.flatten=function(e){for(var t=[],i=0;i<arguments.length;i++){var o=arguments[i];goog.isArray(o)?t.push.apply(t,goog.array.flatten.apply(null,o)):t.push(o)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):t<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],i=0;;i++){for(var o=[],s=0;s<arguments.length;s++){var n=arguments[s];if(i>=n.length)return t;o.push(n[i])}t.push(o)}},goog.array.shuffle=function(e,t){for(var i=t||Math.random,o=e.length-1;0<o;o--){var s=Math.floor(i()*(o+1)),n=e[o];e[o]=e[s],e[s]=n}},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,i){return Math.min(Math.max(e,t),i)},goog.math.modulo=function(e,t){e%=t;return e*t<0?e+t:e},goog.math.lerp=function(e,t,i){return e+i*(t-e)},goog.math.nearlyEquals=function(e,t,i){return Math.abs(e-t)<=(i||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,i,o){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(o-t,i-e)))},goog.math.angleDifference=function(e,t){e=goog.math.standardAngle(t)-goog.math.standardAngle(e);return 180<e?e-=360:e<=-180&&(e=360+e),e},goog.math.sign=function(e){return 0==e?0:e<0?-1:1},goog.math.longestCommonSubsequence=function(t,e,i,o){for(var i=i||function(e,t){return e==t},o=o||function(e){return t[e]},s=t.length,n=e.length,r=[],a=0;a<s+1;a++)r[a]=[],r[a][0]=0;for(var l=0;l<n+1;l++)r[0][l]=0;for(a=1;a<=s;a++)for(l=1;l<=s;l++)r[a][l]=i(t[a-1],e[l-1])?r[a-1][l-1]+1:Math.max(r[a-1][l],r[a][l-1]);for(var d=[],a=s,l=n;0<a&&0<l;)i(t[a-1],e[l-1])?(d.unshift(o(a-1,l-1)),a--,l--):r[a-1][l]>r[a][l-1]?a--:l--;return d},goog.math.sum=function(e){return goog.array.reduce(arguments,function(e,t){return e+t},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.standardDeviation=function(e){if((i=arguments.length)<2)return 0;var t=goog.math.average.apply(null,arguments),i=goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-t,2)}))/(i-1);return Math.sqrt(i)},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.Vec2=function(e,t){this.x=e,this.y=t},goog.inherits(goog.math.Vec2,goog.math.Coordinate),goog.math.Vec2.randomUnit=function(){var e=2*Math.random()*Math.PI;return new goog.math.Vec2(Math.cos(e),Math.sin(e))},goog.math.Vec2.random=function(){var e=Math.sqrt(Math.random()),t=2*Math.random()*Math.PI;return new goog.math.Vec2(Math.cos(t)*e,Math.sin(t)*e)},goog.math.Vec2.fromCoordinate=function(e){return new goog.math.Vec2(e.x,e.y)},goog.math.Vec2.prototype.clone=function(){return new goog.math.Vec2(this.x,this.y)},goog.math.Vec2.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},goog.math.Vec2.prototype.squaredMagnitude=function(){return this.x*this.x+this.y*this.y},goog.math.Vec2.prototype.scale=function(e){return this.x*=e,this.y*=e,this},goog.math.Vec2.prototype.invert=function(){return this.x=-this.x,this.y=-this.y,this},goog.math.Vec2.prototype.normalize=function(){return this.scale(1/this.magnitude())},goog.math.Vec2.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},goog.math.Vec2.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},goog.math.Vec2.prototype.rotate=function(e){var t=Math.cos(e),e=Math.sin(e),i=this.y*t+this.x*e;return this.x=this.x*t-this.y*e,this.y=i,this},goog.math.Vec2.rotateAroundPoint=function(e,t,i){return e.clone().subtract(t).rotate(i).add(t)},goog.math.Vec2.prototype.equals=function(e){return this==e||!!e&&this.x==e.x&&this.y==e.y},goog.math.Vec2.distance=goog.math.Coordinate.distance,goog.math.Vec2.squaredDistance=goog.math.Coordinate.squaredDistance,goog.math.Vec2.equals=goog.math.Coordinate.equals,goog.math.Vec2.sum=function(e,t){return new goog.math.Vec2(e.x+t.x,e.y+t.y)},goog.math.Vec2.difference=function(e,t){return new goog.math.Vec2(e.x-t.x,e.y-t.y)},goog.math.Vec2.dot=function(e,t){return e.x*t.x+e.y*t.y},goog.math.Vec2.lerp=function(e,t,i){return new goog.math.Vec2(goog.math.lerp(e.x,t.x,i),goog.math.lerp(e.y,t.y,i))},goog.debug.errorHandlerWeakDep={protectEntryPoint:function(e){return e}},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null},goog.userAgent.getNavigator=function(){return goog.global.navigator},goog.userAgent.init_=function(){var e,t;goog.userAgent.detectedOpera_=!1,goog.userAgent.detectedIe_=!1,goog.userAgent.detectedWebkit_=!1,goog.userAgent.detectedMobile_=!1,goog.userAgent.detectedGecko_=!1,!goog.userAgent.BROWSER_KNOWN_&&(e=goog.userAgent.getUserAgentString())&&(t=goog.userAgent.getNavigator(),goog.userAgent.detectedOpera_=0==e.indexOf("Opera"),goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("MSIE"),goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("WebKit"),goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&-1!=e.indexOf("Mobile"),goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&"Gecko"==t.product)},goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_(),goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_,goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_,goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_,goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_,goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.determineVersion_=function(){var e,t="";return goog.userAgent.OPERA&&goog.global.opera?t="function"==typeof(t=goog.global.opera.version)?t():t:(goog.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?e=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(goog.userAgent.getUserAgentString()))?t[1]:"")),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_())>parseFloat(t)?""+e:t},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionCache_={},goog.userAgent.isVersion=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionCache_[e]||(goog.userAgent.isVersionCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isDocumentModeCache_={},goog.userAgent.isDocumentMode=function(e){return goog.userAgent.isDocumentModeCache_[e]||(goog.userAgent.isDocumentModeCache_[e]=goog.userAgent.IE&&!!document.documentMode&&document.documentMode>=e)},goog.events={},goog.events.Listener=function(){},goog.events.Listener.counter_=0,goog.events.Listener.prototype.key=0,goog.events.Listener.prototype.removed=!1,goog.events.Listener.prototype.callOnce=!1,goog.events.Listener.prototype.init=function(e,t,i,o,s,n){if(goog.isFunction(e))this.isFunctionListener_=!0;else{if(!(e&&e.handleEvent&&goog.isFunction(e.handleEvent)))throw Error("Invalid listener argument");this.isFunctionListener_=!1}this.listener=e,this.proxy=t,this.src=i,this.type=o,this.capture=!!s,this.handler=n,this.callOnce=!1,this.key=++goog.events.Listener.counter_,this.removed=!1},goog.events.Listener.prototype.handleEvent=function(e){return this.isFunctionListener_?this.listener.call(this.handler||this.src,e):this.listener.handleEvent.call(this.listener,e)},goog.object={},goog.object.forEach=function(e,t,i){for(var o in e)t.call(i,e[o],o,e)},goog.object.filter=function(e,t,i){var o,s={};for(o in e)t.call(i,e[o],o,e)&&(s[o]=e[o]);return s},goog.object.map=function(e,t,i){var o,s={};for(o in e)s[o]=t.call(i,e[o],o,e);return s},goog.object.some=function(e,t,i){for(var o in e)if(t.call(i,e[o],o,e))return!0;return!1},goog.object.every=function(e,t,i){for(var o in e)if(!t.call(i,e[o],o,e))return!1;return!0},goog.object.getCount=function(e){var t,i=0;for(t in e)i++;return i},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,i=[],o=0;for(t in e)i[o++]=e[t];return i},goog.object.getKeys=function(e){var t,i=[],o=0;for(t in e)i[o++]=t;return i},goog.object.getValueByKeys=function(e,t){for(var i=(o=goog.isArrayLike(t))?t:arguments,o=o?0:1;o<i.length&&(e=e[i[o]],goog.isDef(e));o++);return e},goog.object.containsKey=function(e,t){return t in e},goog.object.containsValue=function(e,t){for(var i in e)if(e[i]==t)return!0;return!1},goog.object.findKey=function(e,t,i){for(var o in e)if(t.call(i,e[o],o,e))return o},goog.object.findValue=function(e,t,i){return(t=goog.object.findKey(e,t,i))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var i;return(i=t in e)&&delete e[t],i},goog.object.add=function(e,t,i){if(t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,i)},goog.object.get=function(e,t,i){return t in e?e[t]:i},goog.object.set=function(e,t,i){e[t]=i},goog.object.setIfUndefined=function(e,t,i){return t in e?e[t]:e[t]=i},goog.object.clone=function(e){var t,i={};for(t in e)i[t]=e[t];return i},goog.object.unsafeClone=function(e){if("object"!=(i=goog.typeOf(e))&&"array"!=i)return e;if(e.clone)return e.clone();var t,i="array"==i?[]:{};for(t in e)i[t]=goog.object.unsafeClone(e[t]);return i},goog.object.transpose=function(e){var t,i={};for(t in e)i[e[t]]=t;return i},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var i,o,s=1;s<arguments.length;s++){for(i in o=arguments[s])e[i]=o[i];for(var n=0;n<goog.object.PROTOTYPE_FIELDS_.length;n++)i=goog.object.PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.create.apply(null,e);if(t%2)throw Error("Uneven number of arguments");for(var i={},o=0;o<t;o+=2)i[arguments[o]]=arguments[o+1];return i},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.createSet.apply(null,e);for(var i={},o=0;o<t;o++)i[arguments[o]]=!0;return i},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersion("8"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersion("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersion("8")||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersion("8")||goog.userAgent.IE&&!goog.userAgent.isVersion("9")},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,i=0;i<t.length;i++)e(goog.bind(t[i].wrap,t[i]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped.");for(var e=goog.bind(e.unwrap,e),i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](e);t.length--},goog.events.EventWrapper=function(){},goog.events.EventWrapper.prototype.listen=function(){},goog.events.EventWrapper.prototype.unlisten=function(){},goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:goog.userAgent.WEBKIT?"webkitTransitionEnd":goog.userAgent.OPERA?"oTransitionEnd":"transitionend"},goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.ENABLE_MONITORING&&(this.creationStack=Error().stack,goog.Disposable.instances_[goog.getUid(this)]=this)},goog.Disposable.ENABLE_MONITORING=!1,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.ENABLE_MONITORING)){var e=goog.getUid(this);if(!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.dependentDisposables_||(this.dependentDisposables_=[]),this.dependentDisposables_.push(e)},goog.Disposable.prototype.disposeInternal=function(){this.dependentDisposables_&&goog.disposeAll.apply(null,this.dependentDisposables_)},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var t=0,i=arguments.length;t<i;++t){var o=arguments[t];goog.isArrayLike(o)?goog.disposeAll.apply(null,o):goog.dispose(o)}},goog.events.Event=function(e,t){goog.Disposable.call(this),this.type=e,this.currentTarget=this.target=t},goog.inherits(goog.events.Event,goog.Disposable),goog.events.Event.prototype.disposeInternal=function(){delete this.type,delete this.target,delete this.currentTarget},goog.events.Event.prototype.propagationStopped_=!1,goog.events.Event.prototype.defaultPrevented=!1,goog.events.Event.prototype.returnValue_=!0,goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.events.BrowserEvent=function(e,t){e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.target=null,goog.events.BrowserEvent.prototype.relatedTarget=null,goog.events.BrowserEvent.prototype.offsetX=0,goog.events.BrowserEvent.prototype.offsetY=0,goog.events.BrowserEvent.prototype.clientX=0,goog.events.BrowserEvent.prototype.clientY=0,goog.events.BrowserEvent.prototype.screenX=0,goog.events.BrowserEvent.prototype.screenY=0,goog.events.BrowserEvent.prototype.button=0,goog.events.BrowserEvent.prototype.keyCode=0,goog.events.BrowserEvent.prototype.charCode=0,goog.events.BrowserEvent.prototype.ctrlKey=!1,goog.events.BrowserEvent.prototype.altKey=!1,goog.events.BrowserEvent.prototype.shiftKey=!1,goog.events.BrowserEvent.prototype.metaKey=!1,goog.events.BrowserEvent.prototype.platformModifierKey=!1,goog.events.BrowserEvent.prototype.event_=null,goog.events.BrowserEvent.prototype.init=function(e,t){var i=this.type=e.type;goog.events.Event.call(this,i),this.target=e.target||e.srcElement,this.currentTarget=t;t=e.relatedTarget;t?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(t,"nodeName")||(t=null)):i==goog.events.EventType.MOUSEOVER?t=e.fromElement:i==goog.events.EventType.MOUSEOUT&&(t=e.toElement),this.relatedTarget=t,this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==i?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,(this.event_=e).defaultPrevented&&this.preventDefault(),delete this.propagationStopped_},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.prototype.disposeInternal=function(){goog.events.BrowserEvent.superClass_.disposeInternal.call(this),this.relatedTarget=this.currentTarget=this.target=this.event_=null},goog.events.listeners_={},goog.events.listenerTree_={},goog.events.sources_={},goog.events.onString_="on",goog.events.onStringMap_={},goog.events.keySeparator_="_",goog.events.listen=function(e,t,i,o,s){if(t){if(goog.isArray(t)){for(var n=0;n<t.length;n++)goog.events.listen(e,t[n],i,o,s);return null}o=!!o;t in(a=goog.events.listenerTree_)||(a[t]={count_:0,remaining_:0}),o in(a=a[t])||(a[o]={count_:0,remaining_:0},a.count_++);var r,a=a[o],l=goog.getUid(e);if(a.remaining_++,a[l]){for(r=a[l],n=0;n<r.length;n++)if((a=r[n]).listener==i&&a.handler==s){if(a.removed)break;return r[n].key}}else r=a[l]=[],a.count_++;return(n=goog.events.getProxy()).src=e,(a=new goog.events.Listener).init(i,n,e,t,o,s),i=a.key,n.key=i,r.push(a),goog.events.listeners_[i]=a,goog.events.sources_[l]||(goog.events.sources_[l]=[]),goog.events.sources_[l].push(a),e.addEventListener?e!=goog.global&&e.customEvent_||e.addEventListener(t,n,o):e.attachEvent(goog.events.getOnString_(t),n),i}throw Error("Invalid event type")},goog.events.getProxy=function(){var t=goog.events.handleBrowserEvent_,i=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(e){return t.call(i.src,i.key,e)}:function(e){if(!(e=t.call(i.src,i.key,e)))return e};return i},goog.events.listenOnce=function(e,t,i,o,s){if(goog.isArray(t)){for(var n=0;n<t.length;n++)goog.events.listenOnce(e,t[n],i,o,s);return null}return e=goog.events.listen(e,t,i,o,s),goog.events.listeners_[e].callOnce=!0,e},goog.events.listenWithWrapper=function(e,t,i,o,s){t.listen(e,i,o,s)},goog.events.unlisten=function(e,t,i,o,s){if(goog.isArray(t)){for(var n=0;n<t.length;n++)goog.events.unlisten(e,t[n],i,o,s);return null}if(o=!!o,!(e=goog.events.getListeners_(e,t,o)))return!1;for(n=0;n<e.length;n++)if(e[n].listener==i&&e[n].capture==o&&e[n].handler==s)return goog.events.unlistenByKey(e[n].key);return!1},goog.events.unlistenByKey=function(e){if(!goog.events.listeners_[e])return!1;var t=goog.events.listeners_[e];if(t.removed)return!1;var i,o=t.src,s=t.type,n=t.proxy,r=t.capture;return o.removeEventListener?o!=goog.global&&o.customEvent_||o.removeEventListener(s,n,r):o.detachEvent&&o.detachEvent(goog.events.getOnString_(s),n),o=goog.getUid(o),n=goog.events.listenerTree_[s][r][o],goog.events.sources_[o]&&(i=goog.events.sources_[o],goog.array.remove(i,t),0==i.length&&delete goog.events.sources_[o]),t.removed=!0,n.needsCleanup_=!0,goog.events.cleanUp_(s,r,o,n),delete goog.events.listeners_[e],!0},goog.events.unlistenWithWrapper=function(e,t,i,o,s){t.unlisten(e,i,o,s)},goog.events.cleanUp_=function(e,t,i,o){if(!o.locked_&&o.needsCleanup_){for(var s=0,n=0;s<o.length;s++)o[s].removed?o[s].proxy.src=null:(s!=n&&(o[n]=o[s]),n++);o.length=n,o.needsCleanup_=!1,0==n&&(delete goog.events.listenerTree_[e][t][i],goog.events.listenerTree_[e][t].count_--,0==goog.events.listenerTree_[e][t].count_&&(delete goog.events.listenerTree_[e][t],goog.events.listenerTree_[e].count_--),0==goog.events.listenerTree_[e].count_&&delete goog.events.listenerTree_[e])}},goog.events.removeAll=function(e,o,s){var n=0,r=null==o,a=null==s,s=!!s;if(null==e)goog.object.forEach(goog.events.sources_,function(e){for(var t=e.length-1;0<=t;t--){var i=e[t];!r&&o!=i.type||!a&&s!=i.capture||(goog.events.unlistenByKey(i.key),n++)}});else if(e=goog.getUid(e),goog.events.sources_[e])for(var t=(e=goog.events.sources_[e]).length-1;0<=t;t--){var i=e[t];!r&&o!=i.type||!a&&s!=i.capture||(goog.events.unlistenByKey(i.key),n++)}return n},goog.events.getListeners=function(e,t,i){return goog.events.getListeners_(e,t,i)||[]},goog.events.getListeners_=function(e,t,i){var o=goog.events.listenerTree_;return t in o&&(i in(o=o[t])&&(o=o[i])[e=goog.getUid(e)])?o[e]:null},goog.events.getListener=function(e,t,i,o,s){if(o=!!o,e=goog.events.getListeners_(e,t,o))for(t=0;t<e.length;t++)if(!e[t].removed&&e[t].listener==i&&e[t].capture==o&&e[t].handler==s)return e[t];return null},goog.events.hasListener=function(e,t,i){var e=goog.getUid(e),o=goog.events.sources_[e];if(o){var s=goog.isDef(t),n=goog.isDef(i);return s&&n?!!(o=goog.events.listenerTree_[t])&&!!o[i]&&e in o[i]:!s&&!n||goog.array.some(o,function(e){return s&&e.type==t||n&&e.capture==i})}return!1},goog.events.expose=function(e){var t,i=[];for(t in e)e[t]&&e[t].id?i.push(t+" = "+e[t]+" ("+e[t].id+")"):i.push(t+" = "+e[t]);return i.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,i,o){var s=goog.events.listenerTree_;return!(t in s&&i in(s=s[t]))||goog.events.fireListeners_(s[i],e,t,i,o)},goog.events.fireListeners_=function(e,t,i,o,s){var n=1;if(e[t=goog.getUid(t)]){e.remaining_--,(e=e[t]).locked_?e.locked_++:e.locked_=1;try{for(var r=e.length,a=0;a<r;a++){var l=e[a];l&&!l.removed&&(n&=!1!==goog.events.fireListener(l,s))}}finally{e.locked_--,goog.events.cleanUp_(i,o,t,e)}}return Boolean(n)},goog.events.fireListener=function(e,t){t=e.handleEvent(t);return e.callOnce&&goog.events.unlistenByKey(e.key),t},goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)},goog.events.dispatchEvent=function(e,t){var i=t.type||t,o=goog.events.listenerTree_;if(!(i in o))return!0;goog.isString(t)?t=new goog.events.Event(t,e):t instanceof goog.events.Event?t.target=t.target||e:(r=t,t=new goog.events.Event(i,e),goog.object.extend(t,r));var s,n,r=1;if(i=!0 in(o=o[i])){for(s=[],n=e;n;n=n.getParentEventTarget())s.push(n);(n=o[!0]).remaining_=n.count_;for(var a=s.length-1;!t.propagationStopped_&&0<=a&&n.remaining_;a--)t.currentTarget=s[a],r&=goog.events.fireListeners_(n,s[a],t.type,!0,t)&&0!=t.returnValue_}if(!1 in o)if((n=o[!1]).remaining_=n.count_,i)for(a=0;!t.propagationStopped_&&a<s.length&&n.remaining_;a++)t.currentTarget=s[a],r&=goog.events.fireListeners_(n,s[a],t.type,!1,t)&&0!=t.returnValue_;else for(o=e;!t.propagationStopped_&&o&&n.remaining_;o=o.getParentEventTarget())t.currentTarget=o,r&=goog.events.fireListeners_(n,o,t.type,!1,t)&&0!=t.returnValue_;return Boolean(r)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(!goog.events.listeners_[e])return!0;var i=goog.events.listeners_[e],o=i.type;if(!(o in(r=goog.events.listenerTree_)))return!0;var s,n,r=r[o];if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){s=t||goog.getObjectByName("window.event");var a=!0 in r,l=!1 in r;if(a){if(goog.events.isMarkedIeEvent_(s))return!0;goog.events.markIeEvent_(s)}var d=new goog.events.BrowserEvent;d.init(s,this),s=!0;try{if(a){for(var g=[],c=d.currentTarget;c;c=c.parentNode)g.push(c);(n=r[!0]).remaining_=n.count_;for(var m=g.length-1;!d.propagationStopped_&&0<=m&&n.remaining_;m--)d.currentTarget=g[m],s&=goog.events.fireListeners_(n,g[m],o,!0,d);if(l)for((n=r[!1]).remaining_=n.count_,m=0;!d.propagationStopped_&&m<g.length&&n.remaining_;m++)d.currentTarget=g[m],s&=goog.events.fireListeners_(n,g[m],o,!1,d)}else s=goog.events.fireListener(i,d)}finally{g&&(g.length=0),d.dispose()}return s}o=new goog.events.BrowserEvent(t,this);try{s=goog.events.fireListener(i,o)}finally{o.dispose()}return s},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}!t&&null!=e.returnValue||(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||null!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this)},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.EventTarget.prototype.customEvent_=!0,goog.events.EventTarget.prototype.parentEventTarget_=null,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,i,o){goog.events.listen(this,e,t,i,o)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,i,o){goog.events.unlisten(this,e,t,i,o)},goog.events.EventTarget.prototype.dispatchEvent=function(e){return goog.events.dispatchEvent(this,e)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),goog.events.removeAll(this),this.parentEventTarget_=null},lime.userAgent={},function(){var e=goog.userAgent.getUserAgentString();lime.userAgent.IOS=goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&/(ipod|iphone|ipad)/i.test(e),lime.userAgent.IOS5=lime.userAgent.IOS&&goog.isFunction(Object.freeze),lime.userAgent.ANDROID=goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&/(android)/i.test(e),lime.userAgent.IPAD=lime.userAgent.IOS&&/(ipad)/i.test(e),lime.userAgent.IPHONE4=lime.userAgent.IOS&&2<=goog.global.devicePixelRatio,lime.userAgent.PLAYBOOK=goog.userAgent.WEBKIT&&/playbook/i.test(e),lime.userAgent.SUPPORTS_TOUCH=goog.isDef(document.ontouchmove)}(),goog.math.Rect=function(e,t,i,o){this.left=e,this.top=t,this.width=i,this.height=o},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&(e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height)},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),i=Math.min(this.left+this.width,e.left+e.width);if(t<=i){var o=Math.max(this.top,e.top);if(o<=(e=Math.min(this.top+this.height,e.top+e.height)))return this.left=t,this.top=o,this.width=i-t,this.height=e-o,!0}return!1},goog.math.Rect.intersection=function(e,t){var i=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width);if(i<=o){var s=Math.max(e.top,t.top),t=Math.min(e.top+e.height,t.top+t.height);if(s<=t)return new goog.math.Rect(i,s,o-i,t-s)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){if(!(i=goog.math.Rect.intersection(e,t))||!i.height||!i.width)return[e.clone()];var i=[],o=e.top,s=e.height,n=e.left+e.width,r=e.top+e.height,a=t.left+t.width,l=t.top+t.height;return t.top>e.top&&(i.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),o=t.top,s-=t.top-e.top),l<r&&(i.push(new goog.math.Rect(e.left,l,e.width,r-l)),s=l-o),t.left>e.left&&i.push(new goog.math.Rect(e.left,o,t.left-e.left,s)),a<n&&i.push(new goog.math.Rect(a,o,n-a,s)),i},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),i=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=i-this.top},goog.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;e=e.clone();return e.boundingRect(t),e},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.dom={},goog.dom.classes={},goog.dom.classes.set=function(e,t){e.className=t},goog.dom.classes.get=function(e){return e=e.className,goog.isString(e)&&e.match(/\S+/g)||[]},goog.dom.classes.add=function(e,t){var i=goog.dom.classes.get(e),o=goog.array.slice(arguments,1),s=i.length+o.length;return goog.dom.classes.add_(i,o),e.className=i.join(" "),i.length==s},goog.dom.classes.remove=function(e,t){var i=goog.dom.classes.get(e),o=goog.array.slice(arguments,1),s=goog.dom.classes.getDifference_(i,o);return e.className=s.join(" "),s.length==i.length-o.length},goog.dom.classes.add_=function(e,t){for(var i=0;i<t.length;i++)goog.array.contains(e,t[i])||e.push(t[i])},goog.dom.classes.getDifference_=function(e,t){return goog.array.filter(e,function(e){return!goog.array.contains(t,e)})},goog.dom.classes.swap=function(e,t,i){for(var o=goog.dom.classes.get(e),s=!1,n=0;n<o.length;n++)o[n]==t&&(goog.array.splice(o,n--,1),s=!0);return s&&(o.push(i),e.className=o.join(" ")),s},goog.dom.classes.addRemove=function(e,t,i){var o=goog.dom.classes.get(e);goog.isString(t)?goog.array.remove(o,t):goog.isArray(t)&&(o=goog.dom.classes.getDifference_(o,t)),goog.isString(i)&&!goog.array.contains(o,i)?o.push(i):goog.isArray(i)&&goog.dom.classes.add_(o,i),e.className=o.join(" ")},goog.dom.classes.has=function(e,t){return goog.array.contains(goog.dom.classes.get(e),t)},goog.dom.classes.enable=function(e,t,i){i?goog.dom.classes.add(e,t):goog.dom.classes.remove(e,t)},goog.dom.classes.toggle=function(e,t){var i=!goog.dom.classes.has(e,t);return goog.dom.classes.enable(e,t,i),i},goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",DD:"DD",DEL:"DEL",DFN:"DFN",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",FIELDSET:"FIELDSET",FONT:"FONT",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MENU:"MENU",META:"META",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",P:"P",PARAM:"PARAM",PRE:"PRE",Q:"Q",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SELECT:"SELECT",SMALL:"SMALL",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUP:"SUP",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO"},goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentMode(9)||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.isString(e)?document.getElementById(e):e},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(e,t,i){return goog.dom.getElementsByTagNameAndClass_(document,e,t,i)},goog.dom.getElementsByClass=function(e,t){var i=t||document;return goog.dom.canUseQuerySelector_(i)?i.querySelectorAll("."+e):i.getElementsByClassName?i.getElementsByClassName(e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var i=t||document;return(goog.dom.canUseQuerySelector_(i)?i.querySelector("."+e):goog.dom.getElementsByClass(e,t)[0])||null},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,i,o){if(e=o||e,t=t&&"*"!=t?t.toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(t||i))return e.querySelectorAll(t+(i?"."+i:""));if(i&&e.getElementsByClassName){if(e=e.getElementsByClassName(i),t){for(var s,o={},n=0,r=0;s=e[r];r++)t==s.nodeName&&(o[n++]=s);return o.length=n,o}return e}if(e=e.getElementsByTagName(t||"*"),i){for(o={},r=n=0;s=e[r];r++)"function"==typeof(t=s.className).split&&goog.array.contains(t.split(/\s+/),i)&&(o[n++]=s);return o.length=n,o}return e},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(i,e){goog.object.forEach(e,function(e,t){"style"==t?i.style.cssText=e:"class"==t?i.className=e:"for"==t?i.htmlFor=e:t in goog.dom.DIRECT_ATTRIBUTE_MAP_?i.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[t],e):goog.string.startsWith(t,"aria-")?i.setAttribute(t,e):i[t]=e})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeight_=function(e){var t,i,o=e.document,s=0;return o&&(e=goog.dom.getViewportSize_(e).height,s=o.body,t=o.documentElement,s=goog.dom.isCss1CompatMode_(o)&&t.scrollHeight?t.scrollHeight!=e?t.scrollHeight:t.offsetHeight:(o=t.scrollHeight,i=t.offsetHeight,t.clientHeight!=i&&(o=s.scrollHeight,i=s.offsetHeight),e<o?i<o?o:i:o<i?o:i)),s},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e),e=goog.dom.getWindow_(e);return new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,i){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var i,o=t[0],s=t[1];return!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&s&&(s.name||s.type)&&(o=["<",o],s.name&&o.push(' name="',goog.string.htmlEscape(s.name),'"'),s.type&&(o.push(' type="',goog.string.htmlEscape(s.type),'"'),i={},goog.object.extend(i,s),delete(s=i).type),o.push(">"),o=o.join("")),o=e.createElement(o),s&&(goog.isString(s)?o.className=s:goog.isArray(s)?goog.dom.classes.add.apply(null,[o].concat(s)):goog.dom.setProperties(o,s)),2<t.length&&goog.dom.append_(e,o,t,2),o},goog.dom.append_=function(t,i,e,o){function s(e){e&&i.appendChild(goog.isString(e)?t.createTextNode(e):e)}for(;o<e.length;o++){var n=e[o];goog.isArrayLike(n)&&!goog.dom.isNodeLike(n)?goog.array.forEach(goog.dom.isNodeList(n)?goog.array.toArray(n):n,s):s(n)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return document.createElement(e)},goog.dom.createTextNode=function(e){return document.createTextNode(e)},goog.dom.createTable=function(e,t,i){return goog.dom.createTable_(document,e,t,!!i)},goog.dom.createTable_=function(e,t,i,o){for(var s=["<tr>"],n=0;n<i;n++)s.push(o?"<td>&nbsp;</td>":"<td></td>");for(s.push("</tr>"),s=s.join(""),i=["<table>"],n=0;n<t;n++)i.push(s);return i.push("</table>"),(e=e.createElement(goog.dom.TagName.DIV)).innerHTML=i.join(""),e.removeChild(e.firstChild)},goog.dom.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(document,e)},goog.dom.htmlToDocumentFragment_=function(e,t){var i=e.createElement("div");if(goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(i.innerHTML="<br>"+t,i.removeChild(i.firstChild)):i.innerHTML=t,1==i.childNodes.length)return i.removeChild(i.firstChild);for(var o=e.createDocumentFragment();i.firstChild;)o.appendChild(i.firstChild);return o},goog.dom.getCompatMode=function(){return goog.dom.isCss1CompatMode()?"CSS1Compat":"BackCompat"},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.STYLE:return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,i){e.insertBefore(t,e.childNodes[i]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var i=t.parentNode;i&&i.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,i=e.parentNode;if(i&&i.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)i.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&null!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return null!=e.firstElementChild?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return null!=e.lastElementChild?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return null!=e.nextElementSibling?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return null!=e.previousElementSibling?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY?e.parentElement:(e=e.parentNode,goog.dom.isElement(e)?e:null)},goog.dom.contains=function(e,t){if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var i=e.nodeType==goog.dom.NodeType.ELEMENT,o=t.nodeType==goog.dom.NodeType.ELEMENT;if(i&&o)return e.sourceIndex-t.sourceIndex;var s=e.parentNode,n=t.parentNode;return s==n?goog.dom.compareSiblingOrder_(e,t):!i&&goog.dom.contains(s,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!o&&goog.dom.contains(n,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(i?e:s).sourceIndex-(o?t:n).sourceIndex}return(i=(o=goog.dom.getOwnerDocument(e)).createRange()).selectNode(e),i.collapse(!0),(o=o.createRange()).selectNode(t),o.collapse(!0),i.compareBoundaryPoints(goog.global.Range.START_TO_END,o)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var i=e.parentNode;if(i==t)return-1;for(var o=t;o.parentNode!=i;)o=o.parentNode;return goog.dom.compareSiblingOrder_(o,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var i=t;i=i.previousSibling;)if(i==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t=arguments.length;if(!t)return null;if(1==t)return e;for(var i=[],o=1/0,s=0;s<t;s++){for(var n=[],r=arguments[s];r;)n.unshift(r),r=r.parentNode;i.push(n),o=Math.min(o,n.length)}for(n=null,s=0;s<o;s++){for(var r=i[0][s],a=1;a<t;a++)if(r!=i[a][s])return n;n=r}return n},goog.dom.getOwnerDocument=function(e){return e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){return e.contentWindow||goog.dom.getWindow_(goog.dom.getFrameContentDocument(e))},goog.dom.setTextContent=function(e,t){if("textContent"in e)e.textContent=t;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{goog.dom.removeChildren(e);var i=goog.dom.getOwnerDocument(e);e.appendChild(i.createTextNode(t))}},goog.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e).createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var i=[];return goog.dom.findNodes_(e,t,i,!0)?i[0]:void 0},goog.dom.findNodes=function(e,t){var i=[];return goog.dom.findNodes_(e,t,i,!1),i},goog.dom.findNodes_=function(e,t,i,o){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(i.push(e),o)||goog.dom.findNodes_(e,t,i,o))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){var t=e.getAttributeNode("tabindex");return!(!t||!t.specified)&&(e=e.tabIndex,goog.isNumber(e)&&0<=e&&e<32768)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.getTextContent=function(e){var t;return e=(e=(e=goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e?goog.string.canonicalizeNewlines(e.innerText):(t=[],goog.dom.getTextContent_(e,t,!0),t.join(""))).replace(/ \xAD /g," ").replace(/\xAD/g,"")).replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,i){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)i?t.push((""+e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,t,i),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var i=t||goog.dom.getOwnerDocument(e).body,o=[];e&&e!=i;){for(var s=e;s=s.previousSibling;)o.unshift(goog.dom.getTextContent(s));e=e.parentNode}return goog.string.trimLeft(o.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,i){for(var o,e=[e],s=0;0<e.length&&s<t;)if(!((o=e.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_))if(o.nodeType==goog.dom.NodeType.TEXT)var n=o.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),s=s+n.length;else if(o.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)s+=goog.dom.PREDEFINED_TAG_VALUES_[o.nodeName].length;else for(n=o.childNodes.length-1;0<=n;n--)e.push(o.childNodes[n]);return goog.isObject(i)&&(i.remainder=o?o.nodeValue.length+t-s-1:0,i.node=o),o},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,i){if(!t&&!i)return null;var o=t?t.toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!o||e.nodeName==o)&&(!i||goog.dom.classes.has(e,i))},!0)},goog.dom.getAncestorByClass=function(e,t){return goog.dom.getAncestorByTagNameAndClass(e,null,t)},goog.dom.getAncestor=function(e,t,i,o){i||(e=e.parentNode);for(var i=null==o,s=0;e&&(i||s<=o);){if(t(e))return e;e=e.parentNode,s++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.isString(e)?this.document_.getElementById(e):e},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,i){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,i)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,i){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(e)},goog.dom.DomHelper.prototype.createTable=function(e,t,i){return goog.dom.createTable_(this.document_,e,t,!!i)},goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(this.document_,e)},goog.dom.DomHelper.prototype.getCompatMode=function(){return this.isCss1CompatMode()?"CSS1Compat":"BackCompat"},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.style={},goog.style.setStyle=function(e,t,i){goog.isString(t)?goog.style.setStyle_(e,i,t):goog.object.forEach(t,goog.partial(goog.style.setStyle_,e))},goog.style.setStyle_=function(e,t,i){e.style[goog.string.toCamelCase(i)]=t},goog.style.getStyle=function(e,t){return e.style[goog.string.toCamelCase(t)]||""},goog.style.getComputedStyle=function(e,t){var i=goog.dom.getOwnerDocument(e);return i.defaultView&&i.defaultView.getComputedStyle&&(i=i.defaultView.getComputedStyle(e,null))&&(i[t]||i.getPropertyValue(t))||""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.setPosition=function(e,t,i){var o,s=goog.userAgent.GECKO&&(goog.userAgent.MAC||goog.userAgent.X11)&&goog.userAgent.isVersion("1.9");t=t instanceof goog.math.Coordinate?(o=t.x,t.y):(o=t,i),e.style.left=goog.style.getPixelStyleValue_(o,s),e.style.top=goog.style.getPixelStyleValue_(t,s)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){return e=e?e.nodeType==goog.dom.NodeType.DOCUMENT?e:goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentMode(9)||goog.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},goog.style.getBoundingClientRect_=function(e){var t=e.getBoundingClientRect();return goog.userAgent.IE&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(8))return e.offsetParent;for(var t=goog.dom.getOwnerDocument(e),i=goog.style.getStyle_(e,"position"),o="fixed"==i||"absolute"==i,e=e.parentNode;e&&e!=t;e=e.parentNode)if(i=goog.style.getStyle_(e,"position"),!(o=o&&"static"==i&&e!=t.documentElement&&e!=t.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==i||"absolute"==i||"relative"==i))return e;return null},goog.style.getVisibleRectForElement=function(e){for(var t,i,o=new goog.math.Box(0,1/0,1/0,0),s=goog.dom.getDomHelper(e),n=s.getDocument().body,r=s.getDocument().documentElement,a=s.getDocumentScrollElement();e=goog.style.getOffsetParent(e);)goog.userAgent.IE&&0==e.clientWidth||goog.userAgent.WEBKIT&&0==e.clientHeight&&e==n||e==n||e==r||"visible"==goog.style.getStyle_(e,"overflow")||(t=goog.style.getPageOffset(e),i=goog.style.getClientLeftTop(e),t.x+=i.x,t.y+=i.y,o.top=Math.max(o.top,t.y),o.right=Math.min(o.right,t.x+e.clientWidth),o.bottom=Math.min(o.bottom,t.y+e.clientHeight),o.left=Math.max(o.left,t.x));return n=a.scrollLeft,a=a.scrollTop,o.left=Math.max(o.left,n),o.top=Math.max(o.top,a),s=s.getViewportSize(),o.right=Math.min(o.right,n+s.width),o.bottom=Math.min(o.bottom,a+s.height),0<=o.top&&0<=o.left&&o.bottom>o.top&&o.right>o.left?o:null},goog.style.getContainerOffsetToScrollInto=function(e,t,i){var o=goog.style.getPageOffset(e),s=goog.style.getPageOffset(t),n=goog.style.getBorderBox(t),r=o.x-s.x-n.left,o=o.y-s.y-n.top,s=t.clientWidth-e.offsetWidth,e=t.clientHeight-e.offsetHeight,n=t.scrollLeft,t=t.scrollTop;return i?(n+=r-s/2,t+=o-e/2):(n+=Math.min(r,Math.max(r-s,0)),t+=Math.min(o,Math.max(o-e,0))),new goog.math.Coordinate(n,t)},goog.style.scrollIntoContainerView=function(e,t,i){e=goog.style.getContainerOffsetToScrollInto(e,t,i),t.scrollLeft=e.x,t.scrollTop=e.y},goog.style.getClientLeftTop=function(e){if(!goog.userAgent.GECKO||goog.userAgent.isVersion("1.9"))return new goog.math.Coordinate(e.clientLeft,e.clientTop);var t=parseFloat(goog.style.getComputedStyle(e,"borderLeftWidth"));return goog.style.isRightToLeft(e)&&(t+=e.offsetWidth-e.clientWidth-t-parseFloat(goog.style.getComputedStyle(e,"borderRightWidth"))),new goog.math.Coordinate(t,parseFloat(goog.style.getComputedStyle(e,"borderTopWidth")))},goog.style.getPageOffset=function(e){var t,i=goog.dom.getOwnerDocument(e),o=goog.style.getStyle_(e,"position"),s=goog.userAgent.GECKO&&i.getBoxObjectFor&&!e.getBoundingClientRect&&"absolute"==o&&(t=i.getBoxObjectFor(e))&&(t.screenX<0||t.screenY<0),n=new goog.math.Coordinate(0,0),r=goog.style.getClientViewportElement(i);if(e==r)return n;if(e.getBoundingClientRect)t=goog.style.getBoundingClientRect_(e),e=goog.dom.getDomHelper(i).getDocumentScroll(),n.x=t.left+e.x,n.y=t.top+e.y;else if(i.getBoxObjectFor&&!s)t=i.getBoxObjectFor(e),e=i.getBoxObjectFor(r),n.x=t.screenX-e.screenX,n.y=t.screenY-e.screenY;else{t=e;do{if(n.x+=t.offsetLeft,n.y+=t.offsetTop,t!=e&&(n.x+=t.clientLeft||0,n.y+=t.clientTop||0),goog.userAgent.WEBKIT&&"fixed"==goog.style.getComputedPosition(t)){n.x+=i.body.scrollLeft,n.y+=i.body.scrollTop;break}}while((t=t.offsetParent)&&t!=e);for((goog.userAgent.OPERA||goog.userAgent.WEBKIT&&"absolute"==o)&&(n.y-=i.body.offsetTop),t=e;(t=goog.style.getOffsetParent(t))&&t!=i.body&&t!=r;)n.x-=t.scrollLeft,goog.userAgent.OPERA&&"TR"==t.tagName||(n.y-=t.scrollTop)}return n},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var i=new goog.math.Coordinate(0,0),o=goog.dom.getWindow(goog.dom.getOwnerDocument(e)),s=e;do{var n=o==t?goog.style.getPageOffset(s):goog.style.getClientPosition(s)}while(i.x+=n.x,i.y+=n.y,o&&o!=t&&(s=o.frameElement)&&(o=o.parent));return i},goog.style.translateRectForAnotherFrame=function(e,t,i){var o;t.getDocument()!=i.getDocument()&&(o=t.getDocument().body,i=goog.style.getFramedPageOffset(o,i.getWindow()),i=goog.math.Coordinate.difference(i,goog.style.getPageOffset(o)),goog.userAgent.IE&&!t.isCss1CompatMode()&&(i=goog.math.Coordinate.difference(i,t.getDocumentScroll())),e.left+=i.x,e.top+=i.y)},goog.style.getRelativePosition=function(e,t){e=goog.style.getClientPosition(e),t=goog.style.getClientPosition(t);return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.style.getClientPosition=function(e){var t,i,o=new goog.math.Coordinate;return e.nodeType==goog.dom.NodeType.ELEMENT?e.getBoundingClientRect?(e=goog.style.getBoundingClientRect_(e),o.x=e.left,o.y=e.top):(t=goog.dom.getDomHelper(e).getDocumentScroll(),e=goog.style.getPageOffset(e),o.x=e.x-t.x,o.y=e.y-t.y):(t=goog.isFunction(e.getBrowserEvent),(i=e).targetTouches?i=e.targetTouches[0]:t&&e.getBrowserEvent().targetTouches&&(i=e.getBrowserEvent().targetTouches[0]),o.x=i.clientX,o.y=i.clientY),o},goog.style.setPageOffset=function(e,t,i){var o=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(i=t.y,t=t.x),goog.style.setPosition(e,e.offsetLeft+(t-o.x),e.offsetTop+(i-o.y))},goog.style.setSize=function(e,t,i){if(t instanceof goog.math.Size)i=t.height,t=t.width;else if(null==i)throw Error("missing height argument");goog.style.setWidth(e,t),goog.style.setHeight(e,i)},goog.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)},goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){if("none"!=goog.style.getStyle_(e,"display"))return goog.style.getSizeWithDisplay_(e);var t=e.style,i=t.display,o=t.visibility,s=t.position;return t.visibility="hidden",t.position="absolute",t.display="inline",e=goog.style.getSizeWithDisplay_(e),t.display=i,t.position=s,t.visibility=o,e},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,i=e.offsetHeight,o=goog.userAgent.WEBKIT&&!t&&!i;return goog.isDef(t)&&!o||!e.getBoundingClientRect?new goog.math.Size(t,i):(e=goog.style.getBoundingClientRect_(e),new goog.math.Size(e.right-e.left,e.bottom-e.top))},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e),e=goog.style.getSize(e);return new goog.math.Rect(t.x,t.y,e.width,e.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(""+e)},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){var t=e.style,e="";return"opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=""+t[1]/100),""==e?e:Number(e)},goog.style.setOpacity=function(e,t){e=e.style;"opacity"in e?e.opacity=t:"MozOpacity"in e?e.MozOpacity=t:"filter"in e&&(e.filter=""===t?"":"alpha(opacity="+100*t+")")},goog.style.setTransparentBackgroundImage=function(e,t){e=e.style;goog.userAgent.IE&&!goog.userAgent.isVersion("8")?e.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(e.backgroundImage="url("+t+")",e.backgroundPosition="top left",e.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){"filter"in(e=e.style)?e.filter="":e.backgroundImage="none"},goog.style.showElement=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installStyles=function(e,t){var i=goog.dom.getDomHelper(t),o=null;return goog.userAgent.IE?(o=i.getDocument().createStyleSheet(),goog.style.setStyles(o,e)):((t=i.getElementsByTagNameAndClass("head")[0])||(o=i.getElementsByTagNameAndClass("body")[0],t=i.createDom("head"),o.parentNode.insertBefore(t,o)),o=i.createDom("style"),goog.style.setStyles(o,e),i.appendChild(t,o)),o},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setStyles=function(e,t){goog.userAgent.IE?e.cssText=t:e[goog.userAgent.WEBKIT?"innerText":"innerHTML"]=t},goog.style.setPreWrap=function(e){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){(e=e.style).position="relative",goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(e.zoom="1",e.display="inline"):e.display=!goog.userAgent.GECKO||goog.userAgent.isVersion("1.9a")?"inline-block":"-moz-inline-box"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():!(!goog.userAgent.IE&&!goog.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},goog.style.setUnselectable=function(e,t,i){var i=i?null:e.getElementsByTagName("*"),o=goog.style.unselectableStyle_;if(o){if(t=t?"none":"",e.style[o]=t,i)for(var s,e=0;s=i[e];e++)s.style[o]=t}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),i))for(e=0;s=i[e];e++)s.setAttribute("unselectable",t)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){var i=goog.dom.getOwnerDocument(e),o=goog.dom.getDomHelper(i).isCss1CompatMode();!goog.userAgent.IE||o&&goog.userAgent.isVersion("8")?goog.style.setBoxSizingSize_(e,t,"border-box"):(i=e.style,o?(o=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),i.pixelWidth=t.width-e.left-o.left-o.right-e.right,i.pixelHeight=t.height-e.top-o.top-o.bottom-e.bottom):(i.pixelWidth=t.width,i.pixelHeight=t.height))},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),i=goog.userAgent.IE&&e.currentStyle;return i&&goog.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=i.width&&"auto"!=i.height&&!i.boxSizing?(t=goog.style.getIePixelValue_(e,i.width,"width","pixelWidth"),e=goog.style.getIePixelValue_(e,i.height,"height","pixelHeight"),new goog.math.Size(t,e)):(i=goog.style.getBorderBoxSize(e),t=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),new goog.math.Size(i.width-e.left-t.left-t.right-e.right,i.height-e.top-t.top-t.bottom-e.bottom))},goog.style.setContentBoxSize=function(e,t){var i=goog.dom.getOwnerDocument(e),o=goog.dom.getDomHelper(i).isCss1CompatMode();!goog.userAgent.IE||o&&goog.userAgent.isVersion("8")?goog.style.setBoxSizingSize_(e,t,"content-box"):(i=e.style,o?(i.pixelWidth=t.width,i.pixelHeight=t.height):(o=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),i.pixelWidth=t.width+e.left+o.left+o.right+e.right,i.pixelHeight=t.height+e.top+o.top+o.bottom+e.bottom))},goog.style.setBoxSizingSize_=function(e,t,i){e=e.style,goog.userAgent.GECKO?e.MozBoxSizing=i:goog.userAgent.WEBKIT?e.WebkitBoxSizing=i:e.boxSizing=i,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,i,o){if(/^\d+px?$/.test(t))return parseInt(t,10);var s=e.style[i],n=e.runtimeStyle[i];return e.runtimeStyle[i]=e.currentStyle[i],e.style[i]=t,t=e.style[o],e.style[i]=s,e.runtimeStyle[i]=n,t},goog.style.getIePixelDistance_=function(e,t){return goog.style.getIePixelValue_(e,goog.style.getCascadedStyle(e,t),"left","pixelLeft")},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var i=goog.style.getIePixelDistance_(e,t+"Left"),o=goog.style.getIePixelDistance_(e,t+"Right"),s=goog.style.getIePixelDistance_(e,t+"Top"),n=goog.style.getIePixelDistance_(e,t+"Bottom");return new goog.math.Box(s,o,n,i)}return i=goog.style.getComputedStyle(e,t+"Left"),o=goog.style.getComputedStyle(e,t+"Right"),s=goog.style.getComputedStyle(e,t+"Top"),n=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(s),parseFloat(o),parseFloat(n),parseFloat(i))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){if("none"==goog.style.getCascadedStyle(e,t+"Style"))return 0;t=goog.style.getCascadedStyle(e,t+"Width");return t in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[t]:goog.style.getIePixelValue_(e,t,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE){var t=goog.style.getIePixelBorder_(e,"borderLeft"),i=goog.style.getIePixelBorder_(e,"borderRight"),o=goog.style.getIePixelBorder_(e,"borderTop"),e=goog.style.getIePixelBorder_(e,"borderBottom");return new goog.math.Box(o,i,e,t)}return t=goog.style.getComputedStyle(e,"borderLeftWidth"),i=goog.style.getComputedStyle(e,"borderRightWidth"),o=goog.style.getComputedStyle(e,"borderTopWidth"),e=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(o),parseFloat(i),parseFloat(e),parseFloat(t))},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),i="";if(t.body.createTextRange){(t=t.body.createTextRange()).moveToElementText(e);try{i=t.queryCommandValue("FontName")}catch(e){i=""}}return 1<(e=(i=i||goog.style.getStyle_(e,"fontFamily")).split(",")).length&&(i=e[0]),goog.string.stripQuotes(i,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){return(e=e.match(goog.style.lengthUnitRegex_))&&e[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),i=goog.style.getLengthUnits(t);if(t&&"px"==i)return parseInt(t,10);if(goog.userAgent.IE){if(i in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&i in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,i=goog.style.getStyle_(e,"fontSize"),goog.style.getIePixelValue_(e,t==i?"1em":t,"left","pixelLeft")}return i=goog.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(e,i),t=i.offsetHeight,goog.dom.removeNode(i),t},goog.style.parseStyleAttribute=function(e){var t={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){2==(e=e.split(/\s*:\s*/)).length&&(t[goog.string.toCamelCase(e[0].toLowerCase())]=e[1])}),t},goog.style.toStyleAttribute=function(e){var i=[];return goog.object.forEach(e,function(e,t){i.push(goog.string.toSelectorCase(t),":",e,";")}),i.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement("div");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=goog.dom.createElement("div"),goog.style.setSize(e,"200px","200px"),t.appendChild(e),goog.dom.appendChild(goog.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,goog.dom.removeNode(t),e},lime.style={},function(){var o=goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.OPERA?"O":goog.userAgent.IE?"ms":"",t=goog.dom.createDom("div").style;lime.style.transformProperty="-"+o.toLowerCase()+"-transform",lime.style.tryProperty=function(e){return void 0!==t[e]&&e},lime.style.getCSSproperty=function(e){var t=e.charAt(0).toLowerCase()+e.substr(1),i=o+e;return lime.style.tryProperty(e)?e:lime.style.tryProperty(t)?t:lime.style.tryProperty(i)?i:void 0}}(),lime.style.setBorderRadius=function(){var s=lime.style.getCSSproperty("BorderRadius");return function(e,t,i,o){o=o?"%":"px",i=goog.isDef(i)?i:t,(t=(goog.isArray(t)?t.join(o+" "):t)+o+"/"+((goog.isArray(i)?i.join(o+" "):i)+o))!=e.border_radius_cache_&&(e.style[s]=e.border_radius_cache_=t)}}(),lime.style.Transform=function(e){this.values=[],this.precision=1,this.enable3D_=!0,this.opt_precision&&this.setPrecision(e)},lime.style.Transform.prototype.set3DAllowed=function(e){return this.enable3D_=e,this},lime.style.Transform.prototype.scale=function(e,t){return this.values.push("scale("+e+","+t+")"),this},lime.style.Transform.prototype.rotate=function(e,t){return 0!=e&&this.values.push("rotate("+e+(t||"deg")+")"),this},lime.style.Transform.prototype.translate=function(e,t,i){var o=1/this.precision,s="translate";return this.enable3D_&&(lime.userAgent.IOS||lime.userAgent.PLAYBOOK)&&(s+="3d"),s+="("+e*o+"px,"+t*o+"px",this.enable3D_&&(lime.userAgent.IOS||lime.userAgent.PLAYBOOK)&&(s+=","+(i||0)*o+"px"),this.values.push(s+")"),this},lime.style.Transform.prototype.setPrecision=function(e){var t;return 1!=this.precision&&(t=1/this.precision,this.scale(t,t),this.precision=1),1!=e&&(this.scale(e,e),this.precision=e),this},lime.style.Transform.prototype.toString=function(){return 1!=this.precision&&this.setPrecision(1),this.values.join(" ")},lime.style.setTransform=function(){var i=lime.style.getCSSproperty("Transform");return function(e,t){t=t.toString();t!=e.transform_cache_&&(e.style[i]=e.transform_cache_=t),lime.transformSet_=1}}(),lime.style.setTransformOrigin=function(){var s=lime.style.getCSSproperty("TransformOrigin");return function(e,t,i,o){(t=t+(o=o?"%":"px")+" "+i+o)!=e.transform_origin_cache_&&(e.style[s]=e.transform_origin_cache_=t)}}(),function(){var n=lime.style.getCSSproperty("Transition");function r(e,t){if(!e.length)return e;for(var i=e.split("),"),o=0;o<i.length-1;o++)i[o]+=")";return(i=goog.array.filter(i,function(e){return-1==e.indexOf(t)})).join(",")}lime.style.isTransitionsSupported=!!n&&!goog.userAgent.OPERA,lime.style.setTransition=function(e,t,i,o){var s;n&&((s=r(e.style[n],t)).length&&(s+=", "),s+=t+" "+i+"s cubic-bezier("+o[1]+","+o[2]+","+o[3]+","+o[4]+")",e.style[n]=s)},lime.style.clearTransition=function(e,t){n&&e&&(e.style[n]=r(e.style[n],t))},lime.style.setSize=function(e,t,i){if(e.width_cache_!=t||e.height_cache_!=i)return e.width_cache_=t,e.height_cache_=i,goog.style.setSize(e,t,i)}}(),lime.Renderer.DOM=new lime.Renderer,lime.Renderer.DOM.updateLayout=function(){for(var e,t=0,i=0;e=this.children_[i];i++)(e=e instanceof lime.Node?e.rootElement:e)==this.domElement.childNodes[t]?t++:(goog.dom.contains(this.containerElement,e)&&goog.dom.removeNode(e),lime.Renderer.DOM.appendAt_(this.containerElement,e,t++))},lime.Renderer.DOM.drawSizePosition=function(){var e=this.getSize(),t=this.getQuality(),i=this.getPosition(),o=this.relativeQuality_||1,s=this.getCSS3DTransformsAllowed();this.transitionsActive_[lime.Transition.POSITION]&&(i=this.transitionsActive_[lime.Transition.POSITION]);var n=Math.round(e.width*o),r=Math.round(e.height*o),a=this.getScale().clone();this.transitionsActive_[lime.Transition.SCALE]&&(a=this.transitionsActive_[lime.Transition.SCALE].clone()),0!=n?a.scale(e.width/(n*t/o)):a.scale(1/t),lime.style.setSize(this.domElement,n,r),lime.style.setTransformOrigin(this.domElement,100*this.anchorPoint_.x,100*this.anchorPoint_.y,!0),n=this.anchorPoint_.x*e.width*o,r=this.anchorPoint_.y*e.height*o,e=i.x*o/t-n,t=i.y*o/t-r,0==n-(i=this.stroke_?this.stroke_.width_:0)&&0==r-i||this.domElement!=this.containerElement||!this.children_.length||lime.Renderer.DOM.makeContainer.call(this),this.domElement==this.containerElement||this.transitionsActiveSet_[lime.Transition.POSITION]||this.transitionsActiveSet_[lime.Transition.SCALE]||this.transitionsActiveSet_[lime.Transition.ROTATION]||lime.style.setTransform(this.containerElement,(new lime.style.Transform).set3DAllowed(s).translate(n-i,r-i)),this.mask_!=this.activeMask_&&(this.activeMask_&&lime.Renderer.DOM.removeMask.call(this),this.mask_&&lime.Renderer.DOM.addMask.call(this)),s=(new lime.style.Transform).setPrecision(.1).set3DAllowed(s),this.mask_&&(lime.Renderer.DOM.calculateMaskPosition.call(this.mask_),s.setPrecision(.1).translate(-this.mask_.mX-n,-this.mask_.mY-r).rotate(this.mask_.mRot,"rad").translate(n,r).setPrecision(1)),n=-this.getRotation(),goog.isDef(this.transitionsActive_[lime.Transition.ROTATION])&&(n=-this.transitionsActive_[lime.Transition.ROTATION]),s.translate(e,t).scale(a.x,a.y).rotate(n),this.transitionsActiveSet_[lime.Transition.POSITION]||this.transitionsActiveSet_[lime.Transition.SCALE]||this.transitionsActiveSet_[lime.Transition.ROTATION]||lime.style.setTransform(this.domElement,s)},lime.Renderer.DOM.update=function(){var e;this.domElement&&(lime.Renderer.DOM.drawSizePosition.call(this),this.transitionsActiveSet_[lime.Transition.OPACITY]||(e=this.opacity_,goog.isDef(this.transitionsActive_[lime.Transition.OPACITY])&&(e=this.transitionsActive_[lime.Transition.OPACITY]),this.getDirty()&lime.Dirty.ALPHA&&goog.style.setOpacity(this.domElement,e)),this.getDirty()&lime.Dirty.VISIBILITY&&(this.domElement.style.display=this.hidden_?"none":"block"),this.maskTarget_||this.renderer.draw.call(this,this.domElement))},lime.Renderer.DOM.calculateMaskPosition=function(){var e,t,i,o,s,n,r,a,l;goog.isDef(this.targetNode)&&this.targetNode.inTree_&&(e=this.targetNode,i=this.getFrame(),t=new goog.math.Coordinate(i.left,i.top),a=new goog.math.Coordinate(i.right,i.top),l=new goog.math.Coordinate(i.right,i.bottom),i=e.getParent(),t=this.localToNode(t,i),a=this.localToNode(a,i),l=this.localToNode(l,i),i=Math.atan2(t.y-a.y,a.x-t.x),o=a.x-t.x,s=t.y-a.y,n=l.x-a.x,r=l.y-a.y,a=Math.cos(i),l=Math.sin(i),this.mWidth=Math.round(Math.sqrt(o*o+s*s)),this.mHeight=Math.round(Math.sqrt(n*n+r*r)),e.renderer.getType()==lime.Renderer.DOM&&(o=e.rootElement,goog.style.setSize(o,this.mWidth,this.mHeight),lime.style.setTransform(o,(new lime.style.Transform).setPrecision(.1).set3DAllowed(this.getCSS3DTransformsAllowed()).translate(t.x,t.y).rotate(-i,"rad"))),this.renderer.getType()==lime.Renderer.DOM&&(this.domElement.style.display="none"),this.mPos=e.parentToLocal(t.clone()),this.mSet=!0,this.mX=a*t.x-l*t.y,this.mY=a*t.y+l*t.x,this.mRot=i)},lime.Renderer.DOM.appendAt_=function(e,t,i){null==i||e.childNodes.length<=i?e.appendChild(t):e.insertBefore(t,e.childNodes[i])},lime.Renderer.DOM.makeContainer=function(){this.containerElement=goog.dom.createDom("div");for(var e,t=document.createDocumentFragment();e=this.domElement.firstChild;)this.domElement.removeChild(e),t.appendChild(e);this.containerElement.appendChild(t),this.domElement.appendChild(this.containerElement)},lime.Renderer.DOM.removeMask=function(){this.domElement!=this.rootElement&&(this.renderer.getType()==lime.Renderer.DOM&&(goog.dom.removeNode(this.domElement),goog.dom.replaceNode(this.domElement,this.rootElement),this.rootElement=this.domElement),this.activeMask_.isMask=0,this.activeMask_=null)},lime.Renderer.DOM.addMask=function(){this.renderer.getType()==lime.Renderer.DOM&&(this.rootElement=goog.dom.createDom("div"),this.rootElement.style.cssText="position:absolute;overflow:hidden;",lime.style.setTransformOrigin(this.rootElement,0,0),goog.dom.replaceNode(this.rootElement,this.domElement),this.rootElement.appendChild(this.domElement)),this.mask_.isMask=1,(this.mask_.targetNode=this).activeMask_=this.mask_,this.mask_.setDirty(lime.Dirty.POSITION)},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,i){if(this.buffer_+=e,null!=t)for(var o=1;o<arguments.length;o++)this.buffer_+=arguments[o];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.structs={},goog.structs.InversionMap=function(e,t,i){if(e.length!=t.length)return null;this.storeInversion_(e,i),this.values=t},goog.structs.InversionMap.prototype.storeInversion_=function(e,t){this.rangeArray=e;for(var i=1;i<e.length;i++)null==e[i]?e[i]=e[i-1]+1:t&&(e[i]+=e[i-1])},goog.structs.InversionMap.prototype.spliceInversion=function(e,t,i){var i=(e=new goog.structs.InversionMap(e,t,i)).rangeArray[0],o=goog.array.peek(e.rangeArray),t=this.getLeast(i),o=this.getLeast(o);i!=this.rangeArray[t]&&t++,i=o-t+1,goog.partial(goog.array.splice,this.rangeArray,t,i).apply(null,e.rangeArray),goog.partial(goog.array.splice,this.values,t,i).apply(null,e.values)},goog.structs.InversionMap.prototype.at=function(e){return(e=this.getLeast(e))<0?null:this.values[e]},goog.structs.InversionMap.prototype.getLeast=function(e){for(var t=this.rangeArray,i=0,o=t.length;8<o-i;){var s=o+i>>1;t[s]<=e?i=s:o=s}for(;i<o&&!(e<t[i]);++i);return i-1},goog.i18n={},goog.i18n.GraphemeBreak={},goog.i18n.GraphemeBreak.property={ANY:0,CONTROL:1,EXTEND:2,PREPEND:3,SPACING_MARK:4,L:5,V:6,T:7,LV:8,LVT:9,CR:10,LF:11},goog.i18n.GraphemeBreak.inversions_=null,goog.i18n.GraphemeBreak.applyLegacyBreakRules_=function(e,t){var i=goog.i18n.GraphemeBreak.property;return(e!=i.CR||t!=i.LF)&&(e==i.CONTROL||e==i.CR||e==i.LF||t==i.CONTROL||t==i.CR||t==i.LF||(e!=i.L||t!=i.L&&t!=i.V&&t!=i.LV&&t!=i.LVT)&&(e!=i.LV&&e!=i.V||t!=i.V&&t!=i.T)&&(e!=i.LVT&&e!=i.T||t!=i.T)&&t!=i.EXTEND)},goog.i18n.GraphemeBreak.getBreakProp_=function(e){if(44032<=e&&e<=55203){var t=goog.i18n.GraphemeBreak.property;return 16==e%28?t.LV:t.LVT}return goog.i18n.GraphemeBreak.inversions_||(goog.i18n.GraphemeBreak.inversions_=new goog.structs.InversionMap([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],!0)),goog.i18n.GraphemeBreak.inversions_.at(e)},goog.i18n.GraphemeBreak.hasGraphemeBreak=function(e,t,i){var e=goog.i18n.GraphemeBreak.getBreakProp_(e),t=goog.i18n.GraphemeBreak.getBreakProp_(t),o=goog.i18n.GraphemeBreak.property;return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(e,t)&&!(i&&(e==o.PREPEND||t==o.SPACING_MARK))},goog.format={},goog.format.fileSize=function(e,t){return goog.format.numBytesToString(e,t,!1)},goog.format.isConvertableScaledNumber=function(e){return goog.format.SCALED_NUMERIC_RE_.test(e)},goog.format.stringToNumericValue=function(e){return goog.string.endsWith(e,"B")?goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_):goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_SI_)},goog.format.stringToNumBytes=function(e){return goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_)},goog.format.numericValueToString=function(e,t){return goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_SI_,t)},goog.format.numBytesToString=function(e,t,i){var o="";return goog.isDef(i)&&!i||(o="B"),goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_BINARY_,t,o)},goog.format.stringToNumericValue_=function(e,t){e=e.match(goog.format.SCALED_NUMERIC_RE_);return e?e[1]*t[e[2]]:NaN},goog.format.numericValueToString_=function(e,t,i,o){var s=goog.format.NUMERIC_SCALE_PREFIXES_,n=e,r="",a=1;e<0&&(e=-e);for(var l=0;l<s.length;l++){var d=s[l];if((a=t[d])<=e||a<=1&&.1*a<e){r=d;break}}return r?o&&(r+=o):a=1,e=Math.pow(10,goog.isDef(i)?i:2),Math.round(n/a*e)/e+r},goog.format.SCALED_NUMERIC_RE_=/^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/,goog.format.NUMERIC_SCALE_PREFIXES_="P T G M K  m u n".split(" "),goog.format.NUMERIC_SCALES_SI_={"":1,n:1e-9,u:1e-6,m:.001,k:1e3,K:1e3,M:1e6,G:1e9,T:1e12,P:1e15},goog.format.NUMERIC_SCALES_BINARY_={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)},goog.format.FIRST_GRAPHEME_EXTEND_=768,goog.format.insertWordBreaksGeneric_=function(e,t,i){if((i=i||10)>e.length)return e;for(var o=[],s=0,n=0,r=0,a=0,l=0;l<e.length;l++){var d=a,d=(a=e.charCodeAt(l))>=goog.format.FIRST_GRAPHEME_EXTEND_&&!t(d,a,!0);i<=s&&a>goog.format.WbrToken_.SPACE&&!d&&(o.push(e.substring(r,l),goog.format.WORD_BREAK_HTML),r=l,s=0),n?a==goog.format.WbrToken_.GT&&n==goog.format.WbrToken_.LT?n=0:a==goog.format.WbrToken_.SEMI_COLON&&n==goog.format.WbrToken_.AMP&&(n=0,s++):a==goog.format.WbrToken_.LT||a==goog.format.WbrToken_.AMP?n=a:a<=goog.format.WbrToken_.SPACE?s=0:s++}return o.push(e.substr(r)),o.join("")},goog.format.insertWordBreaks=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.i18n.GraphemeBreak.hasGraphemeBreak,t)},goog.format.conservativelyHasGraphemeBreak_=function(e,t){return 1024<=t&&t<1315},goog.format.insertWordBreaksBasic=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.format.conservativelyHasGraphemeBreak_,t)},goog.format.IS_IE8_OR_ABOVE_=goog.userAgent.IE&&goog.userAgent.isVersion(8),goog.format.WORD_BREAK_HTML=goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.format.IS_IE8_OR_ABOVE_?"&#8203;":"<wbr>",goog.format.WbrToken_={LT:60,GT:62,AMP:38,SEMI_COLON:59,SPACE:32},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:e<0?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-߿יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_," "):e},goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g,goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInHtml=function(e,t){return(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")},goog.i18n.bidi.guardBracketInText=function(e,t){t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/\d/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var i=0,o=0,s=!1,n=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),r=0;r<n.length;r++){var a=n[r];goog.i18n.bidi.startsWithRtl(a)?(i++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(a)?s=!0:goog.i18n.bidi.hasAnyLtr(a)?o++:goog.i18n.bidi.hasNumeralsRe_.test(a)&&(s=!0)}return 0==o?s?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.UNKNOWN:i/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))!=goog.i18n.bidi.Dir.UNKNOWN&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?"right":"left",e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.BidiFormatter=function(e,t){this.contextDir_=goog.i18n.bidi.toDir(e),this.alwaysSpan_=!!t},goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.contextDir_},goog.i18n.BidiFormatter.prototype.getAlwaysSpan=function(){return this.alwaysSpan_},goog.i18n.BidiFormatter.prototype.setContextDir=function(e){this.contextDir_=goog.i18n.bidi.toDir(e)},goog.i18n.BidiFormatter.prototype.setAlwaysSpan=function(e){this.alwaysSpan_=e},goog.i18n.BidiFormatter.prototype.estimateDirection=goog.i18n.bidi.estimateDirection,goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_=function(e,t){return e*t<0},goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_=function(e,t,i,o){return o&&(this.areDirectionalitiesOpposite_(t,this.contextDir_)||this.contextDir_==goog.i18n.bidi.Dir.LTR&&goog.i18n.bidi.endsWithRtl(e,i)||this.contextDir_==goog.i18n.bidi.Dir.RTL&&goog.i18n.bidi.endsWithLtr(e,i))?this.contextDir_==goog.i18n.bidi.Dir.LTR?goog.i18n.bidi.Format.LRM:goog.i18n.bidi.Format.RLM:""},goog.i18n.BidiFormatter.prototype.dirAttrValue=function(e,t){return this.knownDirAttrValue(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttrValue=function(e){return e==goog.i18n.bidi.Dir.UNKNOWN&&(e=this.contextDir_),e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"},goog.i18n.BidiFormatter.prototype.dirAttr=function(e,t){return this.knownDirAttr(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e!=this.contextDir_?e==goog.i18n.bidi.Dir.RTL?"dir=rtl":e==goog.i18n.bidi.Dir.LTR?"dir=ltr":"":""},goog.i18n.BidiFormatter.prototype.spanWrap=function(e,t,i){return this.spanWrapWithKnownDir(this.estimateDirection(e,t),e,t,i)},goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(e,t,i,o){var o=o||null==o,s=e!=goog.i18n.bidi.Dir.UNKNOWN&&e!=this.contextDir_;return i||(t=goog.string.htmlEscape(t)),i=[],this.alwaysSpan_||s?(i.push("<span"),s&&i.push(e==goog.i18n.bidi.Dir.RTL?" dir=rtl":" dir=ltr"),i.push(">"+t+"</span>")):i.push(t),i.push(this.dirResetIfNeeded_(t,e,!0,o)),i.join("")},goog.i18n.BidiFormatter.prototype.unicodeWrap=function(e,t,i){return this.unicodeWrapWithKnownDir(this.estimateDirection(e,t),e,t,i)},goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,t,i,o){var o=o||null==o,s=[];return e!=goog.i18n.bidi.Dir.UNKNOWN&&e!=this.contextDir_?(s.push(e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.Format.RLE:goog.i18n.bidi.Format.LRE),s.push(t),s.push(goog.i18n.bidi.Format.PDF)):s.push(t),s.push(this.dirResetIfNeeded_(t,e,i,o)),s.join("")},goog.i18n.BidiFormatter.prototype.markAfter=function(e,t){return this.dirResetIfNeeded_(e,this.estimateDirection(e,t),t,!0)},goog.i18n.BidiFormatter.prototype.mark=function(){switch(this.contextDir_){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Format.LRM;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Format.RLM;default:return""}},goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT},goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT};var soy={};soy.StringBuilder=goog.string.StringBuffer,soy.renderElement=function(e,t,i){e.innerHTML=t(i)},soy.renderAsFragment=function(e,t){return goog.dom.htmlToDocumentFragment(e(t))},soy.$$augmentData=function(e,t){function i(){}i.prototype=e;var o,s=new i;for(o in t)s[o]=t[o];return s},soy.$$escapeHtml=function(e){return goog.string.htmlEscape(""+e)},soy.$$escapeJs=function(e){for(var e=""+e,t=[],i=0;i<e.length;i++)t[i]=goog.string.escapeChar(e.charAt(i));return t.join("")},soy.$$escapeUri=function(e){return goog.string.urlEncode(""+e)},soy.$$insertWordBreaks=function(e,t){return goog.format.insertWordBreaks(""+e,t)},soy.$$changeNewlineToBr=function(e){return goog.string.newLineToBr(""+e,!1)},soy.$$bidiFormatterCache_={},soy.$$bidiFormatterInstance_=function(e){return soy.$$bidiFormatterCache_[e]||(soy.$$bidiFormatterCache_[e]=new goog.i18n.BidiFormatter(e))},soy.$$bidiTextDir=function(e,t){return e?goog.i18n.bidi.detectRtlDirectionality(e,t)?-1:1:0},soy.$$bidiDirAttr=function(e,t,i){return soy.$$bidiFormatterInstance_(e).dirAttr(t,i)},soy.$$bidiMarkAfter=function(e,t,i){return soy.$$bidiFormatterInstance_(e).markAfter(t,i)},soy.$$bidiSpanWrap=function(e,t){return soy.$$bidiFormatterInstance_(e).spanWrap(t+"",!0)},soy.$$bidiUnicodeWrap=function(e,t){return soy.$$bidiFormatterInstance_(e).unicodeWrap(t+"",!0)},lime.css={},lime.css.css=function(e,t){var i=t||new soy.StringBuilder;if(i.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.","lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}"),!t)return i.toString()},function(){var o=[[],[]],s=[[],[]];lime.setObjectDirty=function(e,t,i){goog.array.insert((i?s:o)[t||0],e)},lime.clearObjectDirty=function(){},lime.updateDirtyObjects=function(){for(var e,t=0;t<2;t++){for(;o[t].length;)(e=o[t][0]).update(t),e.dirty_=0,e==o[t][0]&&o[t].shift();o[t]=[]}s=[[],[]]}}(),lime.Dirty={POSITION:1,SCALE:2,CONTENT:4,FONT:8,ALPHA:16,VISIBILITY:32,LAYOUT:64,ROTATION:128,ALL:7},lime.AutoResize={NONE:0,LEFT:1,WIDTH:2,RIGHT:4,TOP:8,HEIGHT:16,BOTTOM:32,ALL:63},lime.Transition={POSITION:1,SCALE:2,SIZE:3,ROTATION:4,OPACITY:5},goog.style.installStyles(lime.css.css(null,null)),lime.Node=function(){goog.events.EventTarget.call(this),this.children_=[],this.parent_=null,this.transitionsAdd_={},this.transitionsActive_={},this.transitionsActiveSet_={},this.transitionsClear_={},this.allow3DCSSTransform_=!0,this.inTree_=!1,this.scene_=this.director_=null,this.eventHandlers_={},this.setScale(1),this.setPosition(0,0),this.setSize(0,0),this.quality_=1,this.setAnchorPoint(.5,.5),this.setRotation(0),this.setAutoResize(lime.AutoResize.NONE),this.opacity_=1,this.setMask(null),this.setRenderer(this.supportedRenderers[0].getType()),this.setDirty(lime.Dirty.LAYOUT)},goog.inherits(lime.Node,goog.events.EventTarget),lime.Node.prototype.supportedRenderers=[lime.Renderer.DOM,lime.Renderer.CANVAS],lime.Node.prototype.setRenderer=function(e){if(!this.renderer||this.renderer.getType()!=e){for(var t=-1,i=0;i<this.supportedRenderers.length;i++)if(this.supportedRenderers[i].getType()==e){t=i;break}if(-1==t)return this;for(this.renderer=this.supportedRenderers[i],this.setDirty(lime.Dirty.LAYOUT),i=0;t=this.children_[i];i++)t.setRenderer(e)}return this},lime.Node.prototype.needsDomElement=function(){return!(this.parent_&&this.parent_.renderer.getType()==lime.Renderer.CANVAS)},lime.Node.prototype.getDeepestDomElement=function(){return this.getDeepestParentWithDom().domElement},lime.Node.prototype.getDeepestParentWithDom=function(){return this.needsDomElement()?(this.updateDomElement(),this):this.parent_?this.parent_.getDeepestParentWithDom():null},lime.Node.prototype.getParentStack_=function(){if(!this.parent_||this instanceof lime.Scene)return[];var e=this.parent_.children_.indexOf(this),t=this.parent_.getParentStack_();return t.push(e),t},lime.Node.compareNode=function(e,t){if(e==t)return 0;for(var i=e.getParentStack_(),o=t.getParentStack_(),s=0;;){if(i.length<=s)return 1;if(o.length<=s)return-1;if(i[s]!=o[s])return i[s]>o[s]?-1:1;s++}},lime.Node.prototype.customEvent_=!1,lime.Node.prototype.getDirty=function(){return this.dirty_},lime.Node.prototype.setDirty=function(e,t,i){if(e&&!this.dirty_&&lime.setObjectDirty(this,t,i),this.dirty_|=e,e==lime.Dirty.LAYOUT)for(var o,s=0;o=this.children_[s];s++)o instanceof lime.Node&&o.setDirty(lime.Dirty.LAYOUT);return goog.isDef(this.dirty_)&&e||(this.dirty_=0,lime.clearObjectDirty(this,t,i)),e&&this.maskTarget_&&(this.mSet=!1,this.maskTarget_.setDirty(-1)),this},lime.Node.prototype.getScale=function(){return this.scale_},lime.Node.prototype.setScale=function(e,t){return this.scale_=1==arguments.length&&goog.isNumber(e)?new goog.math.Vec2(e,e):2==arguments.length?new goog.math.Vec2(e,t):e,this.transitionsActive_[lime.Transition.SCALE]?this:this.setDirty(lime.Dirty.SCALE)},lime.Node.prototype.getPosition=function(){return this.position_},lime.Node.prototype.setPosition=function(e,t){return this.position_=2==arguments.length?new goog.math.Coordinate(e,t):e,this.transitionsActive_[lime.Transition.POSITION]?this:this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getMask=function(){return this.mask_},lime.Node.prototype.setMask=function(e){return e==this.mask_?this:(this.mask_&&(this.mask_.releaseDependencies(),delete this.mask_.maskTarget_),(this.mask_=e)&&(this.mask_.setupDependencies(),this.mask_.maskTarget_=this),this.setDirty(lime.Dirty.CONTENT))},lime.Node.prototype.getAnchorPoint=function(){return this.anchorPoint_},lime.Node.prototype.setAnchorPoint=function(e,t){return this.anchorPoint_=2==arguments.length?new goog.math.Vec2(e,t):e,this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getRotation=function(){return this.rotation_%=360},lime.Node.prototype.setRotation=function(e){return this.rotation_=e,this.transitionsActive_[lime.Transition.ROTATION]?this:this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getHidden=function(){return this.hidden_},lime.Node.prototype.setHidden=function(e){return this.hidden_=e,this.setDirty(lime.Dirty.VISIBILITY),this.autoHide_=0,this},lime.Node.prototype.getSize=function(){return this.size_},lime.Node.prototype.setSize=function(e,t){var i=this.size_,o=2==arguments.length?new goog.math.Size(e,t):e,s=this.getAnchorPoint();if(i&&this.children_.length)for(var n=0;n<this.children_.length;n++){var r,a,l,d,g,c,m,p=this.children_[n];!p.getAutoResize||(r=p.getAutoResize())!=lime.AutoResize.NONE&&(m=p.getBoundingBox(),a=i.width,l=m.left+s.x*i.width,d=m.right-m.left,g=a-m.right-s.x*i.width,r&lime.AutoResize.LEFT&&(a-=l),r&lime.AutoResize.WIDTH&&(a-=d),r&lime.AutoResize.RIGHT&&(a-=g),a!=i.width&&(a=(o.width-a)/(i.width-a),r&lime.AutoResize.LEFT&&(l*=a),r&lime.AutoResize.WIDTH&&(d*=a)),a=i.height,g=m.top+s.y*i.height,c=m.bottom-m.top,m=a-m.bottom-s.y*i.height,r&lime.AutoResize.TOP&&(a-=g),r&lime.AutoResize.HEIGHT&&(a-=c),r&lime.AutoResize.BOTTOM&&(a-=m),a!=i.height&&(a=(o.height-a)/(i.height-a),r&lime.AutoResize.TOP&&(g*=a),r&lime.AutoResize.HEIGHT&&(c*=a)),r=p.getAnchorPoint(),p.setSize(d,c),p.setPosition(l+r.x*d-s.x*o.width,g+r.y*c-s.y*o.height))}return this.size_=o,this.setDirty(lime.Dirty.SCALE)},lime.Node.prototype.getQuality=function(){return this.quality_},lime.Node.prototype.setQuality=function(e){return this.quality_!=e&&(this.quality_=e,this.setDirty(lime.Dirty.SCALE),this.calcRelativeQuality()),this},lime.Node.prototype.getRelativeQuality=function(){return this.relativeQuality_||this.calcRelativeQuality(),this.relativeQuality_},lime.Node.prototype.calcRelativeQuality=function(){var e=goog.isDef(this.relativeQuality_)?this.relativeQuality_:this.quality_;if(this.parent_&&this.parent_.relativeQuality_&&(e=this.quality_*this.parent_.relativeQuality_),e!=this.relativeQuality_){this.relativeQuality_=e;for(var t,e=0;t=this.children_[e];e++)t instanceof lime.Node&&t.calcRelativeQuality();this.setDirty(lime.Dirty.SCALE)}},lime.Node.prototype.getAutoResize=function(){return this.autoResize_},lime.Node.prototype.setAutoResize=function(e){return this.autoResize_=e,this.setDirty(lime.Dirty.ALL)},lime.Node.prototype.setAllow3DCSSTransforms=function(e){return this.allow3DCSSTransform_=e,this},lime.Node.prototype.getCSS3DTransformsAllowed=function(){return this.allow3DCSSTransform_},lime.Node.prototype.screenToLocal=function(e){return this.inTree_?this.parentToLocal(this.getParent().screenToLocal(e)):e},lime.Node.prototype.parentToLocal=function(e){return this.getParent()?(e.x-=this.position_.x,e.y-=this.position_.y,e.x/=this.scale_.x,e.y/=this.scale_.y,0!=this.rotation_&&(t=e.clone(),o=this.rotation_*Math.PI/180,i=Math.cos(o),o=Math.sin(o),e.x=i*t.x-o*t.y,e.y=i*t.y+o*t.x),e):null;var t,i,o},lime.Node.prototype.localToScreen=function(e){return this.inTree_?this.getParent().localToScreen(this.localToParent(e)):e},lime.Node.prototype.localToParent=function(e){if(!this.getParent())return e;var t,i,o=e.clone();return 0!=this.rotation_&&(i=-this.rotation_*Math.PI/180,t=Math.cos(i),i=Math.sin(i),o.x=t*e.x-i*e.y,o.y=t*e.y+i*e.x),o.x*=this.scale_.x,o.y*=this.scale_.y,o.x+=this.position_.x,o.y+=this.position_.y,o},lime.Node.prototype.localToNode=function(e,t){return this.inTree_?t.screenToLocal(this.localToScreen(e)):e},lime.Node.prototype.getOpacity=function(){return this.opacity_},lime.Node.prototype.setOpacity=function(e){return this.opacity_=e,e=this.getHidden(),0!=this.opacity_||e?0!=this.opacity_&&e&&this.autoHide_&&this.setHidden(!1):(this.setHidden(!0),this.autoHide_=1),goog.isDef(this.transitionsActive_[lime.Transition.OPACITY])||this.setDirty(lime.Dirty.ALPHA),this},lime.Node.prototype.createDomElement=function(){function e(){this.domElement=this.rootElement=this.containerElement=goog.dom.createDom(i),this.domClassName&&goog.dom.classes.add(this.domElement,this.domClassName),this.dirty_|=-1}var t,i=this.renderer.getType()==lime.Renderer.CANVAS?"canvas":"div";this.domElement?this.domElement.tagName.toLowerCase()!=i&&(t=this.rootElement,e.call(this),t.parentNode&&t.parentNode.replaceChild(this.rootElement,t)):e.call(this)},lime.Node.prototype.updateDomElement=function(){this.needsDomElement()?this.createDomElement():this.removeDomElement()},lime.Node.prototype.removeDomElement=function(){this.rootElement&&(goog.dom.removeNode(this.rootElement),delete this.domElement,delete this.rootElement,delete this.containerElement)},lime.Node.prototype.updateLayout=function(){if(this.dirty_&=~lime.Dirty.LAYOUT,this.updateDomElement(),this.parent_&&this.parent_.dirty_&lime.Dirty.LAYOUT)this.parent_.updateLayout();else if(this.needsDomElement()){for(var e,t=0;e=this.children_[t];t++)e instanceof lime.Node&&e.updateLayout();this.renderer.updateLayout.call(this)}},lime.Node.prototype.update=function(e){var t,i,e=e||0;goog.getUid(this),this.dirty_&lime.Dirty.LAYOUT&&this.updateLayout();var o=this.renderer.getType()==lime.Renderer.DOM||e;if(o){for(var s in this.transitionsClear_)delete this.transitionsActive_[s],delete this.transitionsActiveSet_[s],t=lime.Node.getPropertyForTransition(parseInt(s,10)),lime.style.clearTransition(this.domElement,t),this.domElement!=this.containerElement&&lime.style.clearTransition(this.continerElement,t);for(s in t=0,this.transitionsAdd_)(i=this.transitionsAdd_[s])[3]||(i[3]=1,s==lime.Transition.POSITION&&this.positionDrawn_!=this.position_&&(this.setDirty(lime.Dirty.POSITION,0,!0),t=1),s==lime.Transition.SCALE&&this.scaleDrawn_!=this.scale_&&(this.setDirty(lime.Dirty.SCALE,0,!0),t=1),s==lime.Transition.OPACITY&&this.opacityDrawn_!=this.opacity_&&(this.setDirty(lime.Dirty.ALPHA,0,!0),t=1),s==lime.Transition.ROTATION&&this.rotationDrawn_!=this.rotation_&&(this.setDirty(lime.Dirty.ROTATION,0,!0),t=1));if(!t)for(s in this.transitionsAdd_)i=this.transitionsAdd_[s],t=lime.Node.getPropertyForTransition(parseInt(s,10)),this.renderer.getType()!=lime.Renderer.DOM&&"opacity"==t||(this.transitionsActive_[s]=i[0],lime.style.setTransition(this.domElement,t,i[1],i[2]),this.domElement!=this.containerElement&&t==lime.style.transformProperty&&lime.style.setTransition(this.containerElement,t,i[1],i[2])),delete this.transitionsAdd_[s];this.positionDrawn_=this.position_,this.scaleDrawn_=this.scale_,this.opacityDrawn_=this.opacity_,this.rotationDrawn_=this.rotation_,this.transitionsClear_={}}if(e?this.renderer.drawCanvas.call(this):(this.renderer.getType()==lime.Renderer.CANVAS&&((i=this.getDeepestParentWithDom()).redraw_=1,i!=this||this.dirty_!=lime.Dirty.POSITION||this.mask_||(i.redraw_=0),lime.setObjectDirty(this.getDeepestParentWithDom(),1)),this.renderer.update.call(this)),o)for(s in this.transitionsActive_)this.transitionsActive_[s]&&(this.transitionsActiveSet_[s]=!0);if(this.dependencies_)for(s=0;s<this.dependencies_.length;s++)this.dependencies_[s].setDirty(lime.Dirty.ALL);this.setDirty(0,e)},lime.Node.getPropertyForTransition=function(e){return e==lime.Transition.OPACITY?"opacity":lime.style.transformProperty},lime.Node.prototype.getParent=function(){return this.parent_||null},lime.Node.prototype.appendChild=function(e,t){return e instanceof lime.Node&&e.getParent()?e.getParent().removeChild(e):e.parentNode&&goog.dom.removeNode(e),e.parent_=this,null==t?this.children_.push(e):goog.array.insertAt(this.children_,e,t),this.renderer.getType()!=lime.Renderer.DOM&&e.setRenderer(this.renderer.getType()),e instanceof lime.Node&&(e.calcRelativeQuality(),this.inTree_&&e.wasAddedToTree()),this.setDirty(lime.Dirty.LAYOUT)},lime.Node.prototype.getNumberOfChildren=function(){return this.children_.length},lime.Node.prototype.getChildAt=function(e){return 0<=e&&this.getNumberOfChildren()>e?this.children_[e]:null},lime.Node.prototype.getChildIndex=function(e){return this.children_.indexOf(e)},lime.Node.prototype.removeChild=function(e){return this.removeChildAt(this.getChildIndex(e))},lime.Node.prototype.removeChildAt=function(e){if(0<=e&&this.getNumberOfChildren()>e){var t=this.getChildAt(e);return t.maskTarget_&&t.maskTarget_.setMask(null),t instanceof lime.Node?(this.inTree_&&t.wasRemovedFromTree(),t.removeDomElement(),t.parent_=null):goog.dom.removeNode(t),this.children_.splice(e,1),this.setDirty(lime.Dirty.LAYOUT)}return this},lime.Node.prototype.removeAllChildren=function(){for(;this.getNumberOfChildren();)this.removeChildAt(0);return this},lime.Node.prototype.setChildIndex=function(e,t){var i=this.getChildIndex(e);return-1!=i&&i!=t?(this.children_.splice(i,1),goog.array.insertAt(this.children_,e,t),this.getDirector()&&this.getDirector().eventDispatcher.updateDispatchOrder(e),this.setDirty(lime.Dirty.LAYOUT)):this},lime.Node.prototype.addEventListener=function(e){lime.userAgent.SUPPORTS_TOUCH&&"mouse"==e.substring(0,5)||(goog.isDef(this.eventHandlers_[e])||(this.eventHandlers_[e]=[0,0]),this.inTree_&&0==this.eventHandlers_[e][0]&&(this.eventHandlers_[e][0]=1,this.getDirector().eventDispatcher.register(this,e)),this.eventHandlers_[e][1]++)},lime.Node.prototype.removeEventListener=function(e){lime.userAgent.SUPPORTS_TOUCH&&"mouse"==e.substring(0,5)||(this.inTree_&&1==this.eventHandlers_[e][1]&&(this.eventHandlers_[e][0]=0,this.getDirector().eventDispatcher.release(this,e)),this.eventHandlers_[e][1]--,this.eventHandlers_[e][1]||delete this.eventHandlers_[e])},lime.Node.prototype.getDirector=function(){return this.inTree_?this.director_:null},lime.Node.prototype.getScene=function(){return this.inTree_?this.scene_:null},lime.Node.prototype.wasRemovedFromTree=function(){var e;this.dependencySet_||this.removeDependency(this.getParent());for(var t,i=0;e=this.children_[i];i++)e instanceof lime.Node&&e.wasRemovedFromTree();for(t in this.eventHandlers_)this.eventHandlers_[t][0]=0,this.getDirector(),this.getDirector().eventDispatcher.release(this,t);this.getDirector().eventDispatcher.updateDispatchOrder(this),this.inTree_=!1,this.scene_=this.director_=null},lime.Node.prototype.wasAddedToTree=function(){this.inTree_=!0,this.director_=this.parent_.getDirector(),this.scene_=this.parent_.getScene();for(var e,t,i=0;e=this.children_[i];i++)e instanceof lime.Node&&e.wasAddedToTree();for(t in this.eventHandlers_)this.eventHandlers_[t][0]=1,this.getDirector().eventDispatcher.register(this,t);this.dependencySet_&&this.setupDependencies(),this.getDirector().eventDispatcher.updateDispatchOrder(this)},lime.Node.prototype.setupDependencies=function(){this.dependencySet_=!0,this.inTree_&&this.addDependency(this.getParent())},lime.Node.prototype.addDependency=function(e){e.dependencies_||(e.dependencies_=[]),goog.array.insert(e.dependencies_,this),e||e.getParent()instanceof lime.Scene||this.addDependency(e.getParent())},lime.Node.prototype.removeDependency=function(e){e&&e.dependencies_&&(goog.array.remove(e.dependencies_,this),this.removeDependency(e.getParent()))},lime.Node.prototype.releaseDependencies=function(){delete this.dependencySet_,this.removeDependency(this.getParent())},lime.Node.prototype.getFrame=function(){var e=this.getSize(),t=this.getAnchorPoint();return new goog.math.Box(-e.height*t.y,e.width*(1-t.x),e.height*(1-t.y),-e.width*t.x)},lime.Node.prototype.getBoundingBox=function(e){var t=e||this.getFrame(),e=new goog.math.Coordinate(t.left,t.top),i=new goog.math.Coordinate(t.right,t.top),o=new goog.math.Coordinate(t.left,t.bottom),t=new goog.math.Coordinate(t.right,t.bottom),e=this.localToParent(e),i=this.localToParent(i),o=this.localToParent(o),t=this.localToParent(t);return new goog.math.Box(Math.floor(Math.min(e.y,i.y,o.y,t.y)),Math.ceil(Math.max(e.x,i.x,o.x,t.x)),Math.ceil(Math.max(e.y,i.y,o.y,t.y)),Math.floor(Math.min(e.x,i.x,o.x,t.x)))},lime.Node.prototype.measureContents=function(){var e=this.getFrame();e.left==e.right&&this.children_.length&&(e=this.children_[0].getBoundingBox(this.children_[0].measureContents()));for(var t,i=0;t=this.children_[i];i++)1!=t.isMask&&e.expandToInclude(t.getBoundingBox(t.measureContents()));return e},lime.Node.prototype.addTransition=function(e,t,i,o){this.transitionsAdd_[e]=[t,i,o,0]},lime.Node.prototype.clearTransition=function(e){this.transitionsClear_[e]=1},lime.Node.prototype.hitTest=function(e){var t=this.screenToLocal(e.screenPosition);return!!this.getFrame().contains(t)&&(e.position=t,!0)},lime.Node.prototype.runAction=function(e){e.addTarget(this),e.play()},lime.Layer=function(){lime.Node.call(this),this.domClassName="lime-layer"},goog.inherits(lime.Layer,lime.Node),lime.Layer.prototype.hitTest=function(e){for(var t,i=0;t=this.children_[i];i++)if(t.hitTest(e))return e.position=this.screenToLocal(e.screenPosition),!0;return!1},goog.color={},goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.color.parse=function(e){var t={},e=""+e,i=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(i))return t.hex=goog.color.normalizeHex(i),t.type="hex",t;if((i=goog.color.isValidRgbColor_(e)).length)return t.hex=goog.color.rgbArrayToHex(i),t.type="rgb",t;if(goog.color.names&&(i=goog.color.names[e.toLowerCase()]))return t.hex=i,t.type="named",t;throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var t=goog.color.prependHashIfNecessaryHelper(e);return!(!goog.color.isValidHexColor_(t)&&!(goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()]))},goog.color.parseRgb=function(e){var t=goog.color.isValidRgbColor_(e);if(!t.length)throw Error(e+" is not a valid RGB color");return t},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){e=goog.color.normalizeHex(e);return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),e=parseInt(e.substr(5,2),16)]},goog.color.rgbToHex=function(e,t,i){if(e=Number(e),t=Number(t),i=Number(i),isNaN(e)||e<0||255<e||isNaN(t)||t<0||255<t||isNaN(i)||i<0||255<i)throw Error('"('+e+","+t+","+i+'") is not a valid RGB color');return"#"+(e=goog.color.prependZeroIfNecessaryHelper(e.toString(16)))+(t=goog.color.prependZeroIfNecessaryHelper(t.toString(16)))+(i=goog.color.prependZeroIfNecessaryHelper(i.toString(16)))},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,t,i){var e=e/255,t=t/255,i=i/255,o=Math.max(e,t,i),s=Math.min(e,t,i),n=0,r=0,a=.5*(o+s);return o!=s&&(o==e?n=60*(t-i)/(o-s):o==t?n=60*(i-e)/(o-s)+120:o==i&&(n=60*(e-t)/(o-s)+240),r=0<a&&a<=.5?(o-s)/(2*a):(o-s)/(2-2*a)),[Math.round(n+360)%360,r,a]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,t,i){return i<0?i+=1:1<i&&--i,6*i<1?e+6*(t-e)*i:2*i<1?t:3*i<2?e+6*(t-e)*(2/3-i):e},goog.color.hslToRgb=function(e,t,i){var o,s=0,n=0,r=0,e=e/360;return 0==t?s=n=r=255*i:(o=r=0,r=2*i-(o=i<.5?i*(1+t):i+t-t*i),s=255*goog.color.hueToRgb_(r,o,e+1/3),n=255*goog.color.hueToRgb_(r,o,e),r=255*goog.color.hueToRgb_(r,o,e-1/3)),[Math.round(s),Math.round(n),Math.round(r)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){if(i=e.match(goog.color.rgbColorRe_)){var e=Number(i[1]),t=Number(i[2]),i=Number(i[3]);if(0<=e&&e<=255&&0<=t&&t<=255&&0<=i&&i<=255)return[e,t,i]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,t,i){var o=0,s=0,n=0;if(0==t)n=s=o=i;else{var r=Math.floor(e/60),a=e/60-r,e=i*(1-t),l=i*(1-t*a),t=i*(1-t*(1-a));switch(r){case 1:o=l,s=i,n=e;break;case 2:o=e,s=i,n=t;break;case 3:o=e,s=l,n=i;break;case 4:o=t,s=e,n=i;break;case 5:o=i,s=e,n=l;break;case 6:case 0:o=i,s=t,n=e}}return[Math.floor(o),Math.floor(s),Math.floor(n)]},goog.color.rgbToHsv=function(e,t,i){var o,s=Math.max(Math.max(e,t),i),n=Math.min(Math.min(e,t),i);return n==s?n=e=0:(n=(o=s-n)/s,(e=60*(e==s?(t-i)/o:t==s?2+(i-e)/o:4+(e-t)/o))<0&&(e+=360),360<e&&(e-=360)),[e,n,s]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){return e=goog.color.hexToRgb(e),goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hslToHex=function(e,t,i){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,t,i))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,t,i){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,t,i))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,t){var i=e[2]<=.5?e[1]*e[2]:e[1]*(1-e[2]),o=t[2]<=.5?t[1]*t[2]:t[1]*(1-t[2]);return(e[2]-t[2])*(e[2]-t[2])+i*i+o*o-2*i*o*Math.cos(2*(e[0]/360-t[0]/360)*Math.PI)},goog.color.blend=function(e,t,i){return i=goog.math.clamp(i,0,1),[Math.round(i*e[0]+(1-i)*t[0]),Math.round(i*e[1]+(1-i)*t[1]),Math.round(i*e[2]+(1-i)*t[2])]},goog.color.darken=function(e,t){return goog.color.blend([0,0,0],e,t)},goog.color.lighten=function(e,t){return goog.color.blend([255,255,255],e,t)},goog.color.highContrast=function(e,t){for(var i=[],o=0;o<t.length;o++)i.push({color:t[o],diff:goog.color.yiqBrightnessDiff_(t[o],e)+goog.color.colorDiff_(t[o],e)});return i.sort(function(e,t){return t.diff-e.diff}),i[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,t){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(t))},goog.color.colorDiff_=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2])},lime.fill={},lime.fill.Fill=function(){goog.events.EventTarget.call(this)},goog.inherits(lime.fill.Fill,goog.events.EventTarget),lime.fill.Fill.prototype.initForSprite=goog.nullFunction,lime.fill.parse=function(e){return e[0]instanceof lime.fill.Fill?e[0]:(goog.isArray(e)||(e=goog.array.toArray(arguments)),2<e.length?new lime.fill.Color(e):new(!goog.isString(e[0])||"rgb("!=e[0].substring(0,4)&&"rgba("!=e[0].substring(0,5)&&"#"!=e[0].substring(0,1)?lime.fill.Image:lime.fill.Color)(e[0]))},lime.fill.Fill.prototype.setDOMStyle=goog.nullFunction,lime.fill.Fill.prototype.setCanvasStyle=goog.nullFunction,goog.color.alpha={},goog.color.alpha.parse=function(e){var t={},e=""+e,i=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.alpha.isValidAlphaHexColor_(i))return t.hex=goog.color.alpha.normalizeAlphaHex_(i),t.type="hex",t;if((i=goog.color.alpha.isValidRgbaColor_(e)).length)return t.hex=goog.color.alpha.rgbaArrayToHex(i),t.type="rgba",t;if((i=goog.color.alpha.isValidHslaColor_(e)).length)return t.hex=goog.color.alpha.hslaArrayToHex(i),t.type="hsla",t;throw Error(e+" is not a valid color string")},goog.color.alpha.hexToRgbaStyle=function(e){return goog.color.alpha.rgbaStyle_(goog.color.alpha.hexToRgba(e))},goog.color.alpha.extractHexColor=function(e){if(goog.color.alpha.isValidAlphaHexColor_(e))return e=goog.color.prependHashIfNecessaryHelper(e),goog.color.alpha.normalizeAlphaHex_(e).substring(0,7);throw Error(e+" is not a valid 8-hex color string")},goog.color.alpha.extractAlpha=function(e){if(goog.color.alpha.isValidAlphaHexColor_(e))return e=goog.color.prependHashIfNecessaryHelper(e),goog.color.alpha.normalizeAlphaHex_(e).substring(7,9);throw Error(e+" is not a valid 8-hex color string")},goog.color.alpha.hexQuadrupletRe_=/#(.)(.)(.)(.)/,goog.color.alpha.normalizeAlphaHex_=function(e){if(!goog.color.alpha.isValidAlphaHexColor_(e))throw Error("'"+e+"' is not a valid alpha hex color");return 5==e.length&&(e=e.replace(goog.color.alpha.hexQuadrupletRe_,"#$1$1$2$2$3$3$4$4")),e.toLowerCase()},goog.color.alpha.hexToRgba=function(e){e=goog.color.alpha.normalizeAlphaHex_(e);return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16),(e=parseInt(e.substr(7,2),16))/255]},goog.color.alpha.rgbaToHex=function(e,t,i,o){var s=Math.floor(255*o);if(isNaN(s)||s<0||255<s)throw Error('"('+e+","+t+","+i+","+o+'") is not a valid RGBA color');return o=goog.color.prependZeroIfNecessaryHelper(s.toString(16)),goog.color.rgbToHex(e,t,i)+o},goog.color.alpha.hslaToHex=function(e,t,i,o){var s=Math.floor(255*o);if(isNaN(s)||s<0||255<s)throw Error('"('+e+","+t+","+i+","+o+'") is not a valid HSLA color');return o=goog.color.prependZeroIfNecessaryHelper(s.toString(16)),goog.color.hslToHex(e,t/100,i/100)+o},goog.color.alpha.rgbaArrayToHex=function(e){return goog.color.alpha.rgbaToHex(e[0],e[1],e[2],e[3])},goog.color.alpha.rgbaToRgbaStyle=function(e,t,i,o){if(isNaN(e)||e<0||255<e||isNaN(t)||t<0||255<t||isNaN(i)||i<0||255<i||isNaN(o)||o<0||1<o)throw Error('"('+e+","+t+","+i+","+o+')" is not a valid RGBA color');return goog.color.alpha.rgbaStyle_([e,t,i,o])},goog.color.alpha.rgbaArrayToRgbaStyle=function(e){return goog.color.alpha.rgbaToRgbaStyle(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaArrayToHex=function(e){return goog.color.alpha.hslaToHex(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaArrayToRgbaStyle=function(e){return goog.color.alpha.hslaToRgbaStyle(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaToRgbaStyle=function(e,t,i,o){return goog.color.alpha.rgbaStyle_(goog.color.alpha.hslaToRgba(e,t,i,o))},goog.color.alpha.hslaToRgba=function(e,t,i,o){return goog.color.hslToRgb(e,t/100,i/100).concat(o)},goog.color.alpha.rgbaToHsla=function(e,t,i,o){return goog.color.rgbToHsl(e,t,i).concat(o)},goog.color.alpha.rgbaArrayToHsla=function(e){return goog.color.alpha.rgbaToHsla(e[0],e[1],e[2],e[3])},goog.color.alpha.validAlphaHexColorRe_=/^#(?:[0-9a-f]{4}){1,2}$/i,goog.color.alpha.isValidAlphaHexColor_=function(e){return goog.color.alpha.validAlphaHexColorRe_.test(e)},goog.color.alpha.normalizedAlphaHexColorRe_=/^#[0-9a-f]{8}$/,goog.color.alpha.isNormalizedAlphaHexColor_=function(e){return goog.color.alpha.normalizedAlphaHexColorRe_.test(e)},goog.color.alpha.rgbaColorRe_=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,goog.color.alpha.hslaColorRe_=/^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i,goog.color.alpha.isValidRgbaColor_=function(e){if(o=e.match(goog.color.alpha.rgbaColorRe_)){var e=Number(o[1]),t=Number(o[2]),i=Number(o[3]),o=Number(o[4]);if(0<=e&&e<=255&&0<=t&&t<=255&&0<=i&&i<=255&&0<=o&&o<=1)return[e,t,i,o]}return[]},goog.color.alpha.isValidHslaColor_=function(e){if(o=e.match(goog.color.alpha.hslaColorRe_)){var e=Number(o[1]),t=Number(o[2]),i=Number(o[3]),o=Number(o[4]);if(0<=e&&e<=360&&0<=t&&t<=100&&0<=i&&i<=100&&0<=o&&o<=1)return[e,t,i,o]}return[]},goog.color.alpha.rgbaStyle_=function(e){return"rgba("+e.join(",")+")"},goog.color.alpha.hsvaToHex=function(e,t,i,o){return o=Math.floor(255*o),goog.color.hsvArrayToHex([e,t,i])+goog.color.prependZeroIfNecessaryHelper(o.toString(16))},goog.color.alpha.hsvaArrayToHex=function(e){return goog.color.alpha.hsvaToHex(e[0],e[1],e[2],e[3])},lime.fill.Color=function(e){lime.fill.Fill.call(this),this.a=1,this.setColor(e)},goog.inherits(lime.fill.Color,lime.fill.Fill),lime.fill.Color.prototype.id="color",lime.fill.Color.prototype.getRgba=function(){var e,t=null;return goog.isNumber(this.r)&&goog.isNumber(this.g)&&goog.isNumber(this.b)?t=[this.r,this.g,this.b,this.a]:goog.isString(this.str)&&("named"!=(e=goog.color.parse(this.str)).type&&(t=goog.color.hexToRgb(e.hex)),t.push(1)),t},lime.fill.Color.prototype.addBrightness=function(e){return this.modifyColor(2,e)},lime.fill.Color.prototype.modifyColor=function(e,t){var i=t||.1,t=this.getRgba();return t?(t.pop(),(t=goog.color.rgbArrayToHsl(t))[e]+=i,1<t[e]&&(t[e]=1),(t=goog.color.hslArrayToRgb(t)).push(this.a),this.setColor(t)):this},lime.fill.Color.prototype.addSaturation=function(e){return this.modifyColor(1,e)},lime.fill.Color.prototype.setColor=function(e){var t=e;return goog.isString(e)?this.str=e:(2<arguments.length&&(t=arguments),3<=t.length&&(this.r=t[0],this.g=t[1],this.b=t[2]),4==t.length&&(this.a=t[3]),this.str=1==this.a?"rgb("+this.r+","+this.g+","+this.b+")":"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"),this},lime.fill.Color.prototype.setDOMStyle=function(e){e.style.background=this.str},lime.fill.Color.prototype.setCanvasStyle=function(e){e.fillStyle=this.str},lime.fill.Color.prototype.clone=function(){var e=new lime.fill.Color("");return e.r=this.r,e.g=this.g,e.b=this.b,e.a=this.a,e.str=this.str,e},lime.fill.Stroke=function(e,t){lime.fill.Fill.call(this);var i=goog.isArray(e)?e:goog.array.toArray(arguments);this.width_=i[0]||1,i.shift(),this.setColor.apply(this,i)},goog.inherits(lime.fill.Stroke,lime.fill.Fill),lime.fill.Stroke.prototype.id="stroke",lime.fill.Stroke.prototype.setDOMStyle=function(e){e.style.border=this.width_+"px solid "+this.color_.str},lime.fill.Stroke.prototype.setCanvasStyle=function(e){e.strokeStyle=this.color_.str,e.lineWidth=this.width_},lime.fill.Stroke.prototype.getWidth=function(){return this.width_},lime.fill.Stroke.prototype.setWidth=function(e){return this.width_=e,this},lime.fill.Stroke.prototype.getColor=function(){return this.color_},lime.fill.Stroke.prototype.setColor=function(e){var t=goog.array.toArray(arguments);return t[0]instanceof lime.fill.Color?this.color_=t[0]:(this.color_=new lime.fill.Color("#000"),t.length&&this.color_.setColor.apply(this.color_,t)),this},lime.fill.Stroke.prototype.clone=function(){var e=new lime.fill.Stroke;return e.width_=this.width_,e.color_=this.color_,e},lime.fill.Image=function(e){lime.fill.Fill.call(this),e&&goog.isFunction(e.data)&&(e=e.data()),goog.isString(e)?(this.url_=e,50<this.url_.length&&(this.url_=this.url_.substr(-50)),lime.fill.Image.loadedImages_[this.url_]?this.image_=lime.fill.Image.loadedImages_[this.url_]:(this.image_=new Image,this.image_.src=e)):(this.url_=e.src,50<this.url_.length&&(this.url_=this.url_.substr(-50)),this.image_=lime.fill.Image.loadedImages_[this.url_]||e),this.isLoaded()||this.addLoadHandler_(),lime.fill.Image.loadedImages_[this.url_]=this.image_},goog.inherits(lime.fill.Image,lime.fill.Fill),lime.fill.Image.loadedImages_={},lime.fill.Image.prototype.id="image",lime.fill.Image.prototype.initForSprite=function(e){var t=e.getSize(),i=this;t.width||t.height||(this.isLoaded()?e.setSize(this.image_.width,this.image_.height):goog.events.listen(this,goog.events.EventType.LOAD,function(){var e=this.getSize();e.width||e.height||this.setSize(i.image_.width,i.image_.height)},!1,e)),this.isLoaded()||goog.events.listen(this,goog.events.EventType.LOAD,function(){e.setDirty(lime.Dirty.CONTENT)},!1,this)},lime.fill.Image.prototype.addLoadHandler_=function(){goog.events.listen(this.image_,goog.events.EventType.LOAD,this.imageLoadedHandler_,!1,this)},lime.fill.Image.prototype.imageLoadedHandler_=function(e){this.dispatchEvent(e)},lime.fill.Image.prototype.getImageElement=function(){return this.image_},lime.fill.Image.prototype.isLoaded=function(){return!(!this.image_||!this.image_.width||!this.image_.height)},lime.fill.Image.prototype.setSize=function(e,t,i){return goog.isNumber(e)&&(e=new goog.math.Size(e,t),t=i||!1),this.size_=e,this.size_perc_=t,this},lime.fill.Image.prototype.setOffset=function(e,t,i){return goog.isNumber(e)&&(e=new goog.math.Coordinate(e,t),t=i||!1),this.offset_=e,this.offset_perc_=t,this},lime.fill.Image.prototype.getPixelSizeAndOffset=function(e){e=e.getSize().clone(),this.size_&&(this.size_perc_?(e.width*=this.size_.width,e.height*=this.size_.height):e=this.size_);var t=new goog.math.Coordinate(0,0);return this.offset_&&(this.offset_perc_?(t.x=e.width*this.offset_.x,t.y=e.height*this.offset_.y):t=this.offset_),[e,t]},lime.fill.Image.prototype.setDOMBackgroundProp_=function(e,t){var i=(o=this.getPixelSizeAndOffset(t))[0],o=o[1],s=t.getRelativeQuality();e.style[lime.style.getCSSproperty("BackgroundSize")]=i.width*s+"px "+i.height*s+"px",i=t.stroke_?t.stroke_.width_:0,e.style.backgroundPosition=o.x*s-i+"px "+(o.y*s-i)+"px",this.qualityRenderer&&(e.style.imageRendering="optimizeQuality")},lime.fill.Image.prototype.setDOMStyle=function(e,t){e.style.background="url("+this.image_.src+")",this.setDOMBackgroundProp_(e,t)},lime.fill.Image.prototype.setCanvasStyle=function(e,t){var i=t.getSize(),o=t.getFrame();if(i.width&&i.height)try{var s=this.getImageElement(),n=this.getPixelSizeAndOffset(t),r=n[0],a=n[1],l=e.createPattern(s,"repeat"),n=r.width/s.width,s=r.height/s.height;e.save(),e.translate(o.left+a.x,o.top+a.y),e.scale(n,s),e.fillStyle=l,e.fillRect(-a.x/n,-a.y/s,i.width/n,i.height/s),e.restore()}catch(e){}},lime.Renderer.CANVAS.SPRITE={},lime.Renderer.DOM.SPRITE={},lime.Sprite=function(){lime.Node.call(this),this.stroke_=this.fill_=null},goog.inherits(lime.Sprite,lime.Node),lime.Sprite.prototype.id="sprite",lime.Sprite.prototype.supportedRenderers=[lime.Renderer.DOM.makeSubRenderer(lime.Renderer.DOM.SPRITE),lime.Renderer.CANVAS.makeSubRenderer(lime.Renderer.CANVAS.SPRITE)],lime.Sprite.prototype.getFill=function(){return this.fill_},lime.Sprite.prototype.setFill=function(e,t,i,o){return this.fill_=lime.fill.parse(goog.array.toArray(arguments)),this.fill_.initForSprite(this),this.setDirty(lime.Dirty.CONTENT),this},lime.Sprite.prototype.getStroke=function(){return this.stroke_},lime.Sprite.prototype.setStroke=function(e){return!e||e instanceof lime.fill.Stroke||(e=new lime.fill.Stroke(goog.array.toArray(arguments))),this.stroke_=e,this.setDirty(lime.Dirty.CONTENT),this},lime.Sprite.prototype.getCanvasContextName_=function(){var e=0;return function(){return goog.isDef(this.canvasContextName_)||(this.canvasContextName_="limedc"+e++),this.canvasContextName_}}(),lime.Renderer.DOM.SPRITE.draw=function(e){goog.isNull(this.fill_)||this.fill_.setDOMStyle(e,this),goog.isNull(this.stroke_)?goog.style.setStyle(e,"border-width",0):this.stroke_.setDOMStyle(e,this)},lime.Renderer.CANVAS.SPRITE.draw=function(e){var t,i=this.getSize(),o=this.fill_,s=this.stroke_;(o||s)&&(t=this.getFrame(),o&&(o.setCanvasStyle(e,this),"image"!=o.id&&"frame"!=o.id&&e.fillRect(t.left,t.top,i.width,i.height)),s&&(s.setCanvasStyle(e,this),"sprite"==this.id||"label"==this.id)&&(o=s.width_/2,e.strokeRect(t.left+o,t.top+o,i.width-2*o,i.height-2*o)))},lime.Node.prototype.getPosition=function(){return this.position_},lime.Node.prototype.localToScreen=function(e){return this.inTree_?this.getParent().localToScreen(this.localToParent(e)):e},goog.provide("lime.audio.Audio"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("lime.userAgent"),goog.require("lime.animation.Animation"),goog.require("lime.animation.Spawn"),goog.require("lime.animation.FadeTo"),goog.require("lime.animation.ScaleTo"),goog.require("lime.animation.MoveTo"),goog.require("lime.Sprite"),lime.audio.Audio=function(e){goog.events.EventTarget.call(this),e&&goog.isFunction(e.data)&&(e=e.data()),this.loaded_=!1,this.playing_=!1,lime.audio.AudioContext?(this.volume_=1,this.prepareContext_(),this.loadBuffer(e,goog.bind(this.bufferLoadedHandler_,this))):(this.baseElement=document.createElement("audio"),this.baseElement.preload=!0,this.baseElement.loop=!1,this.baseElement.src=e,this.baseElement.load(),this.baseElement.addEventListener("ended",goog.bind(this.onEnded_,this)),this.loadInterval=setInterval(goog.bind(this.loadHandler_,this),10),this.loaded_=!1)},goog.inherits(lime.audio.Audio,goog.events.EventTarget),lime.audio.AudioContext=goog.global.AudioContext||goog.global.webkitAudioContext,lime.audio._buffers={},lime.audio.supportsMultiChannel=lime.audio.AudioContext||!(lime.userAgent.IOS||lime.userAgent.WINPHONE),lime.audio.Audio.prototype.prepareContext_=function(){var e;lime.audio.context||(e=lime.audio.context=new lime.audio.AudioContext,(lime.audio.masterGain=e.createGain()).connect(e.destination))},lime.audio.Audio.prototype.loadBuffer=function(o,e){var t,s=lime.audio._buffers;s[o]&&s[o].buffer?e(s[o].buffer,o):s[o]?s[o].push(e):(s[o]=[e],(t=new XMLHttpRequest).open("GET",o,!0),t.responseType="arraybuffer",t.onload=function(){lime.audio.context.decodeAudioData(t.response,function(e){if(!e)return console.error("Error decoding file:",o);var t=s[o];s[o]={buffer:e};for(var i=0;i<t.length;i++)t[i](e,o)},function(e){console.error("Error decoding file",e)})},t.onerror=function(){console.error("XHR error loading file:",o)},t.send())},lime.audio.Audio.prototype.bufferLoadedHandler_=function(e,t){this.buffer=e,this.loaded_=!0;e=new goog.events.Event("loaded");e.event=null,this.dispatchEvent(e),this.autoplay_&&this.play.apply(this,this.autoplay_)},lime.audio.Audio.prototype.onEnded_=function(e){this.playing_=!1;var t=new goog.events.Event("ended");t.event=e,this.dispatchEvent(t),this.playPosition_=0;var i=lime.audio.AudioContext?this.playTime_+this.buffer.duration-this.playPositionCache-.05:0;if(this.next_)for(var o=0;o<this.next_.length;o++)this.next_[o][0].play(this.next_[o][1],i);else!1!==t.returnValue_&&this.loop_&&this.play(this.loop_,i)},lime.audio.Audio.prototype.loadHandler_=function(){2<this.baseElement.readyState&&(this.bufferLoadedHandler_(),clearTimeout(this.loadInterval)),this.baseElement.error&&clearTimeout(this.loadInterval),lime.userAgent.IOS&&0==this.baseElement.readyState&&(this.bufferLoadedHandler_(),clearTimeout(this.loadInterval))},lime.audio.Audio.prototype.isLoaded=function(){return this.loaded_},lime.audio.Audio.prototype.isPlaying=function(){return this.playing_},lime.audio.Audio.prototype.play=function(e){var t;this.isLoaded()||(this.autoplay_=goog.array.toArray(arguments)),!this.isLoaded()||this.isPlaying()||lime.audio.getMute()||(lime.audio.AudioContext?(this.source&&this.source.playbackState==this.source.FINISHED_STATE&&(this.playPosition_=0),this.source=lime.audio.context.createBufferSource(),this.source.buffer=this.buffer,this.gain=lime.audio.context.createGain(),this.gain.connect(lime.audio.masterGain),this.source.connect(this.gain),this.playTime_=lime.audio.context.currentTime,t=arguments[1]||0,0<this.playPosition_?this.source.start(t,this.playPosition_,this.buffer.duration-this.playPosition_):this.source.start(t),this.playPositionCache=this.playPosition_,this.endTimeout_=setTimeout(goog.bind(this.onEnded_,this),1e3*(this.buffer.duration-(this.playPosition_||0))-150)):this.baseElement.play(),this.playing_=!0,this.loop_=!!e,-1==lime.audio._playQueue.indexOf(this)&&lime.audio._playQueue.push(this))},lime.audio.Audio.prototype.stop=function(){this.isLoaded()||(this.autoplay_=null),this.isPlaying()&&(lime.audio.AudioContext?(clearTimeout(this.endTimeout_),this.playPosition_=lime.audio.context.currentTime-this.playTime_+(this.playPosition_||0),this.playPosition_>this.buffer.duration&&(this.playPosition_=0),this.gain.disconnect(lime.audio.masterGain),this.source=null):this.baseElement.pause(),this.playing_=!1)},lime.audio._isMute=!1,lime.audio._playQueue=[],lime.audio.getMute=function(){return lime.audio._isMute},lime.audio.setMute=function(e){if(e&&!lime.audio._isMute){for(var t=0;t<lime.audio._playQueue.length;t++)lime.audio._playQueue[t].stop();lime.audio._playQueue=[]}lime.audio._isMute=e},lime.audio.Audio.prototype.setVolume=function(e){lime.audio.AudioContext?(this.volume_=e,this.gain&&(this.gain.gain.value=e)):this.baseElement.volume=e},lime.audio.Audio.prototype.getVolume=function(){return lime.audio.AudioContext?this.volume_:this.baseElement.volume};var ImgArrayTools=[];ImgArrayTools[0]=new Image,ImgArrayTools[0].src="images/tools50.png",ImgArrayTools[1]=new Image,ImgArrayTools[1].src="images/tools100.png",ImgArrayTools[2]=new Image,ImgArrayTools[2].src="images/tools250.png",ImgArrayTools[3]=new Image,ImgArrayTools[3].src="images/tools500.png",ImgArrayTools[4]=new Image,ImgArrayTools[4].src="images/tools1500.png",ImgArrayTools[5]=new Image,ImgArrayTools[5].src="images/toolsIcon.png";var imgArrayWaterfall=[];imgArrayWaterfall[0]=new Image,imgArrayWaterfall[0].src="images/Orchard/waterfall1.png",imgArrayWaterfall[1]=new Image,imgArrayWaterfall[1].src="images/Orchard/waterfall2.png",imgArrayWaterfall[2]=new Image,imgArrayWaterfall[2].src="images/Orchard/waterfall3.png",imgArrayWaterfall[3]=new Image,imgArrayWaterfall[3].src="images/Orchard/waterfall4.png",imgArrayWaterfall[4]=new Image,imgArrayWaterfall[4].src="images/Orchard/waterMoving1.png",imgArrayWaterfall[5]=new Image,imgArrayWaterfall[5].src="images/Orchard/waterMoving2.png";var imgArrayWindmill=[];imgArrayWindmill[0]=new Image,imgArrayWindmill[0].src="images/windmill/windmillScene3.png",imgArrayWindmill[1]=new Image,imgArrayWindmill[1].src="images/windmill/windMillBuildingGreyed.png",imgArrayWindmill[2]=new Image,imgArrayWindmill[2].src="images/windmill/windmillBuildingRaw.png",imgArrayWindmill[3]=new Image,imgArrayWindmill[3].src="images/windmill/windMillFilled.png",imgArrayWindmill[4]=new Image,imgArrayWindmill[4].src="images/windmill/windMillFilled2.png",imgArrayWindmill[5]=new Image,imgArrayWindmill[5].src="images/windmill/bakery1.png",imgArrayWindmill[6]=new Image,imgArrayWindmill[6].src="images/windmill/bakery2.png",imgArrayWindmill[7]=new Image,imgArrayWindmill[7].src="images/UI/overgrown.png",imgArrayWindmill[8]=new Image,imgArrayWindmill[8].src="images/windmill/bakeryButton.png",imgArrayWindmill[9]=new Image,imgArrayWindmill[9].src="images/windmill/bakeryInside.png";var imgArrayGround=[];imgArrayGround[0]=new Image,imgArrayGround[0].src="images/bare_land.png",imgArrayGround[1]=new Image,imgArrayGround[1].src="images/bare_land_tr.png",imgArrayGround[2]=new Image,imgArrayGround[2].src="images/bare_land_tl.png",imgArrayGround[3]=new Image,imgArrayGround[3].src="images/bare_land_lr.png",imgArrayGround[4]=new Image,imgArrayGround[4].src="images/bare_land_ll.png";var imgArrayBakery=[];imgArrayBakery[0]=new Image,imgArrayBakery[0].src="images/bread.png",imgArrayBakery[1]=new Image,imgArrayBakery[1].src="images/items/pie1.png",imgArrayBakery[2]=new Image,imgArrayBakery[2].src="images/items/manchetLoaf.png",imgArrayBakery[3]=new Image,imgArrayBakery[3].src="images/items/eclair.png",imgArrayBakery[4]=new Image,imgArrayBakery[4].src="images/items/donuts.png",imgArrayBakery[5]=new Image,imgArrayBakery[5].src="images/items/itemFrame.png";var imgArray=[];imgArray[0]=new Image,imgArray[0].src="images/blacksmith1.png",imgArray[1]=new Image,imgArray[1].src="images/blacksmith2.png",imgArray[2]=new Image,imgArray[2].src="images/blacksmith3.png",imgArray[3]=new Image,imgArray[3].src="images/blacksmith4.png",imgArray[4]=new Image,imgArray[4].src="images/blacksmith5.png",imgArray[5]=new Image,imgArray[5].src="images/blacksmith6.png",imgArray[6]=new Image,imgArray[6].src="images/blacksmith7.png",imgArray[7]=new Image,imgArray[7].src="images/blacksmith8.png",imgArray[8]=new Image,imgArray[8].src="images/blacksmith9.png",imgArray[9]=new Image,imgArray[9].src="images/blacksmith10.png",imgArray[10]=new Image,imgArray[10].src="images/blacksmith11.png",imgArray[11]=new Image,imgArray[11].src="images/blacksmith12.png",imgArray[12]=new Image,imgArray[12].src="images/blacksmith13.png",imgArray[13]=new Image,imgArray[13].src="images/blacksmith14.png",imgArray[14]=new Image,imgArray[14].src="images/UI/CoverImg2.png",imgArray[15]=new Image,imgArray[15].src="images/UI/greySound.png",imgArray[16]=new Image,imgArray[16].src="images/UI/greySoundOff.png",imgArray[17]=new Image,imgArray[17].src="images/UI/unknownCrop.png",imgArray[18]=new Image,imgArray[18].src="images/UI/woodBtn.png",imgArray[19]=new Image,imgArray[19].src="images/UI/needIron.png",imgArray[20]=new Image,imgArray[20].src="images/items/noPick.png",imgArray[21]=new Image,imgArray[21].src="images/UI/XButton.png",imgArray[22]=new Image,imgArray[22].src="images/UI/needJars.png",imgArray[23]=new Image,imgArray[23].src="images/UI/needCarrots.png",imgArray[24]=new Image,imgArray[24].src="images/clouds.png",imgArray[25]=new Image,imgArray[25].src="images/UI/starCashBack.png",imgArray[26]=new Image,imgArray[26].src="images/scaffold.png",imgArray[27]=new Image,imgArray[27].src="images/countBack.png",imgArray[28]=new Image,imgArray[28].src="images/UI/greenButtonLg3.png",imgArray[29]=new Image,imgArray[29].src="images/toolHammer.png",imgArray[30]=new Image,imgArray[30].src="images/UI/toolsIcon2.png",imgArray[31]=new Image,imgArray[31].src="images/UI/needWheat.png",imgArray[32]=new Image,imgArray[32].src="",imgArray[33]=new Image,imgArray[33].src="images/UI/outOfCash.png",imgArray[34]=new Image,imgArray[34].src="images/vinyard/grapes_ClearBrush.png",imgArray[35]=new Image,imgArray[35].src="images/UI/check.png",imgArray[36]=new Image,imgArray[36].src="images/UI/starCash.png",imgArray[37]=new Image,imgArray[37].src="images/UI/plus3StarCash.png",imgArray[38]=new Image,imgArray[38].src="images/UI/plus5StarCash.png",imgArray[39]=new Image,imgArray[39].src="images/UI/plus10StarCash.png",imgArray[40]=new Image,imgArray[40].src="images/UI/plus25StarCash.png",imgArray[41]=new Image,imgArray[41].src="images/UI/plus50StarCash.png",imgArray[42]=new Image,imgArray[42].src="images/UI/plus75StarCash.png",imgArray[43]=new Image,imgArray[43].src="images/UI/plus100StarCash.png",imgArray[44]=new Image,imgArray[44].src="images/UI/plus300StarCash.png",imgArray[45]=new Image,imgArray[45].src="images/UI/achieveNotif.png",imgArray[46]=new Image,imgArray[46].src="images/UI/vinyardBtn.png",imgArray[47]=new Image,imgArray[47].src="images/UI/pastureBtn.png",imgArray[48]=new Image,imgArray[48].src="images/UI/orchardBtn.png",imgArray[49]=new Image,imgArray[49].src="images/UI/lsBtn.png",imgArray[50]=new Image,imgArray[50].src="images/UI/homeButton.png",imgArray[51]=new Image,imgArray[51].src="images/items/royalToken.png",imgArray[52]=new Image,imgArray[52].src="images/UI/tokenBack.png",imgArray[53]=new Image,imgArray[53].src="images/UI/google-play-badge.png",imgArray[54]=new Image,imgArray[54].src="images/UI/stackBanner.png",imgArray[55]=new Image,imgArray[55].src="images/UI/starMatchBanner.png",imgArray[56]=new Image,imgArray[56].src="images/UI/X.png",imgArray[57]=new Image,imgArray[57].src="images/UI/lockBtn.png",imgArray[58]=new Image,imgArray[58].src="images/items/logs.png",imgArray[59]=new Image,imgArray[59].src="images/UI/windMillIcon2.png",imgArray[60]=new Image,imgArray[60].src="images/UI/needHay.png",imgArray[61]=new Image,imgArray[61].src="images/axe.png",imgArray[62]=new Image,imgArray[62].src="images/leftTrees.png",imgArray[63]=new Image,imgArray[63].src="images/rightTrees.png",imgArray[64]=new Image,imgArray[64].src="images/UI/grassEdge.png",imgArray[65]=new Image,imgArray[65].src="images/UI/grassEdge2.png",imgArray[66]=new Image,imgArray[66].src="images/forge4.png",imgArray[67]=new Image,imgArray[67].src="images/forge5.png",imgArray[68]=new Image,imgArray[68].src="images/forge6.png",imgArray[69]=new Image,imgArray[69].src="images/UI/blackButton.png",imgArray[70]=new Image,imgArray[70].src="images/UI/gearButton.png",imgArray[71]=new Image,imgArray[71].src="images/UI/trophyBtn.png",imgArray[72]=new Image,imgArray[72].src="images/UI/starButton2.png",imgArray[73]=new Image,imgArray[73].src="images/UI/compass22.png",imgArray[74]=new Image,imgArray[74].src="images/UI/compass3.png",imgArray[75]=new Image,imgArray[75].src="images/UI/transparentBtnTop.png",imgArray[76]=new Image,imgArray[76].src="images/vertFence.png",imgArray[77]=new Image,imgArray[77].src="images/horizRoad.png",imgArray[78]=new Image,imgArray[78].src="images/UI/blankBack4.png",imgArray[79]=new Image,imgArray[79].src="images/UI/blankBack5.png",imgArray[80]=new Image,imgArray[80].src="images/UI/blankBack6.png",imgArray[81]=new Image,imgArray[81].src="images/UI/townIcon2.png",imgArray[82]=new Image,imgArray[82].src="images/marketCoinArrow2.png",imgArray[83]=new Image,imgArray[83].src="images/UI/upBtn.png",imgArray[84]=new Image,imgArray[84].src="images/grass.png",imgArray[85]=new Image,imgArray[85].src="images/vertRoad.png",imgArray[86]=new Image,imgArray[86].src="images/sacks.png",imgArray[87]=new Image,imgArray[87].src="images/well2.png",imgArray[88]=new Image,imgArray[88].src="images/horizFence.png",imgArray[89]=new Image,imgArray[89].src="images/Pasture/bucket.png",imgArray[90]=new Image,imgArray[90].src="images/UI/speechBubble.png",imgArray[91]=new Image,imgArray[91].src="images/UI/achieveNotif.png",imgArray[92]=new Image,imgArray[92].src="images/UI/adBoostBtn2.png",imgArray[93]=new Image,imgArray[93].src="images/UI/changeSeeds2.png",imgArray[94]=new Image,imgArray[94].src="images/house1.png",imgArray[95]=new Image,imgArray[95].src="images/UI/houseButton.png",imgArray[96]=new Image,imgArray[96].src="images/anvil2.png",imgArray[97]=new Image,imgArray[97].src="images/toolTable.png",imgArray[98]=new Image,imgArray[98].src="images/house2.png",imgArray[99]=new Image,imgArray[99].src="images/gateFence.png",imgArray[100]=new Image,imgArray[100].src="images/Pasture/FeedBinsLeft.png",imgArray[101]=new Image,imgArray[101].src="images/Pasture/FeedBinsRight.png",imgArray[102]=new Image,imgArray[102].src="images/Pasture/hayPile.png",imgArray[103]=new Image,imgArray[103].src="images/UI/swipe-right.png",imgArray[104]=new Image,imgArray[104].src="images/UI/nextButton.png",imgArray[105]=new Image,imgArray[105].src="images/UI/helpBtn1.png",imgArray[106]=new Image,imgArray[106].src="images/UI/needFlour.png",imgArray[107]=new Image,imgArray[107].src="images/UI/checkButton.png",imgArray[108]=new Image,imgArray[108].src="images/UI/viewAd2.png",imgArray[109]=new Image,imgArray[109].src="images/UI/viewAdBuild.png",imgArray[110]=new Image,imgArray[110].src="images/UI/drop.png",imgArray[111]=new Image,imgArray[111].src="images/UI/waterBtn.png",imgArray[112]=new Image,imgArray[112].src="images/selfPromoteBack2.png",imgArray[113]=new Image,imgArray[113].src="images/UI/mapPiece.png",imgArray[114]=new Image,imgArray[114].src="images/UI/mapPiece2.png",imgArray[115]=new Image,imgArray[115].src="images/UI/speechBubbleR.png",imgArray[116]=new Image,imgArray[116].src="images/UI/speechBubble2.png",imgArray[117]=new Image,imgArray[117].src="images/UI/speechBubble3.png",imgArray[118]=new Image,imgArray[118].src="images/UI/map1_treasureText.png",imgArray[119]=new Image,imgArray[119].src="images/stars4.png";var imgArrayVin=[];imgArrayVin[0]=new Image,imgArrayVin[0].src="images/vinyard/vinyardBack6.png",imgArrayVin[1]=new Image,imgArrayVin[1].src="images/vinyard/treeBlock1.png",imgArrayVin[2]=new Image,imgArrayVin[2].src="images/vinyard/treeBlock2.png",imgArrayVin[3]=new Image,imgArrayVin[3].src="images/vinyard/house4.png",imgArrayVin[4]=new Image,imgArrayVin[4].src="images/UI/rockBlock2.png",imgArrayVin[5]=new Image,imgArrayVin[5].src="images/UI/pickBtn.png",imgArrayVin[6]=new Image,imgArrayVin[6].src="images/vinyard/house4Upgrade2.png",imgArrayVin[7]=new Image,imgArrayVin[7].src="images/vinyard/jellyBonus2.png",imgArrayVin[8]=new Image,imgArrayVin[8].src="images/vinyard/vinFarmer1.png",imgArrayVin[9]=new Image,imgArrayVin[9].src="images/vinyard/vinFarmer2.png",imgArrayVin[10]=new Image,imgArrayVin[10].src="images/vinyard/vinFarmer3.png",imgArrayVin[11]=new Image,imgArrayVin[11].src="images/vinyard/vinFarmer4.png",imgArrayVin[12]=new Image,imgArrayVin[12].src="images/vinyard/vinFarmer7.png",imgArrayVin[13]=new Image,imgArrayVin[13].src="images/vinyard/vinFarmer8.png",imgArrayVin[14]=new Image,imgArrayVin[14].src="images/vinyard/vinFarmer9.png",imgArrayVin[15]=new Image,imgArrayVin[15].src="images/vinyard/vinFarmer17.png",imgArrayVin[16]=new Image,imgArrayVin[16].src="images/vinyard/vinFarmer18.png",imgArrayVin[17]=new Image,imgArrayVin[17].src="images/vinyard/vinFarmer19.png";var imgArray2=[];imgArray2[0]=new Image,imgArray2[0].src="images/brocGrow1.png",imgArray2[1]=new Image,imgArray2[1].src="images/brocGrow2.png",imgArray2[2]=new Image,imgArray2[2].src="images/plowed.png",imgArray2[3]=new Image,imgArray2[3].src="images/tomatoGrow1.png",imgArray2[4]=new Image,imgArray2[4].src="images/tomatoGrow2.png",imgArray2[5]=new Image,imgArray2[5].src="images/pepperGrow1.png",imgArray2[6]=new Image,imgArray2[6].src="images/pepperGrow2.png",imgArray2[7]=new Image,imgArray2[7].src="images/cornGrow1.png",imgArray2[8]=new Image,imgArray2[8].src="images/cornGrow2.png",imgArray2[9]=new Image,imgArray2[9].src="images/eggplantGrow1.png",imgArray2[10]=new Image,imgArray2[10].src="images/eggplantGrow2.png",imgArray2[11]=new Image,imgArray2[11].src="images/carrotGrow1.png",imgArray2[12]=new Image,imgArray2[12].src="images/carrotGrow2.png",imgArray2[13]=new Image,imgArray2[13].src="images/hayGrow1.png",imgArray2[14]=new Image,imgArray2[14].src="images/hayGrow2.png";var imgArray3=[];imgArray3[0]=new Image,imgArray3[0].src="images/livestockPens/chicken_down1.png",imgArray3[1]=new Image,imgArray3[1].src="images/livestockPens/chicken_down2.png",imgArray3[2]=new Image,imgArray3[2].src="images/livestockPens/chicken_down3.png",imgArray3[3]=new Image,imgArray3[3].src="images/livestockPens/chicken_eatLeft1.png",imgArray3[4]=new Image,imgArray3[4].src="images/livestockPens/chicken_eatLeft2.png",imgArray3[5]=new Image,imgArray3[5].src="images/livestockPens/chicken_eatLeft3.png",imgArray3[6]=new Image,imgArray3[6].src="images/livestockPens/chicken_eatLeft4.png",imgArray3[7]=new Image,imgArray3[7].src="images/livestockPens/chicken_eatRight1.png",imgArray3[8]=new Image,imgArray3[8].src="images/livestockPens/chicken_eatRight2.png",imgArray3[9]=new Image,imgArray3[9].src="images/livestockPens/chicken_up1.png",imgArray3[10]=new Image,imgArray3[10].src="images/livestockPens/chicken_up2.png",imgArray3[11]=new Image,imgArray3[11].src="images/livestockPens/chicken_up3.png",imgArray3[12]=new Image,imgArray3[12].src="images/livestockPens/chicken_walkLeft1.png",imgArray3[13]=new Image,imgArray3[13].src="images/livestockPens/chicken_walkLeft2.png",imgArray3[14]=new Image,imgArray3[14].src="images/livestockPens/chicken_walkLeft3.png",imgArray3[15]=new Image,imgArray3[15].src="images/livestockPens/chicken_walkRight1.png",imgArray3[16]=new Image,imgArray3[16].src="images/livestockPens/chicken_walkRight2.png",imgArray3[17]=new Image,imgArray3[17].src="images/livestockPens/chicken_walkRight3.png",imgArray3[18]=new Image,imgArray3[18].src="images/livestockPens/chicken_walkRight4.png",imgArray3[19]=new Image,imgArray3[19].src="images/livestockPens/eggs.png",imgArray3[20]=new Image,imgArray3[20].src="images/livestockPens/hams.png",imgArray3[21]=new Image,imgArray3[21].src="images/livestockPens/pig_Left3.png",imgArray3[22]=new Image,imgArray3[22].src="images/livestockPens/pig_walkLeft1.png",imgArray3[23]=new Image,imgArray3[23].src="images/livestockPens/pig_walkLeft2.png",imgArray3[24]=new Image,imgArray3[24].src="images/livestockPens/pig_down1.png",imgArray3[25]=new Image,imgArray3[25].src="images/livestockPens/pig_down2.png",imgArray3[26]=new Image,imgArray3[26].src="images/livestockPens/pig_down3.png",imgArray3[27]=new Image,imgArray3[27].src="images/livestockPens/pig_right1.png",imgArray3[28]=new Image,imgArray3[28].src="images/livestockPens/pig_right2.png",imgArray3[29]=new Image,imgArray3[29].src="images/livestockPens/pig_right3.png",imgArray3[30]=new Image,imgArray3[30].src="images/livestockPens/pig_up1.png",imgArray3[31]=new Image,imgArray3[31].src="images/livestockPens/pig_up2.png",imgArray3[32]=new Image,imgArray3[32].src="images/livestockPens/pig_up3.png",imgArray3[33]=new Image,imgArray3[33].src="images/livestockPens/soldier2_f1.png",imgArray3[34]=new Image,imgArray3[34].src="images/livestockPens/soldier2_l1.png",imgArray3[35]=new Image,imgArray3[35].src="images/livestockPens/soldier2_l2.png",imgArray3[36]=new Image,imgArray3[36].src="images/livestockPens/soldier2_l3.png",imgArray3[37]=new Image,imgArray3[37].src="images/livestockPens/soldier2_l4.png";var imgArray4=[];imgArray4[0]=new Image,imgArray4[0].src="images/Orchard/girlF1.png",imgArray4[1]=new Image,imgArray4[1].src="images/Orchard/girlF2.png",imgArray4[2]=new Image,imgArray4[2].src="images/Orchard/girlF3.png",imgArray4[3]=new Image,imgArray4[3].src="images/Orchard/girlUp1.png",imgArray4[4]=new Image,imgArray4[4].src="images/Orchard/girlUp2.png",imgArray4[5]=new Image,imgArray4[5].src="images/Orchard/girlUp3.png",imgArray4[6]=new Image,imgArray4[6].src="images/Orchard/girlR1.png",imgArray4[7]=new Image,imgArray4[7].src="images/Orchard/girlL1.png",imgArray4[8]=new Image,imgArray4[8].src="images/Orchard/prune_trees.png",imgArray4[9]=new Image,imgArray4[9].src="images/Orchard/fertilize_trees.png",imgArray4[10]=new Image,imgArray4[10].src="images/Orchard/growing3_trees.png",imgArray4[11]=new Image,imgArray4[11].src="images/Orchard/growing4_trees.png",imgArray4[12]=new Image,imgArray4[12].src="images/Orchard/ready_Apples.png",imgArray4[13]=new Image,imgArray4[13].src="images/Orchard/ready_treesPear.png",imgArray4[14]=new Image,imgArray4[14].src="images/Orchard/treeBlockO.png",imgArray4[15]=new Image,imgArray4[15].src="images/Orchard/OrchardLandslide.png",imgArray4[16]=new Image,imgArray4[16].src="images/Orchard/growing22_trees.png",imgArray4[17]=new Image,imgArray4[17].src="images/Orchard/orchardBarn1.png",imgArray4[18]=new Image,imgArray4[18].src="images/Orchard/orchardBarn2.png",imgArray4[19]=new Image,imgArray4[19].src="images/Orchard/ciderPlace1.png",imgArray4[20]=new Image,imgArray4[20].src="images/Orchard/ciderPlace2.png",imgArray4[21]=new Image,imgArray4[21].src="images/items/ciderBarrel.png",imgArray4[22]=new Image,imgArray4[22].src="images/Orchard/ciderBack2.png";var imgArrayCiderPlace=[];imgArrayCiderPlace[0]=new Image,imgArrayCiderPlace[0].src="images/Orchard/ciderPlace3.png",imgArrayCiderPlace[1]=new Image,imgArrayCiderPlace[1].src="images/Orchard/ciderPlace4.png",imgArrayCiderPlace[2]=new Image,imgArrayCiderPlace[2].src="images/Orchard/ciderPlace5.png",imgArrayCiderPlace[3]=new Image,imgArrayCiderPlace[3].src="images/Orchard/ciderPlace6.png",imgArrayCiderPlace[4]=new Image,imgArrayCiderPlace[4].src="images/Orchard/ciderPlace7.png",imgArrayCiderPlace[5]=new Image,imgArrayCiderPlace[5].src="images/Orchard/ciderPlace8.png",imgArrayCiderPlace[6]=new Image,imgArrayCiderPlace[6].src="images/Orchard/ciderPlace9.png",imgArrayCiderPlace[7]=new Image,imgArrayCiderPlace[7].src="images/Orchard/ciderPlace10.png",imgArrayCiderPlace[8]=new Image,imgArrayCiderPlace[8].src="images/Orchard/ciderPlace11.png",imgArrayCiderPlace[9]=new Image,imgArrayCiderPlace[9].src="images/Orchard/ciderPlace12.png",imgArrayCiderPlace[10]=new Image,imgArrayCiderPlace[10].src="images/Orchard/ciderPlace13.png",imgArrayCiderPlace[11]=new Image,imgArrayCiderPlace[11].src="images/Orchard/ciderPlace14.png",imgArrayCiderPlace[12]=new Image,imgArrayCiderPlace[12].src="images/Orchard/ciderPlace15.png",imgArrayCiderPlace[13]=new Image,imgArrayCiderPlace[13].src="images/Orchard/ciderPlace16.png",imgArrayCiderPlace[14]=new Image,imgArrayCiderPlace[14].src="images/Orchard/ciderPlace17.png",imgArrayCiderPlace[15]=new Image,imgArrayCiderPlace[15].src="images/Orchard/ciderPlace18.png",imgArrayCiderPlace[16]=new Image,imgArrayCiderPlace[16].src="images/Orchard/ciderPlace19.png";var imgArrayCave=[];imgArrayCave[0]=new Image,imgArrayCave[0].src="images/Orchard/shrooms.png",imgArrayCave[1]=new Image,imgArrayCave[1].src="images/Orchard/shroom1.png",imgArrayCave[2]=new Image,imgArrayCave[2].src="images/Orchard/shroom2.png",imgArrayCave[3]=new Image,imgArrayCave[3].src="images/Orchard/shroom3.png",imgArrayCave[4]=new Image,imgArrayCave[4].src="images/Orchard/shroom4.png",imgArrayCave[5]=new Image,imgArrayCave[5].src="images/Orchard/caveTrans.png",imgArrayCave[6]=new Image,imgArrayCave[6].src="images/UI/opaqueTile.png";var imgArray5=[];imgArray5[0]=new Image,imgArray5[0].src="images/UI/tut1.png",imgArray5[1]=new Image,imgArray5[1].src="images/UI/tut2-1.png",imgArray5[2]=new Image,imgArray5[2].src="images/UI/tut3.png",imgArray5[3]=new Image,imgArray5[3].src="images/UI/tut4.png",imgArray5[4]=new Image,imgArray5[4].src="images/UI/tut5.png",imgArray5[5]=new Image,imgArray5[5].src="images/UI/tut6.png",imgArray5[6]=new Image,imgArray5[6].src="images/UI/tut7-2.png",imgArray5[7]=new Image,imgArray5[7].src="images/UI/tut8.png",imgArray5[8]=new Image,imgArray5[8].src="images/UI/tut9.png",imgArray5[9]=new Image,imgArray5[9].src="images/UI/tut10.png",imgArray5[10]=new Image,imgArray5[10].src="images/UI/tut11.png",imgArray5[11]=new Image,imgArray5[11].src="images/UI/tut12.png",imgArray5[12]=new Image,imgArray5[12].src="images/UI/tut13.png",imgArray5[13]=new Image,imgArray5[13].src="images/UI/tut14.png",imgArray5[14]=new Image,imgArray5[14].src="images/UI/tut5.png",imgArray5[15]=new Image,imgArray5[15].src="images/UI/glassArrow.png",imgArray5[16]=new Image,imgArray5[16].src="images/UI/glassSeeds.png",imgArray5[17]=new Image,imgArray5[17].src="images/UI/boostHint.png";var imgArray6=[];imgArray6[0]=new Image,imgArray6[0].src="images/UI/barn1-1.png",imgArray6[1]=new Image,imgArray6[1].src="images/UI/barn2-1.png",imgArray6[2]=new Image,imgArray6[2].src="images/UI/barn3-1.png",imgArray6[3]=new Image,imgArray6[3].src="images/UI/barn4-1.png",imgArray6[4]=new Image,imgArray6[4].src="images/UI/barn5-1.png",imgArray6[5]=new Image,imgArray6[5].src="images/bare_land.png",imgArray6[6]=new Image,imgArray6[6].src="images/plowed.png";var imgArray10=[];imgArray10[0]=new Image,imgArray10[0].src="images/tomatoWithered.png";var imgArray11=[];imgArray11[0]=new Image,imgArray11[0].src="images/UI/coin4.png",imgArray11[1]=new Image,imgArray11[1].src="images/houseUpgrades/bedSingle.png",imgArray11[2]=new Image,imgArray11[2].src="images/houseUpgrades/chest.png",imgArray11[3]=new Image,imgArray11[3].src="images/houseUpgrades/sink.png",imgArray11[4]=new Image,imgArray11[4].src="images/houseUpgrades/woodTable.png",imgArray11[5]=new Image,imgArray11[5].src="images/houseUpgrades/woodChairSet.png",imgArray11[6]=new Image,imgArray11[6].src="images/houseUpgrades/dressingTable.png",imgArray11[7]=new Image,imgArray11[7].src="images/houseUpgrades/bedsideTableWood.png",imgArray11[8]=new Image,imgArray11[8].src="images/houseUpgrades/pottedPlantRed.png",imgArray11[9]=new Image,imgArray11[9].src="images/houseUpgrades/couchRight.png",imgArray11[10]=new Image,imgArray11[10].src="images/houseUpgrades/curtains.png",imgArray11[11]=new Image,imgArray11[11].src="images/houseUpgrades/doubleBed.png",imgArray11[12]=new Image,imgArray11[12].src="images/houseUpgrades/stool.png",imgArray11[13]=new Image,imgArray11[13].src="images/houseUpgrades/wardrobe.png",imgArray11[14]=new Image,imgArray11[14].src="images/houseUpgrades/couchAway.png",imgArray11[15]=new Image,imgArray11[15].src="images/houseUpgrades/bookcase.png",imgArray11[16]=new Image,imgArray11[16].src="images/houseUpgrades/fancyTable.png",imgArray11[17]=new Image,imgArray11[17].src="images/houseUpgrades/fancyChairSet.png",imgArray11[18]=new Image,imgArray11[18].src="images/houseUpgrades/desk.png",imgArray11[19]=new Image,imgArray11[19].src="images/houseUpgrades/widePainting.png",imgArray11[20]=new Image,imgArray11[20].src="images/houseUpgrades/dishCabinet.png",imgArray11[21]=new Image,imgArray11[21].src="images/houseUpgrades/trunk.png",imgArray11[22]=new Image,imgArray11[22].src="images/houseUpgrades/FarmHomeInteriorGreen.png",imgArray11[23]=new Image,imgArray11[23].src="images/houseUpgrades/FarmHomeInteriorBlue.png",imgArray11[24]=new Image,imgArray11[24].src="images/houseUpgrades/FarmHomeInteriorPink.png",imgArray11[25]=new Image,imgArray11[25].src="images/houseUpgrades/FarmHomeInteriorOrange.png";var imgArray12=[];imgArray12[0]=new Image,imgArray12[0].src="images/houseUpgrades/fireplace.png",imgArray12[1]=new Image,imgArray12[1].src="images/houseUpgrades/fire1.png",imgArray12[2]=new Image,imgArray12[2].src="images/houseUpgrades/fire2.png",imgArray12[3]=new Image,imgArray12[3].src="images/houseUpgrades/fire3.png",imgArray12[4]=new Image,imgArray12[4].src="images/houseUpgrades/stoveFire1.png",imgArray12[5]=new Image,imgArray12[5].src="images/houseUpgrades/stoveFire2.png",imgArray12[6]=new Image,imgArray12[6].src="images/houseUpgrades/stoveFire3.png";var imgArrayPlayer=[];imgArrayPlayer[0]=new Image,imgArrayPlayer[0].src="images/UI/playerImg1.png",imgArrayPlayer[1]=new Image,imgArrayPlayer[1].src="images/UI/playerImg2.png",imgArrayPlayer[2]=new Image,imgArrayPlayer[2].src="images/UI/playerImg3.png";var imgArrayTown=[];imgArrayTown[0]=new Image,imgArrayTown[0].src="images/marketTown/marketTownBack3.png",imgArrayTown[1]=new Image,imgArrayTown[1].src="images/marketTown/Monk_f1.png",imgArrayTown[2]=new Image,imgArrayTown[2].src="images/marketTown/Monk_f2.png",imgArrayTown[3]=new Image,imgArrayTown[3].src="images/marketTown/Monk_f3.png",imgArrayTown[4]=new Image,imgArrayTown[4].src="images/marketTown/Monk_r1.png",imgArrayTown[5]=new Image,imgArrayTown[5].src="images/marketTown/Monk_r2.png",imgArrayTown[6]=new Image,imgArrayTown[6].src="images/marketTown/Monk_r3.png",imgArrayTown[7]=new Image,imgArrayTown[7].src="images/marketTown/Monk_l1.png",imgArrayTown[8]=new Image,imgArrayTown[8].src="images/marketTown/Monk_l2.png",imgArrayTown[9]=new Image,imgArrayTown[9].src="images/marketTown/Monk_l3.png",imgArrayTown[10]=new Image,imgArrayTown[10].src="images/marketTown/Monk_a1.png",imgArrayTown[11]=new Image,imgArrayTown[11].src="images/marketTown/Monk_a2.png",imgArrayTown[12]=new Image,imgArrayTown[12].src="images/marketTown/Monk_a3.png",imgArrayTown[13]=new Image,imgArrayTown[13].src="images/marketTown/Monk_p1.png",imgArrayTown[14]=new Image,imgArrayTown[14].src="images/marketTown/Monk_p2.png",imgArrayTown[15]=new Image,imgArrayTown[15].src="images/marketTown/quest1.png",imgArrayTown[16]=new Image,imgArrayTown[16].src="images/marketTown/quest2.png",imgArrayTown[17]=new Image,imgArrayTown[17].src="images/UI/shopIcon.png",imgArrayTown[18]=new Image,imgArrayTown[18].src="images/UI/woodFrame.png",imgArrayTown[19]=new Image,imgArrayTown[19].src="images/marketTown/coinButton.png",imgArrayTown[20]=new Image,imgArrayTown[20].src="images/marketTown/coinButton2.png";var imgArrayTown2=[];imgArrayTown2[0]=new Image,imgArrayTown2[0].src="images/marketTown/sara_f1.png",imgArrayTown2[1]=new Image,imgArrayTown2[1].src="images/marketTown/sara_r1.png",imgArrayTown2[2]=new Image,imgArrayTown2[2].src="images/marketTown/sara_r2.png",imgArrayTown2[3]=new Image,imgArrayTown2[3].src="images/marketTown/sara_r3.png",imgArrayTown2[4]=new Image,imgArrayTown2[4].src="images/marketTown/sara_s1.png",imgArrayTown2[5]=new Image,imgArrayTown2[5].src="images/marketTown/sara_l1.png",imgArrayTown2[6]=new Image,imgArrayTown2[6].src="images/marketTown/sara_l2.png",imgArrayTown2[7]=new Image,imgArrayTown2[7].src="images/marketTown/sara_l3.png",imgArrayTown2[8]=new Image,imgArrayTown2[8].src="images/marketTown/sara_a1.png",imgArrayTown2[9]=new Image,imgArrayTown2[9].src="images/marketTown/sara_a2.png",imgArrayTown2[10]=new Image,imgArrayTown2[10].src="images/marketTown/sara_a3.png",imgArrayTown2[11]=new Image,imgArrayTown2[11].src="images/marketTown/sara_s1.png",imgArrayTown2[12]=new Image,imgArrayTown2[12].src="images/marketTown/sara_s1.png",imgArrayTown2[13]=new Image,imgArrayTown2[13].src="images/marketTown/sara_s2.png";var imgArrayMayor=[];imgArrayMayor[0]=new Image,imgArrayMayor[0].src="images/marketTown/mayor_f1.png",imgArrayMayor[1]=new Image,imgArrayMayor[1].src="images/marketTown/mayor_f2.png",imgArrayMayor[2]=new Image,imgArrayMayor[2].src="images/marketTown/mayor_f3.png",imgArrayMayor[3]=new Image,imgArrayMayor[3].src="images/marketTown/mayor_f4.png",imgArrayMayor[4]=new Image,imgArrayMayor[4].src="images/marketTown/mayor_r1.png",imgArrayMayor[5]=new Image,imgArrayMayor[5].src="images/marketTown/mayor_r2.png",imgArrayMayor[6]=new Image,imgArrayMayor[6].src="images/marketTown/mayor_r3.png",imgArrayMayor[7]=new Image,imgArrayMayor[7].src="images/marketTown/mayor_r4.png",imgArrayMayor[8]=new Image,imgArrayMayor[8].src="images/marketTown/mayor_l1.png",imgArrayMayor[9]=new Image,imgArrayMayor[9].src="images/marketTown/mayor_l2.png",imgArrayMayor[10]=new Image,imgArrayMayor[10].src="images/marketTown/mayor_l3.png",imgArrayMayor[11]=new Image,imgArrayMayor[11].src="images/marketTown/mayor_l4.png",imgArrayMayor[12]=new Image,imgArrayMayor[12].src="images/marketTown/mayor_a1.png",imgArrayMayor[13]=new Image,imgArrayMayor[13].src="images/marketTown/mayor_a2.png",imgArrayMayor[14]=new Image,imgArrayMayor[14].src="images/marketTown/mayor_a3.png",imgArrayMayor[15]=new Image,imgArrayMayor[15].src="images/marketTown/mayor_s1.png",imgArrayMayor[16]=new Image,imgArrayMayor[16].src="images/marketTown/mayor_s2.png";var imgArrayFelicia=[];imgArrayFelicia[0]=new Image,imgArrayFelicia[0].src="images/marketTown/Felicia_f1.png",imgArrayFelicia[1]=new Image,imgArrayFelicia[1].src="images/marketTown/Felicia_f2.png",imgArrayFelicia[2]=new Image,imgArrayFelicia[2].src="images/marketTown/Felicia_f3.png",imgArrayFelicia[3]=new Image,imgArrayFelicia[3].src="images/marketTown/Felicia_f4.png",imgArrayFelicia[4]=new Image,imgArrayFelicia[4].src="images/marketTown/Felicia_r1.png",imgArrayFelicia[5]=new Image,imgArrayFelicia[5].src="images/marketTown/Felicia_r2.png",imgArrayFelicia[6]=new Image,imgArrayFelicia[6].src="images/marketTown/Felicia_r3.png",imgArrayFelicia[7]=new Image,imgArrayFelicia[7].src="images/marketTown/Felicia_r4.png",imgArrayFelicia[8]=new Image,imgArrayFelicia[8].src="images/marketTown/Felicia_l1.png",imgArrayFelicia[9]=new Image,imgArrayFelicia[9].src="images/marketTown/Felicia_l2.png",imgArrayFelicia[10]=new Image,imgArrayFelicia[10].src="images/marketTown/Felicia_l3.png",imgArrayFelicia[11]=new Image,imgArrayFelicia[11].src="images/marketTown/Felicia_l4.png",imgArrayFelicia[12]=new Image,imgArrayFelicia[12].src="images/marketTown/Felicia_a1.png",imgArrayFelicia[13]=new Image,imgArrayFelicia[13].src="images/marketTown/Felicia_a2.png",imgArrayFelicia[14]=new Image,imgArrayFelicia[14].src="images/marketTown/Felicia_a3.png",imgArrayFelicia[15]=new Image,imgArrayFelicia[15].src="images/marketTown/Felicia_s1.png";var imgArrayDenise=[];imgArrayDenise[0]=new Image,imgArrayDenise[0].src="images/houseUpgrades/denise/denise_f1.png",imgArrayDenise[1]=new Image,imgArrayDenise[1].src="images/houseUpgrades/denise/denise_f2.png",imgArrayDenise[2]=new Image,imgArrayDenise[2].src="images/houseUpgrades/denise/denise_f3.png",imgArrayDenise[3]=new Image,imgArrayDenise[3].src="images/houseUpgrades/denise/denise_f4.png",imgArrayDenise[4]=new Image,imgArrayDenise[4].src="images/houseUpgrades/denise/denise_r1.png",imgArrayDenise[5]=new Image,imgArrayDenise[5].src="images/houseUpgrades/denise/denise_r2.png",imgArrayDenise[6]=new Image,imgArrayDenise[6].src="images/houseUpgrades/denise/denise_r3.png",imgArrayDenise[7]=new Image,imgArrayDenise[7].src="images/houseUpgrades/denise/denise_r4.png",imgArrayDenise[8]=new Image,imgArrayDenise[8].src="images/houseUpgrades/denise/denise_l1.png",imgArrayDenise[9]=new Image,imgArrayDenise[9].src="images/houseUpgrades/denise/denise_l2.png",imgArrayDenise[10]=new Image,imgArrayDenise[10].src="images/houseUpgrades/denise/denise_l3.png",imgArrayDenise[11]=new Image,imgArrayDenise[11].src="images/houseUpgrades/denise/denise_l4.png",imgArrayDenise[12]=new Image,imgArrayDenise[12].src="images/houseUpgrades/denise/denise_a1.png",imgArrayDenise[13]=new Image,imgArrayDenise[13].src="images/houseUpgrades/denise/denise_a2.png",imgArrayDenise[14]=new Image,imgArrayDenise[14].src="images/houseUpgrades/denise/denise_a3.png",imgArrayDenise[15]=new Image,imgArrayDenise[15].src="images/houseUpgrades/denise/denise_s1.png";var imgArrayTrader=[];imgArrayTrader[0]=new Image,imgArrayTrader[0].src="images/marketTown/trader_f1.png",imgArrayTrader[1]=new Image,imgArrayTrader[1].src="images/marketTown/trader_f2.png",imgArrayTrader[2]=new Image,imgArrayTrader[2].src="images/marketTown/trader_f3.png";var imgArrayGideon=[];imgArrayGideon[0]=new Image,imgArrayGideon[0].src="images/marketTown/gideon_f1.png",imgArrayGideon[1]=new Image,imgArrayGideon[1].src="images/marketTown/gideon_f2.png",imgArrayGideon[2]=new Image,imgArrayGideon[2].src="images/marketTown/gideon_f3.png";var imgArrayItems=[];imgArrayItems[0]=new Image,imgArrayItems[0].src="images/items/shield1.png",imgArrayItems[1]=new Image,imgArrayItems[1].src="images/items/shield2.png",imgArrayItems[2]=new Image,imgArrayItems[2].src="images/items/shield3.png",imgArrayItems[3]=new Image,imgArrayItems[3].src="images/items/book1.png",imgArrayItems[4]=new Image,imgArrayItems[4].src="images/items/locket.png",imgArrayItems[5]=new Image,imgArrayItems[5].src="images/items/mail1.png",imgArrayItems[6]=new Image,imgArrayItems[6].src="images/items/mail2.png",imgArrayItems[7]=new Image,imgArrayItems[7].src="images/items/key.png",imgArrayItems[8]=new Image,imgArrayItems[8].src="images/items/necklaceEmerald.png",imgArrayItems[9]=new Image,imgArrayItems[9].src="images/items/necklacepurple.png",imgArrayItems[10]=new Image,imgArrayItems[10].src="images/items/necklaceRuby.png",imgArrayItems[11]=new Image,imgArrayItems[11].src="images/items/necklaceSaphire.png",imgArrayItems[12]=new Image,imgArrayItems[12].src="images/items/ringAmethyst.png",imgArrayItems[13]=new Image,imgArrayItems[13].src="images/items/ringEmerald.png",imgArrayItems[14]=new Image,imgArrayItems[14].src="images/items/ringRuby.png",imgArrayItems[15]=new Image,imgArrayItems[15].src="images/items/ruby.png",imgArrayItems[16]=new Image,imgArrayItems[16].src="images/items/saphire.png",imgArrayItems[17]=new Image,imgArrayItems[17].src="images/items/scroll1.png",imgArrayItems[18]=new Image,imgArrayItems[18].src="images/items/shovel1.png",imgArrayItems[19]=new Image,imgArrayItems[19].src="images/items/sword1.png",imgArrayItems[20]=new Image,imgArrayItems[20].src="images/items/sword2.png",imgArrayItems[21]=new Image,imgArrayItems[21].src="images/items/sword3.png",imgArrayItems[22]=new Image,imgArrayItems[22].src="images/items/pick1.png",imgArrayItems[23]=new Image,imgArrayItems[23].src="images/items/crest.png",imgArrayItems[24]=new Image,imgArrayItems[24].src="images/items/coal.png",imgArrayItems[25]=new Image,imgArrayItems[25].src="images/UI/inventoryBtn.png",imgArrayItems[26]=new Image,imgArrayItems[26].src="images/items/jars.png",imgArrayItems[27]=new Image,imgArrayItems[27].src="images/items/tome.png",imgArrayItems[28]=new Image,imgArrayItems[28].src="images/items/shield3_no.png",imgArrayItems[29]=new Image,imgArrayItems[29].src="images/items/helm1.png",imgArrayItems[30]=new Image,imgArrayItems[30].src="images/items/helm1_no.png",imgArrayItems[31]=new Image,imgArrayItems[31].src="images/items/greaves.png",imgArrayItems[32]=new Image,imgArrayItems[32].src="images/items/greaves_no.png",imgArrayItems[33]=new Image,imgArrayItems[33].src="images/items/sword3_no.png",imgArrayItems[34]=new Image,imgArrayItems[34].src="images/items/mail2_no.png",imgArrayItems[35]=new Image,imgArrayItems[35].src="images/items/tome_no.png",imgArrayItems[36]=new Image,imgArrayItems[36].src="images/items/gauntlets_no.png",imgArrayItems[37]=new Image,imgArrayItems[37].src="images/items/gauntlets.png",imgArrayItems[38]=new Image,imgArrayItems[38].src="images/items/boots_no.png",imgArrayItems[39]=new Image,imgArrayItems[39].src="images/items/boots.png",imgArrayItems[40]=new Image,imgArrayItems[40].src="images/items/heirAmulet.png",imgArrayItems[41]=new Image,imgArrayItems[41].src="images/items/heirAmulet_no.png",imgArrayItems[42]=new Image,imgArrayItems[42].src="images/items/chestHeir.png",imgArrayItems[43]=new Image,imgArrayItems[43].src="images/UI/totem.png",imgArrayItems[44]=new Image,imgArrayItems[44].src="images/UI/planter.png";var imgArrayJosiah=[];imgArrayJosiah[0]=new Image,imgArrayJosiah[0].src="images/Pasture/josiah_f1.png",imgArrayJosiah[1]=new Image,imgArrayJosiah[1].src="images/Pasture/josiah_f2.png",imgArrayJosiah[2]=new Image,imgArrayJosiah[2].src="images/Pasture/josiah_f3.png",imgArrayJosiah[3]=new Image,imgArrayJosiah[3].src="images/Pasture/josiah_f4.png",imgArrayJosiah[4]=new Image,imgArrayJosiah[4].src="images/Pasture/josiah_l1.png",imgArrayJosiah[5]=new Image,imgArrayJosiah[5].src="images/Pasture/josiah_l2.png",imgArrayJosiah[6]=new Image,imgArrayJosiah[6].src="images/Pasture/josiah_l3.png",imgArrayJosiah[7]=new Image,imgArrayJosiah[7].src="images/Pasture/josiah_l4.png",imgArrayJosiah[8]=new Image,imgArrayJosiah[8].src="images/Pasture/josiah_r1.png",imgArrayJosiah[9]=new Image,imgArrayJosiah[9].src="images/Pasture/josiah_r2.png",imgArrayJosiah[10]=new Image,imgArrayJosiah[10].src="images/Pasture/josiah_r3.png",imgArrayJosiah[11]=new Image,imgArrayJosiah[11].src="images/Pasture/josiah_r4.png",imgArrayJosiah[12]=new Image,imgArrayJosiah[12].src="images/Pasture/josiah_a1.png",imgArrayJosiah[13]=new Image,imgArrayJosiah[13].src="images/Pasture/josiah_a2.png",imgArrayJosiah[14]=new Image,imgArrayJosiah[14].src="images/Pasture/josiah_a3.png",imgArrayJosiah[15]=new Image,imgArrayJosiah[15].src="images/Pasture/josiah_a4.png";var imgArrayPatricia=[];imgArrayPatricia[0]=new Image,imgArrayPatricia[0].src="images/marketTown/patricia_f1.png",imgArrayPatricia[1]=new Image,imgArrayPatricia[1].src="images/marketTown/patricia_f2.png",imgArrayPatricia[2]=new Image,imgArrayPatricia[2].src="images/marketTown/patricia_f3.png",imgArrayPatricia[3]=new Image,imgArrayPatricia[3].src="images/marketTown/patricia_f4.png",imgArrayPatricia[4]=new Image,imgArrayPatricia[4].src="images/marketTown/patricia_l1.png",imgArrayPatricia[5]=new Image,imgArrayPatricia[5].src="images/marketTown/patricia_l2.png",imgArrayPatricia[6]=new Image,imgArrayPatricia[6].src="images/marketTown/patricia_l3.png",imgArrayPatricia[7]=new Image,imgArrayPatricia[7].src="images/marketTown/patricia_l4.png",imgArrayPatricia[8]=new Image,imgArrayPatricia[8].src="images/marketTown/patricia_r1.png",imgArrayPatricia[9]=new Image,imgArrayPatricia[9].src="images/marketTown/patricia_r2.png",imgArrayPatricia[10]=new Image,imgArrayPatricia[10].src="images/marketTown/patricia_r3.png",imgArrayPatricia[11]=new Image,imgArrayPatricia[11].src="images/marketTown/patricia_r4.png",imgArrayPatricia[12]=new Image,imgArrayPatricia[12].src="images/marketTown/patricia_a1.png",imgArrayPatricia[13]=new Image,imgArrayPatricia[13].src="images/marketTown/patricia_a2.png",imgArrayPatricia[14]=new Image,imgArrayPatricia[14].src="images/marketTown/patricia_a3.png",imgArrayPatricia[15]=new Image,imgArrayPatricia[15].src="images/marketTown/patricia_a4.png";var imgArrayEva=[];imgArrayEva[0]=new Image,imgArrayEva[0].src="images/marketTown/eva_f1.png",imgArrayEva[1]=new Image,imgArrayEva[1].src="images/marketTown/eva_f2.png",imgArrayEva[2]=new Image,imgArrayEva[2].src="images/marketTown/eva_f3.png",imgArrayEva[3]=new Image,imgArrayEva[3].src="images/marketTown/eva_f4.png",imgArrayEva[4]=new Image,imgArrayEva[4].src="images/marketTown/eva_l1.png",imgArrayEva[5]=new Image,imgArrayEva[5].src="images/marketTown/eva_l2.png",imgArrayEva[6]=new Image,imgArrayEva[6].src="images/marketTown/eva_l3.png",imgArrayEva[7]=new Image,imgArrayEva[7].src="images/marketTown/eva_l4.png",imgArrayEva[8]=new Image,imgArrayEva[8].src="images/marketTown/eva_r1.png",imgArrayEva[9]=new Image,imgArrayEva[9].src="images/marketTown/eva_r2.png",imgArrayEva[10]=new Image,imgArrayEva[10].src="images/marketTown/eva_r3.png",imgArrayEva[11]=new Image,imgArrayEva[11].src="images/marketTown/eva_r4.png",imgArrayEva[12]=new Image,imgArrayEva[12].src="images/marketTown/eva_a1.png",imgArrayEva[13]=new Image,imgArrayEva[13].src="images/marketTown/eva_a2.png",imgArrayEva[14]=new Image,imgArrayEva[14].src="images/marketTown/eva_a3.png",imgArrayEva[15]=new Image,imgArrayEva[15].src="images/marketTown/eva_a4.png";var imgArrayMiller=[];imgArrayMiller[0]=new Image,imgArrayMiller[0].src="images/windmill/oldSoldier_f0.png",imgArrayMiller[1]=new Image,imgArrayMiller[1].src="images/windmill/oldSoldier_f1.png",imgArrayMiller[2]=new Image,imgArrayMiller[2].src="images/windmill/oldSoldier_f2.png",imgArrayMiller[3]=new Image,imgArrayMiller[3].src="images/windmill/oldSoldier_f3.png",imgArrayMiller[4]=new Image,imgArrayMiller[4].src="images/windmill/oldSoldier_f4.png",imgArrayMiller[5]=new Image,imgArrayMiller[5].src="images/windmill/oldSoldier_l0.png",imgArrayMiller[6]=new Image,imgArrayMiller[6].src="images/windmill/oldSoldier_l1.png",imgArrayMiller[7]=new Image,imgArrayMiller[7].src="images/windmill/oldSoldier_l2.png",imgArrayMiller[8]=new Image,imgArrayMiller[8].src="images/windmill/oldSoldier_l3.png",imgArrayMiller[9]=new Image,imgArrayMiller[9].src="images/windmill/oldSoldier_l4.png",imgArrayMiller[10]=new Image,imgArrayMiller[10].src="images/windmill/oldSoldier_r0.png",imgArrayMiller[11]=new Image,imgArrayMiller[11].src="images/windmill/oldSoldier_r1.png",imgArrayMiller[12]=new Image,imgArrayMiller[12].src="images/windmill/oldSoldier_r2.png",imgArrayMiller[13]=new Image,imgArrayMiller[13].src="images/windmill/oldSoldier_r3.png",imgArrayMiller[14]=new Image,imgArrayMiller[14].src="images/windmill/oldSoldier_r4.png",imgArrayMiller[15]=new Image,imgArrayMiller[15].src="images/windmill/oldSoldier_a0.png",imgArrayMiller[16]=new Image,imgArrayMiller[16].src="images/windmill/oldSoldier_a1.png",imgArrayMiller[17]=new Image,imgArrayMiller[17].src="images/windmill/oldSoldier_a2.png",imgArrayMiller[18]=new Image,imgArrayMiller[18].src="images/windmill/oldSoldier_a3.png";var imgArrayConnie=[];imgArrayConnie[0]=new Image,imgArrayConnie[0].src="images/windmill/Isabel_f0.png",imgArrayConnie[1]=new Image,imgArrayConnie[1].src="images/windmill/Isabel_f1.png",imgArrayConnie[2]=new Image,imgArrayConnie[2].src="images/windmill/Isabel_f2.png",imgArrayConnie[3]=new Image,imgArrayConnie[3].src="images/windmill/Isabel_f3.png",imgArrayConnie[4]=new Image,imgArrayConnie[4].src="images/windmill/Isabel_f4.png",imgArrayConnie[5]=new Image,imgArrayConnie[5].src="images/windmill/Isabel_f5.png",imgArrayConnie[6]=new Image,imgArrayConnie[6].src="images/windmill/Isabel_l0.png",imgArrayConnie[7]=new Image,imgArrayConnie[7].src="images/windmill/Isabel_l1.png",imgArrayConnie[8]=new Image,imgArrayConnie[8].src="images/windmill/Isabel_l2.png",imgArrayConnie[9]=new Image,imgArrayConnie[9].src="images/windmill/Isabel_l3.png",imgArrayConnie[10]=new Image,imgArrayConnie[10].src="images/windmill/Isabel_l4.png",imgArrayConnie[11]=new Image,imgArrayConnie[11].src="images/windmill/Isabel_l5.png",imgArrayConnie[12]=new Image,imgArrayConnie[12].src="images/windmill/Isabel_r0.png",imgArrayConnie[13]=new Image,imgArrayConnie[13].src="images/windmill/Isabel_r1.png",imgArrayConnie[14]=new Image,imgArrayConnie[14].src="images/windmill/Isabel_r2.png",imgArrayConnie[15]=new Image,imgArrayConnie[15].src="images/windmill/Isabel_r3.png",imgArrayConnie[16]=new Image,imgArrayConnie[16].src="images/windmill/Isabel_r4.png",imgArrayConnie[17]=new Image,imgArrayConnie[17].src="images/windmill/Isabel_r5.png",imgArrayConnie[18]=new Image,imgArrayConnie[18].src="images/windmill/Isabel_a0.png",imgArrayConnie[19]=new Image,imgArrayConnie[19].src="images/windmill/Isabel_a1.png",imgArrayConnie[20]=new Image,imgArrayConnie[20].src="images/windmill/Isabel_a2.png",imgArrayConnie[21]=new Image,imgArrayConnie[21].src="images/windmill/Isabel_a3.png",imgArrayConnie[22]=new Image,imgArrayConnie[22].src="images/windmill/Isabel_a4.png",imgArrayConnie[23]=new Image,imgArrayConnie[23].src="images/windmill/Isabel_a5.png";var imgArrayStore=[];imgArrayStore[0]=new Image,imgArrayStore[0].src="images/items/ironBar.png",imgArrayStore[1]=new Image,imgArrayStore[1].src="images/items/jars.png",imgArrayStore[2]=new Image,imgArrayStore[2].src="images/items/shovel2.png",imgArrayStore[3]=new Image,imgArrayStore[3].src="images/items/pick1.png",imgArrayStore[4]=new Image,imgArrayStore[4].src="images/items/ciderPress.png",imgArrayStore[5]=new Image,imgArrayStore[5].src="images/items/bottles.png",imgArrayStore[6]=new Image,imgArrayStore[6].src="images/items/barrels.png",imgArrayStore[7]=new Image,imgArrayStore[7].src="images/items/lantern.png",imgArrayStore[8]=new Image,imgArrayStore[8].src="images/items/toy.png";var imgArrayPasture=[];imgArrayPasture[0]=new Image,imgArrayPasture[0].src="images/Pasture/water.png",imgArrayPasture[1]=new Image,imgArrayPasture[1].src="images/Pasture/dairyBarn.png",imgArrayPasture[2]=new Image,imgArrayPasture[2].src="images/Pasture/bridgeVert.png",imgArrayPasture[3]=new Image,imgArrayPasture[3].src="images/Pasture/pTree1.png",imgArrayPasture[4]=new Image,imgArrayPasture[4].src="images/Pasture/pTree2.png",imgArrayPasture[5]=new Image,imgArrayPasture[5].src="images/Pasture/dirt.png",imgArrayPasture[6]=new Image,imgArrayPasture[6].src="images/Pasture/cow_eatR4.png",imgArrayPasture[7]=new Image,imgArrayPasture[7].src="images/Pasture/cow_eatF3.png",imgArrayPasture[8]=new Image,imgArrayPasture[8].src="images/Pasture/rocks.png",imgArrayPasture[9]=new Image,imgArrayPasture[9].src="images/Pasture/treeBlockP.png",imgArrayPasture[10]=new Image,imgArrayPasture[10].src="images/Pasture/cow_eatR1.png",imgArrayPasture[11]=new Image,imgArrayPasture[11].src="images/Pasture/cow_eatR2.png",imgArrayPasture[12]=new Image,imgArrayPasture[12].src="images/Pasture/cow_eatR4.png",imgArrayPasture[13]=new Image,imgArrayPasture[13].src="images/Pasture/cow_eatF1.png",imgArrayPasture[14]=new Image,imgArrayPasture[14].src="images/Pasture/cow_eatF2.png",imgArrayPasture[15]=new Image,imgArrayPasture[15].src="images/Pasture/cow_eatF3.png",imgArrayPasture[16]=new Image,imgArrayPasture[16].src="images/Pasture/cowLeft4.png",imgArrayPasture[17]=new Image,imgArrayPasture[17].src="images/Pasture/cowRight1.png",imgArrayPasture[18]=new Image,imgArrayPasture[18].src="images/Pasture/cowRight2.png",imgArrayPasture[19]=new Image,imgArrayPasture[19].src="images/Pasture/poop.png";var imgArrayWheel=[];imgArrayWheel[0]=new Image,imgArrayWheel[0].src="images/wheelSlices/none.png",imgArrayWheel[1]=new Image,imgArrayWheel[1].src="images/wheelSlices/5starSlice.png",imgArrayWheel[2]=new Image,imgArrayWheel[2].src="images/wheelSlices/50toolsSlice.png",imgArrayWheel[3]=new Image,imgArrayWheel[3].src="images/wheelSlices/50coinSlice.png",imgArrayWheel[4]=new Image,imgArrayWheel[4].src="images/wheelSlices/25starSlice.png",imgArrayWheel[5]=new Image,imgArrayWheel[5].src="images/wheelSlices/250coinSlice.png",imgArrayWheel[6]=new Image,imgArrayWheel[6].src="images/wheelSlices/100toolsSlice.png",imgArrayWheel[7]=new Image,imgArrayWheel[7].src="images/wheelSlices/100coinSlice.png",imgArrayWheel[8]=new Image,imgArrayWheel[8].src="images/wheelSlices/wheel_back.png";var imgArrayCider2=[];imgArrayCider2[0]=new Image,imgArrayCider2[0].src="images/apple.png",imgArrayCider2[1]=new Image,imgArrayCider2[1].src="images/pear.png";var myRewards=[],collectItems={digUpSells:[{name:"Old Buckler",value:250,owned:0,onlyOnce:0,src:imgArrayItems[0].src,sub1:"Old",sub2:"wooden shield",who:"Friar"},{name:"Ancient Shield",value:250,owned:0,onlyOnce:0,src:imgArrayItems[1].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"},{name:"Ancient Tome",value:250,owned:0,onlyOnce:0,src:imgArrayItems[3].src,sub1:"This book might",sub2:"interest Friar Patrick",who:"Friar"},{name:"Locket",value:0,owned:0,onlyOnce:0,src:imgArrayItems[4].src,sub1:"There is a picture",sub2:"inside. Hmmm",who:"Felicia"},{name:"Old Armor",value:45,owned:0,onlyOnce:0,src:imgArrayItems[5].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"},{name:"Ancient Key",value:45,owned:0,onlyOnce:0,src:imgArrayItems[7].src,sub1:"I wonder what",sub2:"this will unlock",who:"Friar"},{name:"Emerald Necklace",value:75,owned:0,onlyOnce:0,src:imgArrayItems[8].src,sub1:"Take this to the",sub2:"mayor for 75 coins ",who:"Mayor"},{name:"Amethyst Necklace",value:50,owned:0,onlyOnce:0,src:imgArrayItems[9].src,sub1:"Take this to the",sub2:" mayor for 50 coins",who:"Mayor"},{name:"Ruby Necklace",value:100,owned:0,onlyOnce:0,src:imgArrayItems[10].src,sub1:"Take this to the",sub2:" mayor for 100 coins",who:"Mayor"},{name:"Saffire Necklace",value:125,owned:0,onlyOnce:0,src:imgArrayItems[11].src,sub1:"Take this to the",sub2:" mayor 125 coins",who:"Mayor"},{name:"Amethyst Ring",value:75,owned:0,onlyOnce:0,src:imgArrayItems[12].src,sub1:"Take this to the",sub2:" mayor 75 coins",who:"Mayor"},{name:"Emerald Ring",value:100,owned:0,onlyOnce:0,src:imgArrayItems[13].src,sub1:"Take this to the",sub2:" mayor 100 coins",who:"Mayor"},{name:"Ruby Ring",value:125,owned:0,onlyOnce:0,src:imgArrayItems[14].src,sub1:"Take this to the",sub2:" mayor 125 coins",who:"Mayor"},{name:"Ruby",value:60,owned:0,onlyOnce:0,src:imgArrayItems[15].src,sub1:"Take this to the",sub2:" mayor 60 coins",who:"Mayor"},{name:"Sapphire",value:40,owned:0,onlyOnce:0,src:imgArrayItems[16].src,sub1:"Take this to the",sub2:" mayor 40 coins",who:"Mayor"},{name:"Crumbling Scroll",value:45,owned:0,onlyOnce:0,src:imgArrayItems[17].src,sub1:"Be careful,",sub2:"it is falling apart",who:"Friar"},{name:"Old Sword",value:50,owned:0,onlyOnce:0,src:imgArrayItems[19].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"},{name:"Ancient Sword",value:150,owned:0,onlyOnce:0,src:imgArrayItems[20].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"}],digUpCollect:[{name:"Forefather's Journal",value:0,owned:0,onlyOnce:1,src:imgArrayItems[27].src},{name:"Forefather's Shield",value:0,owned:0,onlyOnce:1,src:imgArrayItems[2].src},{name:"Forefather's Sword",value:0,owned:0,onlyOnce:1,src:imgArrayItems[21].src},{name:"Forefather's Mail",value:0,owned:0,onlyOnce:1,src:imgArrayItems[6].src},{name:"Forefather's Helm",value:0,owned:0,onlyOnce:1,src:imgArrayItems[29].src},{name:"Forefather's Boots",value:0,owned:0,onlyOnce:1,src:imgArrayItems[39].src},{name:"Forefather's Greaves",value:0,owned:0,onlyOnce:1,src:imgArrayItems[31].src},{name:"Forefather's Gauntlets",value:0,owned:0,onlyOnce:1,src:imgArrayItems[37].src},{name:"Forefather's Amulet",value:0,owned:0,onlyOnce:1,src:imgArrayItems[40].src}],storeItems:[{name:"50 Iron Bars",value:100,owned:0,onlyOnce:0,src:imgArrayStore[0].src},{name:"50 Jars",value:100,owned:0,onlyOnce:0,src:imgArrayStore[1].src},{name:"Blessed Shovel",value:2500,owned:0,onlyOnce:1,src:imgArrayStore[2].src},{name:"Steel Pick",value:5e3,owned:0,onlyOnce:1,src:imgArrayStore[3].src},{name:"Fruit Press",value:7500,owned:0,onlyOnce:1,src:imgArrayStore[4].src},{name:"50 Bottles",value:200,owned:0,onlyOnce:0,src:imgArrayStore[5].src},{name:"50 Barrels",value:200,owned:0,onlyOnce:0,src:imgArrayStore[6].src},{name:"Lantern",value:5e3,owned:0,onlyOnce:1,src:imgArrayStore[7].src},{name:"Toys",value:500,owned:0,onlyOnce:0,src:imgArrayStore[8].src}]};try{null===localStorage.getItem("GuiGhostFarms_playerItems")&&localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),null===(collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems"))).digUpCollect[4]&&collectItems.digUpCollect.push({name:"Forefather's Helm ",value:0,owned:0,onlyOnce:1,src:imgArrayItems[29].src}),null===collectItems.digUpCollect[5]&&collectItems.digUpCollect.push({name:"Forefather's Boots ",value:0,owned:0,onlyOnce:1,src:imgArrayItems[39].src}),null===collectItems.digUpCollect[6]&&collectItems.digUpCollect.push({name:"Forefather's Greaves",value:0,owned:0,onlyOnce:1,src:imgArrayItems[31].src}),null===collectItems.digUpCollect[7]&&collectItems.digUpCollect.push({name:"Forefather's Gauntlets",value:0,owned:0,onlyOnce:1,src:imgArrayItems[37].src}),null===collectItems.digUpCollect[8]&&collectItems.digUpCollect.push({name:"Forefather's Amulet ",value:0,owned:0,onlyOnce:1,src:imgArrayItems[40].src}),null===collectItems.storeItems[7]&&collectItems.storeItems.push({name:"Lantern",value:5e3,owned:0,onlyOnce:0,src:imgArrayStore[6].src})}catch(e){console.log(e)}collectItems.digUpCollect[0].name="Forefather's Journal ",collectItems.digUpCollect[1].name="Forefather's Shield",collectItems.digUpCollect[2].name="Forefather's Sword",collectItems.digUpCollect[3].name="Forefather's Mail",collectItems.digUpCollect[4].name="Forefather's Helm",collectItems.digUpCollect[5].name="Forefather's Boots",collectItems.digUpCollect[6].name="Forefather's Greaves",collectItems.digUpCollect[7].name="Forefather's Gauntlets",collectItems.digUpCollect[8].name="Forefather's Amulet",collectItems.digUpCollect[0].src=imgArrayItems[27].src,collectItems.digUpCollect[1].src=imgArrayItems[2].src,collectItems.digUpCollect[2].src=imgArrayItems[21].src,collectItems.digUpCollect[3].src=imgArrayItems[6].src,collectItems.digUpCollect[4].src=imgArrayItems[29].src,collectItems.digUpCollect[5].src=imgArrayItems[39].src,collectItems.digUpCollect[6].src=imgArrayItems[31].src,collectItems.digUpCollect[7].src=imgArrayItems[37].src,collectItems.digUpCollect[8].src=imgArrayItems[40].src,collectItems.digUpSells[0].src=imgArrayItems[0].src,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems));var usedCodesArray=[];null===localStorage.getItem("usedCodes")&&localStorage.setItem("usedCodes",JSON.stringify(usedCodesArray)),usedCodesArray=JSON.parse(localStorage.getItem("usedCodes"));var upgradesInProgress={buildings:[{index:0,name:"H",timeLeft:0,currentBarnLevel:1},{index:1,name:"P",timeLeft:0,currentBarnLevel:1},{index:2,name:"O",timeLeft:0,currentBarnLevel:1},{index:3,name:"V",timeLeft:0,currentBarnLevel:1},{index:4,name:"LS",timeLeft:0,currentBarnLevel:1},{index:5,name:"HS",timeLeft:0,currentBarnLevel:1},{index:6,name:"WM",timeLeft:0,currentBarnLevel:1},{index:7,name:"ST",timeLeft:0,currentBarnLevel:1}]};null===localStorage.getItem("showStory")&&localStorage.setItem("showStory",1);var showStory=localStorage.getItem("showStory")||0;null===localStorage.getItem("MedFarm_upgradesInProgress")&&localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),(upgradesInProgress=JSON.parse(localStorage.getItem("MedFarm_upgradesInProgress"))).buildings[5]||(console.log("in here"),upgradesInProgress.buildings.push({index:5,name:"HS",timeLeft:0,currentBarnLevel:1})),upgradesInProgress.buildings[6]||upgradesInProgress.buildings.push({index:6,name:"WM",timeLeft:0,currentBarnLevel:1}),upgradesInProgress.buildings[7]||upgradesInProgress.buildings.push({index:7,name:"ST",timeLeft:0,currentBarnLevel:1}),localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress));var houseUpgrades={upgrades:[{name:"expansion",cost:0,owned:0},{name:"Single Bed",cost:200,owned:0},{name:"Chest",cost:250,owned:0},{name:"Sink",cost:300,owned:0},{name:"Table",cost:250,owned:0},{name:"Wood Chairs",cost:150,owned:0},{name:"Dressing Table",cost:500,owned:0},{name:"Bedside Table",cost:250,owned:0},{name:"Potted Plant",cost:150,owned:0},{name:"Couch",cost:500,owned:0},{name:"Curtains",cost:125,owned:0},{name:"Double Bed",cost:600,owned:0},{name:"Stool",cost:150,owned:0},{name:"Wardrobe",cost:750,owned:0},{name:"Fancy Couch",cost:750,owned:0},{name:"Bookshelves",cost:1e3,owned:0},{name:"Fancy Table",cost:800,owned:0},{name:"Fancy Chairs",cost:850,owned:0},{name:"Desk",cost:750,owned:0},{name:"Painting",cost:1e3,owned:0},{name:"Dish Cabinet",cost:800,owned:0},{name:"Trunk",cost:700,owned:0},{name:"Paint Walls Green",cost:1500,owned:0},{name:"Paint Walls Blue",cost:1500,owned:0},{name:"Paint Walls Pink",cost:1500,owned:0},{name:"Paint Walls Tan",cost:1500,owned:1}]},bakeryOptionVisible=0,bakeryOptionSelected=0;function checkHouseUpgradeState(){0!=houseUpgrades.upgrades[0].owned&&1!=houseUpgrades.upgrades[0].owned&&(houseUpgrades.upgrades[0].owned=0,houseUpgrades.upgrades[0].cost=0),0!=houseUpgrades.upgrades[1].owned&&1!=houseUpgrades.upgrades[1].owned&&(houseUpgrades.upgrades[1].owned=0,houseUpgrades.upgrades[1].cost=200),0!=houseUpgrades.upgrades[2].owned&&1!=houseUpgrades.upgrades[2].owned&&(houseUpgrades.upgrades[2].owned=0,houseUpgrades.upgrades[2].cost=250),0!=houseUpgrades.upgrades[3].owned&&1!=houseUpgrades.upgrades[3].owned&&(houseUpgrades.upgrades[3].owned=0,houseUpgrades.upgrades[3].cost=300),0!=houseUpgrades.upgrades[4].owned&&1!=houseUpgrades.upgrades[4].owned&&(houseUpgrades.upgrades[4].owned=0,houseUpgrades.upgrades[4].cost=250),0!=houseUpgrades.upgrades[5].owned&&1!=houseUpgrades.upgrades[5].owned&&(houseUpgrades.upgrades[5].owned=0,houseUpgrades.upgrades[5].cost=150),0!=houseUpgrades.upgrades[6].owned&&1!=houseUpgrades.upgrades[6].owned&&(houseUpgrades.upgrades[6].owned=0,houseUpgrades.upgrades[6].cost=500),0!=houseUpgrades.upgrades[7].owned&&1!=houseUpgrades.upgrades[7].owned&&(houseUpgrades.upgrades[7].owned=0,houseUpgrades.upgrades[7].cost=250),0!=houseUpgrades.upgrades[8].owned&&1!=houseUpgrades.upgrades[8].owned&&(houseUpgrades.upgrades[8].owned=0,houseUpgrades.upgrades[8].cost=150),0!=houseUpgrades.upgrades[9].owned&&1!=houseUpgrades.upgrades[9].owned&&(houseUpgrades.upgrades[9].owned=0,houseUpgrades.upgrades[9].cost=500),0!=houseUpgrades.upgrades[10].owned&&1!=houseUpgrades.upgrades[10].owned&&(houseUpgrades.upgrades[10].owned=0,houseUpgrades.upgrades[10].cost=125),0!=houseUpgrades.upgrades[11].owned&&1!=houseUpgrades.upgrades[11].owned&&(houseUpgrades.upgrades[11].owned=0,houseUpgrades.upgrades[11].cost=600),0!=houseUpgrades.upgrades[12].owned&&1!=houseUpgrades.upgrades[12].owned&&(houseUpgrades.upgrades[12].owned=0,houseUpgrades.upgrades[12].cost=150),0!=houseUpgrades.upgrades[13].owned&&1!=houseUpgrades.upgrades[13].owned&&(houseUpgrades.upgrades[13].owned=0,houseUpgrades.upgrades[13].cost=750),0!=houseUpgrades.upgrades[14].owned&&1!=houseUpgrades.upgrades[14].owned&&(houseUpgrades.upgrades[14].owned=0,houseUpgrades.upgrades[14].cost=750),0!=houseUpgrades.upgrades[15].owned&&1!=houseUpgrades.upgrades[15].owned&&(houseUpgrades.upgrades[15].owned=0,houseUpgrades.upgrades[15].cost=1e3),0!=houseUpgrades.upgrades[16].owned&&1!=houseUpgrades.upgrades[16].owned&&(houseUpgrades.upgrades[16].owned=0,houseUpgrades.upgrades[16].cost=800),0!=houseUpgrades.upgrades[17].owned&&1!=houseUpgrades.upgrades[17].owned&&(houseUpgrades.upgrades[17].owned=0,houseUpgrades.upgrades[17].cost=850),0!=houseUpgrades.upgrades[18].owned&&1!=houseUpgrades.upgrades[18].owned&&(houseUpgrades.upgrades[18].owned=0,houseUpgrades.upgrades[18].cost=750),0!=houseUpgrades.upgrades[19].owned&&1!=houseUpgrades.upgrades[19].owned&&(houseUpgrades.upgrades[19].owned=0,houseUpgrades.upgrades[19].cost=1e3),0!=houseUpgrades.upgrades[20].owned&&1!=houseUpgrades.upgrades[20].owned&&(houseUpgrades.upgrades[20].owned=0,houseUpgrades.upgrades[20].cost=800),0!=houseUpgrades.upgrades[21].owned&&1!=houseUpgrades.upgrades[21].owned&&(houseUpgrades.upgrades[21].owned=0,houseUpgrades.upgrades[21].cost=700),0!=houseUpgrades.upgrades[22].owned&&1!=houseUpgrades.upgrades[22].owned&&(houseUpgrades.upgrades[22].owned=0,houseUpgrades.upgrades[22].cost=1500),0!=houseUpgrades.upgrades[23].owned&&1!=houseUpgrades.upgrades[23].owned&&(houseUpgrades.upgrades[23].owned=0,houseUpgrades.upgrades[23].cost=1500),0!=houseUpgrades.upgrades[24].owned&&1!=houseUpgrades.upgrades[24].owned&&(houseUpgrades.upgrades[24].owned=0,houseUpgrades.upgrades[24].cost=1500),0!=houseUpgrades.upgrades[25].owned&&1!=houseUpgrades.upgrades[25].owned&&(houseUpgrades.upgrades[25].owned=0,houseUpgrades.upgrades[25].cost=1500)}null===localStorage.getItem("bakeryOptionSelected")&&localStorage.setItem("bakeryOptionSelected",0),bakeryOptionSelected=localStorage.getItem("bakeryOptionSelected")||0,null===localStorage.getItem("GuiGhostFarms_houseUpgrades")&&localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),houseUpgrades=JSON.parse(localStorage.getItem("GuiGhostFarms_houseUpgrades")),checkHouseUpgradeState();var mayorReady=0,friarReady=0,saraReady=0,feliciaReady=0,collectibleOnScreen=!1,townSceneActive=0,sceneActive="Home",adFreeVersion=0,rewardTypes={TypeReward:[{index:0,type:"Coins"},{index:1,type:"Item"},{index:2,type:"Stars"},{index:3,type:"Tools"},{index:4,type:"Effect"},{index:5,type:"Reputation"},{index:6,type:"Shortage"}]},questParamsHerald={crops:[{index:0,crop1:0,crop1Amount:50,crop2:1,crop2Amount:50},{index:1,crop1:1,crop1Amount:50,crop2:2,crop2Amount:50},{index:2,crop1:2,crop1Amount:50,crop2:3,crop2Amount:50},{index:3,crop1:3,crop1Amount:50,crop2:4,crop2Amount:50},{index:4,crop1:4,crop1Amount:50,crop2:5,crop2Amount:50},{index:5,crop1:7,crop1Amount:50,crop2:10,crop2Amount:50},{index:6,crop1:11,crop1Amount:50,crop2:12,crop2Amount:50},{index:7,crop1:18,crop1Amount:50,crop2:13,crop2Amount:50},{index:8,crop1:0,crop1Amount:50,crop2:3,crop2Amount:50},{index:9,crop1:18,crop1Amount:50,crop2:7,crop2Amount:50}]},heraldOrderTop=0;null===localStorage.getItem("MedFarms_heraldOrdersFilled")&&localStorage.setItem("MedFarms_heraldOrdersFilled",0),heraldOrderTop=parseInt(localStorage.getItem("MedFarms_heraldOrdersFilled"))||0;var heraldIntroSeen=0;null===localStorage.getItem("MedFarms_heraldIntro")&&localStorage.setItem("MedFarms_heraldIntro",0),heraldIntroSeen=parseInt(localStorage.getItem("MedFarms_heraldIntro"))||0;var heraldOrder1=0,heraldOrder2=1,daysTillHerald=1,questParamsPatricia={speech:[{index:0,Text:"Da Da.... I want some toys. If you find some will you buy them for me?"},{index:1,Text:"Round and round and round I go. I just don't seem to be getting anywhere"},{index:2,Text:"When Papa Elmo visits he is so silly. He is always saying things like DIBBA DABBA "},{index:3,Text:"Mom would not let me have candy. She is a meany meany Mc'Meanerson."},{index:4,Text:" Well I was...sitting on a fencepost, chewing my hay straw, playing with my toys..... "},{index:5,Text:"I'm a liiiiitttttle girl. I like dresses, princesses, candy, and baby dolls"}]},questParamsMiller={speech:[{highestCompleted:0,available:!0},{name:1,Text:"I used to be a kings guardsman, but then I lost my eye in battle. I'm getting to old for that life anyway"},{name:2,Text:"My wife Connie and I came right away when the King told us you were restoring the WINDMILL."},{name:3,Text:"Connie says that she could make use of the flour we are making if she had a BAKERY to work in"},{name:4,Text:"Life is peaceful here on this farm. Thank you for allowing us to live here, our service is the least we could do"},{name:5,Text:"I'm going to explore around in the woods surrounding this farm. I will let you know if I find something interesting"}]},questParamsConnie={speech:[{highestCompleted:0,available:!0},{name:1,Text:"If we cleared out this old storehouse, we could convert it to a BAKERY"},{name:2,Text:"Thanks for giving my husband something to do, he was driving me crazy at home since he retired."},{name:3,Text:"While I am good at baking, I also like to learn about herbs and medicines"},{name:4,Text:"We always said that someday we would retire to a farm. Well here we are, thanks to you!"},{name:5,Text:"It's so good to have different recipes to bake besides just bread."}]},questParams={mayor:[{highestCompleted:0,available:!0},{name:"Necklackes",text:"Many things have been found on your farm. If you DIG UP any JEWELRY, let me know",completed:0,rewardType:0,rewardAmount:100,rewardItem:0,requiredItem:"none",successText:"Ill buy that jewelery  "},{name:"Rings",text:"Come back to me time to time. I may have things to do. Got any Jewels?",completed:0,rewardType:0,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "},{name:"Gems",text:"The King sends Heralds sometimes. Please them and you may gain royal favor",completed:0,rewardType:0,rewardAmount:200,rewardItem:0,requiredItem:"none",successText:" "},{name:"Felicia",text:"My wife Felicia runs the market, and is always looking for new foods to sell",completed:0,rewardType:0,rewardAmount:200,rewardItem:0,requiredItem:"none",successText:" "},{name:"Felicia2",text:"If you find map fragments, the Friar and assemble them",completed:0,rewardType:0,rewardAmount:200,rewardItem:0,requiredItem:"none",successText:" "},{name:"Land",text:"If you gain enough royal favor, the king may grant you additional lands",completed:0,rewardType:0,rewardAmount:200,rewardItem:0,requiredItem:"none",successText:" "}],monk:[{highestCompleted:0,available:!0},{name:"Bounty",text:"I am here to study old relics. Bring me any ARTIFACTS you may DIG UP",completed:0,rewardType:4,rewardAmount:10,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact",text:"The more artifacts you bring me, the more I can learn about this area",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact2",text:"I learned that a previous owner of your farm may have been a noble",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact3",text:"Some of the artifacts you find could be HEIRLOOMS. These are special items you keep",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact4",text:"My research indicates that you have a strong claim to noble heritage",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "}],felicia:[{highestCompleted:0,available:!0},{name:"Foods",text:"I wish this market had some more variety",completed:0,rewardType:5,rewardAmount:100,rewardItem:0,requiredItem:"none",successText:" "},{name:"Lost Locket",text:"I lost my locket while visiting your wife",completed:0,rewardType:5,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "},{name:"Necklace",text:"",completed:0,rewardType:5,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "}],sara:[{highestCompleted:0,available:!1},{name:"Royal Lineage",text:"I heard a rumor you came from royal stock",completed:0,rewardType:0,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:"You found my broach! "},{name:"Cider",text:"This cooler weather has people wanting APPLE CIDER. Can you make some?",completed:0,rewardType:0,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "}],denise:[{highestCompleted:0,available:!0},{name:"Furniture",text:"We need some FURNITURE",completed:0,rewardType:4,rewardAmount:1,rewardItem:0,requiredItem:"none",successText:" "},{name:"Salt",text:" ",completed:0,rewardType:4,rewardAmount:150,rewardItem:0,requiredItem:"Salt",successText:" "}],blacksmith:[{highestCompleted:0,available:!0},{name:"Iron",text:"I need more Iron Bars",completed:0,rewardType:4,rewardAmount:1,rewardItem:0,requiredItem:"Iron",successText:" "},{name:"Coal",text:"",completed:0,rewardType:4,rewardAmount:2,rewardItem:0,requiredItem:"Coal",successText:" "}],helga:[{highestCompleted:0,available:!0},{name:"Juice Press",text:"If we bought a FRUIT PRESS, we could make CIDER",completed:0,rewardType:5,rewardAmount:100,rewardItem:0,requiredItem:"none",successText:" "},{name:"Bottles",text:"",completed:0,rewardType:5,rewardAmount:150,rewardItem:0,requiredItem:"Bottles",successText:" "}],terric:[{highestCompleted:0,available:!0},{name:"Upgrade",text:"If we had JARS and upgaded the Barn, we could make JELLY.",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"Jars"},{name:"Jars",text:"We need some more jelly JARS. Can you buy some in town?",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"Jars"},{name:"Windmill",text:"The path north leads to a windmill, but was ordered closed by the King",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"None"},{name:"Bottles",text:"We need some more BOTTLES. Can you buy some in town?",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"Bottles"}]},questParamsEva={speech:[{index:0,text:"I take care of the chickens and pigs"},{index:1,text:"My grandfather used to tell a story about a local lord who disappeared"},{index:2,text:"I named the pigs Hambone, Bacon, and PorkChop"},{index:3,text:"Make sure you keep some crops around to feed the livestock or they will stop producing"},{index:4,text:"Legends say there are caverns close by, but the entrance location was lost a long time ago"},{index:5,text:"I named the 3 chickens Soup, Feathers, and Bob"}]},questParamsPlayer={quests:[{index:0,event:"tremor",text:"Did you feel that tremor? There are earthquakes here"},{index:1,event:"slide",text:"Look a landslide occurred and opened a new cave up"}]},landSlideDone=0;null===localStorage.getItem("landSlideDone")&&localStorage.setItem("landSlideDone",0),landSlideDone=localStorage.getItem("landSlideDone")||0;var tutStep=1;null===localStorage.getItem("GuiGhostFarms_tutStep")&&localStorage.setItem("GuiGhostFarms_tutStep",1),tutStep=localStorage.getItem("GuiGhostFarms_tutStep")||1;var tutSeen=0;null===localStorage.getItem("GuiGhostFarms_tutSeen")&&localStorage.setItem("GuiGhostFarms_tutSeen",0),tutSeen=parseInt(localStorage.getItem("GuiGhostFarms_tutSeen"))||0;var homeCrop=0,townRep=0;null===localStorage.getItem("MedFarms_townRep")&&localStorage.setItem("MedFarms_townRep",0),townRep=JSON.parse(localStorage.getItem("MedFarms_townRep"))||0;var seenPremiumPromo=0;null===localStorage.getItem("MedFarms_seenPremiumPromo")&&localStorage.setItem("MedFarms_seenPremiumPromo",0),seenPremiumPromo=JSON.parse(localStorage.getItem("MedFarms_seenPremiumPromo"))||0,null===localStorage.getItem("adWatched")&&localStorage.setItem("adWatched",0);var adWatched=0;null===localStorage.getItem("showHighLight")&&localStorage.setItem("showHighLight",0);var showHighLight=localStorage.getItem("showHighLight")||0;null===localStorage.getItem("GuiGhostFarms_muted")&&localStorage.setItem("GuiGhostFarms_muted",0);var selectedHomeCrop=0;null===localStorage.getItem("MedFarms_selectedHomeCrop")&&localStorage.setItem("MedFarms_selectedHomeCrop",0),selectedHomeCrop=localStorage.getItem("MedFarms_selectedHomeCrop")||0,(5<(homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0)||isNaN(homeCrop)||homeCrop<0)&&(homeCrop=0),localStorage.setItem("MedFarm_StarCashBoost",0),localStorage.setItem("moreGamesClicked",0);var starCash=15,moneyBefore=0,startedMove=0;null===localStorage.getItem("starCash")&&(localStorage.setItem("starCash",15),starCash=15),starCash=parseInt(localStorage.getItem("starCash"));var orchardText="Apple Trees",landStateMaster=[],homeTreesLeft=0,homeTreesRight=0;null===localStorage.getItem("MedFarms_homeTreesLeft")&&localStorage.setItem("MedFarms_homeTreesLeft",0),homeTreesLeft=localStorage.getItem("MedFarms_homeTreesLeft")||0,null===localStorage.getItem("MedFarms_homeTreesRight")&&localStorage.setItem("MedFarms_homeTreesRight",0),homeTreesRight=localStorage.getItem("MedFarms_homeTreesRight")||0,null===localStorage.getItem("landStates")&&localStorage.setItem("landStates",JSON.stringify(landStateMaster)),landStateMaster=JSON.parse(localStorage.getItem("landStates"));var seen1stHouseNotif=0;null===localStorage.getItem("MedFarms_seen1stHouseNotif")&&localStorage.setItem("MedFarms_seen1stHouseNotif",0),seen1stHouseNotif=localStorage.getItem("MedFarms_seen1stHouseNotif")||0,localStorage.setItem("MedFarms_buyingSmallStars",0),localStorage.setItem("MedFarms_buyingLargeStars",0),localStorage.setItem("MedFarms_buyingStarterPack",0),localStorage.setItem("MedFarms_buyingMasterPack",0),localStorage.setItem("acreDiscount1",0),localStorage.setItem("acreDiscount2",0),localStorage.setItem("acreDiscount3",0),localStorage.setItem("acreDiscount4",0);var waterSound=new lime.audio.Audio("audio/water.mp3"),incorrectSound=new lime.audio.Audio("audio/incorrect.mp3"),digSound=new lime.audio.Audio("audio/digAug21.mp3"),hammerSound=new lime.audio.Audio("audio/hammer.mp3"),pickSound=new lime.audio.Audio("audio/pickup.mp3"),successSound=new lime.audio.Audio("audio/success.mp3"),caveLoop=new lime.audio.Audio("audio/Cafofo_Tension4.mp3"),successSound2=new lime.audio.Audio("audio/blessing21.mp3"),itemCarryOver=-1,showHighlight2=localStorage.getItem("showHighLight")||0,storeHouseUpgraded=0;null===localStorage.getItem("storeHouseUpgraded")&&localStorage.setItem("storeHouseUpgraded",0),storeHouseUpgraded=localStorage.getItem("storeHouseUpgraded")||0;var flourticker=0,flourWaiting=0,countPlanted=0;null===localStorage.getItem("countPlanted")&&localStorage.setItem("countPlanted",0),countPlanted=localStorage.getItem("countPlanted")||0;var waterPopNotif=0,heirloom1Chest=(new lime.Sprite).setAnchorPoint(0,0).setPosition(218,305).setSize(50,40).setFill(imgArrayItems[42]),farming={EMPTY:0,PLOWED:1,GROWING:2,READY:3,WITHER:4,WATER:5,Land:function(i,o,s,n,r,a,l){function d(e,t,i){for(var o=0;o<e.length;o+=1)if(e[o][t]===i)return o;return-1}lime.Sprite.call(this),this.setAnchorPoint(0,0),this.setSize(i.tile_size,i.tile_size),this.setFill(imgArray6[5]),"tlt"==a&&this.setFill(imgArrayGround[2]),"trt"==a&&this.setFill(imgArrayGround[1]),"brt"==a&&this.setFill(imgArrayGround[3]),"blt"==a&&this.setFill(imgArrayGround[4]),3==r&&this.setFill(imgArray4[8]),32==r&&this.setFill(imgArray4[8]),5==r&&this.setFill(imgArray[34]);var g=this,t=0;goog.events.listen(this,["mousedown","touchstart"],function(e){0!=globalModalBlock&&g.state!=farming.WITHER||0!=startedMove&&g.state!=farming.WITHER||(h(),t=1,lime.scheduleManager.callAfter(function(){t=0},this,500),startedMove=1)}),goog.events.listen(this,["touchmove"],function(e){0!=globalModalBlock&&g.state!=farming.WITHER||0==t&&(h(),t=1,lime.scheduleManager.callAfter(function(){t=0},this,500))}),goog.events.listen(this,["mousemove"],function(e){0==globalModalBlock&&0==t&&1==startedMove&&(h(),t=1,lime.scheduleManager.callAfter(function(){t=0,0},this,750))}),goog.events.listen(this,["mouseup","touchend"],function(e){startedMove=0});var e,c=d(landStateMaster,"name",l);-1==c?(this.state=farming.EMPTY,this.needsWater=!1,10==r&&(o.currentCrop=22),e={name:l,props:{state:parseInt(this.state),deathTime:0,ripeTime:0,crop:parseInt(o.currentCrop)}},landStateMaster.push(e),localStorage.setItem("landStates",JSON.stringify(landStateMaster))):(this.state=parseInt(landStateMaster[c].props.state),this.state=Math.abs(this.state),this.crop=parseInt(landStateMaster[c].props.crop),this.crop=Math.abs(this.crop),this.ripeTime=5,this.ripeTime=Math.abs(this.ripeTime),this.deathTime=parseInt(landStateMaster[c].props.deathTime),this.deathTime=Math.abs(this.deathTime),10==r&&(this.crop=22,landStateMaster[c].props.crop=22),this.state==farming.READY?g.setFill("images/"+i.crops[this.crop].image):this.state==farming.WITHER?this.setFill("images/"+i.crops[this.crop].withered):(this.state==farming.GROWING&&this.ripeTime>1230*i.crops[this.crop].time_to_ripe&&g.setFill("images/"+i.crops[this.crop].grow1),this.state==farming.GROWING&&this.ripeTime<1230*i.crops[this.crop].time_to_ripe&&3e4<this.ripeTime&&g.setFill("images/"+i.crops[this.crop].grow2),this.state==farming.GROWING&&this.ripeTime<=3e4&&g.setFill("images/"+i.crops[this.crop].grow3)));var m=0,p={};function h(){homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,homeCrop=Math.abs(homeCrop),1==r&&(o.currentCrop=homeCrop),32==r&&(o.currentCrop=9),3==r&&(o.currentCrop=8),10==r&&(o.currentCrop=22),o.currentCrop=Math.abs(o.currentCrop);var e=i.crops[o.currentCrop].grow1;1==r&&1==homeTreesRight&&"t10"==l&&1!=collectItems.digUpCollect[1].owned&&heirloom1Chest.setHidden(!1);var t=1e3;g.state==farming.PLOWED&&(t=8<=Math.floor(10*Math.random())?1700:2e3),moneyBefore=player.money,g.state==farming.WITHER?(3==r&&g.setFill("images/Orchard/wither_treesApple.png"),32==r&&g.setFill("images/Orchard/wither_treesPear.png"),5==r&&g.setFill("images/vinyard/grapes_withered.png"),g.setFill(imgArrayGround[0]),"tlt"==a&&g.setFill(imgArrayGround[2]),"trt"==a&&g.setFill(imgArrayGround[1]),"brt"==a&&g.setFill(imgArrayGround[3]),"blt"==a&&g.setFill(imgArrayGround[4]),3==r&&g.setFill(imgArray4[8]),32==r&&g.setFill(imgArray4[8]),5==r&&g.setFill(imgArray[34]),g.state=farming.EMPTY):g.state==farming.EMPTY?(g.setFill(imgArray2[2]),g.state=farming.PLOWED,3==r&&g.setFill("images/Orchard/fertilize_trees.png"),32==r&&g.setFill("images/Orchard/fertilize_trees.png"),5==r&&g.setFill("images/vinyard/grapes_Fertilize.png"),f(),digSound.play()):g.state==farming.WATER&&0<waterStored?(g.needsWater=!1,waterSound.play(),P.setHidden(!0),g.setFill("images/"+i.crops[g.crop].grow2),waterStored=parseInt(waterStored-1),localStorage.setItem("MedFarms_waterStored",waterStored),g.ripeTime-=2e3,g.state=farming.GROWING):g.state==farming.WATER&&waterStored<=0?(incorrectSound.play(),waterStored=0,waterPopNotif=1):g.state==farming.PLOWED&&player.money>=i.crops[o.currentCrop].cost?(o.currentCrop=Math.abs(o.currentCrop),e=i.crops[o.currentCrop].grow1,g.setFill("images/"+e),g.state=farming.GROWING,g.crop=o.currentCrop,g.ripeTime=t*i.crops[o.currentCrop].time_to_ripe,g.deathTime=15e3*i.crops[o.currentCrop].time_to_death,g.thirdTime=1214*i.crops[o.currentCrop].time_to_ripe,player.money=player.money-i.crops[o.currentCrop].cost,countPlanted=parseInt(countPlanted)+1,localStorage.setItem("countPlanted",countPlanted),i.updateMoney(),i.displayCost(s,n,i.crops[o.currentCrop].cost),m=d(landStateMaster,"name",l),p={state:g.state,deathTime:g.deathTime,ripeTime:g.ripeTime,crop:g.crop},landStateMaster[m].props=p,localStorage.setItem("landStates",JSON.stringify(landStateMaster))):g.state==farming.PLOWED&&player.money<i.crops[o.currentCrop].cost?(incorrectSound.play(),o.currentCrop=Math.abs(o.currentCrop),i.displayCost(s,n,i.crops[o.currentCrop].cost+" Required")):g.state==farming.READY&&(g.setFill(imgArrayGround[0]),"tlt"==a&&g.setFill(imgArrayGround[2]),"trt"==a&&g.setFill(imgArrayGround[1]),"brt"==a&&g.setFill(imgArrayGround[3]),"blt"==a&&g.setFill(imgArrayGround[4]),3==r&&g.setFill(imgArray4[8]),32==r&&g.setFill(imgArray4[8]),5==r&&g.setFill(imgArray[34]),10==r&&(g.crop=22),pickSound.stop(),pickSound.play(),g.state=farming.EMPTY,pickedEver=parseInt(pickedEver)+1,player.cropsStored[g.crop].stored+=1,10==r&&1==storeHouseUpgraded&&(player.cropsStored[22].stored+=1,pickedEver=parseInt(pickedEver)+1),5==r&&2==vinyardHouseLevel&&(player.cropsStored[12].stored+=1,pickedEver=parseInt(pickedEver)+1),2==r&&(player.cropsStored[6].stored+=1,pickedEver=parseInt(pickedEver)+1,i.haySize()),3==r&&2==orchardBarnLevel&&(g.setFill(imgArray4[8]),player.cropsStored[g.crop].stored+=1,pickedEver=parseInt(pickedEver)+1),32==r&&2==orchardBarnLevel&&(g.setFill(imgArray4[8]),player.cropsStored[g.crop].stored+=1,pickedEver=parseInt(pickedEver)+1),v.setHidden(!0),i.updateMoney(),i.updateHarvest(s,n,g.crop),i.updateStored())}var u,y=95,S=0,f=function(){var e;dayCount=parseInt(localStorage.getItem("GuiGhostFarms_dayCount")),1==collectItems.storeItems[2].owned&&(y=80),1==r&&0==S&&45<dayCount&&(S=1,randomChance=Math.round(Math.random()*y),randomChance>=y&&(e=Object.keys(collectItems.digUpSells).length,randomItemNumber=Math.round(Math.random()*(e-1)),randomItemNumber<0&&(randomItemNumber=0),0==(collectItems.digUpSells[randomItemNumber].owned||0)&&0==collectibleOnScreen&&(u=collectItems.digUpSells[randomItemNumber].name,itemCarryOver=randomItemNumber,collectItems.digUpSells[randomItemNumber].owned=1,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),i.displayCollectible(s,n,u,!1),lime.scheduleManager.callAfter(function(){S=0},this,12e4))))};3==r&&g.state==farming.EMPTY||32==r&&g.state==farming.EMPTY?g.setFill(imgArray4[8]):5==r&&g.state==farming.EMPTY&&g.setFill(imgArray[34]),dt=1e3;var A,w=adWatched=0,F=(new lime.Label).setAnchorPoint(0,0).setPosition(-5,21).setSize(25,25).setText("6").setFontColor("azure").setFontSize(8).setOpacity(.5),P=(new lime.Sprite).setPosition(23,16).setSize(12,16).setFill(imgArray[110]),v=(new lime.Sprite).setPosition(20,16).setSize(25,25).setFill(imgArray[119]);lime.scheduleManager.scheduleWithDelay(function(){w=localStorage.getItem("adWatched")||0,A=localStorage.getItem("MedFarm_StarCashBoost")||0,1!=w||g.state!=farming.GROWING&&g.state!=farming.WATER||0!=A||(g.ripeTime=0,g.state=farming.GROWING,g.needsWater=!1,P.setHidden(!0),this.setFill("images/"+i.crops[this.crop].image),lime.scheduleManager.callAfter(function(){localStorage.setItem("adWatched",0)},this,100),successSound.play()),this.state==farming.GROWING?this.ripeTime<=0?(this.state=farming.READY,this.setFill("images/"+i.crops[this.crop].image),F.setHidden(!0).setOpacity(.6),this.appendChild(v),v.setHidden(!1)):this.ripeTime-=1e3:this.state==farming.READY&&(this.deathTime<=0?(this.state=farming.WITHER,this.setFill("images/"+i.crops[this.crop].withered)):--this.deathTime),this.state==farming.GROWING&&(this.appendChild(F),F.setText(Math.round(this.ripeTime/1e3/2)).setHidden(!1),onlyOnceWater=1,this.ripeTime<=12e4&&119e3<=this.ripeTime?(this.setFill("images/"+i.crops[this.crop].grow2).appendChild(F),F.setText(Math.round(this.ripeTime/1e3/2)).setHidden(!1).setOpacity(.9),this.appendChild(P),P.setHidden(!1),this.needsWater=!0,this.ripeTime+=1e3,this.state=farming.WATER):this.ripeTime<=3e4?(this.setFill("images/"+i.crops[this.crop].grow3).appendChild(F),F.setText(Math.round(this.ripeTime/1e3/2)).setHidden(!1).setOpacity(1)):this.thirdTime>=this.ripeTime?(this.setFill("images/"+i.crops[this.crop].grow2).appendChild(F),F.setText(Math.round(this.ripeTime/1e3/2)).setHidden(!1).setOpacity(.8)):--this.deathTime),2==r&&g.state==farming.GROWING&&(this.ripeTime<=15e3?g.setFill("images/"+i.crops[6].grow3):this.thirdTime>=this.ripeTime&&g.setFill("images/"+i.crops[6].grow2)),3==r||32==r?(F.setPosition(15,40),v.setPosition(55,18)):5==r&&F.setPosition(5,40),8==i.crops[this.crop]&&this.deathTime<0||9==i.crops[this.crop]&&this.deathTime<0?this.setFill(imgArray4[8]):12==i.crops[this.crop]&&this.deathTime<0&&this.setFill(imgArray[34]),3==r&&g.state==farming.EMPTY||32==r&&g.state==farming.EMPTY?g.setFill(imgArray4[8]):5==r&&g.state==farming.EMPTY&&g.setFill(imgArray[34]);var e={state:this.state,deathTime:this.deathTime,ripeTime:this.ripeTime,crop:this.crop},t=d(landStateMaster,"name",l);landStateMaster[t].props=e,localStorage.setItem("landStates",JSON.stringify(landStateMaster)),this.state==farming.WATER?(this.appendChild(P),P.setHidden(!1),this.needsWater=!0,this.setFill("images/"+i.crops[this.crop].grow2),P.setPosition(23,16),lime.scheduleManager.callAfter(function(){P.setPosition(23,20)},this,500)):this.state==farming.READY&&(P.setHidden(!0),this.needsWater=!1,this.setFill("images/"+i.crops[this.crop].image).appendChild(v),v.setPosition(15,12).setHidden(!1).setRotation(0),3!=r&&32!=r||(F.setPosition(15,40),v.setPosition(20,18)),lime.scheduleManager.callAfter(function(){v.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){v.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){v.setRotation(270)},this,750))},this,dt)}};goog.inherits(farming.Land,lime.Sprite),lime.Scene=function(){lime.Node.call(this),this.setAnchorPoint(0,0),this.domClassName="lime-scene",this.createDomElement()},goog.inherits(lime.Scene,lime.Node),lime.Scene.prototype.getScene=function(){return this},lime.Scene.prototype.measureContents=function(){return this.getFrame()},lime.Button=function(e,t){lime.Layer.call(this),this.domClassName="lime-button",goog.isDef(e)&&this.setUpState(e),goog.isDef(t)&&this.setDownState(t);var i=this;goog.events.listen(this,["mousedown","touchstart","touchmove"],function(e){i.setState(lime.Button.State.DOWN),e.swallow("mousemove",function(e){i.hitTest(e)?i.setState(lime.Button.State.DOWN):i.setState(lime.Button.State.UP)}),e.swallow("touchmove",function(e){i.hitTest(e)||(i.setState(lime.Button.State.UP),e.release())}),e.swallow(["mouseup","touchend"],function(e){i.hitTest(e)&&i.dispatchEvent({type:lime.Button.Event.CLICK}),this.setState(lime.Button.State.UP)})})},goog.inherits(lime.Button,lime.Layer),lime.Button.State={UP:0,DOWN:1},lime.Button.Event={UP:"up",DOWN:"down",CLICK:"click"},lime.Button.prototype.setUpState=function(e){return this.upstate=e,this.appendChild(this.upstate),this.state_=-1,this.setState(lime.Button.State.UP)},lime.Button.prototype.setDownState=function(e){return this.downstate=e,this.appendChild(e),this.state_=-1,this.setState(lime.Button.State.UP)},lime.Button.prototype.getState=function(){return this.state_},lime.Button.prototype.setState=function(e){if(e==this.state_)return this;this.state_==lime.Button.State.UP&&e==lime.Button.State.DOWN&&this.dispatchEvent({type:lime.Button.Event.DOWN}),this.state_==lime.Button.State.DOWN&&e==lime.Button.State.UP&&this.dispatchEvent({type:lime.Button.Event.UP});var t=this.upstate;return goog.isDef(this.downstate)&&(lime.Button.State.DOWN==e?t=this.downstate:this.downstate.setHidden(!0)),t!=this.upstate&&this.upstate.setHidden(!0),t.setHidden(!1),this.state_=e,this},lime.Renderer.CANVAS.ROUNDEDRECT={},lime.Renderer.DOM.ROUNDEDRECT={},lime.RoundedRect=function(){lime.Sprite.call(this),this.setRadius(5)},goog.inherits(lime.RoundedRect,lime.Sprite),lime.RoundedRect.prototype.id="roundedrect",lime.RoundedRect.prototype.supportedRenderers=[lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.ROUNDEDRECT),lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.ROUNDEDRECT)],lime.RoundedRect.prototype.getRadius=function(){return this.radius_},lime.RoundedRect.prototype.getUnitPercentage=function(){return this.unitPercentage_},lime.RoundedRect.prototype.setRadius=function(e,t){return this.unitPercentage_=t||!1,this.radius_=e,this},lime.Renderer.DOM.ROUNDEDRECT.draw=function(e){this.getSize(),lime.Renderer.DOM.SPRITE.draw.call(this,e),lime.style.setBorderRadius(e,[this.radius_*this.getQuality(),this.radius_*this.getQuality()])},lime.Renderer.CANVAS.ROUNDEDRECT.draw=function(e){this.getSize(),this.getFill();var t=this.getFrame(),i=this.getRadius(),o=t.left,s=t.top,n=t.right-t.left,t=t.bottom-t.top;e.save(),e.beginPath(),e.moveTo(o+i,s),e.lineTo(o+n-i,s),e.quadraticCurveTo(o+n,s,o+n,s+i),e.lineTo(o+n,s+t-i),e.quadraticCurveTo(o+n,s+t,o+n-i,s+t),e.lineTo(o+i,s+t),e.quadraticCurveTo(o,s+t,o,s+t-i),e.lineTo(o,s+i),e.quadraticCurveTo(o,s,o+i,s),e.closePath(),e.clip(),lime.Renderer.CANVAS.SPRITE.draw.call(this,e),this.stroke_&&(e.lineWidth*=2,e.stroke()),e.restore()},lime.Renderer.CANVAS.LABEL={},lime.Renderer.DOM.LABEL={},lime.Label=function(e){lime.Sprite.call(this),this.setText(e),this.setFontFamily(lime.Label.defaultFont),this.setFontSize(14),this.setFontColor("#000"),this.setAlign("center"),this.setFontWeight("400"),this.setPadding(0),this.setLineHeight(1.15),this.setShadow(null),this.setFill(255,255,255,0)},goog.inherits(lime.Label,lime.Sprite),lime.Label.prototype.id="label",lime.Label.defaultFont="Arial",lime.Label.prototype.supportedRenderers=[lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.LABEL),lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.LABEL)],function(){var o;lime.Label.prototype.measureText=function(){goog.isDef(o)||(o=document.createElement("canvas").getContext("2d"));var e=this.getLineHeight()*this.getFontSize();o.font=this.getFontSize()+"px "+this.getFontFamily();var t=o.measureText(this.text_),t=goog.userAgent.WEBKIT?t.width:t.width+1;lime.userAgent.IOS5&&(t+=1);var i=this.stroke_?this.stroke_.width_:0;return new goog.math.Size(this.padding_[1]+this.padding_[3]+t+2*i,this.padding_[0]+this.padding_[2]+e+2*i)}}(),lime.Label.prototype.getSize=function(){var e=lime.Node.prototype.getSize.call(this);return e&&(e.width||e.height)?e:this.measureText()},lime.Label.prototype.getText=function(){return this.text_},lime.Label.prototype.setText=function(e){return this.text_=e+"",this.setDirty(lime.Dirty.CONTENT),delete this.words_,this},lime.Label.prototype.getFontFamily=function(){return this.fontFamily_},lime.Label.prototype.setFontWeight=function(e){return this.fontWeight_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontWeight=function(){return this.fontWeight_},lime.Label.prototype.setFontFamily=function(e){return this.fontFamily_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontSize=function(){return this.fontSize_},lime.Label.prototype.setFontSize=function(e){return this.fontSize_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontColor=function(){return this.fontColor_},lime.Label.prototype.setFontColor=function(e){return this.fontColor_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getPadding=function(){return this.padding_},lime.Label.prototype.setPadding=function(e,t,i,o){return e=[e,e,e,e],goog.isDef(t)&&(e[1]=e[3]=t),goog.isDef(i)&&(e[2]=i),goog.isDef(o)&&(e[3]=o),this.padding_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.setLineHeight=function(e,t){return this.lineHeightAbsolute_=t||!1,this.lineHeight_=e,this},lime.Label.prototype.getLineHeight=function(){var e=Math.abs(this.getShadowOffset().y)+2*this.shadowBlur_;return this.lineHeightAbsolute_?(this.lineHeight_+e)/this.getFontSize():this.lineHeight_+e/this.getFontSize()},lime.Label.prototype.getAlign=function(){return this.align_},lime.Label.prototype.setAlign=function(e){return this.align_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.setShadow=function(e,t,i,o){return 1==arguments.length&&goog.isNull(e)?(this.setShadowColor("#ccc"),this.setShadowBlur(0),this.setShadowOffset(0,0)):2==arguments.length?(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(new goog.math.Vec2(0,0))):3==arguments.length?(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(i)):(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(i,o)),this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.hasShadow_=function(){return this.shadowBlur_||this.shadowOffset_.x||this.shadowOffset_.y},lime.Label.prototype.getShadowColor=function(){return this.shadowColor_},lime.Label.prototype.getShadowOffset=function(){return this.shadowOffset_},lime.Label.prototype.setShadowColor=function(e){return this.shadowColor_=e,this},lime.Label.prototype.setShadowBlur=function(e){return this.shadowBlur_=e,this},lime.Label.prototype.setShadowOffset=function(e,t){return this.shadowOffset_=2==arguments.length?new goog.math.Vec2(e,t):e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getShadowBlur=function(){return this.shadowBlur_},lime.Label.prototype.calcWordsArray=function(){var e=[],t=this.text_.length,i=this.text_.match(goog.userAgent.GECKO?/[\s\.]+/g:/[\s-\.]+/g),o=0;if(i)for(var s=0;s<i.length;s++){var n=i[s],n=this.text_.indexOf(n,o)+n.length;e.push(this.text_.substring(o,n)),o=n}return o!=t&&e.push(this.text_.substring(o,t)),e},lime.Label.prototype.wrapText=function(e,t){for(var i=[],o="",s=this.words_,n=0;n<s.length;n++)""==o?o=s[n]:e.measureText(goog.string.trim(o+s[n])).width>t?(i.push(goog.string.trim(o)),o=s[n]):o+=s[n];return i.push(o),i},lime.Label.prototype.update=function(){this.getDirty()&&lime.Dirty.CONTENT&&delete this.lastDrawnWidth_,lime.Node.prototype.update.apply(this,arguments)},lime.Renderer.DOM.LABEL.draw=function(e){lime.Renderer.DOM.SPRITE.draw.call(this,e);var t=e.style;this.dirty_&&lime.Dirty.CONTENT&&goog.dom.setTextContent(e,this.text_),this.dirty_&&lime.Dirty.FONT&&(t.lineHeight=this.getLineHeight(),t.padding=goog.array.map(this.padding_,function(e){return e*this.getRelativeQuality()},this).join("px ")+"px",t.color=this.getFontColor(),t.fontFamily=this.getFontFamily(),t.fontSize=this.getFontSize()*this.getRelativeQuality()+"px",t.fontWeight=this.getFontWeight(),t.textAlign=this.getAlign(),t.textShadow=this.hasShadow_()?this.getShadowColor()+" "+this.getShadowOffset().x+"px "+this.getShadowOffset().y+"px "+this.getShadowBlur()+"px":"")},lime.Renderer.CANVAS.LABEL.draw=function(e){lime.Renderer.CANVAS.SPRITE.draw.call(this,e);var t=this.getFrame(),i=-t.left-this.padding_[3]+t.right-this.padding_[1]+Math.abs(this.getShadowOffset().x)+Math.abs(2*this.getShadowBlur()),o=0;this.words_||(this.words_=this.calcWordsArray(),o=1);var s=this.stroke_?this.stroke_.width_:0;e.save();var n=this.getAlign();if("left"==n?e.translate(t.left+this.padding_[3]+s,t.top+this.padding_[0]+s):"right"==n?e.translate(t.right-this.padding_[1]-s,t.top+this.padding_[0]+s):"center"==n&&e.translate(.5*(t.left+this.padding_[3]+t.right-this.padding_[1]),t.top+this.padding_[0]+s),t=this.getLineHeight(),e.fillStyle=this.getFontColor(),e.font=this.getFontWeight()+" "+this.getFontSize()+"px/"+t+" "+this.getFontFamily(),e.textAlign=n,e.textBaseline="top",this.hasShadow_()&&(e.shadowColor=this.getShadowColor(),e.shadowOffsetX=this.getShadowOffset().x,e.shadowOffsetY=this.getShadowOffset().y,e.shadowBlur=this.getShadowBlur()),!o&&i==this.lastDrawnWidth_||(this.lines_=this.wrapText(e,i),this.lastDrawnWidth_=i),this.lines_)for(i=t*this.getFontSize(),o=(goog.isDef(this.getShadowBlur())?Math.abs(this.getShadowBlur()):0)+(goog.isDef(this.getShadowOffset())?Math.abs(this.getShadowOffset().y)/2:0),i=goog.userAgent.WEBKIT?Math.floor(i):Math.round(i),n=0;n<this.lines_.length;n++)e.fillText(this.lines_[n],0,i*n+o-.5);e.restore()},lime.Label.installFont=function(e,t,i){goog.style.installStyles('@font-face{font-family: "'+e+'";src: url('+t+') format("'+(i||"truetype")+'");})')},lime.fill.LinearGradient=function(){lime.fill.Fill.call(this),this.colors_=[],this.setDirection(0,0,0,1)},goog.inherits(lime.fill.LinearGradient,lime.fill.Fill),lime.fill.LinearGradient.prototype.id="lineargradient",lime.fill.LinearGradient.prototype.initForSprite=function(e){(goog.userAgent.OPERA||goog.userAgent.IE)&&e.setRenderer(lime.Renderer.CANVAS)},lime.fill.LinearGradient.prototype.setDirection=function(e,t,i,o){return this.points_=[e,t,i,o],this},lime.fill.LinearGradient.prototype.addColorStop=function(e,t){var i=goog.array.toArray(arguments);return i.shift(),this.colors_.push([e,lime.fill.parse(i)]),this},lime.fill.LinearGradient.prototype.formatColorStop_=function(e){return goog.userAgent.WEBKIT?"color-stop("+e[0]+", "+e[1].str+")":e[1].str+" "+100*e[0]*this.rate+"%"},lime.fill.LinearGradient.prototype.setDOMStyle=function(e,t){var i,o,s,n,r,a=t.getFrame(),l=a.right-a.left,d=a.bottom-a.top;goog.userAgent.WEBKIT||(i=(this.points_[2]-this.points_[0])*l,o=(this.points_[1]-this.points_[3])*d,s=a.left+l*this.points_[0],n=a.top+d*this.points_[1],r=Math.atan2(o,i),1/0==(t=-o/i)&&(t=Math.pow(10,10)),t=t*(a=((a=0<r&&r<Math.PI/2?[a.right,a.top]:0<r?[a.left,a.top]:r>-Math.PI/2?[a.right,a.bottom]:[a.left,a.bottom])[1]+1/t*a[0]-n+t*s)/(t+1/t))+n-s*t,a-=s,t-=n,this.rate=Math.sqrt((i*i+o*o)/(a*a+t*t))),i=goog.array.map(this.colors_,this.formatColorStop_,this),l=goog.userAgent.WEBKIT?"-webkit-gradient(linear,"+100*this.points_[0]+"% "+100*this.points_[1]+"%,"+100*this.points_[2]+"% "+100*this.points_[3]+"%,"+i.join(",")+")":"linear-gradient("+100*this.points_[0]+"% "+100*this.points_[1]+"% "+Math.atan2((this.points_[1]-this.points_[3])*d,(this.points_[2]-this.points_[0])*l)+"rad,"+i.join(",")+")",goog.userAgent.GECKO&&(l="-moz-"+l),e.style.background=l},lime.fill.LinearGradient.prototype.setCanvasStyle=function(e,t){for(var i=this.points_,o=(s=t.getFrame()).right-s.left,t=s.bottom-s.top,i=e.createLinearGradient(s.left+o*i[0],s.top+t*i[1],s.left+o*i[2],s.top+t*i[3]),s=0;s<this.colors_.length;s++)i.addColorStop(this.colors_[s][0],this.colors_[s][1].str);e.fillStyle=i},lime.GlossyButton=function(e){lime.Button.call(this,this.makeState_(e),this.makeState_(e)),this.borderWidth=2,this.setText(e),this.setColor("#62be00")},goog.inherits(lime.GlossyButton,lime.Button),lime.GlossyButton.prototype.makeState_=function(e){var t=new lime.RoundedRect;return t.inner=new lime.RoundedRect,t.label=new lime.Label(e).setAlign("center").setFontFamily('"Proxima Nova"').setFontColor("#010101").setFontSize(17),t.appendChild(t.inner),t.inner.appendChild(t.label),t},lime.GlossyButton.prototype.setColor=function(o){return o=lime.fill.parse(o),goog.array.forEach([this.upstate,this.downstate],function(e){var t=e==this.downstate?o.clone().addSaturation(-.2):o;e.setFill(t);var i=(new lime.fill.LinearGradient).setDirection(0,0,0,1);i.addColorStop(0,t.clone().addBrightness(.13)),i.addColorStop(.5,t.clone().addBrightness(.05)),i.addColorStop(.52,t),i.addColorStop(1,t),e.inner.setFill(i)},this),this},lime.GlossyButton.prototype.setText=function(e){return this.upstate.label.setText(e),this.downstate.label.setText(e),this},lime.GlossyButton.prototype.setSize=function(e,t){var i;return this.upstate&&(this.upstate.setSize.apply(this.upstate,arguments),i=this.upstate.getSize(),goog.array.forEach([this.upstate,this.downstate],function(e){e.setSize(i);var t=i.clone();t.width-=this.borderWidth,t.height-=this.borderWidth,e.inner.setSize(t)},this)),this},lime.GlossyButton.prototype.getSize=function(){return this.upstate.getSize()},lime.CoverNode=function(){lime.Node.call(this);var e=this.baseElement;this.baseElement=document.createElement("canvas"),goog.dom.replaceNode(this.baseElement,e),this.context=this.baseElement.getContext("2d"),goog.dom.classes.add(this.baseElement,"lime-cover")},goog.inherits(lime.CoverNode,lime.Node),lime.CoverNode.prototype.update=function(){var e,t,i,o;this.director&&(e=goog.style.getSize(this.director.baseElement.parentNode),t=this.baseElement.style,i=this.director.getScale(),o=this.getQuality(),t.width=e.width+"px",t.height=e.height+"px",this.baseElement.width=e.width/i.x*o,this.baseElement.height=e.height/i.y*o,this.updateRect_?this.setNeedsRedrawInRect(this.updateRect_):this.setNeedsRedraw())},lime.CoverNode.prototype.setNeedsRedraw=function(){this.setNeedsRedrawInRect(this.director.getBounds(new goog.math.Box(0,this.baseElement.width/this.getQuality(),this.baseElement.height/this.getQuality(),0)))},lime.CoverNode.prototype.setNeedsRedrawInRect=function(e){var t=this.director,i=this.getQuality(),o=t.getScale(),t=t.getPosition();this.context.save(),this.context.scale(i,i),this.context.translate(t.x/o.x,t.y/o.y),this.drawInRect(e),this.context.restore()},lime.helper={},lime.helper.PauseScene=function(){lime.Scene.call(this),this.domElement.style.cssText="background:rgba(255,255,255,.8)"},goog.inherits(lime.helper.PauseScene,lime.Scene),goog.fx={},goog.fx.easing={},goog.fx.easing.easeIn=function(e){return e*e*e},goog.fx.easing.easeOut=function(e){return 1-Math.pow(1-e,3)},goog.fx.easing.inAndOut=function(e){return 3*e*e-2*e*e*e},lime.scheduleManager=new function(){this.taskStack_=[],this.active_=!1,this.intervalID_=0,this.displayRate_=1e3/30,this.lastRunTime_=0},lime.scheduleManager.Task=function(e,t){this.delta=this.maxdelta=e,this.limit=goog.isDef(t)?t:-1,this.functionStack_=[]},lime.scheduleManager.Task.prototype.step_=function(e){if(this.functionStack_.length)if(this.delta>e)this.delta-=e;else{var t=this.maxdelta+e-this.delta;this.delta=this.maxdelta-(e-this.delta),this.delta<0&&(this.delta=0);for(var i,e=this.functionStack_.length;0<=--e;)(i=this.functionStack_[e])&&i[0]&&goog.isFunction(i[1])&&i[1].call(i[2],t);-1!=this.limit&&(this.limit--,0==this.limit&&lime.scheduleManager.unschedule(i[1],i[2]))}},lime.scheduleManager.taskStack_.push(new lime.scheduleManager.Task(0)),lime.scheduleManager.USE_ANIMATION_FRAME=goog.global.mozRequestAnimationFrame||goog.global.webkitRequestAnimationFrame,lime.scheduleManager.getDisplayRate=function(){return this.displayRate_},lime.scheduleManager.setDisplayRate=function(e){this.displayRate_=e,this.active_&&(lime.scheduleManager.disable_(),lime.scheduleManager.activate_())},lime.scheduleManager.schedule=function(e,t,i){i=goog.isDef(i)?i:this.taskStack_[0],goog.array.insert(i.functionStack_,[1,e,t]),goog.array.insert(this.taskStack_,i),this.active_||lime.scheduleManager.activate_()},lime.scheduleManager.unschedule=function(e,t){for(var i=this.taskStack_.length;0<=--i;){for(var o,s=this.taskStack_[i],n=s.functionStack_,r=n.length;0<=--r;)(o=n[r])[1]==e&&o[2]==t&&goog.array.remove(n,o);0==n.length&&0!=i&&goog.array.remove(this.taskStack_,s)}1==this.taskStack_.length&&0==this.taskStack_[0].functionStack_.length&&lime.scheduleManager.disable_()},lime.scheduleManager.activate_=function(){this.active_||(this.lastRunTime_=goog.now(),lime.scheduleManager.USE_ANIMATION_FRAME?goog.global.mozRequestAnimationFrame?11<=goog.userAgent.VERSION?(this.animationFrameHandlerBinded_=goog.bind(lime.scheduleManager.animationFrameHandler_,this),goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_)):(goog.global.mozRequestAnimationFrame(),this.beforePaintHandlerBinded_=goog.bind(lime.scheduleManager.beforePaintHandler_,this),goog.global.addEventListener("MozBeforePaint",this.beforePaintHandlerBinded_,!1)):(this.animationFrameHandlerBinded_=goog.bind(lime.scheduleManager.animationFrameHandler_,this),goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_)):this.intervalID_=setInterval(goog.bind(lime.scheduleManager.stepTimer_,this),lime.scheduleManager.getDisplayRate()),this.active_=!0)},lime.scheduleManager.disable_=function(){this.active_&&(lime.scheduleManager.USE_ANIMATION_FRAME?goog.global.mozRequestAnimationFrame?11<=goog.userAgent.VERSION?goog.global.mozCancelRequestAnimationFrame(this.animationFrameHandlerBinded_):goog.global.removeEventListener("MozBeforePaint",this.beforePaintHandlerBinded_,!1):goog.global.webkitCancelRequestAnimationFrame(this.animationFrameHandlerBinded_):clearInterval(this.intervalID_),this.active_=!1)},lime.scheduleManager.animationFrameHandler_=function(e){var t,i=goog.global.performance;(i=(e=i&&(t=i.now||i.webkitNow)?i.timing.navigationStart+t.call(i):e||goog.now())-this.lastRunTime_)<0&&(i=1),lime.scheduleManager.dispatch_(i),this.lastRunTime_=e,goog.global.requestAnimationFrame?goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_):goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_)},lime.scheduleManager.beforePaintHandler_=function(e){lime.scheduleManager.dispatch_(e.timeStamp-this.lastRunTime_),this.lastRunTime_=e.timeStamp,goog.global.mozRequestAnimationFrame()},lime.scheduleManager.stepTimer_=function(){var e=goog.now(),t=e-this.lastRunTime_;t<0&&(t=1),lime.scheduleManager.dispatch_(t),this.lastRunTime_=e},lime.scheduleManager.dispatch_=function(e){for(var t=this.taskStack_.length;0<=--t;)this.taskStack_[t].step_(e);1==lime.transformSet_&&/Firefox\/4./.test(goog.userAgent.getUserAgentString())&&!lime.FF4_USE_HW_ACCELERATION&&(lime.scheduleManager.odd_?(document.body.style.MozTransform="",lime.scheduleManager.odd_=0):(document.body.style.MozTransform="scale(1,1)",lime.scheduleManager.odd_=1),lime.transformSet_=0)},lime.scheduleManager.changeDirectorActivity=function(e,t){for(var i,o,s,n,r=this.taskStack_.length;0<=--r;)for(n=(i=this.taskStack_[r]).functionStack_.length;0<=--n;)o=(s=i.functionStack_[n])[2],goog.isFunction(o.getDirector)&&((o=o.getDirector())==e&&(s[0]=t))},lime.scheduleManager.callAfter=function(e,t,i){lime.scheduleManager.scheduleWithDelay(e,t,i,1)},lime.scheduleManager.scheduleWithDelay=function(e,t,i,o){i=new lime.scheduleManager.Task(i,o),lime.scheduleManager.schedule(e,t,i)},lime.animation={},lime.animation.Animation=function(){goog.events.EventTarget.call(this),this.targets=[],this.initTargets_=[],this.targetProp_={},this.isPlaying_=!1,this.duration_=1,this.ease=lime.animation.Easing.EASEINOUT,this.status_=0},goog.inherits(lime.animation.Animation,goog.events.EventTarget),lime.animation.Animation.prototype.scope="",lime.animation.Event={START:"start",STOP:"stop"},lime.animation.Animation.prototype.getDuration=function(){return this.duration_},lime.animation.Animation.prototype.setDuration=function(e){return this.duration_=e,this},lime.animation.Animation.prototype.setEasing=function(e){return this.ease=e,this},lime.animation.Animation.prototype.getEasing=function(){return this.ease},lime.animation.Animation.prototype.addTarget=function(e){return goog.array.insert(this.targets,e),this},lime.animation.Animation.prototype.removeTarget=function(e){return goog.array.remove(this.targets,e),this},lime.animation.Animation.prototype.play=function(){this.playTime_=0,this.firstFrame_=this.status_=1,lime.scheduleManager.schedule(this.step_,this),this.dispatchEvent({type:lime.animation.Event.START})},lime.animation.Animation.prototype.stop=function(){if(0!=this.status_){var e=this.initTargets_;if(this.useTransitions()&&this.clearTransition)for(var t=e.length;0<=--t;)this.clearTransition(e[t]);this.initTargets_=[],this.targetProp_={},this.status_=0,lime.scheduleManager.unschedule(this.step_,this),this.dispatchEvent({type:lime.animation.Event.STOP})}},lime.animation.Animation.prototype.makeTargetProp=function(){return{}},lime.animation.Animation.prototype.getTargetProp=function(e){var t=goog.getUid(e);return goog.isDef(this.targetProp_[t])||(this.initTarget(e),this.targetProp_[t]=this.makeTargetProp(e)),this.targetProp_[t]},lime.animation.Animation.prototype.initTarget=function(e){lime.animation.actionManager.register(this,e),this.status_=1,goog.array.insert(this.initTargets_,e),this.speed_&&!this.speedCalcDone_&&this.calcDurationFromSpeed_&&this.calcDurationFromSpeed_()},lime.animation.Animation.prototype.getDirector=function(){return this.targets[0]?this.targets[0].getDirector():null},lime.animation.Animation.prototype.step_=function(e){this.speed_&&!this.speedCalcDone_&&this.calcDurationFromSpeed_&&this.calcDurationFromSpeed_(),this.firstFrame_&&(delete this.firstFrame_,e=1),this.playTime_+=e,this.dt_=e,e=this.playTime_/(1e3*this.duration_),(isNaN(e)||1<=e)&&(e=1),1==(e=this.updateAll(e,this.targets))&&this.stop()},lime.animation.Animation.prototype.updateAll=function(e,t){e=this.getEasing()[0](e),isNaN(e)&&(e=1);for(var i=t.length;0<=--i;)this.update(e,t[i]);return e},lime.animation.Animation.prototype.useTransitions=function(){return 0<this.duration_&&lime.style.isTransitionsSupported&&this.optimizations_&&!lime.userAgent.ANDROID&&!goog.userAgent.GECKO},lime.animation.Animation.prototype.enableOptimizations=function(e){return this.optimizations_=!goog.isDef(e)||e,this},lime.animation.Animation.prototype.cloneParam=function(e){return this.setDuration(e.getDuration()).enableOptimizations(e.optimizations_)},lime.animation.Animation.prototype.reverse=function(){throw"Reverseform not supported for this animation"},lime.animation.actionManager=new function(){this.actions={}},lime.animation.actionManager.register=function(e,t){e.scope.length&&(t=goog.getUid(t),goog.isDef(this.actions[t])||(this.actions[t]={}),goog.isDef(this.actions[t][e.scope])&&this.actions[t][e.scope].stop(),this.actions[t][e.scope]=e)},lime.animation.actionManager.stopAll=function(e){if(e=goog.getUid(e),goog.isDef(this.actions[e]))for(var t in this.actions[e])this.actions[e][t].stop(),delete this.actions[e][t]},function(){var r,a,l,n,d,g;lime.animation.getEasingFunction=function(t,i,o,s){return[function(e){return r=1-(l=3*t)-(a=3*(o-t)-l),n=1-(g=3*i)-(d=3*(s-i)-g),e=function(e,t){for(var i,o,s=e,n=0;n<8;n++){if((0<=(o=((r*s+a)*s+l)*s-e)?o:0-o)<t)return s;if((0<=(i=(3*r*s+2*a)*s+l)?i:0-i)<1e-6)break;s-=o/i}if((s=e)<(i=0))return i;if((n=1)<s)return n;for(;i<n&&!((0<=(o=((r*s+a)*s+l)*s)-e?o-e:0-(o-e))<t);)o<e?i=s:n=s,s=.5*(n-i)+i;return s}(e,5e-5),((n*e+d)*e+g)*e},t,i,o,s]}}(),lime.animation.Easing={EASE:lime.animation.getEasingFunction(.25,.1,.25,1),LINEAR:lime.animation.getEasingFunction(0,0,1,1),EASEIN:lime.animation.getEasingFunction(.42,0,1,1),EASEOUT:lime.animation.getEasingFunction(0,0,.58,1),EASEINOUT:lime.animation.getEasingFunction(.42,0,.58,1)},lime.animation.MoveTo=function(e,t){lime.animation.Animation.call(this),this.position_=2==arguments.length?new goog.math.Coordinate(e,t):e},goog.inherits(lime.animation.MoveTo,lime.animation.Animation),lime.animation.MoveTo.prototype.scope="move",lime.animation.MoveTo.prototype.setSpeed=function(e){return this.speed_=e,delete this.speedCalcDone_,this},lime.animation.MoveTo.prototype.makeTargetProp=function(e){var t=e.getPosition(),i=new goog.math.Coordinate(this.position_.x-t.x,this.position_.y-t.y);return this.useTransitions()&&(e.addTransition(lime.Transition.POSITION,this.position_,this.duration_,this.getEasing()),e.setDirty(lime.Dirty.POSITION)),{startpos:t,delta:i}},lime.animation.MoveTo.prototype.calcDurationFromSpeed_=function(){var e;this.speed_&&this.targets.length&&(e=this.targets[0].getPosition(),e=new goog.math.Coordinate(this.position_.x-e.x,this.position_.y-e.y),this.setDuration(this.speed_*goog.math.Coordinate.distance(e,new goog.math.Coordinate(0,0))/100),this.speedCalcDone_=1)},lime.animation.MoveTo.prototype.update=function(e,t){var i;0!=this.status_&&(i=this.getTargetProp(t),t.setPosition(i.startpos.x+i.delta.x*e,i.startpos.y+i.delta.y*e))},lime.animation.MoveTo.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.POSITION),e.setDirty(lime.Dirty.POSITION))},lime.events={},lime.events.Drag=function(e,t,i,o){goog.events.EventTarget.call(this),this.target=o||e.targetObject,this.dropTargets_=[],this.dropIndex_=-1,this.y=this.x=0,t||(t=this.target.localToScreen(new goog.math.Coordinate(0,0)),this.x=e.screenPosition.x-t.x,this.y=e.screenPosition.y-t.y),e.swallow(["touchmove","mousemove"],goog.bind(this.moveHandler_,this)),e.swallow(["touchend","touchcancel","mouseup"],goog.bind(this.releaseHandler_,this)),this.setBounds(i||null),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.START))},goog.inherits(lime.events.Drag,goog.events.EventTarget),lime.events.Drag.Event={START:"start",END:"end",MOVE:"move",CHANGE:"change",DROP:"drop",CANCEL:"cancel"},lime.events.Drag.prototype.disposeInternal=function(){lime.events.Drag.superClass_.disposeInternal.call(this),this.dropTargets_=this.target=this.event_=null},lime.events.Drag.prototype.getBounds=function(){return this.bounds_},lime.events.Drag.prototype.setBounds=function(e){this.bounds_=e},lime.events.Drag.prototype.moveHandler_=function(e){(e=e.screenPosition.clone()).x-=this.x,e.y-=this.y;var e=this.target.getParent().screenToLocal(e),t=this.getBounds();goog.isDefAndNotNull(t)&&(e.x<t.left?e.x=t.left:e.x>t.right&&(e.x=t.right),e.y<t.top?e.y=t.top:e.y>t.bottom&&(e.y=t.bottom)),this.target.setPosition(e),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.MOVE));for(var e=-1,t=goog.math.Rect.createFromBox(this.target.getFrame()),i=[],o=0;o<this.dropTargets_.length;o++){var s,n,r=this.dropTargets_[o];goog.isFunction(r.confirmTargetActive)&&!r.confirmTargetActive(this.target)||(s=r.getFrame(),n=r.localToNode(new goog.math.Coordinate(s.left,s.top),this.target),r=r.localToNode(new goog.math.Coordinate(s.right,s.bottom),this.target),n=goog.math.Rect.createFromBox(new goog.math.Box(Math.min(n.y,r.y),Math.max(n.x,r.x),Math.max(n.y,r.y),Math.min(r.x,n.x))),(r=goog.math.Rect.intersection(t,n))&&i.push([r.width*r.height/(n.width*n.height),o]))}i.length&&(e=(i=i.sort(function(e,t){return t[0]-e[0]}))[0][1]),e!=this.dropIndex_&&(-1!=this.dropIndex_&&goog.isFunction(this.dropTargets_[this.dropIndex_].hideDropHighlight)&&this.dropTargets_[this.dropIndex_].hideDropHighlight(),this.dropIndex_=e,-1!=this.dropIndex_&&goog.isFunction(this.dropTargets_[this.dropIndex_].showDropHighlight)&&this.dropTargets_[this.dropIndex_].showDropHighlight(),(e=new goog.events.Event(lime.events.Drag.Event.CHANGE)).activeDropTarget=-1!=this.dropIndex_?this.dropTargets_[this.dropIndex_]:null,this.dispatchEvent(e))},lime.events.Drag.prototype.releaseHandler_=function(){var e,t;-1!=this.dropIndex_?((e=new goog.events.Event(lime.events.Drag.Event.DROP)).activeDropTarget=this.dropTargets_[this.dropIndex_],goog.isFunction(e.activeDropTarget.showDropHighlight)&&e.activeDropTarget.hideDropHighlight(),this.dispatchEvent(e),e.propagationStopped_||(t=e.activeDropTarget.getParent().localToNode(e.activeDropTarget.getPosition(),this.target.getParent()),t=new lime.animation.MoveTo(t).setDuration(.5).enableOptimizations(),this.target.runAction(t),goog.isFunction(e.moveEndedCallback)&&goog.events.listen(t,lime.animation.Event.STOP,e.moveEndedCallback,!1,this.target))):this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.CANCEL)),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.END)),lime.scheduleManager.callAfter(this.dispose,this,100)},lime.events.Drag.prototype.addDropTarget=function(e){this.dropTargets_.push(e)},lime.events.Event=function(e){this.dispatcher_=e,this.identifier=0},lime.events.Event.prototype.swallow=function(e,t,i){for(var e=goog.isArray(e)?e:[e],o=0;o<e.length;o++)this.dispatcher_.swallow(this,e[o],t);i&&this.event.stopPropagation()},lime.events.Event.prototype.release=function(e){var t,i=goog.isDef(e),o=goog.isArray(e)?e:[e];(e=this.dispatcher_.swallows[this.identifier])&&(t=this,(e=goog.array.filter(e,function(e){return!(!goog.isDef(t.targetObject)||e[0]==t.targetObject&&(!i||goog.array.contains(o,e[1])))||(goog.events.unlisten(e[0],e[1],e[2]),!1)})).length?this.dispatcher_.swallows[this.identifier]=e:delete this.dispatcher_.swallows[this.identifier])},lime.events.Event.prototype.startDrag=function(e,t,i){return new lime.events.Drag(this,e,t,i)},lime.events.Event.prototype.clone=function(){var e=new lime.events.Event(this.dispatcher_);return goog.object.extend(e,this),e},lime.events.EventDispatcher=function(e){this.director=e,this.handlers={},this.swallows={}},lime.events.EventDispatcher.prototype.register=function(e,t){goog.isDef(this.handlers[t])?goog.array.contains(this.handlers[t],e)||(this.handlers[t].push(e),this.handlers[t].sort(lime.Node.compareNode)):(this.handlers[t]=[e],goog.events.listen("touch"==t.substring(0,5)&&e!=this.director?document:"key"==t.substring(0,3)?window:this.director.domElement.parentNode,t,this,!1,this))},lime.events.EventDispatcher.prototype.release=function(e,t){goog.isDef(this.handlers[t])&&(goog.array.remove(this.handlers[t],e),this.handlers[t].length||(goog.events.unlisten(this.director.domElement.parentNode,t,this,!1,this),delete this.handlers[t]))},lime.events.EventDispatcher.prototype.updateDispatchOrder=function(e){for(var t in this.handlers){var i=this.handlers[t];goog.array.contains(i,e)&&i.sort(lime.Node.compareNode)}},lime.events.EventDispatcher.prototype.swallow=function(e,t,i){var o=e.identifier;goog.isDef(this.swallows[o])||(this.swallows[o]=[]),this.swallows[o].push([e.targetObject,t,i]),goog.events.listen(e.targetObject,t,goog.nullFunction)},lime.events.EventDispatcher.prototype.handleEvent=function(e){if(goog.isDef(this.handlers[e.type])){for(var t=this.handlers[e.type].slice(),i=!1,o=0,s=0;!s;){var n=new lime.events.Event(this);if(n.type=e.type,"touch"==(n.event=e).type.substring(0,5)?(a=e.getBrowserEvent().changedTouches[o],n.screenPosition=new goog.math.Coordinate(a.pageX,a.pageY),n.identifier=a.identifier,++o>=e.getBrowserEvent().changedTouches.length&&(s=1)):(n.screenPosition=new goog.math.Coordinate(e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.clientY+document.body.scrollTop+document.documentElement.scrollTop),s=1),goog.isDef(this.swallows[n.identifier])){for(var r,a=this.swallows[n.identifier],l=0;l<a.length;l++)(a[l][1]==e.type||goog.isArray(a[l][1])&&goog.array.contains(a[l][1],e.type))&&(r=a[l][0],n.targetObject=r,n.position=r.screenToLocal(n.screenPosition),a[l][2].call(r,n),i=!0);"touchend"!=e.type&&"touchcancel"!=e.type&&"mouseup"!=e.type&&"keyup"!=e.type||(delete n.targetObject,n.release())}else for(l=0;l<t.length&&(r=t[l],this.director.getCurrentScene()!=r.getScene()&&r!=this.director||r.getHidden()||!r.inTree_||!(n.targetObject=r).hitTest(n)&&"key"!=e.type.substring(0,3)||((n.targetObject=r).dispatchEvent(n),i=!0,!n.event.propagationStopped_));l++);}i&&e.preventDefault()}},goog.dom.ViewportSizeMonitor=function(e){goog.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=goog.events.listen(this.window_,goog.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=goog.dom.getViewportSize(this.window_),this.isPollingRequired_()&&(this.windowSizePollInterval_=window.setInterval(goog.bind(this.checkForSizeChange_,this),goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE))},goog.inherits(goog.dom.ViewportSizeMonitor,goog.events.EventTarget),goog.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){var e=e||window,t=goog.getUid(e);return goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]=goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new goog.dom.ViewportSizeMonitor(e)},goog.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){e=goog.getUid(e||window),goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]},goog.dom.ViewportSizeMonitor.windowInstanceMap_={},goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE=500,goog.dom.ViewportSizeMonitor.prototype.listenerKey_=null,goog.dom.ViewportSizeMonitor.prototype.window_=null,goog.dom.ViewportSizeMonitor.prototype.size_=null,goog.dom.ViewportSizeMonitor.prototype.windowSizePollInterval_=null,goog.dom.ViewportSizeMonitor.prototype.isPollingRequired_=function(){return goog.userAgent.WEBKIT&&goog.userAgent.WINDOWS||goog.userAgent.OPERA&&this.window_.self!=this.window_.top},goog.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},goog.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(goog.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.windowSizePollInterval_&&(window.clearInterval(this.windowSizePollInterval_),this.windowSizePollInterval_=null),this.size_=this.window_=null},goog.dom.ViewportSizeMonitor.prototype.handleResize_=function(){this.checkForSizeChange_()},goog.dom.ViewportSizeMonitor.prototype.checkForSizeChange_=function(){var e=goog.dom.getViewportSize(this.window_);goog.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(goog.events.EventType.RESIZE))},lime.transitions={},lime.transitions.Transition=function(e,t){goog.events.EventTarget.call(this),this.duration_=1,this.outgoing_=e,this.incoming_=t,this.finished_=!1},goog.inherits(lime.transitions.Transition,goog.events.EventTarget),lime.transitions.Transition.prototype.getDuration=function(){return this.duration_},lime.transitions.Transition.prototype.setDuration=function(e){return this.duration_=e,this},lime.transitions.Transition.prototype.setFinishCallback=function(){return goog.DEBUG&&console&&console.warn&&console.warn("Transition.prototype.setFinishCallback() is deprecated. Use event listeners."),this},lime.transitions.Transition.prototype.start=function(){this.incoming_.setPosition(new goog.math.Coordinate(0,0)),this.incoming_.setHidden(!1),this.finish()},lime.transitions.Transition.prototype.finish=function(){this.dispatchEvent(new goog.events.Event("end")),this.finished_=!0,this.incoming_=this.outgoing_=null},lime.Director=function(e,t,i){var o;lime.Node.call(this),this.inTree_=!0,this.setAnchorPoint(0,0),this.sceneStack_=[],this.coverStack_=[],this.domClassName="lime-director",this.createDomElement(),e.appendChild(this.domElement),goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&(this.coverElementBelow=document.createElement("div"),goog.dom.classes.add(this.coverElementBelow,"lime-cover-below"),goog.dom.insertSiblingBefore(this.coverElementBelow,this.domElement),this.coverElementAbove=document.createElement("div"),goog.dom.classes.add(this.coverElementAbove,"lime-cover-above"),goog.dom.insertSiblingAfter(this.coverElementAbove,this.domElement)),"absolute"!=e.style.position&&(e.style.position="relative"),e.style.overflow="hidden",e==document.body&&(goog.style.installStyles("html,body{margin:0;padding:0;height:100%;}"),(s=document.createElement("meta")).name="viewport",s.content="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no",document.getElementsByTagName("head").item(0).appendChild(s),goog.userAgent.MOBILE&&!goog.global.navigator.standalone&&(o=this,setTimeout(function(){window.scrollTo(0,0),o.invalidateSize_()},100)));var s,e=goog.style.getSize(e);this.setSize(new goog.math.Size(s=t||e.width||lime.Director.DEFAULT_WIDTH,i||e.height*s/e.width||lime.Director.DEFAULT_HEIGHT)),this.setDisplayFPS(goog.DEBUG),this.setPaused(!1),t=new goog.dom.ViewportSizeMonitor,goog.events.listen(t,goog.events.EventType.RESIZE,this.invalidateSize_,!1,this),goog.events.listen(goog.global,"orientationchange",this.invalidateSize_,!1,this),lime.scheduleManager.schedule(this.step_,this),this.eventDispatcher=new lime.events.EventDispatcher(this),goog.events.listen(this,["touchmove","touchstart"],function(e){},!1,this),goog.events.listen(this,["mouseup","touchend","mouseout","touchcancel"],function(){},!1),this.invalidateSize_(),goog.DEBUG&&goog.events.listen(goog.global,"keyup",this.keyUpHandler_,!1,this)},goog.inherits(lime.Director,lime.Node),lime.Director.FPS_INTERVAL=90,lime.Director.DEFAULT_WIDTH=400,lime.Director.DEFAULT_HEIGHT=400,lime.Director.prototype.isPaused=function(){return this.isPaused_},lime.Director.prototype.setPaused=function(e){return this.isPaused_=e,lime.scheduleManager.changeDirectorActivity(this,!e),this.isPaused_?(this.pauseScene=new(this.pauseClassFactory||lime.helper.PauseScene),this.pushScene(this.pauseScene)):this.pauseScene&&(this.popScene(),delete this.pauseScene),this},lime.Director.prototype.isDisplayFPS=function(){return this.displayFPS_},lime.Director.prototype.setDisplayFPS=function(e){return this.displayFPS_&&!e?goog.dom.removeNode(this.fpsElement_):!this.displayFPS_&&e&&(this.accumDt_=this.frames_=0,this.fpsElement_=goog.dom.createDom("div"),goog.dom.classes.add(this.fpsElement_,"lime-fps"),this.domElement.parentNode.appendChild(this.fpsElement_)),this.displayFPS_=e,this},lime.Director.prototype.getCurrentScene=function(){return this.sceneStack_.length?this.sceneStack_[this.sceneStack_.length-1]:null},lime.Director.prototype.getDirector=function(){return this},lime.Director.prototype.getScene=function(){return null},lime.Director.prototype.step_=function(e){this.isDisplayFPS()&&(this.frames_++,this.accumDt_+=e,this.accumDt_>lime.Director.FPS_INTERVAL&&(this.fps=1e3*this.frames_/this.accumDt_,goog.dom.setTextContent(this.fpsElement_,this.fps.toFixed(2)),this.accumDt_=this.frames_=0)),lime.updateDirtyObjects()},lime.Director.prototype.replaceScene=function(e,t,i){e.setSize(this.getSize().clone());var t=t||lime.transitions.Transition,o=null;this.sceneStack_.length&&(o=this.sceneStack_[this.sceneStack_.length-1]);for(var s=[],n=this.sceneStack_.length;0<=--n;)this.sceneStack_[n].wasRemovedFromTree(),s.push(this.sceneStack_[n].domElement),this.sceneStack_[n].parent_=null;return this.sceneStack_.length=0,this.sceneStack_.push(e),e.domElement.style.display="none",this.domElement.appendChild(e.domElement),e.parent_=this,e.wasAddedToTree(),e=new t(o,e),goog.events.listenOnce(e,"end",function(){for(var e=s.length;0<=--e;)goog.dom.removeNode(s[e]);s.length=0},!1,this),goog.isDef(i)&&e.setDuration(i),e.start(),e},lime.Director.prototype.updateLayout=function(){this.dirty_&=~lime.Dirty.LAYOUT},lime.Director.prototype.pushScene=function(e,t,i){var o;if(e.setSize(this.getSize().clone()),goog.isDef(t)&&this.sceneStack_.length&&(o=new t(o=this.sceneStack_[this.sceneStack_.length-1],e),goog.isDef(i)&&o.setDuration(i),e.domElement.style.display="none"),this.sceneStack_.push(e),this.domElement.appendChild(e.domElement),e.parent_=this,e.wasAddedToTree(),o)return o.start(),o},lime.Director.prototype.popScene=function(){this.sceneStack_.length&&(this.sceneStack_[this.sceneStack_.length-1].wasRemovedFromTree(),this.sceneStack_[this.sceneStack_.length-1].parent_=null,goog.dom.removeNode(this.sceneStack_[this.sceneStack_.length-1].domElement),this.sceneStack_.pop())},lime.Director.prototype.addCover=function(e,t){goog.userAgent.WEBKIT&&goog.userAgent.MOBILE?(t?this.coverElementAbove:this.coverElementBelow).appendChild(e.domElement):t?goog.dom.insertSiblingAfter(e.domElement,this.domElement):goog.dom.insertSiblingBefore(e.domElement,this.domElement),(e.director=this).coverStack_.push(e)},lime.Director.prototype.removeCover=function(e){goog.array.remove(this.coverStack_,e),goog.dom.removeNode(e.domElement)},lime.Director.prototype.getBounds=function(e){var t=this.getPosition(),i=this.getScale();return new goog.math.Box(e.top-t.y/i.y,e.right-t.x/i.x,e.bottom-t.y/i.y,e.left-t.x/i.x)},lime.Director.prototype.screenToLocal=function(e){return(e=e.clone()).x-=this.domOffset.x+this.position_.x,e.y-=this.domOffset.y+this.position_.y,e.x/=this.scale_.x,e.y/=this.scale_.y,e},lime.Director.prototype.localToScreen=function(e){return(e=e.clone()).x*=this.scale_.x,e.y*=this.scale_.y,e.x+=this.domOffset.x+this.position_.x,e.y+=this.domOffset.y+this.position_.y,e},lime.Director.prototype.update=function(){lime.Node.prototype.update.call(this);for(var e=this.coverStack_.length;0<=--e;)this.coverStack_[e].update()},lime.Director.prototype.invalidateSize_=function(){var e=goog.style.getSize(this.domElement.parentNode);this.domElement.parentNode==document.body&&(window.scrollTo(0,0),goog.isNumber(window.innerHeight)&&(e.height=window.innerHeight));var t=this.getSize().clone().scaleToFit(e);this.setScale(t.width/this.getSize().width),e.aspectRatio()<t.aspectRatio()?this.setPosition(0,(e.height-t.height)/2):this.setPosition((e.width-t.width)/2,0),this.updateDomOffset_(),goog.userAgent.MOBILE&&this.domElement.parentNode==document.body&&(this.overflowStyle_&&goog.style.uninstallStyles(this.overflowStyle_),this.overflowStyle_=goog.style.installStyles("html{height:"+(e.height+120)+"px;overflow:hidden;}"))},lime.Director.prototype.makeMobileWebAppCapable=function(){var e=document.createElement("meta");e.name="apple-mobile-web-app-capable",e.content="yes",document.getElementsByTagName("head").item(0).appendChild(e),(e=document.createElement("meta")).name="apple-mobile-web-app-status-bar-style",e.content="black",document.getElementsByTagName("head").item(0).appendChild(e),e=!1,goog.isDef(localStorage)&&localStorage.setItem("_lime_visited",!0)},lime.Director.prototype.updateDomOffset_=function(){this.domOffset=goog.style.getPageOffset(this.domElement.parentNode)},lime.Director.prototype.keyUpHandler_=function(e){e.altKey&&"d"==String.fromCharCode(e.keyCode).toLowerCase()&&(this.debugModeOn_?(goog.style.uninstallStyles(this.debugModeOn_),this.debugModeOn_=null):this.debugModeOn_=goog.style.installStyles(".lime-scene div,.lime-scene img,.lime-scene canvas{border: 1px solid #c00;}"),e.stopPropagation(),e.preventDefault())},lime.Director.prototype.hitTest=function(e){return e&&e.screenPosition&&(e.position=this.screenToLocal(e.screenPosition)),!0},lime.Node.prototype.setHidden=function(e){return this.hidden_=e,this.setDirty(lime.Dirty.VISIBILITY),this.autoHide_=0,this},goog.provide("lime.transitions.MoveInDown"),goog.provide("lime.transitions.MoveInLeft"),goog.provide("lime.transitions.MoveInRight"),goog.provide("lime.transitions.MoveInUp"),goog.provide("lime.transitions.SlideIn"),goog.provide("lime.transitions.SlideInDown"),goog.provide("lime.transitions.SlideInLeft"),goog.provide("lime.transitions.SlideInRight"),goog.provide("lime.transitions.SlideInUp"),goog.require("goog.math.Coordinate"),goog.require("lime.Sprite"),goog.require("lime.animation.Animation"),goog.require("lime.animation.MoveBy"),lime.animation.MoveBy=function(e,t){lime.animation.Animation.call(this),this.delta_=2==arguments.length?new goog.math.Coordinate(e,t):e},goog.inherits(lime.animation.MoveBy,lime.animation.Animation),lime.animation.MoveBy.prototype.scope="move",lime.animation.MoveBy.prototype.setSpeed=function(e){return this.speed_=e,this.calcDurationFromSpeed_(),this},lime.animation.MoveBy.prototype.makeTargetProp=function(e){return this.useTransitions()&&(e.addTransition(lime.Transition.POSITION,goog.math.Coordinate.sum(e.getPosition(),this.delta_),this.duration_,this.getEasing()),e.setDirty(lime.Dirty.POSITION)),{startpos:e.getPosition()}},lime.animation.MoveBy.prototype.calcDurationFromSpeed_=function(){this.speed_&&(this.setDuration(this.speed_*goog.math.Coordinate.distance(this.delta_,new goog.math.Coordinate(0,0))/100),this.speedCalcDone_=1)},lime.animation.MoveBy.prototype.update=function(e,t){var i;0!=this.status_&&(i=this.getTargetProp(t),t.setPosition(i.startpos.x+this.delta_.x*e,i.startpos.y+this.delta_.y*e))},lime.animation.MoveBy.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.POSITION),e.setDirty(lime.Dirty.POSITION))},lime.animation.MoveBy.prototype.reverse=function(){var e=this.delta_.clone();return e.x*=-1,e.y*=-1,new lime.animation.MoveBy(e).cloneParam(this)},goog.require("lime.transitions.Transition"),lime.transitions.SlideIn=function(e,t,i){goog.base(this,e,t),this.mode_=lime.transitions.SlideIn.Mode.LEFT,this.movein_=i||!1},goog.inherits(lime.transitions.SlideIn,lime.transitions.Transition),lime.transitions.SlideIn.Mode={LEFT:0,UP:1,RIGHT:2,DOWN:4},lime.transitions.SlideIn.prototype.start=function(){var e=this.incoming_.getSize(),t=new goog.math.Coordinate(0,0);switch(this.mode_){case lime.transitions.SlideIn.Mode.LEFT:this.incoming_.setPosition(-e.width,0),t.x=e.width;break;case lime.transitions.SlideIn.Mode.UP:this.incoming_.setPosition(0,-e.height),t.y=e.height;break;case lime.transitions.SlideIn.Mode.RIGHT:this.incoming_.setPosition(e.width,0),t.x=-e.width;break;case lime.transitions.SlideIn.Mode.DOWN:this.incoming_.setPosition(0,e.height),t.y=-e.height}this.incoming_.setHidden(!1);var i=new lime.animation.MoveBy(t).setDuration(this.getDuration());this.outgoing_&&!this.movein_&&i.addTarget(this.outgoing_),i.addTarget(this.incoming_),goog.events.listen(i,lime.animation.Event.STOP,this.finish,!1,this),i.play()},lime.transitions.SlideIn.prototype.finish=function(){this.outgoing_&&this.outgoing_.setPosition(0,0),lime.transitions.Transition.prototype.finish.call(this)},lime.transitions.SlideIn.prototype.setMode=function(e){return this.mode_=e,this},lime.transitions.SlideInLeft=lime.transitions.SlideIn,lime.transitions.SlideInUp=function(e,t,i){goog.base(this,e,t,i),this.setMode(lime.transitions.SlideIn.Mode.UP)},goog.inherits(lime.transitions.SlideInUp,lime.transitions.SlideIn),lime.transitions.SlideInRight=function(e,t,i){goog.base(this,e,t,i),this.setMode(lime.transitions.SlideIn.Mode.RIGHT)},goog.inherits(lime.transitions.SlideInRight,lime.transitions.SlideIn),lime.transitions.SlideInDown=function(e,t,i){goog.base(this,e,t,i),this.setMode(lime.transitions.SlideIn.Mode.DOWN)},goog.inherits(lime.transitions.SlideInDown,lime.transitions.SlideIn),lime.transitions.MoveInLeft=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInLeft,lime.transitions.SlideInLeft),lime.transitions.MoveInUp=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInUp,lime.transitions.SlideInUp),lime.transitions.MoveInRight=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInRight,lime.transitions.SlideInRight),lime.transitions.MoveInDown=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInDown,lime.transitions.SlideInDown),goog.provide("lime.transitions.Dissolve"),goog.require("lime.animation.FadeTo"),goog.require("lime.transitions.Transition"),lime.transitions.Dissolve=function(e,t){lime.transitions.Transition.call(this,e,t)},goog.inherits(lime.transitions.Dissolve,lime.transitions.Transition),lime.transitions.Dissolve.prototype.start=function(){this.incoming_.setOpacity(0),this.incoming_.setHidden(!1);var e=new lime.animation.FadeTo(0).setDuration(this.getDuration()).enableOptimizations();goog.events.listen(e,lime.animation.Event.STOP,function(){this.outgoing_&&this.outgoing_.setOpacity(1)},!1,this),this.outgoing_&&this.outgoing_.runAction(e);e=new lime.animation.FadeTo(1).setDuration(this.getDuration());this.incoming_.runAction(e),goog.events.listen(e,lime.animation.Event.STOP,this.finish,!1,this)},goog.provide("lime.animation.FadeTo"),goog.require("lime.Sprite"),goog.require("lime.animation.Animation"),lime.animation.FadeTo=function(e){lime.animation.Animation.call(this),this.opacity_=e},goog.inherits(lime.animation.FadeTo,lime.animation.Animation),lime.animation.FadeTo.prototype.scope="fade",lime.animation.FadeTo.prototype.makeTargetProp=function(e){var t=e.getOpacity();return this.useTransitions()&&(e.addTransition(lime.Transition.OPACITY,this.opacity_,this.duration_,this.getEasing()),e.setDirty(lime.Dirty.ALPHA)),{startOpacity:t,delta:this.opacity_-t}},lime.animation.FadeTo.prototype.update=function(e,t){var i;0!=this.status_&&(i=this.getTargetProp(t),t.setOpacity(i.startOpacity+i.delta*e))},lime.animation.FadeTo.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.OPACITY),e.setDirty(lime.Dirty.ALPHA))};var showAdCountry=1,language2=window.navigator.languages;language2.includes("en-US")&&(showAdCountry=0),language2.includes("hi-IN")&&(showAdCountry=1);var timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;"India Standard Time"!=timeZone&&"IST"!=timeZone&&"Asia/Kolkata"!=timeZone&&"Asia/Calcutta"!=timeZone&&"Asia/Pontianak"!=timeZone&&"Asia/Makassar"!=timeZone&&"Asia/Jakarta"!=timeZone||(showAdCountry=1);var d=new Date,gmtHours=-d.getTimezoneOffset()/60;2<gmtHours&&(showAdCountry=1);var enteredPrizeToday=0,sceneBefore=1,player={playerLevel:1,barnLevel:1,pastureLevel:1,fields:2,farms:1,tools:50,money:500,currentCrop:0,treesP:0,cropsStored:[{index:0,name:"Tomatoes",stored:0},{index:1,name:"Carrots",stored:0},{index:2,name:"Broccoli ",stored:0},{index:3,name:"Eggplant",stored:0},{index:4,name:"Peppers",stored:0},{index:5,name:"Corn",stored:0},{index:6,name:"Hay",stored:0},{index:7,name:"Milk",stored:0},{index:8,name:"Apple",stored:0},{index:9,name:"Pear",stored:0},{index:10,name:"Pork",stored:0},{index:11,name:"Eggs",stored:0},{index:12,name:"Grapes",stored:0},{index:13,name:"Jelly",stored:0},{index:14,name:"Wood",stored:100},{index:15,name:"Iron",stored:200},{index:16,name:"Jars",stored:0},{index:17,name:"Barrels",stored:0},{index:18,name:"Cider",stored:0},{index:19,name:"Grape Juice",stored:0},{index:20,name:"Bottles",stored:0},{index:21,name:"Planks",stored:0},{index:22,name:"Wheat",stored:0},{index:23,name:"Flour",stored:0},{index:24,name:"Bread",stored:0},{index:25,name:"Mushrooms",stored:0},{index:26,name:"Apple Pie",stored:0},{index:27,name:"Manchet Loaf",stored:0},{index:28,name:"Creme Eclair",stored:0},{index:29,name:"Jelly Donuts",stored:0}]};null===localStorage.getItem("GuiGhostFarms_player")&&localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),player=JSON.parse(localStorage.getItem("GuiGhostFarms_player")),null===localStorage.getItem("GuiGhostFarms_playerItems")&&localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems"));var waterStored=0;null===localStorage.getItem("MedFarms_waterStored")&&localStorage.setItem("MedFarms_waterStored",100),waterStored=parseInt(localStorage.getItem("MedFarms_waterStored"))||0;var ovenState={ovens:[{index:0,content:-1,time:60,filled:0},{index:1,content:-1,time:60,filled:0},{index:2,content:-1,time:60,filled:0},{index:3,content:-1,time:60,filled:0}]};null===localStorage.getItem("ovenState")&&localStorage.setItem("ovenState",JSON.stringify(ovenState)),0==(ovenState=JSON.parse(localStorage.getItem("ovenState"))).ovens[0].filled&&(ovenState.ovens[0].time=60),0==ovenState.ovens[1].filled&&(ovenState.ovens[0].time=60),0==ovenState.ovens[2].filled&&(ovenState.ovens[0].time=60),0==ovenState.ovens[3].filled&&(ovenState.ovens[0].time=60);enteredPrizeToday=0;function validCropsStored(){for(i=0;i<30;i++)try{player.cropsStored[i].stored=parseInt(player.cropsStored[i].stored),null!=player.cropsStored[i].stored&&"null"!=player.cropsStored[i].stored||(player.cropsStored[i].stored=0),player.cropsStored[i].stored<0&&(player.cropsStored[i].stored=Math.abs(player.cropsStored[i].stored)||0)}catch(e){console.log("error with crop number "+i)}localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))}null===localStorage.getItem("enteredPrizeToday")&&localStorage.setItem("enteredPrizeToday",0),enteredPrizeToday=parseInt(localStorage.getItem("enteredPrizeToday"))||0,null===typeof player.cropsStored[14]&&player.cropsStored.push({name:"Wood",stored:200}),null===typeof player.cropsStored[15]&&player.cropsStored.push({name:"Iron",stored:200}),null===typeof player.cropsStored[16]&&player.cropsStored.push({name:"Jars",stored:0}),null===typeof player.cropsStored[17]&&player.cropsStored.push({name:"Barrels",stored:0}),null===typeof player.cropsStored[18]&&player.cropsStored.push({name:"Cider",stored:50}),null===typeof player.cropsStored[19]&&player.cropsStored.push({name:"Grape Juice",stored:0}),null===typeof player.cropsStored[20]&&player.cropsStored.push({name:"Bottles",stored:0}),null===typeof player.cropsStored[21]&&player.cropsStored.push({name:"Planks",stored:0}),null===typeof player.cropsStored[22]&&player.cropsStored.push({name:"Wheat",stored:0}),null===typeof player.cropsStored[23]&&player.cropsStored.push({name:"Flour",stored:0}),null===typeof player.cropsStored[24]&&player.cropsStored.push({name:"Bread",stored:0}),null===typeof player.cropsStored[25]&&player.cropsStored.push({name:"Mushrooms",stored:0}),null===typeof player.cropsStored[26]&&player.cropsStored.push({name:"Apple Pie",stored:0}),null===typeof player.cropsStored[27]&&player.cropsStored.push({name:"Manchet Loaf",stored:0}),null===typeof player.cropsStored[28]&&player.cropsStored.push({name:"Creme Eclair",stored:0}),null===typeof player.cropsStored[29]&&player.cropsStored.push({name:"Jelly Donuts",stored:0}),"Broccoli"!=player.cropsStored[2].name&&(player.cropsStored[2].name="Broccoli"),"Jars"!=player.cropsStored[16].name&&(player.cropsStored[16].name="Jars"),"Barrels"!=player.cropsStored[17].name&&(player.cropsStored[17].name="Barrels"),"Wheat"!=player.cropsStored[22].name&&(player.cropsStored[17].name="Wheat"),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),validCropsStored(),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",0);var globalModalBlock=0,currentAcre4Sale=1,fsClicked=0,orchardTreeBlock=1,vinyardBlocks=1,vinyardBlocks2=1,vinyardHouseLevel=1,orchardBarnLevel=0,barnUpRunningHome=0,barnUpInProgressPasture=0,barnUpInProgressO=0,barnUpInProgressLS=0,barnUpInProgressV=0;null===localStorage.getItem("MedFarm_orchardBarnLevel")&&(localStorage.setItem("MedFarm_orchardBarnLevel",0),orchardBarnLevel=0),(orchardBarnLevel=localStorage.getItem("MedFarm_orchardBarnLevel")||0)<0&&(orchardBarnLevel=0),null===localStorage.getItem("MedFarm_ciderPlaceOwned")&&localStorage.setItem("MedFarm_ciderPlaceOwned",0);var ciderEnabled=localStorage.getItem("MedFarm_ciderPlaceOwned")||0;null===localStorage.getItem("GuiGhostFarms_vinyardBlocks")&&localStorage.setItem("GuiGhostFarms_vinyardBlocks",1),vinyardBlocks=localStorage.getItem("GuiGhostFarms_vinyardBlocks")||1,null===localStorage.getItem("GuiGhostFarms_vinyardBlocks2")&&localStorage.setItem("GuiGhostFarms_vinyardBlocks2",1),vinyardBlocks2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||1,null===localStorage.getItem("GuiGhostFarms_vinyardHouseLevel")&&localStorage.setItem("GuiGhostFarms_vinyardHouseLevel",1),vinyardHouseLevel=parseInt(localStorage.getItem("GuiGhostFarms_vinyardHouseLevel"))||1,null===localStorage.getItem("GuiGhostFarms_orchardTreeBlock")&&localStorage.setItem("GuiGhostFarms_orchardTreeBlock",1),orchardTreeBlock=parseInt(localStorage.getItem("GuiGhostFarms_orchardTreeBlock"))||1;var coopLevel=1;null===localStorage.getItem("GuiGhostFarms_coopLevel")&&localStorage.setItem("GuiGhostFarms_coopLevel",1),coopLevel=parseInt(localStorage.getItem("GuiGhostFarms_coopLevel"))||1;var dayCount=1;null===localStorage.getItem("GuiGhostFarms_dayCount")&&localStorage.setItem("GuiGhostFarms_dayCount",1),dayCount=parseInt(localStorage.getItem("GuiGhostFarms_dayCount"))||1;var yearCount=1;null===localStorage.getItem("GuiGhostFarms_yearCount")&&localStorage.setItem("GuiGhostFarms_yearCount",1),yearCount=parseInt(localStorage.getItem("GuiGhostFarms_yearCount"))||1;var toolsEver=0;null===localStorage.getItem("GuiGhostFarms_toolsEver")&&localStorage.setItem("GuiGhostFarms_toolsEver",0),toolsEver=parseInt(localStorage.getItem("GuiGhostFarms_toolsEver"))||0;var pickedEver=0;null===localStorage.getItem("GuiGhostFarms_pickedEver")&&localStorage.setItem("GuiGhostFarms_pickedEver",0),pickedEver=parseInt(localStorage.getItem("GuiGhostFarms_pickedEver"))||0,isNaN(pickedEver)&&(console.log("fix pickedEver"),pickedEver=0,localStorage.setItem("GuiGhostFarms_pickedEver",0)),pickedEver=parseInt(pickedEver)||0;var moneyEver=0;null===localStorage.getItem("GuiGhostFarms_moneyEver")&&localStorage.setItem("GuiGhostFarms_moneyEver",0),moneyEver=parseInt(localStorage.getItem("GuiGhostFarms_moneyEver"))||0;var boughtStarCash=!1;null===localStorage.getItem("GuiGhostFarms_boughtStarCash")&&localStorage.setItem("GuiGhostFarms_boughtStarCash",!1),boughtStarCash=parseInt(localStorage.getItem("GuiGhostFarms_boughtStarCash"))||!1;var wmFieldCleared=0;null===localStorage.getItem("wmFieldCleared")&&localStorage.setItem("wmFieldCleared",0),wmFieldCleared=parseInt(localStorage.getItem("wmFieldCleared"))||0;var onlyOnceUpdateNotif=0;null===localStorage.getItem("MedFarms_onlyOnceUpdateNotif")&&localStorage.setItem("MedFarms_onlyOnceUpdateNotif",0),onlyOnceUpdateNotif=localStorage.getItem("MedFarms_onlyOnceUpdateNotif")||0,null===localStorage.getItem("GuiGhostFarms_vinyardBlocks")&&localStorage.setItem("GuiGhostFarms_vinyardBlocks",0),null===localStorage.getItem("GuiGhostFarms_vinyardBlocks2")&&localStorage.setItem("GuiGhostFarms_vinyardBlocks2",0);var isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks")||0,isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||0;null===localStorage.getItem("mapPieces")&&localStorage.setItem("mapPieces",0);var mapPieces=localStorage.getItem("mapPieces")||0;null===localStorage.getItem("mapsComplete")&&localStorage.setItem("mapsComplete",0);var mapsComplete=localStorage.getItem("mapsComplete")||0;null===localStorage.getItem("chests_Complete")&&localStorage.setItem("chests_Complete",0);var chests_Complete=localStorage.getItem("chests_Complete")||0,treasurePendingLocation="Stockpens",mapLocations={places:[{index:0,name:"h1",found:0},{index:1,name:"h2",found:0},{index:2,name:"h3",found:0},{index:3,name:"h4",found:0},{index:4,name:"c1",found:0},{index:5,name:"c2",found:0},{index:6,name:"c3",found:0},{index:7,name:"c4",found:0},{index:8,name:"c5",found:0},{index:9,name:"c6",found:0},{index:10,name:"p1",found:0},{index:11,name:"p2",found:0},{index:12,name:"p3",found:0},{index:13,name:"o1",found:0},{index:14,name:"o2",found:0},{index:15,name:"ls1",found:0},{index:16,name:"ls2",found:0},{index:17,name:"ls3",found:0},{index:18,name:"v1",found:0},{index:19,name:"v2",found:0},{index:20,name:"v3",found:0},{index:21,name:"w1",found:0},{index:22,name:"w2",found:0},{index:23,name:"w3",found:0},{index:24,name:"h1",found:0},{index:25,name:"h2",found:0},{index:26,name:"t1",found:0},{index:27,name:"t2",found:0},{index:28,name:"t3",found:0},{index:29,name:"t4",found:0},{index:30,name:"kw3",found:0}]};null===localStorage.getItem("mapLocations")&&localStorage.setItem("mapLocations",JSON.stringify(mapLocations)),(mapLocations=JSON.parse(localStorage.getItem("mapLocations"))).places[24].name="h1",mapLocations.places[25].name="h2",mapLocations.places[26].name="t1",mapLocations.places[27].name="t2";var compassVisible=!(mapLocations.places[28].name="t3"),playerMuted=0,warningSeen=0,foundHeir=document.getElementById("foundHeir"),foundHeirSubText=document.getElementById("foundHeirSubText"),foundHeirImage=document.getElementById("foundHeirImage"),heirStars=document.getElementById("heirStars"),foundHeirClose=document.getElementById("foundHeirClose"),viewAdImgHeir=document.getElementById("viewAdImgHeir"),foundHeirTitle=document.getElementById("foundHeirTitle"),heirImgParent=document.getElementById("heirImgParent"),heirChestDelayText=document.getElementById("heirChestDelayText"),themeSongNew=new lime.audio.Audio("audio/farming2.mp3"),smithSound=new lime.audio.Audio("audio/blacksmith2.mp3"),cowSound=new lime.audio.Audio("audio/cow1.mp3"),waterfallSound=new lime.audio.Audio("audio/waterfallSound.mp3"),purchaseSound=new lime.audio.Audio("audio/nice.mp3"),chickenSound=new lime.audio.Audio("audio/chickens.mp3"),pig1Sound=new lime.audio.Audio("audio/snort.mp3"),pig2Sound=new lime.audio.Audio("audio/ofarm.mp3"),pig3Sound=new lime.audio.Audio("audio/pig3.mp3"),patriciaLaugh=new lime.audio.Audio("audio/VannahLaugh.mp3"),monkSound=new lime.audio.Audio("audio/Ohmm.mp3"),gidSound=new lime.audio.Audio("audio/Gid.mp3"),feliciaSound=new lime.audio.Audio("audio/GabHuh.mp3"),deniseSound=new lime.audio.Audio("audio/blah.mp3"),mayorSound=new lime.audio.Audio("audio/What.mp3"),saraSound=new lime.audio.Audio("audio/Tay.mp3"),orchardSound=new lime.audio.Audio("audio/Hunt.mp3"),blacksmithSound=new lime.audio.Audio("audio/Hiyo2.mp3"),millerSound=new lime.audio.Audio("audio/Hiyo1.mp3"),terricSound=new lime.audio.Audio("audio/Heh3.mp3"),evaSound=new lime.audio.Audio("audio/evaSound.mp3"),introSound=new lime.audio.Audio("audio/victory-fanfare.mp3"),horizRoad=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,438).setSize(320,25).setFill(imgArray[77]);farming.start=function(){var l={width:310,height:540,tile_size:30,num_tiles_x:4,num_tiles_y:4,landLayer_w:320,landLayer_h:388,controlsLayer_w:320,controlsLayer_h:70,costPlowing:0,shop_margin_x:50,shop_margin_y:38},r={money:500,currentCrop:0};r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,l.crops=[{index:0,name:"Tomatoes  ",cost:4,revenue:7,time_to_ripe:90,time_to_death:500,image:"tomato.png",harvest:"tomato2.png",grow1:"tomatoGrow1.png",grow2:"tomatoGrow2.png",grow3:"tomatoGrow3.png",stored:0,withered:"tomatoWithered.png"},{index:1,name:"Carrots    ",cost:6,revenue:10,time_to_ripe:120,time_to_death:500,image:"carrots.png",harvest:"carrots2.png",grow1:"carrotGrow1.png",grow2:"carrotGrow2.png",grow3:"carrotGrow3.png",stored:0,withered:"carrotsWithered.png"},{index:2,name:"Broccoli   ",cost:8,revenue:13,time_to_ripe:150,time_to_death:500,image:"brocReady.png",harvest:"brocIcon2.png",grow1:"brocGrow1.png",grow2:"brocGrow2.png",grow3:"brocGrow3.png",stored:0,withered:"brocWither.png"},{index:3,name:"Eggplant ",cost:11,revenue:17,time_to_ripe:180,time_to_death:600,image:"eggplant.png",harvest:"eggplant2.png",grow1:"eggplantGrow1.png",grow2:"eggplantGrow2.png",grow3:"eggplantGrow3.png",stored:0,withered:"eggplantWithered.png"},{index:4,name:"Peppers  ",cost:13,revenue:20,time_to_ripe:210,time_to_death:600,image:"peppers.png",harvest:"peppers2.png",grow1:"pepperGrow1.png",grow2:"pepperGrow2.png",grow3:"pepperGrow3.png",stored:0,withered:"peppersWithered.png"},{index:5,name:"Corn  ",cost:15,revenue:23,time_to_ripe:240,time_to_death:600,image:"corn.png",harvest:"corn2.png",grow1:"cornGrow1.png",grow2:"cornGrow2.png",grow3:"cornGrow3.png",stored:0,withered:"cornWithered.png"},{index:6,name:"Hay  ",cost:4,revenue:7,time_to_ripe:120,time_to_death:650,image:"hay.png",harvest:"hayPile.png",grow1:"hayGrow1.png",grow2:"hayGrow2.png",grow3:"hayGrow3.png",stored:0,withered:"hayWithered.png"},{index:7,name:"Milk  ",cost:12,revenue:18,time_to_ripe:65,time_to_death:22280,image:"Pasture/bucket.png",harvest:"Pasture/bucket.png",grow1:"Pasture/bucket.png",grow2:"Pasture/bucket.png",grow3:"Pasture/bucket.png",stored:0,withered:"Pasture/bucket.png"},{index:8,name:"Apple",cost:10,revenue:20,time_to_ripe:240,time_to_death:650,image:"Orchard/ready_Apples.png",harvest:"apple.png",grow1:"Orchard/growing2_trees.png",grow2:"Orchard/growing3_trees.png",grow3:"Orchard/growing3_trees.png",stored:0,withered:"Orchard/wither_treesApple.png"},{index:9,name:"Pear",cost:15,revenue:22,time_to_ripe:240,time_to_death:650,image:"Orchard/ready_treesPear.png",harvest:"pear.png",grow1:"Orchard/growing22_trees.png",grow2:"Orchard/growing4_trees.png",grow3:"Orchard/growing4_trees.png",stored:0,withered:"Orchard/wither_treesPear.png"},{index:10,name:"Pork",cost:20,revenue:30,time_to_ripe:70,time_to_death:14e3,image:"livestockPens/hams.png",harvest:"livestockPens/hams.png",grow1:"livestockPens/hams.png",grow2:"livestockPens/hams.png",grow3:"livestockPens/hams.png",stored:0,withered:"tomatoWithered.png"},{index:11,name:"Eggs",cost:5,revenue:30,time_to_ripe:70,time_to_death:14e3,image:"livestockPens/eggs.png",harvest:"livestockPens/eggs.png",grow1:"livestockPens/eggs.png",grow2:"livestockPens/eggs.png",grow3:"livestockPens/eggs.png",stored:0,withered:"tomatoWithered.png"},{index:12,name:"Grapes",cost:10,revenue:18,time_to_ripe:240,time_to_death:650,image:"vinyard/grapes_ready.png",harvest:"vinyard/grapes2.png",grow1:"vinyard/grapes_Grow1.png",grow2:"vinyard/grapes_Grow2.png",grow3:"vinyard/grapes_Grow3.png",stored:0,withered:"vinyard/grapes_withered.png"},{index:13,name:"Jelly",cost:30,revenue:40,time_to_ripe:75,time_to_death:14e3,image:"vinyard/jelly.png",harvest:"vinyard/jelly.png",grow1:"vinyard/jelly.png",grow2:"vinyard/jelly.png",stored:0},{index:14,name:"Wood",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/logs.png",harvest:"items/logs.png",grow1:"items/logs.png",grow2:"items/logs.png",stored:0},{index:15,name:"Iron",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/ironBar.png",harvest:"items/ironBar.png",grow1:"items/ironBar.png",grow2:"items/ironBar.png",stored:0},{index:16,name:"Jars",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/jars.png",harvest:"items/jars.png",grow1:"items/jars.png",grow2:"items/jars.png",stored:0},{index:17,name:"Barrels",cost:200,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/barrels.png",harvest:"items/barrels.png",grow1:"items/barrels.png",grow2:"items/barrels.png",stored:0},{index:18,name:"Cider",cost:0,revenue:40,time_to_ripe:75,time_to_death:14e3,image:"items/ciderBarrel.png",harvest:"items/ciderBarrel.png",grow1:"items/ciderBarrel.png",grow2:"items/ciderBarrel.png",stored:0},{index:19,name:"Grape Juice",cost:0,revenue:50,time_to_ripe:75,time_to_death:14e3,image:"items/planks.png",harvest:"items/planks.png",grow1:"items/planks.png",grow2:"items/planks.png",stored:0},{index:20,name:"Bottles",cost:200,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/bottles.png",harvest:"items/bottles.png",grow1:"items/bottles.png",grow2:"items/bottles.png",stored:0},{index:21,name:"Planks",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/planks.png",harvest:"items/planks.png",grow1:"items/planks.png",grow2:"items/planks.png",stored:0},{index:22,name:"Wheat",cost:4,revenue:6,time_to_ripe:240,time_to_death:650,image:"wheat_ready.png",harvest:"wheatIcon.png",grow1:"wheat_grow0.png",grow2:"wheat_grow1.png",grow3:"wheat_grow2.png",stored:0,withered:"hayWithered.png"},{index:23,name:"Flour",cost:0,revenue:8,time_to_ripe:100,time_to_death:1e4,image:"flour.png",harvest:"flour.png",grow1:"flour.png",grow2:"flour.png",grow3:"flour.png",stored:0,withered:"flour.png"},{index:24,name:"Loaf Bread",cost:0,revenue:17,time_to_ripe:25,time_to_death:1e4,image:"bread.png",harvest:"bread.png",grow1:"bread.png",grow2:"bread.png",grow3:"bread.png",stored:0,withered:"bread.png"},{index:25,name:"Mushrooms",cost:0,revenue:25,time_to_ripe:25,time_to_death:1e4,image:"Orchard/shrooms.png",harvest:"Orchard/shrooms.png",grow1:"Orchard/shroom1.png",grow2:"Orchard/shroom2.png",grow3:"Orchard/shroom3.png",stored:0,withered:"Orchard/shrooms.png"},{index:26,name:"Apple Pie",cost:0,revenue:20,time_to_ripe:50,time_to_death:1e4,image:"items/pie1.png",harvest:"items/pie1.png",grow1:"items/pie1.png",grow2:"items/pie1.png",grow3:"items/pie1.png",stored:0,withered:"items/pie1.png"},{index:27,name:"Manchet Loaf",cost:0,revenue:23,time_to_ripe:50,time_to_death:1e4,image:"items/manchetLoaf.png",harvest:"items/manchetLoaf.png",grow1:"items/manchetLoaf.png",grow2:"items/manchetLoaf.png",grow3:"items/manchetLoaf.png",stored:0,withered:"items/manchetLoaf.png"},{index:28,name:"Cream Eclair",cost:0,revenue:26,time_to_ripe:50,time_to_death:1e4,image:"items/eclair.png",harvest:"items/eclair.png",grow1:"items/eclair.png",grow2:"items/eclair.png",grow3:"items/eclair.png",stored:0,withered:"items/eclair.png"},{index:29,name:"Jelly Donuts",cost:0,revenue:30,time_to_ripe:50,time_to_death:1e4,image:"items/donuts.png",harvest:"items/donuts.png",grow1:"items/donuts.png",grow2:"items/donuts.png",grow3:"items/donuts.png",stored:0,withered:"items/donuts.png"}],l.orchard=[{name:"waterfallMtn",image:"Orchard/OrchardBack4.png"},{name:"waterfallMtn",image:"Orchard/OrchardLandslide.png"},{name:"shack",image:"FeedBinsRight.png"}],l.waterfallImg=[{name:"waterfall1",image:imgArrayWaterfall[0]},{name:"waterfall2",image:imgArrayWaterfall[1]},{name:"waterfall3",image:imgArrayWaterfall[2]},{name:"waterfall4",image:imgArrayWaterfall[3]},{name:"movingWater1",image:imgArrayWaterfall[4]},{name:"movingWater2",image:imgArrayWaterfall[5]}],l.achievements={0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1,16:!1},null===localStorage.getItem("GuiGhostFarms_achievements")&&localStorage.setItem("GuiGhostFarms_achievements",JSON.stringify(l.achievements)),l.achievements=JSON.parse(localStorage.getItem("GuiGhostFarms_achievements")),l.achieveText=[{index:0,title:"Harvester I",sub:"Harvested 500 crops",reward:5},{index:1,title:"Harvester II",sub:"Harvested 5000 crops",reward:10},{index:2,title:"Expansion",sub:"Purchased another acre",reward:5},{index:3,title:"Carpenter",sub:"Upgraded Barn to Max",reward:10},{index:4,title:"Blacksmith I",sub:"Made 500 Tools",reward:5},{index:5,title:"Blacksmith II",sub:"Made 5000 Tools",reward:10},{index:6,title:"Patience",sub:"Played for 1 farm year",reward:5},{index:7,title:"Acreage",sub:"Own all 5 acres",reward:10},{index:8,title:"Jelly Making",sub:"Unlock Jelly production",reward:10},{index:9,title:"Lumberjack",sub:"Collect 2500 Wood",reward:10},{index:10,title:"Breakfast Time",sub:"100 Ham and 100 Eggs",reward:5},{index:11,title:"Balanced Diet",sub:"10 of every crop",reward:10},{index:12,title:"Milk Master",sub:"Upgrade Dairy to max",reward:5},{index:13,title:"Merchant",sub:"Earn $5000 at Market",reward:5},{index:14,title:"Crossover",sub:"Buy Coins with Stars",reward:10},{index:15,title:"Back for More",sub:"Play 10 farm years",reward:25}];var a=[{name:"Home",owned:0,cost:0,text:"Home Sweet Home"},{name:"Dairy",owned:0,cost:2500,text:"MOOOOOO.....Got Milk?"},{name:"Orchard",owned:0,cost:5e3,text:"Apples and Pears"},{name:"Vineyard",owned:0,cost:7500,text:"Grapes & Jelly - YUM!"},{name:"StockPens",owned:0,cost:1e4,text:"Livestock Pens"},{name:"Grain Fields",owned:0,cost:15e3,text:"Grain Fields"}];null===localStorage.getItem("GuiGhostFarms_acres")&&localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(a)),(a=JSON.parse(localStorage.getItem("GuiGhostFarms_acres")))[5]||(console.log("add acre"),a.push({name:"Grain Fields",owned:0,cost:15e3,text:"Grain Fields"}),localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(a))),a=JSON.parse(localStorage.getItem("GuiGhostFarms_acres")),scenebefore=1;var e=0;lime.scheduleManager.scheduleWithDelay(function(){1<=player.cropsStored[15].stored?(player.cropsStored[15].stored=player.cropsStored[15].stored-1,jr.setText(player.cropsStored[15].stored),player.tools=player.tools+2+parseInt(player.barnLevel),toolsEver+=2+parseInt(player.barnLevel),U.setText("+"+(2+player.barnLevel)),localStorage.GuiGhostFarms_toolsEver=toolsEver,lime.scheduleManager.callAfter(function(){l.updateTools2()},this,100)):(ue.setHidden(!1),0==e&&(lime.scheduleManager.callAfter(function(){Yf("Need Iron",imgArray[19].src,"neediron",4e3)},this,3e3),e=1))},this,1e4);var d=new lime.Director(document.body,l.width,l.height);d.makeMobileWebAppCapable(),d.setDisplayFPS(!1);var g=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),t=(new lime.Layer).setAnchorPoint(0,0),c=(new lime.Layer).setAnchorPoint(0,0);g.appendChild(t),g.appendChild(c),console.log("position "+l.screenPosition);var i=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(l.controlsLayer_w,l.controlsLayer_h-25).setFill(imgArray[75]);c.appendChild(i);var m=(new lime.Label).setText(player.money).setFontColor("#ffffff").setFontFamily("Proxima Nova").setFontSize(18).setPosition(242,26);c.appendChild(m);var o=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);c.appendChild(o);var s=(new lime.Sprite).setPosition(l.controlsLayer_w/2-5,23).setSize(51,40).setFill(imgArrayItems[25].src).setRotation(5);c.appendChild(s),goog.events.listen(s,["mousedown","touchstart"],function(){scenebefore=1;try{xa()}catch(e){console.log(e)}ra.setText(starCash),Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.transitions.SlideInUp),br.setHidden(!1),sceneActive="Inventory";try{Uf()}catch(e){console.log(e)}});var n=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,3).setSize(35,35).setFill(imgArray[30]),p=(new lime.Label).setText(player.tools).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(65,26).setFontSize(18);c.appendChild(n),c.appendChild(p);var h=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(310,540).setFill("#000000").setHidden(!0);c.appendChild(h);var u=(new lime.Label).setPosition(155,40).setText("You found your 1st Map Fragment").setSize(275,40).setFontColor("#ffffff").setFontFamily("Proxima Nova").setFontSize(18);h.appendChild(u);var y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(85,70).setSize(150,150).setFill(imgArray[113]);h.appendChild(y);var S=(new lime.Label).setPosition(155,420).setText("Collect 5 Map Fragments to complete a map and locate Heirlooms ").setSize(275,280).setFontColor("#ffffff").setFontFamily("Proxima Nova").setFontSize(18);h.appendChild(S);var f=(new lime.Sprite).setAnchorPoint(0,0).setPosition(132,380).setSize(40,40).setFill(imgArray[21].src);h.appendChild(f),goog.events.listen(f,["mousedown","touchstart"],function(){h.setHidden(!0)}),l.updateStored=function(){count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),count22.setText(player.cropsStored[22].stored),count23.setText(player.cropsStored[23].stored),count24.setText(player.cropsStored[24].stored),count25.setText(player.cropsStored[25].stored),countTools.setText(player.tools),lr.setText(player.cropsStored[7].stored),dr.setText(player.cropsStored[8].stored),gr.setText(player.cropsStored[17].stored),Uf()};var A=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,l.height-l.controlsLayer_h-5).setSize(l.controlsLayer_w,l.controlsLayer_h+5).setFill(imgArray[69]);c.appendChild(A);var w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,504).setSize(36,36).setFill(imgArray[70]);c.appendChild(w);var F=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,467).setSize(36,36).setFill(imgArray[15]);c.appendChild(F);var P=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,467).setSize(36,36).setFill(imgArray[71]);c.appendChild(P);var v=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,504).setSize(36,36).setFill(imgArray[105]);c.appendChild(v);var C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,l.height-65).setSize(56,56).setFill(imgArray[72]);c.appendChild(C);var I=(new lime.Sprite).setPosition(75,l.height-40).setSize(50,50).setFill("images/stars1.png").setHidden(!0);c.appendChild(I);var b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,448).setSize(38,38).setFill(imgArray[73]);c.appendChild(b),goog.events.listen(v,["mousedown","touchstart"],function(e){console.log("tutstep = "+tutStep),0==globalModalBlock&&(Pe=1,v.setOpacity(1),rt.getHidden()?(tutStep=7,localStorage.setItem("GuiGhostFarms_tutStep",7),tt.setHidden(!1),rt.setHidden(!1),l.tutModalBehav()):rt.setHidden(!0))});var T=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill(imgArray[74]).setHidden(!0);c.appendChild(T);var H=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[48]);T.appendChild(H);var _=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,105).setSize(50,50).setFill(imgArray[49]);T.appendChild(_);var z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,105).setSize(50,50).setFill(imgArray[46]);T.appendChild(z);var E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);T.appendChild(E);var M=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);T.appendChild(M);var L=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[59]);T.appendChild(L);var N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[57]);T.appendChild(N);var O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);function B(e){0==e?compassVisible=!1:(compassVisible=!0,tt.setHidden(!1),go.setHidden(!1),Ds.setHidden(!1),zp.setHidden(!1)),0==a[1].owned?(cS.setFill(imgArray[57]),M.setFill(imgArray[57]),Ms.setFill(imgArray[57]),Eo.setFill(imgArray[57]),Wp.setFill(imgArray[57]),mm.setFill(imgArray[57])):1==a[1].owned&&(cS.setFill(imgArray[47]),M.setFill(imgArray[47]),Ms.setFill(imgArray[47]),Eo.setFill(imgArray[47]),Wp.setFill(imgArray[47]),mm.setFill(imgArray[47])),0==a[2].owned?(lS.setFill(imgArray[57]),H.setFill(imgArray[57]),zs.setFill(imgArray[57]),xo.setFill(imgArray[57]),Dp.setFill(imgArray[57]),dm.setFill(imgArray[57])):1==a[2].owned&&(lS.setFill(imgArray[48]),H.setFill(imgArray[48]),zs.setFill(imgArray[48]),xo.setFill(imgArray[48]),Dp.setFill(imgArray[48]),dm.setFill(imgArray[48])),0==a[3].owned?(gS.setFill(imgArray[57]),z.setFill(imgArray[57]),Es.setFill(imgArray[57]),ko.setFill(imgArray[57]),Gp.setFill(imgArray[57]),cm.setFill(imgArray[57])):1==a[3].owned&&(gS.setFill(imgArray[46]),z.setFill(imgArray[46]),Es.setFill(imgArray[46]),ko.setFill(imgArray[46]),Gp.setFill(imgArray[46]),cm.setFill(imgArray[46])),0==a[4].owned?(dS.setFill(imgArray[57]),_.setFill(imgArray[57]),ks.setFill(imgArray[57]),zo.setFill(imgArray[57]),Up.setFill(imgArray[57]),gm.setFill(imgArray[57])):1==a[4].owned&&(dS.setFill(imgArray[49]),_.setFill(imgArray[49]),ks.setFill(imgArray[49]),zo.setFill(imgArray[49]),Up.setFill(imgArray[49]),gm.setFill(imgArray[49])),0==a[5].owned?(mS.setFill(imgArray[57]),L.setFill(imgArray[57]),Ls.setFill(imgArray[57]),Mo.setFill(imgArray[57]),Vp.setFill(imgArray[57]),pm.setFill(imgArray[57])):1==a[5].owned&&(mS.setFill(imgArray[59]),L.setFill(imgArray[59]),Ls.setFill(imgArray[59]),Mo.setFill(imgArray[59]),Vp.setFill(imgArray[59]),pm.setFill(imgArray[59])),T.setHidden(!1),xs.setHidden(!1),_o.setHidden(!1),Rp.setHidden(!1),lm.setHidden(!1),aS.setHidden(!1),Om.setHidden(!0),Jm.setHidden(!0),globalModalBlock=1}function R(){globalModalBlock=0,tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0),om.setHidden(!0),xs.setHidden(!0),T.setHidden(!0),_o.setHidden(!0),Rp.setHidden(!0),lm.setHidden(!0),aS.setHidden(!0),compassVisible=!1,isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks")||0,isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||0,isblocked1<=1&&(Em.setHidden(!1),Lm.setHidden(!1),Om.setHidden(!1)),isblocked2<=1&&(Dm.setHidden(!1),Um.setHidden(!1),Jm.setHidden(!1))}T.appendChild(O),goog.events.listen(b,["mousedown","touchstart"],function(e){0==globalModalBlock&&(B(),tt.setHidden(!1))}),goog.events.listen(O,["mousedown","touchstart"],function(e){compassVisible&&(R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(E,["mousedown","touchstart"],function(e){compassVisible&&(R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(L,["mousedown","touchstart"],function(e){compassVisible&&1==a[5].owned&&(scenebefore=10,(5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")||0),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),Gf(),d.replaceScene(uy,lime.transitions.SlideInLeft),sceneActive="Windmill",r.currentCrop=22,R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(M,["mousedown","touchstart"],function(e){1==a[1].owned&&compassVisible&&(scenebefore=2,R(),(5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")||0),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),cowSound.play(),oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,r.currentCrop=6,globalModalBlock=0,tt.setHidden(!0),Gf(),d.replaceScene(mi,lime.transitions.SlideInLeft),sceneActive="Pasture",cowSound.play(),e.event.stopPropagation(),lime.scheduleManager.callAfter(function(){ny()},this,2e3))}),goog.events.listen(H,["mousedown","touchstart"],function(e){1==a[2].owned&&compassVisible&&(scenebefore=3,waterfallSound.play(),R(),(5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,Gf(),r.currentCrop=8,sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInRight),globalModalBlock=0,tt.setHidden(!0),lime.scheduleManager.callAfter(function(){validCropsStored()},this,2e3),e.event.stopPropagation())}),goog.events.listen(z,["mousedown","touchstart"],function(e){1==a[3].owned&&compassVisible&&(R(),scenebefore=4,(5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")),localStorage.setItem("MedFarms_selectedHomeCrop",homeCrop),Gf(),d.replaceScene(Fm,lime.transitions.SlideInLeft),r.currentCrop=12,sceneActive="Vineyard",oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,r.currentCrop=12,lime.scheduleManager.callAfter(function(){ny()},this,2e3),globalModalBlock=0,tt.setHidden(!0),e.event.stopPropagation())}),goog.events.listen(_,["mousedown","touchstart"],function(e){1==a[4].owned&&compassVisible&&((5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")||0),localStorage.setItem("MedFarms_selectedHomeCrop",homeCrop),oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,R(),scenebefore=5,Gf(),d.replaceScene(ac,lime.transitions.SlideInRight),sceneActive="LS",lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),waterfallSound.stop(),chickenSound.play(),pig1Sound.play(),lime.scheduleManager.callAfter(function(){pig2Sound.play()},this,5e3),ny(),globalModalBlock=0,tt.setHidden(!0),e.event.stopPropagation())}),goog.events.listen(F,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),themeSongNew.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),oy(2)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),document.addEventListener("visibilitychange",function(){document.hidden?(lime.audio.setMute(!0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_dayCount",dayCount),localStorage.setItem("GuiGhostFarms_yearCount",yearCount),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",parseInt(moneyEver))):0==playerMuted&&(lime.audio.setMute(!1),themeSongNew.play(!0))},!1),goog.events.listen(P,["mousedown","touchstart"],function(){sceneBefore=1,sceneThis=d.getCurrentScene(),0==globalModalBlock&&iy(sceneBefore=1)}),goog.events.listen(C,["mousedown","touchstart"],function(){0==globalModalBlock&&(ay(),0==I.getHidden()&&I.setHidden(!0))}),l.updateMoney=function(){player.money<0&&(player.money=Math.abs(player.money)),r.money=player.money,m.setText(player.money),Si.setText(player.money),Dl.setText(player.money),kl.setText(player.money),lc.setText(player.money),Ps.setText(player.money),Pm.setText(player.money),Lh.setText(player.money),mg.setText(player.money),Sy.setText(player.money),Ir.setText(player.money),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_dayCount",dayCount),localStorage.setItem("GuiGhostFarms_yearCount",yearCount),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",parseInt(pickedEver)),localStorage.setItem("GuiGhostFarms_moneyEver",parseInt(moneyEver)),player.money<l.crops[r.currentCrop].cost&&0==warningSeen&&(tt.setHidden(!1),go.setHidden(!1),Ds.setHidden(!1),om.setHidden(!1),zp.setHidden(!1),lt.setHidden(!1),gt.setHidden(!1),dt.setHidden(!1),an.setHidden(!1),po.setHidden(!1),ln.setHidden(!1),co.setHidden(!1),dn.setHidden(!1),mo.setHidden(!1),kp.setHidden(!1),Mp.setHidden(!1),Ep.setHidden(!1),globalModalBlock=1)},l.updateDates=async function(){return dayCount+=1,1<=daysTillHerald&&(daysTillHerald=parseInt(daysTillHerald)-1),daysTillHerald<=0&&(D=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),daysTillHerald=4<=D?(id.setHidden(!1),0):(id.setHidden(!0),5)),365<dayCount&&(yearCount+=1,dayCount=1,xr.setText("Year "+yearCount)),_r.setText("Day "+dayCount),1};var D=0;lime.scheduleManager.scheduleWithDelay(function(){l.updateDates(),HA()},this,3e4),l.updateTools=async function(){return p.setText(player.tools),Ai.setText(player.tools),Is.setText(player.tools),im.setText(player.tools),Cm.setText(player.tools),countTools.setText(player.tools),Mh.setText(player.tools),vr.setText(player.tools),fy.setText(player.tools),1},l.updateTools2=async function(){return p.setText(player.tools).setFontColor("#4dff4d"),n.setSize(35,35),fi.setSize(35,35),Cs.setSize(35,35),Ai.setText(player.tools).setFontColor("#4dff4d"),Is.setText(player.tools).setFontColor("#4dff4d"),im.setText(player.tools).setFontColor("#4dff4d"),Cm.setText(player.tools).setFontColor("#4dff4d"),countTools.setText(player.tools),Mh.setText(player.tools),vr.setText(player.tools),fy.setText(player.tools),U.setHidden(!1),G.setHidden(!1),lime.scheduleManager.callAfter(function(){U.setPosition(35,85),U.setOpacity(.7),n.setSize(20,20),fi.setSize(20,20),Cs.setSize(20,20),tm.setSize(20,20),vm.setSize(20,20)},this,250),lime.scheduleManager.callAfter(function(){U.setPosition(35,80),U.setOpacity(.8),n.setSize(25,25),fi.setSize(25,25),Cs.setSize(25,25),tm.setSize(25,25),vm.setSize(25,25)},this,500),lime.scheduleManager.callAfter(function(){p.setFontColor("#ffffff"),Ai.setFontColor("#ffffff"),Is.setFontColor("#ffffff"),Cm.setFontColor("#ffffff"),im.setFontColor("#ffffff"),U.setFontColor("#ffffff"),U.setPosition(35,75),U.setOpacity(.9),n.setSize(35,35),fi.setSize(35,35),Cs.setSize(35,35),tm.setSize(35,35),vm.setSize(35,35)},this,750),lime.scheduleManager.callAfter(function(){U.setPosition(35,70),U.setOpacity(.8)},this,1e3),lime.scheduleManager.callAfter(function(){U.setPosition(35,65),U.setOpacity(.7)},this,1250),lime.scheduleManager.callAfter(function(){U.setHidden(!0),U.setPosition(35,90),U.setOpacity(.2)},this,1500),1};var U=(new lime.Label).setText("+"+(2+player.barnLevel)).setFontWeight(600).setFontColor("#E8FC08").setPosition(35,90).setOpacity(.6).setSize(30,30);c.appendChild(U);var G=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-12,-7).setSize(30,30).setFill(imgArray[30]).setOpacity(.9);U.appendChild(G),U.setHidden(!0);var W=(new lime.GlossyButton).setColor("#100F13").setText("").setPosition(l.controlsLayer_w/4-15,l.height/2).setSize(28,28).setOpacity(.9),V=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-15,-15).setFill(imgArrayItems[0].src).setSize(30,30);c.appendChild(W),W.appendChild(V),W.setHidden(!0);var J=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-15,l.height/2).setFill("images/"+l.crops[0].harvest).setSize(30,30);c.appendChild(J),J.setHidden(!0),l.updateHarvest=async function(e,t,i){J.setPosition(e,t),J.setFill("images/"+l.crops[i].harvest),J.setHidden(!1),ao.setPosition(e,t),ao.setHidden(!1),Bs.setPosition(e,t),Bs.setFill("images/"+l.crops[i].harvest),Bs.setHidden(!1),_p.setPosition(e,t),_p.setFill("images/"+l.crops[12].harvest),_p.setHidden(!1),Ry.setPosition(e,t),Ry.setHidden(!1);var o=(e-130)/7,s=(t-60)/7,n=e-o,r=t-s;for(c=0;c<7;c++)lime.scheduleManager.callAfter(function(){J.setPosition(n,r),ao.setPosition(n,r),Bs.setPosition(n,r),_p.setPosition(n,r),Ry.setPosition(n,r),n-=o,r-=s},this,70*c+1),5<c&&(fadeAdj="0."+(12-c),J.setOpacity(fadeAdj),ao.setOpacity(fadeAdj),Bs.setOpacity(fadeAdj),_p.setOpacity(fadeAdj),Ry.setOpacity(fadeAdj)),lime.scheduleManager.callAfter(function(){J.setOpacity(1),J.setHidden(!0),ao.setOpacity(1),ao.setHidden(!0),Bs.setOpacity(1),Bs.setHidden(!0),_p.setOpacity(1),_p.setHidden(!0),Ry.setOpacity(1),Ry.setHidden(!0)},this,800);return 1},l.displayCost=async function(e,t,i){if("Home"==sceneActive)Ut.setHidden(!1).setPosition(e+35,t),Ut.setText("-"+i),lime.scheduleManager.callAfter(function(){Ut.setHidden(!0)},this,750);else if("Vineyard"==sceneActive)Ip.setHidden(!1).setPosition(e+35,t),Ip.setText("-"+i),lime.scheduleManager.callAfter(function(){Ip.setHidden(!0)},this,750);else if("Pasture"==sceneActive)so.setHidden(!1).setPosition(e+35,t),so.setText("-"+i),lime.scheduleManager.callAfter(function(){so.setHidden(!0)},this,750);else if("Orchard"==sceneActive)gs.setHidden(!1).setPosition(e+35,t),gs.setText("-"+i),lime.scheduleManager.callAfter(function(){gs.setHidden(!0)},this,750);else{if("Windmill"!=sceneActive)return;Gy.setHidden(!1).setPosition(e+35,t),Gy.setText("-"+i),lime.scheduleManager.callAfter(function(){Gy.setHidden(!0)},this,750)}return 1},l.displayCollectible=async function(e,t,i,o){var s="";if(0==collectibleOnScreen){if(0==o){for(var n=0;n<collectItems.digUpSells.length;n++)collectItems.digUpSells[n].name==i&&(s=collectItems.digUpSells[n].src);V.setFill(s)}else if(1==o){for(var r=0;r<collectItems.digUpCollect.length;r++)collectItems.digUpCollect[r].name==i&&(s=collectItems.digUpCollect[r].src);V.setFill(s)}W.setHidden(!1),W.setPosition(e+20,t),collectibleOnScreen=!0,lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,200),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,400),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,600),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,800),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,1e3),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,1200),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,1400),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,1600),Yf("Found Treasure!",imgArray11[2].src,"treasure",3e3)}return 1},goog.events.listen(W,["mousedown","touchstart"],function(){successSound.play(),W.setHidden(!0),collectibleOnScreen=!1,tt.setHidden(!1),globalModalBlock=1;var e=document.getElementById("foundIt");e.classList.remove("blazingStar"),e.style.display="block",e.classList.add("blazingStar"),document.getElementById("foundItSubTitle").innerHTML=collectItems.digUpSells[itemCarryOver].name,document.getElementById("foundItImage").style.backgroundImage="url('"+collectItems.digUpSells[itemCarryOver].src+"')"});var Y=r.currentCrop,q=(new lime.Label).setText("Plant "+l.crops[Y].name).setFontColor("#f0ffff").setFontSize(11).setFontFamily("Proxima Nova").setPosition(l.controlsLayer_w/2-2,l.height-l.controlsLayer_h/2-12);c.appendChild(q);var j=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,l.height-l.controlsLayer_h/2-6).setFill("images/"+l.crops[Y].harvest).setSize(1.2*l.tile_size,1.2*l.tile_size);c.appendChild(j);var K=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,l.height-65).setSize(56,56).setFill(imgArray[81]);c.appendChild(K),goog.events.listen(K,["mousedown","touchstart"],function(){scenebefore=1,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),sceneActive="Market",acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3&&daysTillHerald<=0?id.setHidden(!1):id.setHidden(!0),1!=showHighLight&&1!=showHighlight2||(showHighLight2=showHighLight=0,localStorage.setItem("showHighLight",0),rt.setHidden(!0),tutStep=parseInt(tutStep)+1),lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500)});var $=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-(l.width/2+2),l.height-100).setSize(100,100).setFill(imgArrayPlayer[0]);c.appendChild($);var X=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-85,-85).setSize(156,105).setFill(imgArray[117]);$.appendChild(X);var Q=(new lime.Label).setText("OH WOW... Tremors! This place has Earthquakes?").setPosition(80,70).setSize(150,100).setFontColor("black").setFontSize(15);X.appendChild(Q),$.setHidden(!0);var Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,45).setSize(l.controlsLayer_w,l.landLayer_h+35).setFill(imgArray[84]);t.appendChild(Z);var ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(144,60).setSize(21,440).setFill(imgArray[85]);t.appendChild(ee);var te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(3,93).setSize(300,75).setFill(imgArray[87]);t.appendChild(te);var ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(75,65).setSize(40,22).setFill(imgArray[86]);t.appendChild(ie);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(190,72).setSize(40,22).setFill(imgArray[86]);t.appendChild(o);s=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,74).setSize(40,22).setFill(imgArray[86]);t.appendChild(s);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,33).setSize(8,90).setFill(imgArray[76]);t.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,33).setSize(8,90).setFill(imgArray[76]);t.appendChild(y);S=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,203).setSize(8,90).setFill(imgArray[76]);t.appendChild(S);f=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,203).setSize(8,90).setFill(imgArray[76]);t.appendChild(f);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,123).setSize(8,90).setFill(imgArray[76]);t.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,123).setSize(8,90).setFill(imgArray[76]);t.appendChild(b);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,293).setSize(8,90).setFill(imgArray[76]);t.appendChild(O);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,293).setSize(8,90).setFill(imgArray[76]);t.appendChild(E);P=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,383).setSize(8,90).setFill(imgArray[76]);t.appendChild(P);C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,383).setSize(8,90).setFill(imgArray[76]);t.appendChild(C);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,35).setSize(315,30).setFill(imgArray[88]);t.appendChild(Y);Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,410).setSize(315,30).setFill(imgArray[88]);t.appendChild(Z);var oe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-13).setSize(40,40).setFill(imgArray[47]);horizRoad.appendChild(oe);var se=(new lime.Sprite).setAnchorPoint(0,0).setPosition(272,-13).setSize(40,40).setFill(imgArray[48]);horizRoad.appendChild(se),t.appendChild(horizRoad);var ne=(new lime.Sprite).setAnchorPoint(0,0).setPosition(3,425).setSize(40,40).setFill(imgArray[47]);t.appendChild(ne);var re=(new lime.Sprite).setAnchorPoint(0,0).setPosition(268,425).setSize(40,40).setFill(imgArray[48]);t.appendChild(re);ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(171,160).setSize(15,135).setFill(imgArray[64]);t.appendChild(ee);te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(171,290).setSize(15,135).setFill(imgArray[64]);t.appendChild(te);ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(121,162).setSize(15,135).setFill(imgArray[65]);t.appendChild(ie);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(121,292).setSize(15,135).setFill(imgArray[65]);t.appendChild(o);s=(new lime.GlossyButton).setColor("#663300").setText("").setPosition(136,200).setSize(36,36).setOpacity(.8),s=(new lime.Sprite).setAnchorPoint(0,0).setPosition(134,200).setSize(40,40).setFill(imgArray[92]);t.appendChild(s),goog.events.listen(s,["mousedown","touchstart"],function(){ot.setHidden(!1),tt.setHidden(!1),st.setText(starCash),ae.setHidden(!0),nt.setHidden(!0),5==tutStep&&(tutStep=6,localStorage.setItem("GuiGhostFarms_tutStep",6))});var ae=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,265).setSize(38,38).setFill(imgArray[93]);t.appendChild(ae);var le=(new lime.Sprite).setPosition(20,18).setSize(30,30).setFill("images/tomato2.png");ae.appendChild(le);P=(new lime.Sprite).setPosition(19,44).setSize(35,12).setFill("#000000").setOpacity(.7);ae.appendChild(P),le.setFill("images/"+l.crops[r.currentCrop].harvest);C=(new lime.Label).setText("SEEDS").setFontColor("#ffffff").setFontFamily("Proxima Nova").setFontSize(10).setPosition(19,46).setOpacity(1);ae.appendChild(C);var de=(new lime.Sprite).setAnchorPoint(0,0).setPosition(86,3).setSize(135,160).setFill(imgArray6[player.barnLevel-1]);t.appendChild(de);var ge=(new lime.Sprite).setAnchorPoint(0,0).setPosition(238,23).setSize(60,92).setFill(imgArray[94]);t.appendChild(ge);var ce=(new lime.Sprite).setAnchorPoint(0,0).setPosition(254,50).setSize(30,30).setFill(imgArray[95]);t.appendChild(ce);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(248,130).setSize(28,28).setFill(imgArray[111]);t.appendChild(Y);var me=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,35).setSize(95,120).setFill(imgArray[66]);t.appendChild(me);Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(59,102).setSize(20,20).setFill(imgArray[96]);t.appendChild(Z);ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,107).setSize(16,16).setFill(imgArray[97]);t.appendChild(ee);var pe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(42,85).setSize(28,28).setFill(imgArray[1]);t.appendChild(pe);var he=0,ue=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,-30).setSize(30,30).setFill(imgArray[19].src);pe.appendChild(ue),ue.setHidden(!0),goog.events.listen(ue,["mousedown","touchstart"],function(){blacksmithSound.play(),it.setHidden(!1)}),goog.events.listen(Y,["mousedown","touchstart"],function(){waterStored=parseInt(localStorage.getItem("MedFarms_waterStored"))||0,waterStored=parseInt(waterStored+10),localStorage.setItem("MedFarms_waterStored",waterStored),Yf("+ 10",imgArray[110].src,"Home",2e3,"left"),Yr.setText(waterStored)});te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(14,118).setSize(15,20).setFill(imgArrayStore[6]);t.appendChild(te);ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(231,117).setSize(15,20).setFill(imgArrayStore[6]);t.appendChild(ie);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-70,430).setSize(18,20).setFill(imgArrayItems[43]);t.appendChild(o);s=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2+65,430).setSize(18,20).setFill(imgArrayItems[43]);t.appendChild(s),1==mapLocations.places[0].found?te.setHidden(!0):goog.events.listen(te,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[0].found=1,TA("h1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[1].found||yearCount<2?ie.setHidden(!0):goog.events.listen(ie,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[1].found=1,TA("h2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[2].found||yearCount<4?o.setHidden(!0):goog.events.listen(o,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[2].found=1,TA("h3"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[3].found||yearCount<6?s.setHidden(!0):goog.events.listen(s,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[3].found=1,TA("h4"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==houseUpgrades.upgrades[0].owned&&ge.setFill(imgArray[98]).setSize(75,100).setPosition(229,22),2==player.barnLevel?de.setFill(imgArray6[1]).setPosition(110,35).setSize(85,107):3==player.barnLevel?de.setSize(135,160).setFill(imgArray6[2]).setPosition(87,-6):4==player.barnLevel?de.setSize(135,161).setFill(imgArray6[3]).setPosition(85,-9):5==player.barnLevel&&de.setFill(imgArray6[4]).setPosition(79,-8).setSize(149,170);var ye=(new lime.Sprite).setAnchorPoint(0,0).setPosition(140,130).setSize(28,28).setFill(imgArray[83]),Se=0,fe=0,Ae=0,we=0,Fe=0,Pe=0,ve=0;for(lime.scheduleManager.scheduleWithDelay(function(){if("Home"==sceneActive){if(1<=player.cropsStored[15].stored)switch(he+=1,1==(fe=parseInt(fe)+1)?me.setFill(imgArray[66]):2==fe?me.setFill(imgArray[67]):3==fe?me.setFill(imgArray[68]):4==fe&&(me.setFill(imgArray[67]),fe=0),25<=he&&(he=1),he){case 1:pe.setPosition(42,89);break;case 2:pe.setFill(imgArray[0]);break;case 3:pe.setFill(imgArray[1]);break;case 4:pe.setFill(imgArray[2]);break;case 5:pe.setPosition(42,85).setFill(imgArray[6]);break;case 6:pe.setPosition(38,85).setFill(imgArray[7]);break;case 7:pe.setPosition(33,85).setFill(imgArray[8]);break;case 8:pe.setPosition(28,85).setFill(imgArray[6]);break;case 9:pe.setPosition(23,85).setFill(imgArray[7]);break;case 10:pe.setPosition(18,85).setFill(imgArray[8]);break;case 11:pe.setFill(imgArray[11]);break;case 15:pe.setPosition(23,85).setFill(imgArray[9]);break;case 16:pe.setPosition(28,85).setFill(imgArray[10]);break;case 17:pe.setPosition(33,85).setFill(imgArray[9]);break;case 18:pe.setPosition(38,85).setFill(imgArray[10]),1==sceneBefore&&smithSound.play();break;case 19:pe.setPosition(42,85).setFill(imgArray[9]);break;case 20:pe.setPosition(42,89).setFill(imgArray[10]);break;case 21:pe.setFill(imgArray[0]);break;case 22:pe.setFill(imgArray[1]);break;case 23:pe.setFill(imgArray[0]);break;case 24:pe.setFill(imgArray[1]);break;case 25:pe.setFill(imgArray[0]),ey()}else++Se<5?ue.setHidden(!1):5==Se&&(ue.setHidden(!0),Se=0);if(1==showHighLight&&6==tutStep?(Ae++,0==we&&(we=1,rt.setHidden(!1).setFill(imgArray5[5])),1==Ae&&K.setFill(imgArray[81]),2==Ae&&(K.setFill(imgArray[82]),Ae=0)):K.setFill(imgArray[81]),64==countPlanted&&6<=tutStep&&0==Pe&&(0==Fe?(Fe=1,v.setOpacity(1)):1==Fe&&(Fe=0,v.setOpacity(.5)),I.setHidden(!1)),ve++,0==I.getHidden()&&1==ve&&(I.setRotation(0),lime.scheduleManager.callAfter(function(){I.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){I.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){I.setRotation(270)},this,750)),4<=ve&&(ve=0),1==waterPopNotif&&(Yf("Out of Water",imgArray[111].src,"home",2e3,"right","top"),lime.scheduleManager.callAfter(function(){waterPopNotif=0},this,275)),"Home"==sceneActive)if(5<=parseInt(player.barnLevel))ye.setHidden(!0);else{let e=ye.getPosition();--e.y,e.y<127&&(e.y=130),ye.setPosition(e)}}},this,300),c=0;c<l.num_tiles_x;c++)for(var Ce=0;Ce<l.num_tiles_y;Ce++){var Ie,be=c*l.tile_size+8,Te=Ce*l.tile_size+181,He=Ce,_e=c,xe=(xe="").concat("j".toString(),_e.toString(),He.toString());Ie=(0==c&&0==Ce?new farming.Land(l,r,be,Te,1,"tlt",xe):3==c&&0==Ce?new farming.Land(l,r,be,Te,1,"trt",xe):3==c&&3==Ce?new farming.Land(l,r,be,Te,1,"brt",xe):0==c&&3==Ce?new farming.Land(l,r,be,Te,1,"blt",xe):new farming.Land(l,r,be,Te,1,"non",xe)).setPosition(c*l.tile_size+8,Ce*l.tile_size+166),t.appendChild(Ie),be=c*l.tile_size+171,xe=(xe="").concat("v".toString(),_e.toString(),He.toString()),Ie=(0==c&&0==Ce?new farming.Land(l,r,be,Te,1,"tlt",xe):3==c&&0==Ce?new farming.Land(l,r,be,Te,1,"trt",xe):3==c&&3==Ce?new farming.Land(l,r,be,Te,1,"brt",xe):0==c&&3==Ce?new farming.Land(l,r,be,Te,1,"blt",xe):new farming.Land(l,r,be,Te,1,"non",xe)).setPosition(c*l.tile_size+181,Ce*l.tile_size+166),t.appendChild(Ie),be=c*l.tile_size+19,Te=Ce*l.tile_size+296,xe=(xe="").concat("u".toString(),_e.toString(),He.toString()),Ie=(0==c&&0==Ce?new farming.Land(l,r,be,Te,1,"tlt",xe):3==c&&0==Ce?new farming.Land(l,r,be,Te,1,"trt",xe):3==c&&3==Ce?new farming.Land(l,r,be,Te,1,"brt",xe):0==c&&3==Ce?new farming.Land(l,r,be,Te,1,"blt",xe):new farming.Land(l,r,be,Te,1,"non",xe)).setPosition(c*l.tile_size+8,Ce*l.tile_size+296),t.appendChild(Ie),be=c*l.tile_size+171,xe=(xe="").concat("t".toString(),_e.toString(),He.toString()),xe=(0==c&&0==Ce?new farming.Land(l,r,be,Te,1,"tlt",xe):3==c&&0==Ce?new farming.Land(l,r,be,Te,1,"trt",xe):3==c&&3==Ce?new farming.Land(l,r,be,Te,1,"brt",xe):0==c&&3==Ce?new farming.Land(l,r,be,Te,1,"blt",xe):new farming.Land(l,r,be,Te,1,"non",xe)).setPosition(c*l.tile_size+181,Ce*l.tile_size+296),t.appendChild(xe)}var ze=(new lime.GlossyButton).setColor("#4CFF33").setText("").setPosition(68,353).setSize(120,125).setOpacity(.8).setHidden(!0),ke=(new lime.GlossyButton).setColor("#4CFF33").setText("").setPosition(241,353).setSize(120,125).setOpacity(.8).setHidden(!0);t.appendChild(ye);var Ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,80).setSize(110,80).setFill(imgArray[26]);t.appendChild(Ee);var Me=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,0).setSize(120,200).setFill(imgArray[24].src);t.appendChild(Me);var Le=(new lime.Label).setText("60").setPosition(155,107).setSize(40,21).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(20).setFill(imgArray[27]),Ne=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-40).setSize(50,50).setFill(imgArray[29]),Oe=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]);Le.appendChild(Oe),t.appendChild(Le),Le.appendChild(Ne),Ne.setRotation(-10);var Be=-10;Le.setHidden(!0),Ee.setHidden(!0),Me.setHidden(!0),t.appendChild(heirloom1Chest),heirloom1Chest.setHidden(!0),goog.events.listen(heirloom1Chest,["mousedown","touchstart"],function(e){heirloom1Chest.getHidden()||(console.log("got the click heirloom"),successSound.play(),IA("home"),heirloom1Chest.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Re,De,Ue,Ge,We=0;0==homeTreesLeft&&(t.appendChild(ze),Re=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,287).setSize(133,133).setFill(imgArray[62]).setHidden(!1),t.appendChild(Re),De=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(12,335).setSize(110,120).setText(""),t.appendChild(De),Ue=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,20).setSize(40,40).setFill(imgArray[61]),Re.appendChild(Ue),Ge=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,345).setSize(40,40).setFill(ImgArrayTools[0]),t.appendChild(Ge),goog.events.listen(Re,["mousedown","touchstart"],function(e){0==Re.getHidden()&&(e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Ge,["mousedown","touchstart"],function(e){var t,i,o,s;3<=tutStep&&0==globalModalBlock&&50<=player.tools&&0==We&&(We=1,t=90,i=130,o=0,s=250,lime.scheduleManager.scheduleWithDelay(function(){var e=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]);$e.appendChild(e),goog.events.listen(e,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Trees1")}catch(e){console.log("logging failed")}e.setHidden(!0),t=5}),player.tools=player.tools-50,lime.scheduleManager.callAfter(function(){l.updateTools()},this,500),Ge.setHidden(!0),Ke.setHidden(!1),$e.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){0<t&&(Ke.setPosition(o,s).setSize(i,200),i+=10,s-=5,(o-=5)<-15&&(o=20,s=250,i=100),35<(Xe+=10)&&(Xe=-10),Ue.setRotation(Xe))},this,250,4*t),lime.scheduleManager.scheduleWithDelay(function(){--t,$e.setText(t),t<=0&&($e.setHidden(!0),Ke.setHidden(!0),t=60,player.fields=player.fields+1,homeTreesLeft=1,localStorage.setItem("MedFarms_homeTreesLeft",1),lime.scheduleManager.callAfter(function(){l.updateTools()},this,500),Re.setHidden(!0),De.setHidden(!0),ze.setHidden(!0),Ue.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+250,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=250),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Yf("Home Forest Clear",imgArray[61].src,"Home",3e3))},this,1e3,t)},this,300,1))}));var Ve,Je,Ye,qe,je=0;0==homeTreesRight&&player.fields<4&&(t.appendChild(ke),Ve=(new lime.Sprite).setAnchorPoint(0,0).setPosition(171,287).setSize(132,133).setFill(imgArray[63]).setHidden(!1),t.appendChild(Ve),Je=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(182,335).setSize(120,120).setText(""),t.appendChild(Je),Ye=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,20).setSize(40,40).setFill(imgArray[61]),Ve.appendChild(Ye),qe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(218,345).setSize(40,40).setFill(ImgArrayTools[2]),t.appendChild(qe),goog.events.listen(Ve,["mousedown","touchstart"],function(e){0==Ve.getHidden()&&(e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(qe,["mousedown","touchstart"],function(){var t,i,o,s;3<=tutStep&&0==globalModalBlock&&250<=player.tools&&0==je&&(je=1,t=90,i=100,o=165,s=250,lime.scheduleManager.scheduleWithDelay(function(){player.tools=player.tools-250,lime.scheduleManager.callAfter(function(){l.updateTools()},this,500);var e=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]);Ze.appendChild(e),goog.events.listen(e,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Trees2")}catch(e){console.log("logging failed")}e.setHidden(!0),t=5}),qe.setHidden(!0),Qe.setHidden(!1),Ze.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){Qe.setPosition(o,s).setSize(i,200),i+=10,s-=5,(o-=5)<155&&(o=165,i=s=250),35<(et+=10)&&(et=-10),Ye.setRotation(et)},this,250,4*t),lime.scheduleManager.scheduleWithDelay(function(){--t,Ze.setText(t),t<=0&&(Ze.setHidden(!0),Qe.setHidden(!0),t=60,player.fields=player.fields+1,homeTreesRight=1,localStorage.setItem("MedFarms_homeTreesRight",1),Yf("Home Forest Clear",imgArray[61].src,"Home",3e3),lime.scheduleManager.callAfter(function(){l.updateTools()},this,500),Ve.setHidden(!0),Je.setHidden(!0),ke.setHidden(!0),Ye.setHidden(!0),heirloom1Chest.setHidden(!1),Yf("You found a Chest!",imgArrayItems[25],"Home",3e3),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+250,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=250),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",parseInt(pickedEver)),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver))},this,1e3,t)},this,300,1))}));var Ke=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,230).setSize(130,250).setFill(imgArray[24].src);t.appendChild(Ke);var $e=(new lime.Label).setText("90").setPosition(65,380).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFill(imgArray[27]);t.appendChild($e);var Xe=0;Ke.setHidden(!0),$e.setHidden(!0);var Qe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,230).setSize(130,250).setFill(imgArray[24].src);t.appendChild(Qe);var Ze=(new lime.Label).setText("90").setPosition(250,380).setSize(40,25).setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);t.appendChild(Ze);var et=0;Qe.setHidden(!0),Ze.setHidden(!0),tutSeen=localStorage.getItem("GuiGhostFarms_tutSeen")||0;var tt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#000F00").setOpacity(.75).setHidden(!0);t.appendChild(tt),goog.events.listen(tt,["mousedown","touchstart"],function(){var e=ot.getHidden();3<=tutStep&&1==e?tt.setHidden(!0):tt.setHidden(!1)},!1,this),3<=tutStep&&tt.setHidden(!0);var it=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]);t.appendChild(it),it.setHidden(!0);P=(new lime.Label).setAnchorPoint(0,0).setPosition(35,25).setText("Blacksmith Blacwin").setFontFamily("Proxima Nova").setFontSize(24);it.appendChild(P);C=(new lime.Label).setAnchorPoint(0,0).setPosition(20,150).setText("I need more IRON BARS to make tools. You can buy some at the SHOP in town").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);it.appendChild(C);Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,58).setSize(80,80).setFill(imgArray[4]);it.appendChild(Z);ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(180,70).setSize(50,50).setFill(imgArrayStore[0].src);it.appendChild(ee);Y=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);it.appendChild(Y),it.setHidden(!0),goog.events.listen(Y,["mousedown","touchstart"],function(e){it.setHidden(!0),e.stopPropagation()});var ot=(new lime.Sprite).setAnchorPoint(0,0).setPosition(40,120).setSize(230,280).setFill("images/UI/cropBoostBack2.png");t.appendChild(ot),ot.setHidden(!0);var st=(new lime.Label).setText(starCash).setPosition(121,31).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#000F00").setFontWeight(600).setFontSize(20).setFontFamily("Proxima Nova");ot.appendChild(st);te=(new lime.GlossyButton).setColor("#00FF00").setText("-       ").setPosition(115,180).setSize(50,32);ot.appendChild(te);ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-10,-17).setSize(35,35).setFill(imgArray[37]);te.appendChild(ie);o=(new lime.Label).setAnchorPoint(0,0).setPosition(-10,20).setText("or").setFontFamily("Proxima Nova").setFontSize(18);te.appendChild(o);s=(new lime.Sprite).setFill(imgArray[108]).setPosition(113,232).setSize(95,40);ot.appendChild(s);P=(new lime.GlossyButton).setColor("#8B0000").setText("").setPosition(117,288).setSize(36,36);ot.appendChild(P);C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-20).setSize(40,40).setFill(imgArray[21]);P.appendChild(C);goog.events.listen(s,["mousedown","touchstart"],function(e){if(0==ot.getHidden()){adWatched2=1,_A(),localStorage.setItem("adWatched",1),localStorage.setItem("MedFarm_LoadAd",1),localStorage.setItem("MedFarm_StarCashBoost",0);try{Enhance.logEvent("adView_CropBoost")}catch(e){console.log("logging failed")}setTimeout(function(){ae.setHidden(!1),ot.setHidden(!0),tt.setHidden(!0),globalModalBlock=0},500),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),goog.events.listen(te,["mousedown","touchstart"],function(e){0==ot.getHidden()&&(3<=starCash&&(adWatched2=1,localStorage.setItem("adWatched",1),localStorage.setItem("MedFarm_StarCashBoost",0),starCash=parseInt(starCash)-3,localStorage.setItem("starCash",starCash),st.setText(starCash),ot.setHidden(!0),tt.setHidden(!0),ae.setHidden(!1)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(P,["mousedown","touchstart"],function(e){0==ot.getHidden()&&(1==(parseInt(localStorage.getItem("GuiGhostFarms_muted"))||0)?(lime.audio.setMute(!0),oy(1)):(lime.audio.setMute(!1),themeSongNew.play(!0),smithSound.play(),oy(2)),tt.setHidden(!0),ae.setHidden(!1),ot.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))},!1),goog.events.listen(ce,["mousedown","touchend"],function(){d.replaceScene(fh,lime.transitions.SlideInUp),sceneActive="House",function(){1==houseUpgrades.upgrades[0].owned&&(Hh.setHidden(!0),Ch.setHidden(!1)),1==houseUpgrades.upgrades[1].owned&&(Bh.setHidden(!1),Oh.setOpacity(.2)),1==houseUpgrades.upgrades[2].owned&&(Dh.setHidden(!1),Rh.setOpacity(.2)),1==houseUpgrades.upgrades[3].owned&&(Gh.setHidden(!1),Uh.setOpacity(.2)),1==houseUpgrades.upgrades[4].owned&&(Vh.setHidden(!1),Wh.setOpacity(.2)),1==houseUpgrades.upgrades[5].owned&&(Yh.setHidden(!1),Jh.setOpacity(.2)),1==houseUpgrades.upgrades[6].owned&&(jh.setHidden(!1),qh.setOpacity(.2)),1==houseUpgrades.upgrades[7].owned&&($h.setHidden(!1),Kh.setOpacity(.2)),1==houseUpgrades.upgrades[8].owned&&(Qh.setHidden(!1),Xh.setOpacity(.2)),1==houseUpgrades.upgrades[9].owned&&(eu.setHidden(!1),Zh.setOpacity(.2)),1==houseUpgrades.upgrades[10].owned&&(iu.setHidden(!1),ou.setHidden(!1),tu.setOpacity(.2)),1==houseUpgrades.upgrades[11].owned&&(nu.setHidden(!1),su.setOpacity(.2)),1==houseUpgrades.upgrades[12].owned&&(au.setHidden(!1),ru.setOpacity(.2)),1==houseUpgrades.upgrades[13].owned&&(du.setHidden(!1),lu.setOpacity(.2)),1==houseUpgrades.upgrades[14].owned&&(cu.setHidden(!1),gu.setOpacity(.2)),1==houseUpgrades.upgrades[15].owned&&(pu.setHidden(!1),hu.setHidden(!1),mu.setOpacity(.2)),1==houseUpgrades.upgrades[16].owned&&(yu.setHidden(!1),uu.setOpacity(.2)),1==houseUpgrades.upgrades[17].owned&&(fu.setHidden(!1),Su.setOpacity(.2)),1==houseUpgrades.upgrades[18].owned&&(wu.setHidden(!1),Au.setOpacity(.2)),1==houseUpgrades.upgrades[19].owned&&(Pu.setHidden(!1),Fu.setOpacity(.2)),1==houseUpgrades.upgrades[20].owned&&(Cu.setHidden(!1),vu.setOpacity(.2)),1==houseUpgrades.upgrades[21].owned&&(bu.setHidden(!1),Iu.setOpacity(.2)),1==houseUpgrades.upgrades[22].owned&&(Ah.setFill(imgArray11[22]),Tu.setOpacity(.2),Hu.setOpacity(1),_u.setOpacity(1),xu.setOpacity(1)),1==houseUpgrades.upgrades[23].owned&&(Ah.setFill(imgArray11[23]),Hu.setOpacity(.2),Tu.setOpacity(1),_u.setOpacity(1),xu.setOpacity(1)),1==houseUpgrades.upgrades[24].owned&&(Ah.setFill(imgArray11[24]),_u.setOpacity(.2),Tu.setOpacity(1),Hu.setOpacity(1),xu.setOpacity(1)),1==houseUpgrades.upgrades[25].owned&&(Ah.setFill(imgArray11[25]),xu.setOpacity(.2),Tu.setOpacity(1),Hu.setOpacity(1),_u.setOpacity(1));try{!async function(){{if(ku=Eu,1!=houseUpgrades.upgrades[1].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[2].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[3].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[4].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[5].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[6].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[7].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[8].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[9].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[10].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[11].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[12].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[13].owned)return;ku-=70,Nh.setPosition(ku,zu.y)}{if(1!=houseUpgrades.upgrades[14].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[15].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[16].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[17].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[18].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[19].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[20].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[21].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[22].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[23].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[24].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}{if(1!=houseUpgrades.upgrades[25].owned)return;ku-=70,Nh.setPosition(ku,zu.y),Bu.setHidden(!1)}return 1}()}catch(e){alert("check positions house upgrades failed with "+e)}}(),sceneActive="House",scenebefore=7,sceneBefore=7;try{0==(seen1stHouseNotif=localStorage.getItem("MedFarms_seen1stHouseNotif")||0)&&1==seen1stHouseNotif||(seen1stHouseNotif=0,localStorage.setItem("MedFarms_seen1stHouseNotif",0)),1==seen1stHouseNotif&&Vu.setHidden(!0)}catch(e){alert("check houseNotif Failed with "+e),console.log(e)}});var nt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill(imgArray5[16]).setHidden(!0);t.appendChild(nt);var rt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,130).setSize(210,220).setFill(imgArray5[0]).setHidden(!0);if(t.appendChild(rt),tutStep<=3){rt.setHidden(!1);try{Enhance.logEvent("tutorial_begin")}catch(e){console.log(e)}}Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,210).setSize(35,35).setFill(imgArray[104]);rt.appendChild(Z);var at=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,125).setSize(44,44).setFill(imgArray[103]);rt.appendChild(at),at.setHidden(!0);goog.events.listen(Z,["mousedown","touchstart"],function(){0==rt.getHidden()&&l.tutModalBehav()}),goog.events.listen(rt,["mousedown","touchstart"],function(){0==rt.getHidden()&&l.tutModalBehav()}),l.tutModalBehav=function(e){at.setHidden(!0),Pt.setHidden(!0),tt.setHidden(!0),tutSeen=localStorage.getItem("GuiGhostFarms_tutSeen")||0,tutStep=parseInt(localStorage.getItem("GuiGhostFarms_tutStep"))||1,console.log("tutstep IN = "+tutStep),1!=tutStep&&at.setHidden(!0),15<=tutStep?(tutSeen=1,localStorage.setItem("GuiGhostFarms_tutSeen",1),localStorage.setItem("GuiGhostFarms_tutStep",14),rt.setHidden(!0),tt.setHidden(!0),Pt.setHidden(!0),nt.setHidden(!0)):tutStep<15&&(rt.setFill(imgArray5[tutStep]),1==tutStep?(rt.setHidden(!1),tt.setHidden(!1),at.setHidden(!1),tutStep=parseInt(tutStep)+1,lime.scheduleManager.scheduleWithDelay(function(){var e=at.getPosition();e.x+=5,31<=e.x&&e.x<60&&at.setHidden(!0),60<=e.x&&e.x<105&&2==tutStep&&at.setHidden(!1),105<=e.x&&at.setHidden(!0),125<=e.x&&2==tutStep&&(at.setHidden(!1),e.x=0),at.setPosition(e)},this,100,30)):2==tutStep?(tutStep=parseInt(tutStep)+1,rt.setHidden(!1),tt.setHidden(!1)):3==tutStep?(rt.setHidden(!0),Pt.setHidden(!1),Ft=1,lime.scheduleManager.scheduleWithDelay(function(){var e=Pt.getPosition();e.x+=5,70<e.x&&(e.x=20),Pt.setPosition(e),Pt.getHidden()||(Ft+=1),20<Ft&&Pt.setHidden(!0)},this,200,20),tt.setHidden(!0)):4==tutStep?(rt.setHidden(!0),tt.setHidden(!0),nt.setHidden(!1).setFill(imgArray5[16])):5==tutStep?(rt.setHidden(!0),tt.setHidden(!0),nt.setHidden(!1),nt.setFill(imgArray5[17]),rt.setHidden(!0)):6==tutStep?(rt.setHidden(!0),tt.setHidden(!0),nt.setHidden(!0)):6<tutStep&&tutStep<15&&(tutStep=parseInt(tutStep)+1),localStorage.setItem("GuiGhostFarms_tutStep",tutStep))},l.checkTutSeen=function(){(1==tutSeen||4==tutStep||5==tutStep||32<countPlanted)&&(rt.setHidden(!0),at.setHidden(!0))},lime.scheduleManager.callAfter(function(){l.checkTutSeen()},this,250);var ee=(new lime.fill.LinearGradient).setDirection(0,0,1,1).addColorStop(0,100,0,0,1).addColorStop(1,0,0,100,.5),lt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(26,100).setSize(250,305).setFill(imgArray[33]);t.appendChild(lt);Y=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,140).setOpacity(.9);Y.setFill(ee),lt.appendChild(Y);ie=(new lime.Label).setAnchorPoint(0,0).setPosition(45,30).setText("Not Enough Coins").setFontColor("RED").setFontFamily("Proxima Nova").setFontSize(22);lt.appendChild(ie);o=(new lime.Label).setAnchorPoint(0,0).setPosition(30,125).setText("Buy Coins with Stars").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);lt.appendChild(o);var dt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,118).setSize(45,45).setFill(imgArray[72]);lt.appendChild(dt);C=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,195).setOpacity(.9);C.setFill(ee),lt.appendChild(C);s=(new lime.Label).setAnchorPoint(0,0).setPosition(30,178).setText("Get 200 Coins Free").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);lt.appendChild(s);P=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,173).setSize(90,42).setFill(imgArray[108]);lt.appendChild(P);Z=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,250).setOpacity(.9);Z.setFill(ee),lt.appendChild(Z);Y=(new lime.Label).setAnchorPoint(0,0).setPosition(30,235).setText("Sell Crops in Town").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);lt.appendChild(Y);var gt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,228).setSize(45,45).setFill(imgArray[81]);lt.appendChild(gt);ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(110,290).setSize(35,35).setFill(imgArray[21]);lt.appendChild(ie),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),goog.events.listen(P,["mousedown","touchstart"],function(){if(0==lt.getHidden()){lt.setHidden(!0),kp.setHidden(!0),an.setHidden(!0),co.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),warningSeen=1,_A(),localStorage.setItem("acreDiscount1",0),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("Ad_OutOfCoin")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){player.money=parseInt(player.money)+200,l.updateMoney(),globalModalBlock=0,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))},this,5e3)}}),goog.events.listen(dt,["mousedown","touchstart"],function(){0==lt.getHidden()&&(lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),warningSeen=1,document.getElementById("starCashOuterLabel").innerHTML=starCash,ay(),globalModalBlock=0)}),goog.events.listen(gt,["mousedown","touchstart"],function(){0==lt.getHidden()&&(lt.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),globalModalBlock=0,townSceneActive=warningSeen=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),sceneActive="Market",lime.scheduleManager.callAfter(function(){l.updateStored()},this,250),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500))}),goog.events.listen(ie,["mousedown","touchstart"],function(){0==lt.getHidden()&&(lt.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),warningSeen=1,globalModalBlock=0)}),player.money<l.crops[r.currentCrop].cost&&0==warningSeen&&(tt.setHidden(!1),incorrectSound.play(),lt.setHidden(!1),gt.setHidden(!1),dt.setHidden(!1),globalModalBlock=warningSeen=1);var ct=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,140).setSize(210,220).setFill("images/UI/saleBack.png");t.appendChild(ct);var mt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(45,60).setSize(135,60).setFontSize(20).setText("Dairy Farm 2500");ct.appendChild(mt);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,75).setSize(30,30).setFill(imgArray11[0]);ct.appendChild(o);var pt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FF0000").setPosition(45,178).setSize(130,60).setFontSize(12).setText("You need more Coin");ct.appendChild(pt);var ht=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,200).setSize(75,40).setFill("images/UI/buyNowBtn.png");ct.appendChild(ht);C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,200).setSize(35,35).setFill(imgArray[21]);ct.appendChild(C),ct.setHidden(!0);var ut=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(40,118).setSize(135,60).setFontSize(14).setText("Get 10% Off");ct.appendChild(ut);var yt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,135).setSize(90,42).setFill(imgArray[108]);ct.appendChild(yt),goog.events.listen(yt,["mousedown","touchstart"],function(){ct.getHidden()||(_A(),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1),lime.scheduleManager.callAfter(function(){if(1==currentAcre4Sale){localStorage.setItem("acreDiscount1",1);try{Enhance.logEvent("acreDiscount1")}catch(e){console.log("logging failed")}2250<=player.money&&(pt.setHidden(!0),ht.setHidden(!1)),yt.setHidden(!0),ut.setText("Discount Applied!"),mt.setText("Dairy Farm 2250")}if(2==currentAcre4Sale){localStorage.setItem("acreDiscount2",1);try{Enhance.logEvent("acreDiscount2")}catch(e){console.log("logging failed")}4500<=player.money&&(pt.setHidden(!0),ht.setHidden(!1)),yt.setHidden(!0),ut.setText("Discount Applied!"),mt.setText("Fruit Orchard 4500")}},this,2500))});var St=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill(imgArray[91]),ft=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");St.appendChild(ft);var At=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(30,123).setSize(150,60).setFontSize(14).setText("Achieve Text");St.appendChild(At);var wt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");St.appendChild(wt);s=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill(imgArray[21]);St.appendChild(s),t.appendChild(St),St.setHidden(!0);var Ft=1,Pt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,180).setSize(44,44).setFill(imgArray[103]);t.appendChild(Pt),Pt.setHidden(!1),3<=tutStep?Pt.setHidden(!0):lime.scheduleManager.scheduleWithDelay(function(){var e=Pt.getPosition();e.x+=5,70<e.x&&(e.x=20),Pt.setPosition(e),Pt.getHidden()||(Ft+=1),20<Ft&&Pt.setHidden(!0)},this,200,22);var vt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,50).setSize(270,390).setFill(imgArray[78]);t.appendChild(vt);Z=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(23,35).setSize(220,60).setFontSize(18).setText("Medieval Farms v1.5   MARKET TOWN");vt.appendChild(Z);Y=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(20,80).setSize(220,20).setFontSize(14).setText("Visit Market Town, but be nice... Rep matters!");vt.appendChild(Y);P=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(20,120).setSize(220,20).setFontSize(14).setText("Meet Villagers for quests/rumors");vt.appendChild(P);ie=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(15,147).setSize(230,20).setFontSize(14).setText("Added random LOOT when digging");vt.appendChild(ie);o=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(15,175).setSize(220,20).setFontSize(14).setText("New goods IRON, WOOD, BARRELS, and CIDER");vt.appendChild(o);Z=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(20,215).setSize(220,20).setFontSize(14).setText("Added Game SHOP for General and Premium Items");vt.appendChild(Z);Y=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(20,253).setSize(230,20).setFontSize(14).setText("Added Inventory scene with stats");vt.appendChild(Y);P=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(20,280).setSize(220,20).setFontSize(14).setText("Blacksmith now requires Iron");vt.appendChild(P);ie=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(20,308).setSize(220,20).setFontSize(14).setText("Added Special Tools in SHOP");vt.appendChild(ie);o=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(15,332).setSize(230,20).setFontSize(14).setText("Farmers Market is now in town");vt.appendChild(o);Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(112,350).setSize(40,40).setFill(imgArray[21]);vt.appendChild(Z),vt.setHidden(!0),goog.events.listen(Z,["mousedown","touchstart"],function(){vt.setHidden(!0)}),tutSeen=parseInt(localStorage.GuiGhostFarms_tutSeen),onlyOnceUpdateNotif=localStorage.getItem("MedFarms_onlyOnceUpdateNotif")||0;var Ct=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,150).setSize(250,250).setFill(imgArray[78]);t.appendChild(Ct);var It=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setPosition(10,35).setSize(230,60).setFontSize(22).setText("NEW SEEDS!");Ct.appendChild(It);var bt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,75).setSize(55,55).setFill("images/"+l.crops[2].harvest);Ct.appendChild(bt);var Tt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setPosition(26,155).setSize(200,50).setFontSize(18).setText("Broccoli ");Ct.appendChild(Tt),Ct.setHidden(!0);var Ht=(new lime.GlossyButton).setColor("#1ce636").setText("Build").setPosition(125,200).setSize(45,28);Ct.appendChild(Ht);var _t=(new lime.GlossyButton).setColor("#007FFF").setText("").setPosition(125,265).setSize(40,40);Ct.appendChild(_t);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-20).setSize(40,40).setFill(imgArray[21]);_t.appendChild(Y);var xt=60,zt=0,kt=0,Et=(imgArray6[0].src,(new lime.Sprite).setAnchorPoint(0,0).setPosition(40,118).setSize(40,40).setFill(ImgArrayTools[5]).setHidden(!0));Ct.appendChild(Et);var Mt=(new lime.Label).setPosition(60,175).setSize(25,25).setText(zt).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#000000").setHidden(!0);Ct.appendChild(Mt);var Lt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,115).setSize(40,40).setFill("images/"+l.crops[14].harvest).setHidden(!0);Ct.appendChild(Lt);var Nt=(new lime.Label).setPosition(190,175).setSize(25,25).setText(kt).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#000000").setHidden(!0);Ct.appendChild(Nt);var Ot=(new lime.Label).setPosition(125,200).setSize(175,25).setText("You need more Resources").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#000000").setHidden(!0);Ct.appendChild(Ot),goog.events.listen(s,["mousedown","touchstart"],function(){0==St.getHidden()&&(St.setHidden(!0),Po.setHidden(!0),Lp.setHidden(!0),on.setHidden(!0),sm.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),zp.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0))}),goog.events.listen(ne,["mousedown","touchstart"],function(){0==globalModalBlock&&(fsClicked=globalModalBlock=1,lime.scheduleManager.callAfter(function(){l.updateMoney()},this,500),tt.setHidden(!1),ct.setHidden(!1),currentAcre4Sale=1,mt.setText("Dairy Farm 2500"),ut.setText("Get 10% off"),2500<=parseInt(player.money)||2250<=parseInt(player.money)&&1==localStorage.getItem("acreDiscount1")?(pt.setHidden(!0),ht.setHidden(!1),1==localStorage.getItem("acreDiscount1")?(ut.setText("Discount Applied"),mt.setText("Dairy Farm 2250")):ut.setText("Get 10% off")):ht.setHidden(!0))}),goog.events.listen(re,["mousedown","touchstart"],function(){0==globalModalBlock&&(fsClicked=2,globalModalBlock=1,lime.scheduleManager.callAfter(function(){l.updateMoney()},this,500),currentAcre4Sale=2,mt.setText("Fruit Orchard 5000"),ut.setText("Get 10% off"),tt.setHidden(!1),ct.setHidden(!1),5e3<=parseInt(player.money)||4500<=parseInt(player.money)&&1==localStorage.getItem("acreDiscount2")?(pt.setHidden(!0),ht.setHidden(!1),1==localStorage.getItem("acreDiscount2")?(ut.setText("Discount Applied"),mt.setText("Fruit Orchard 4500")):(ut.setText("Get 10% off"),mt.setText("Fruit Orchard 5000"))):ht.setHidden(!0))}),goog.events.listen(ht,["mousedown","touchstart"],function(){var e,t=ct.getHidden();if(0==t&&(ct.setHidden(!0),tt.setHidden(!0),0==ht.getHidden())){try{AppLovinMAX.showBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}try{Enhance.logEvent("bannerAd_shown")}catch(e){console.log(e)}1==fsClicked&&(a[1].owned=1,e=2500,(localStorage.getItem("acreDiscount1")||0)&&(e=2250),player.money=player.money-e,scenebefore=2,localStorage.setItem("acreDiscount1",0),(5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),cowSound.play(),oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,r.currentCrop=6,globalModalBlock=0,tt.setHidden(!0),Gf(),d.replaceScene(qf),aA.setText("The Dairy Pasture").setOpacity(1).setHidden(!1),lA.setText("This dairy has seen better days, but if we grow hay, the cows will make milk").setOpacity(1).setHidden(!1),rc("Pasture"),oe.setHidden(!1),ne.setHidden(!0),ct.setHidden(!0),lime.scheduleManager.callAfter(function(){l.updateMoney(),ny(),globalModalBlock=0},this,2e3)),2==fsClicked&&(a[2].owned=1,e=5e3,(localStorage.getItem("acreDiscount2")||0)&&(e=4500,localStorage.setItem("acreDiscount2",0)),player.money=player.money-e,l.updateMoney(),se.setHidden(!1),re.setHidden(!0),ct.setHidden(!0),scenebefore=3,waterfallSound.play(),R(),(5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")||0),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,r.currentCrop=8,Gf(),d.replaceScene(qf),aA.setText("The Orchard").setOpacity(1).setHidden(!1),lA.setText("Tend your fruit trees, they can be useful in lots of ways").setOpacity(1).setHidden(!1),rc("Orchard"),globalModalBlock=0,tt.setHidden(!0)),localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(a)),fsclicked=0}}),goog.events.listen(C,["mousedown","touchstart"],function(){0==ct.getHidden()&&(sceneBefore=1,ct.setHidden(!0),tt.setHidden(!0),fsclicked=0,lime.scheduleManager.callAfter(function(){globalModalBlock=0},this,500))}),goog.events.listen(ye,["mousedown","touchstart"],function(){1==player.barnLevel&&(kt=50,xt=zt=100,imgArray6[1].src),2==player.barnLevel?(zt=250,kt=100,xt=180,imgArray6[2].src):3==player.barnLevel?(zt=500,kt=150,xt=240,imgArray6[3].src):4==player.barnLevel?(zt=1250,kt=250,xt=300,imgArray6[4].src):zt=100,Ct.setHidden(!1),It.setText("Upgrade Barn"),Tt.setText("Unlocks "+l.crops[player.barnLevel+1].name).setPosition(30,65).setFontColor("#f0f2f5"),bt.setFill("images/"+l.crops[player.barnLevel+1].harvest).setPosition(100,95).setSize(55,55),Ct.setHidden(!1),Ht.setHidden(!1),_t.setHidden(!1),Et.setHidden(!1),Lt.setHidden(!1),Nt.setHidden(!1),Mt.setHidden(!1),Et.setAnchorPoint(0,0).setPosition(40,118).setSize(40,40).setFill(ImgArrayTools[5]).setHidden(!1),Mt.setPosition(60,175).setSize(25,25).setText(player.tools+"/"+zt).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#000000"),Lt.setAnchorPoint(0,0).setPosition(170,115).setSize(40,40).setFill("images/"+l.crops[14].harvest),Nt.setPosition(190,175).setSize(25,25).setText(player.cropsStored[14].stored+"/"+kt).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#000000"),Ot.setPosition(125,200).setSize(175,25).setText("You need more Resources").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#000000"),Ct.appendChild(Ot),(zt>player.tools||kt>parseInt(player.cropsStored[14].stored))&&(Ht.setHidden(!0),Ot.setHidden(!1))}),goog.events.listen(_t,["mousedown","touchstart"],function(){0==_t.getHidden()&&(Ct.setHidden(!0),Ht.setHidden(!0),_t.setHidden(!0),Et.setHidden(!0),Lt.setHidden(!0),Nt.setHidden(!0),Ot.setHidden(!0),It.setText("NEW SEEDS!"))}),goog.events.listen(Ht,["mousedown","touchstart"],function(){0==Ct.getHidden()&&(1==player.barnLevel&&(zt=100,kt=50,xt=90,imgArray6[1].src),2==player.barnLevel?(zt=250,kt=100,xt=150,imgArray6[2].src):3==player.barnLevel?(zt=500,kt=150,xt=210,imgArray6[3].src):4==player.barnLevel?(zt=1250,kt=250,xt=300,imgArray6[4].src):zt=100,Ct.setHidden(!0),Ht.setHidden(!0),_t.setHidden(!0),Et.setHidden(!0),Lt.setHidden(!0),Nt.setHidden(!0),It.setText("NEW SEEDS!"),Ot.setHidden(!0),Dt(zt,kt))});var Bt=0,Rt=0;function Dt(e,t){function i(){if(1==Bt&&0==Rt&&((xt=10)<0&&(xt=2),Rt=1),--xt,3<++r&&"Home"==sceneActive&&hammerSound.play(),4<r&&(r=0,"Home"==sceneActive&&a.play()),upgradesInProgress.buildings[0].timeLeft=xt,upgradesInProgress.buildings[0].currentBarnLevel=player.barnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),Le.setText(xt),0==xt){if(hammerSound.stop(),ye.setHidden(!0),player.barnLevel=player.barnLevel+1,lime.scheduleManager.callAfter(function(){l.updateTools()},this,300),l.updateStored(),5<player.barnLevel&&(player.barnLevel=5,ye.setHidden(!0)),upgradesInProgress.buildings[0].timeLeft=0,upgradesInProgress.buildings[0].currentBarnLevel=player.barnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Le.setHidden(!0),Ee.setHidden(!0),Me.setHidden(!0),Ht.setHidden(!0),2==player.barnLevel)Ct.setHidden(!1),de.setFill(imgArray6[1]).setPosition(110,35).setSize(85,107),Tt.setText("Broccoli "),Nt.setHidden(!0),bt.setFill("images/"+l.crops[2].harvest).setPosition(100,95).setSize(55,55),ye.setHidden(!1),Et.setHidden(!0),Lt.setHidden(!0),Nt.setHidden(!0),Mt.setHidden(!0),Ot.setHidden(!0);else if(3==player.barnLevel)de.setSize(135,160).setFill(imgArray6[2]).setPosition(85,-4),Ct.setHidden(!1),Tt.setText("Eggplant"),bt.setFill("images/"+l.crops[3].harvest).setPosition(100,95).setSize(55,55),ye.setHidden(!1),Et.setHidden(!0),Lt.setHidden(!0),Nt.setHidden(!0),Mt.setHidden(!0),Ot.setHidden(!0);else if(4==player.barnLevel)de.setSize(135,161).setFill(imgArray6[3]).setPosition(85,-5),Ct.setHidden(!1),Tt.setText("Peppers"),bt.setFill("images/"+l.crops[4].harvest).setPosition(100,95).setSize(55,55),ye.setHidden(!1),Et.setHidden(!0),Lt.setHidden(!0),Nt.setHidden(!0),Ot.setHidden(!0),Mt.setHidden(!0);else if(5==player.barnLevel){de.setFill(imgArray6[4]).setPosition(79,-8).setSize(149,170),Ct.setHidden(!1),Tt.setText("Corn"),bt.setFill("images/"+l.crops[5].harvest).setPosition(100,95).setSize(55,55),ye.setHidden(!0),de.setPosition(86,10).setSize(134,155),Et.setHidden(!0),Lt.setHidden(!0),Nt.setHidden(!0),Ot.setHidden(!0),Mt.setHidden(!0);try{goog.events.removeAll(Ht),goog.events.removeAll(ye),goog.events.removeAll(_t)}catch(e){console.log("failedremovelistener")}}Ot.setText("Use Seeds menu to plant").setHidden(!1),Yf("Barn Upgraded",imgArray[30].src,"Home",3e3),lime.scheduleManager.callAfter(function(){Ct.setHidden(!0),ey(),Rt=Bt=0,Ot.setText("You need more resources").setHidden(!0)},this,2500),barnUpRunningHome=0}}var o,s,n,r,a;0==barnUpRunningHome&&player.tools>=e&&parseInt(player.barnLevel)<5&&0==globalModalBlock&&parseInt(player.cropsStored[14].stored)>=t&&(Le.setText(xt),Oe.setHidden(!1),ye.setHidden(!0),barnUpRunningHome=1,player.tools=player.tools-e,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-parseInt(t),player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){l.updateTools(),l.updateStored()},this,500),Me.setHidden(!1),Ee.setHidden(!1),Le.setHidden(!1),o=100,s=90,n=10,r=0,a=hammerSound,lime.scheduleManager.scheduleWithDelay(function(){0<xt&&(Me.setPosition(s,n).setSize(o,200),o+=8,n-=4,(s-=4)<80&&(n=10,o=s=100),35<(Be+=10)&&(Be=-10),Ne.setRotation(Be))},this,200,5*xt),lime.scheduleManager.scheduleWithDelay(function(){0<=xt&&i(),xt<0&&lime.scheduleManager.unschedule(i,this)},this,1e3,xt))}if(goog.events.listen(Oe,["mousedown","touchstart"],function(){if(0==Ee.getHidden()){Bt=1,Oe.setHidden(!0),hammerSound.stop(),_A(),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_HomeBarn")}catch(e){console.log("logging failed")}}}),5==player.barnLevel)try{goog.events.removeAll(Ht),goog.events.removeAll(ye),goog.events.removeAll(_t)}catch(e){console.log("listener remove failed")}var Ut=(new lime.Label).setPosition(156,180).setSize(50,25).setText("-50").setFontSize(14).setFontFamily("Proxima Nova").setFontColor("#e1f00e").setFontWeight(600);t.appendChild(Ut);P=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);Ut.appendChild(P),Ut.setHidden(!0);ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(1,-2).setSize(l.width-2,l.height).setFill("images/UI/boostHint.png");t.appendChild(ie),ie.setHidden(!0);var Gt=(new lime.Layer).setAnchorPoint(0,0),o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,45).setSize(l.width-10,l.height-135).setFill(imgArray[80]);Gt.appendChild(o);Z=(new lime.Label).setText("Daily Login Bonus ").setFontFamily("Proxima Nova").setFontSize(22).setPosition(155,23),Y=(new lime.Label).setText("Return each day for rewards").setFontFamily("Proxima Nova").setFontSize(16).setPosition(150,53);o.appendChild(Z),o.appendChild(Y);var Wt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,68).setSize(34,85).setFill("#bfbfbf"),Vt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,68).setSize(34,85).setFill("#bfbfbf"),Jt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(88,68).setSize(34,85).setFill("#bfbfbf"),Yt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(128,68).setSize(34,85).setFill("#bfbfbf"),qt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,68).setSize(34,85).setFill("#bfbfbf"),jt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,68).setSize(34,85).setFill("#bfbfbf"),Kt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(248,68).setSize(34,85).setFill("#bfbfbf");o.appendChild(Wt),o.appendChild(Vt),o.appendChild(Jt),o.appendChild(Yt),o.appendChild(qt),o.appendChild(jt),o.appendChild(Kt);s=(new lime.Label).setText("1").setFontFamily("Proxima Nova").setFontSize(16).setPosition(17,14),C=(new lime.Label).setText("2").setFontFamily("Proxima Nova").setFontSize(16).setPosition(17,14),P=(new lime.Label).setText("3").setFontFamily("Proxima Nova").setFontSize(16).setPosition(17,14),ie=(new lime.Label).setText("4").setFontFamily("Proxima Nova").setFontSize(16).setPosition(17,14),Z=(new lime.Label).setText("5").setFontFamily("Proxima Nova").setFontSize(16).setPosition(17,14),Y=(new lime.Label).setText("6").setFontFamily("Proxima Nova").setFontSize(16).setPosition(17,14),o=(new lime.Label).setText("7").setFontFamily("Proxima Nova").setFontSize(16).setPosition(17,14);Wt.appendChild(s),Vt.appendChild(C),Jt.appendChild(P),Yt.appendChild(ie),qt.appendChild(Z),jt.appendChild(Y),Kt.appendChild(o);s=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray11[0]),C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(ImgArrayTools[5]),P=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray[38]),ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray11[0]),Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray[39]),Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray[58]),o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(1,24).setSize(32,32).setFill("images/UI/unknownCrop.png");Wt.appendChild(s),Vt.appendChild(C),Jt.appendChild(P),Yt.appendChild(ie),qt.appendChild(Z),jt.appendChild(Y),Kt.appendChild(o);var $t=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),Xt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),Qt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),Zt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),ei=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),ti=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),ii=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]);Wt.appendChild($t),Vt.appendChild(Xt),Jt.appendChild(Qt),Yt.appendChild(Zt),qt.appendChild(ei),jt.appendChild(ti),Kt.appendChild(ii);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,205).setSize(245,26).setFill("#8b4513");Gt.appendChild(Y);o=(new lime.Label).setText("Today's Reward: ").setFontFamily("Proxima Nova").setFontSize(16).setPosition(60,14).setFontColor("azure");Y.appendChild(o);var oi=(new lime.Label).setText(" ").setFontFamily("Proxima Nova").setFontSize(20).setPosition(188,15).setFontColor("azure");Y.appendChild(oi);var si=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,275).setSize(135,63).setFill(imgArray[108]);Gt.appendChild(si);o=(new lime.Label).setText("Double Your Bonus!").setFontFamily("Proxima Nova").setFontSize(24).setPosition(70,-10).setFontColor("azure");si.appendChild(o);var ni=1;goog.events.listen(si,["mousedown","touchstart"],function(){if(!Gt.getHidden()){ni=2,lime.audio.setMute(!0),_A(),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_DailyBonus")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){switch(ai){case 0:oi.setText("+200 Coins").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00");break;case 1:oi.setText("+300 Tools").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00");break;case 2:oi.setText("+10 Stars").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00");break;case 3:oi.setText("+500 Coins").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00");break;case 4:oi.setText("+20 Stars").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00"),ei.setHidden(!1),qt.setFill("#00ff00");break;case 5:oi.setText("+300 Wood").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00"),ei.setHidden(!1),qt.setFill("#00ff00"),ti.setHidden(!1),jt.setFill("#00ff00");break;case 6:oi.setText("+2,000 Coins").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00"),ei.setHidden(!1),qt.setFill("#00ff00"),ti.setHidden(!1),jt.setFill("#00ff00"),ii.setHidden(!1),Kt.setFill("#00ff00");break;default:console.log("none")}},this,3e3),si.setOpacity(.3)}});var ri=(new lime.GlossyButton).setColor("#00ff00").setText("Collect Rewards").setPosition(150,l.height-150).setSize(160,28);Gt.appendChild(ri);Y=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(150,l.height-105).setSize(100,20);Gt.appendChild(Y),t.appendChild(Gt),Gt.setHidden(!0),goog.events.listen(Gt,["mousedown","touchstart"],function(e){Gt.getHidden()||(e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(ri,["mousedown","touchstart"],function(e){if(0==Gt.getHidden()){ri.setHidden(!0),Gt.setHidden(!0);try{!function(){switch(purchaseSound.play(),ai=localStorage.getItem("daysInRow")||0){case 0:player.money=parseInt(player.money)+100*ni,l.updateMoney();break;case 1:player.tools=parseInt(player.tools)+150*ni,l.updateTools();break;case 2:starCash=parseInt(starCash)+5*ni,document.getElementById("starCashOuterLabel").innerHTML=starCash;break;case 3:player.money=parseInt(player.money)+250*ni,l.updateMoney();break;case 4:starCash=parseInt(starCash)+10*ni,document.getElementById("starCashOuterLabel").innerHTML=starCash;break;case 5:player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+150*ni,l.updateStored();break;case 6:player.money=parseInt(player.money)+1e3*ni,l.updateMoney();break;default:console.log("none")}6<(ai=parseInt(ai)+1)&&(ai=0),localStorage.setItem("daysInRow",ai),localStorage.setItem("starCash",starCash),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))}(),goog.events.removeAll(ri)}catch(e){}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}ri.setHidden(!0),Gt.setHidden(!0)}),goog.events.listen(Y,["mousedown","touchstart"],function(e){if(0==Gt.getHidden()){Gt.setHidden(!0);try{goog.events.removeAll(ri)}catch(e){}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}});var ai=0;null===localStorage.getItem("lastLoginDay")&&(localStorage.lastLoginDay=0);var li=parseInt(localStorage.lastLoginDay);null===localStorage.getItem("daysInRow")&&(localStorage.daysInRow=0),ai=parseInt(localStorage.daysInRow);var di=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),t=(new lime.Layer).setAnchorPoint(0,0),c=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#0D0D0D");function gi(){if(0==globalModalBlock)for(d.replaceScene(di,lime.transitions.SlideInDown),nt.setHidden(!0),c=0;c<player.barnLevel+1;c++)backSeed=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.shop_margin_x-45,l.shop_margin_y+(l.shop_margin_y+l.tile_size)*c+9*c-+c+15).setFill(imgArray[18].src).setSize(l.width-10,60),t.appendChild(backSeed),A=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.shop_margin_x-21,l.shop_margin_y+(l.shop_margin_y+l.tile_size)*c+9*c-+c+24).setFill("images/"+l.crops[c].harvest).setSize(35,35),t.appendChild(A),Ce=(new lime.Label).setText(l.crops[c].name+" ("+l.crops[c].time_to_ripe+" days) ").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setFontSize(20).setPosition(l.shop_margin_x+130,1.4*l.shop_margin_y+(l.shop_margin_y+l.tile_size)*c+7*c-+c+20+ +c),t.appendChild(Ce),i2=(new lime.Label).setText("   -"+l.crops[c].cost+" ").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setFontSize(18).setPosition(l.shop_margin_x+79,2.1*l.shop_margin_y+(l.shop_margin_y+l.tile_size)*c+(9*c-c)+24),t.appendChild(i2),i3=(new lime.Sprite).setSize(30,30).setFill(imgArray11[0]).setPosition(l.shop_margin_x+58,2.1*l.shop_margin_y+(l.shop_margin_y+l.tile_size)*c+(9*c-c)+15),t.appendChild(i3),i4=(new lime.Label).setText("   +"+l.crops[c].revenue+" ").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setFontSize(18).setPosition(l.shop_margin_x+190,2.1*l.shop_margin_y+(l.shop_margin_y+l.tile_size)*c+(9*c-c)+24),t.appendChild(i4),i5=(new lime.Sprite).setSize(30,30).setFill(imgArray11[0]).setPosition(l.shop_margin_x+170,2.1*l.shop_margin_y+(l.shop_margin_y+l.tile_size)*c+(9*c-c)+15),t.appendChild(i5),function(e,t){goog.events.listen(e,["mousedown","touchstart"],function(){r.currentCrop=t,d.replaceScene(g),localStorage.setItem("MedFarms_selectedHomeCrop",t),sceneActive="Home",j.setFill("images/"+l.crops[t].harvest),le.setFill("images/"+l.crops[t].harvest),q.setText("Plant "+l.crops[t].name),homeCrop=parseInt(r.currentCrop),ae.setHidden(!1),g.appendChild(j)})}(backSeed,c),function(e){goog.events.listen(Ce,["mousedown","touchstart"],function(){r.currentCrop=e,d.replaceScene(g),localStorage.setItem("MedFarms_selectedHomeCrop",e),sceneActive="Home",j.setFill("images/"+l.crops[e].harvest),q.setText("Plant "+l.crops[e].name),le.setFill("images/"+l.crops[e].harvest),homeCrop=parseInt(r.currentCrop),ae.setHidden(!1),g.appendChild(j)})}(c)}function ci(e){return null===e.offsetParent}t.appendChild(c),di.appendChild(t),c=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(l.width/2,l.height-20).setSize(80,35),t.appendChild(c),seedSceneBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,40).setFill(imgArray[75]),t.appendChild(seedSceneBack),seedSceneLabel=(new lime.Label).setText("Change Seeds to Plant ").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setFontSize(22).setPosition(155,23),t.appendChild(seedSceneLabel),seedSceneSeeds1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,1).setSize(40,40).setFill("images/grain.png"),t.appendChild(seedSceneSeeds1),seedSceneSeeds2=(new lime.Sprite).setAnchorPoint(0,0).setPosition(265,1).setSize(40,40).setFill("images/grain.png"),t.appendChild(seedSceneSeeds2),goog.events.listen(ae,["mousedown","touchstart"],function(){var e=ci("fbshare"),t=ci("wheelDiv");console.log("fb is "+e+" prizewheel is "+t),0==e&&0==t&&gi()}),goog.events.listen(j,["mousedown","touchstart"],function(){var e=ci("fbshare"),t=ci("wheelDiv");console.log("fb is "+e+" prizewheel is "+t),0==e&&0==t&&gi()}),lime.scheduleManager.scheduleWithDelay(function(){16==countPlanted&&3==tutStep?(tutStep=4,nt.setHidden(!1).setFill(imgArray5[16]),localStorage.setItem("GuiGhostFarms_tutStep",tutStep)):32==countPlanted&&4==tutStep&&(tutStep=5,nt.setHidden(!1).setFill(imgArray5[17]),localStorage.setItem("GuiGhostFarms_tutStep",tutStep)),32==(pickedEver=parseInt(localStorage.getItem("GuiGhostFarms_pickedEver")))&&6==tutStep&&0==moneyEver&&0==we&&(tutStep=6,showHighLight2=showHighLight=1,localStorage.setItem("showHighLight",1),rt.setFill(imgArray5[5]).setHidden(!1))},this,1500,480),goog.events.listen(c,["mousedown","touchstart"],function(){d.replaceScene(g,lime.transitions.SlideInUp),sceneActive="Home",ae.setHidden(!1),Gf()});var mi=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),pi=(new lime.Layer).setAnchorPoint(0,0),o=(new lime.Sprite).setAnchorPoint(0,10).setPosition(0,0).setSize(l.width,l.height-90).setFill("#0D0D0D");mi.appendChild(o),mi.appendChild(pi);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,40).setSize(l.controlsLayer_w,l.landLayer_h+37).setFill(imgArray[84]);pi.appendChild(Y);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,435).setSize(320,25).setFill(imgArray[77]);pi.appendChild(o);var hi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,10).setSize(15,15);o.appendChild(hi),hi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-12).setSize(43,43).setFill(imgArray[46]),o.appendChild(hi),goog.events.listen(hi,["mousedown","touchstart"],function(){0==globalModalBlock&&(scenebefore=4,Gf(),d.replaceScene(Fm,lime.transitions.SlideInLeft),sceneActive="Vineyard",r.currentCrop=12,lime.scheduleManager.callAfter(function(){ny()},this,300))});var ui=(new lime.Sprite).setAnchorPoint(0,0).setPosition(285,10).setSize(15,15);o.appendChild(ui),ui=(new lime.Sprite).setAnchorPoint(0,0).setPosition(269,-11).setSize(42,42).setFill(imgArray[50]),o.appendChild(ui);i=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(l.controlsLayer_w,l.controlsLayer_h-22).setFill(imgArray[75]);pi.appendChild(i);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,37).setSize(315,29).setFill(imgArray[88]);pi.appendChild(Y);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(59,44).setSize(190,137).setFill(imgArrayPasture[1]);pi.appendChild(o);A=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,l.height-l.controlsLayer_h-5).setSize(l.controlsLayer_w,l.controlsLayer_h+5).setFill(imgArray[69]);pi.appendChild(A),menuP=(new lime.Sprite).setAnchorPoint(0,0).setFill(imgArray[70]).setPosition(2,504).setSize(36,36),pi.appendChild(menuP);i=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,467).setSize(36,36).setFill(imgArray[71]);pi.appendChild(i);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,504).setSize(36,36).setFill(imgArray[105]);pi.appendChild(Y);o=(new lime.Sprite).setFill(imgArray[72]).setAnchorPoint(0,0).setPosition(45,l.height-67).setSize(56,56);pi.appendChild(o),goog.events.listen(o,["mousedown","touchstart"],function(){0==globalModalBlock&&ay()});var yi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,467).setSize(36,36).setFill(imgArray[15]);pi.appendChild(yi);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,449).setSize(35,35).setFill(imgArray[73]);pi.appendChild(o),goog.events.listen(menuP,["mousedown","touchstart"],function(){scenebefore=2,Gf(),d.replaceScene(Sr,lime.transitions.SlideInUp),sceneActive="Menu"}),goog.events.listen(yi,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),themeSongNew.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),oy(2)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(i,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneThis=d.getCurrentScene(),iy(sceneBefore=2))});var Si=(new lime.Label).setText(player.money).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(235,24).setFontSize(18);pi.appendChild(Si);i=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);pi.appendChild(i);var fi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(7,5).setSize(35,35).setFill(imgArray[30]),Ai=(new lime.Label).setText(player.tools).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(60,24).setFontSize(18);pi.appendChild(fi),pi.appendChild(Ai);i=(new lime.Label).setText("Plant "+l.crops[6].name).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(12).setPosition(l.controlsLayer_w/2-5,l.height-l.controlsLayer_h/2-12);pi.appendChild(i);i=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-32,l.height-l.controlsLayer_h/2-5).setFill("images/"+l.crops[6].harvest).setSize(48,35);pi.appendChild(i);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,40).setSize(8,90).setFill(imgArray[76]);pi.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,40).setSize(8,90).setFill(imgArray[76]);pi.appendChild(y);S=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,203).setSize(8,90).setFill(imgArray[76]);pi.appendChild(S);f=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,203).setSize(8,90).setFill(imgArray[76]);pi.appendChild(f);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,123).setSize(8,90).setFill(imgArray[76]);pi.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,123).setSize(8,90).setFill(imgArray[76]);pi.appendChild(b);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,293).setSize(8,55).setFill(imgArray[76]);pi.appendChild(O);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,293).setSize(8,55).setFill(imgArray[76]);pi.appendChild(E);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,315).setSize(315,29).setFill(imgArray[88]);pi.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,215).setSize(130,80).setFill(imgArrayPasture[0]);pi.appendChild(b);var wi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,70).setSize(60,45).setFill(imgArray[26]);pi.appendChild(wi);var Fi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,10).setSize(70,140).setFill(imgArray[24].src);pi.appendChild(Fi);var Pi=(new lime.Label).setText("60").setPosition(35,80).setSize(40,25).setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]),vi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);pi.appendChild(Pi),Pi.appendChild(vi),vi.setRotation(-10);var Ci=-10;Fi.setHidden(!0),wi.setHidden(!0),Pi.setHidden(!0);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,210).setSize(38,85).setFill(imgArrayPasture[2]);pi.appendChild(O);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,250).setSize(8,90).setFill(imgArray[76]);pi.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,250).setSize(8,90).setFill(imgArray[76]);pi.appendChild(y);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(63,100).setSize(8,68).setFill(imgArray[76]);pi.appendChild(E);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,100).setSize(8,68).setFill(imgArray[76]);pi.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(68,147).setSize(70,25).setFill(imgArray[99]);pi.appendChild(b);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(169,147).setSize(70,25).setFill(imgArray[99]);pi.appendChild(O);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,160).setSize(8,90).setFill(imgArray[76]);pi.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,160).setSize(8,90).setFill(imgArray[76]);pi.appendChild(y);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,135).setSize(43,56).setFill(imgArrayPasture[3]);pi.appendChild(E);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(228,135).setSize(43,56).setFill(imgArrayPasture[3]);pi.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(164,270).setSize(50,57).setFill(imgArrayPasture[4]);pi.appendChild(b);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,270).setSize(50,57).setFill(imgArrayPasture[4]);pi.appendChild(O);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(143,170).setSize(20,43).setFill(imgArrayPasture[5]);pi.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(143,294).setSize(20,27).setFill(imgArrayPasture[5]);pi.appendChild(y);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(270,270).setSize(32,16).setFill(imgArrayPasture[8]);pi.appendChild(E);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(44,185).setSize(32,16).setFill(imgArrayPasture[8]);pi.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(102,413).setFill(imgArrayPasture[8]).setSize(34,19);pi.appendChild(b);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(178,415).setSize(32,16).setFill(imgArrayPasture[8]);pi.appendChild(O);var Ii=(new lime.Sprite).setAnchorPoint(0,0).setPosition(175,120).setSize(140,200).setFill(imgArrayPasture[9]);pi.appendChild(Ii);var bi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(60,70).setSize(40,40).setFill(imgArray[61]);Ii.appendChild(bi);var Ti=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,235).setSize(40,40).setFill(ImgArrayTools[3]);pi.appendChild(Ti);var Hi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(175,90).setSize(130,285).setFill(imgArray[24].src);pi.appendChild(Hi);var _i=(new lime.Label).setText("120").setPosition(240,255).setSize(40,25).setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);pi.appendChild(_i);var xi=0;Hi.setHidden(!0),_i.setHidden(!0),0<player.treesP&&(Ii.setHidden(!0),Ti.setHidden(!0));var zi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(67,230).setSize(54,26).setFill(imgArrayPasture[12]);pi.appendChild(zi);var ki=(new lime.Sprite).setPosition(50,290).setSize(22,38).setFill(imgArrayPasture[7]);pi.appendChild(ki);var Ei=(new lime.Sprite).setAnchorPoint(0,0).setPosition(28,193).setSize(55,28).setFill(imgArrayPasture[11]);pi.appendChild(Ei);var Mi=0,u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,180).setSize(10,11).setFill(imgArrayPasture[19]);pi.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,250).setSize(10,11).setFill(imgArrayPasture[19]);pi.appendChild(y);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(75,290).setSize(10,11).setFill(imgArrayPasture[19]);pi.appendChild(E);var Li=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,202).setSize(10,11).setFill(imgArrayPasture[19]);pi.appendChild(Li);var Ni=(new lime.Sprite).setAnchorPoint(0,0).setPosition(276,245).setSize(10,11).setFill(imgArrayPasture[19]);pi.appendChild(Ni);var Oi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(210,295).setSize(10,11).setFill(imgArrayPasture[19]);pi.appendChild(Oi);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,190).setSize(20,21).setFill(imgArray[89]);pi.appendChild(N);var Bi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,285).setSize(58,26).setFill(imgArrayPasture[12]);pi.appendChild(Bi);var Ri=(new lime.Sprite).setAnchorPoint(0,0).setPosition(225,235).setSize(21,36).setFill(imgArrayPasture[7]);pi.appendChild(Ri);var Di=(new lime.Sprite).setAnchorPoint(0,0).setPosition(207,193).setSize(58,26).setFill(imgArrayPasture[18]);pi.appendChild(Di);var Ui=(new lime.Sprite).setAnchorPoint(0,0).setPosition(140,85).setSize(32,32).setFill(imgArrayJosiah[0].src);pi.appendChild(Ui),0==player.treesP&&(Bi.setHidden(!0),Ri.setHidden(!0),Di.setHidden(!0),Li.setHidden(!0),Ni.setHidden(!0),Oi.setHidden(!0));var Gi=(new lime.Sprite).setPosition(155,110).setSize(60,60).setFill("images/stars1.png").setHidden(!0);pi.appendChild(Gi),goog.events.listen(Gi,["mousedown","touchstart"],function(e){0==Gi.getHidden()&&(IA("pasture"),successSound.play()),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1);var Wi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(137,67).setSize(34,32).setFill(imgArray[83]);pi.appendChild(Wi);var Vi=0,Ji=0,Yi=0;if(lime.scheduleManager.scheduleWithDelay(function(){if("Pasture"==sceneActive){switch(Vi++,22<=(Mi+=1)&&(Mi=1),1==player.treesP&&(Bi.setHidden(!1),Ri.setHidden(!1),Di.setHidden(!1)),Mi){case 1:zi.setFill(imgArrayPasture[12]),Ei.setFill(imgArrayPasture[12]),ki.setFill(imgArrayPasture[13]),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[10]),Ri.setFill(imgArrayPasture[13]),Li.setHidden(!1),Ni.setHidden(!1),Oi.setHidden(!1));break;case 2:zi.setFill(imgArrayPasture[10]),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[11]));break;case 3:zi.setFill(imgArrayPasture[11]),1==player.treesP&&(Bi.setFill(imgArrayPasture[12]),Di.setFill(imgArrayPasture[10]));break;case 4:zi.setFill(imgArrayPasture[12]),1==player.treesP&&(Bi.setFill(imgArrayPasture[12]),Di.setFill(imgArrayPasture[10]),Ri.setFill(imgArrayPasture[14]));break;case 5:zi.setFill(imgArrayPasture[11]),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[10]),Ri.setFill(imgArrayPasture[15]));break;case 6:zi.setFill(imgArrayPasture[10]),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[10]));break;case 7:zi.setFill(imgArrayPasture[11]),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[11]),Ri.setFill(imgArrayPasture[14]));break;case 8:Ei.setFill(imgArrayPasture[10]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[12]));break;case 9:zi.setFill(imgArrayPasture[11]),Ei.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[12]));break;case 10:Ei.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[11]));break;case 11:zi.setFill(imgArrayPasture[12]),Ei.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[10]));break;case 12:Ei.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[10]));break;case 13:case 14:Ei.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[10]),Ri.setFill(imgArrayPasture[13]));break;case 15:ki.setFill(imgArrayPasture[15]),Ri.setFill(imgArrayPasture[15]),Ei.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[11]),Ri.setFill(imgArrayPasture[13]));break;case 16:ki.setFill(imgArrayPasture[14]),Ri.setFill(imgArrayPasture[14]),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[12]));break;case 17:Ei.setFill(imgArrayPasture[10]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[12]));break;case 18:Ei.setFill(imgArrayPasture[11]).setPosition(28,193),ki.setFill(imgArrayPasture[14]),Ri.setFill(imgArrayPasture[15]),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[12]));break;case 19:Ei.setFill(imgArrayPasture[12]).setPosition(28,193),ki.setFill(imgArrayPasture[13]),Ri.setFill(imgArrayPasture[13]),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[11]));break;case 20:ki.setFill(imgArrayPasture[14]),Ri.setFill(imgArrayPasture[14]),1==player.treesP&&(Bi.setFill(imgArrayPasture[11]),Di.setFill(imgArrayPasture[10]));break;case 21:Ei.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[11]),Ri.setFill(imgArrayPasture[13]));break;case 22:ki.setFill(imgArrayPasture[15]),Ri.setFill(imgArrayPasture[15]),Ei.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Bi.setFill(imgArrayPasture[10]),Di.setFill(imgArrayPasture[12]),Ri.setFill(imgArrayPasture[13]))}switch(player.cropsStored[6].stored<2?(2==(Ji+=1)&&bo.setHidden(!0),4==Ji&&(bo.setHidden(!1),Ji=0)):bo.setHidden(!0),Vi){case 1:Ui.setPosition(140,90).setFill(imgArrayJosiah[1].src);break;case 2:Ui.setPosition(140,95).setFill(imgArrayJosiah[2].src);break;case 3:Ui.setPosition(140,100).setFill(imgArrayJosiah[3].src);break;case 4:Ui.setPosition(140,105).setFill(imgArrayJosiah[0].src);break;case 5:Ui.setPosition(140,110).setFill(imgArrayJosiah[1].src);break;case 6:Ui.setPosition(140,115).setFill(imgArrayJosiah[2].src);break;case 7:Ui.setPosition(140,120).setFill(imgArrayJosiah[3].src);break;case 8:Ui.setPosition(140,123).setFill(imgArrayJosiah[0].src);break;case 9:Ui.setPosition(140,123).setFill(imgArrayJosiah[4].src);break;case 10:Ui.setPosition(135,123).setFill(imgArrayJosiah[5].src);break;case 11:Ui.setPosition(130,123).setFill(imgArrayJosiah[6].src);break;case 12:Ui.setPosition(125,123).setFill(imgArrayJosiah[7].src);break;case 13:Ui.setPosition(120,123).setFill(imgArrayJosiah[4].src);break;case 14:Ui.setPosition(115,123).setFill(imgArrayJosiah[5].src);break;case 15:Ui.setPosition(110,123).setFill(imgArrayJosiah[6].src);break;case 16:Ui.setPosition(105,123).setFill(imgArrayJosiah[7].src);break;case 17:Ui.setFill(imgArrayJosiah[4].src);break;case 18:Ui.setFill(imgArrayJosiah[12].src);break;case 19:Ui.setPosition(105,120).setFill(imgArrayJosiah[15].src);break;case 20:Ui.setPosition(105,115).setFill(imgArrayJosiah[14].src);break;case 21:Ui.setPosition(100,110).setFill(imgArrayJosiah[6].src);break;case 22:Ui.setPosition(100,105).setFill(imgArrayJosiah[15].src);break;case 23:Ui.setFill(imgArrayJosiah[8].src);break;case 24:Ui.setPosition(105,100).setFill(imgArrayJosiah[9].src);break;case 25:Ui.setPosition(110,105).setFill(imgArrayJosiah[10].src);break;case 26:Ui.setPosition(115,105).setFill(imgArrayJosiah[11].src);break;case 27:Ui.setPosition(120,105).setFill(imgArrayJosiah[8].src);break;case 28:Ui.setPosition(125,100).setFill(imgArrayJosiah[9].src);break;case 29:Ui.setPosition(130,100).setFill(imgArrayJosiah[10].src);break;case 30:Ui.setPosition(135,95).setFill(imgArrayJosiah[11].src);break;case 31:Ui.setPosition(140,90).setFill(imgArrayJosiah[13].src);break;case 32:Ui.setPosition(140,85).setFill(imgArrayJosiah[15].src);break;case 33:Ui.setPosition(140,85).setFill(imgArrayJosiah[8].src);break;case 34:Ui.setPosition(140,85).setFill(imgArrayJosiah[0].src);break;case 36:Ui.setPosition(140,90).setFill(imgArrayJosiah[1].src);break;case 37:Ui.setPosition(140,95).setFill(imgArrayJosiah[2].src);break;case 38:Ui.setPosition(145,95).setFill(imgArrayJosiah[8].src);break;case 39:Ui.setPosition(150,95).setFill(imgArrayJosiah[9].src);break;case 40:Ui.setPosition(155,95).setFill(imgArrayJosiah[10].src);break;case 41:Ui.setPosition(160,100).setFill(imgArrayJosiah[11].src);break;case 42:Ui.setPosition(165,105).setFill(imgArrayJosiah[8].src);break;case 43:Ui.setPosition(170,110).setFill(imgArrayJosiah[9].src);break;case 44:Ui.setPosition(170,110).setFill(imgArrayJosiah[12].src);break;case 56:Ui.setFill(imgArrayJosiah[4].src);break;case 57:Ui.setPosition(165,105).setFill(imgArrayJosiah[5].src);break;case 58:Ui.setPosition(160,105).setFill(imgArrayJosiah[6].src);break;case 59:Ui.setPosition(155,100).setFill(imgArrayJosiah[7].src);break;case 60:Ui.setPosition(150,100).setFill(imgArrayJosiah[5].src);break;case 61:Ui.setPosition(145,95).setFill(imgArrayJosiah[6].src);break;case 62:Ui.setPosition(140,90).setFill(imgArrayJosiah[7].src);break;case 63:Ui.setFill(imgArrayJosiah[1].src);break;case 75:Vi=0}var e;Yi++,0==Gi.getHidden()&&5==Yi&&(Yi=0,lime.scheduleManager.scheduleWithDelay(function(){Gi.setRotation(0),lime.scheduleManager.callAfter(function(){Gi.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){Gi.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){Gi.setRotation(270)},this,750)},this,1e3)),0!=Yi&&2!=Yi&&4!=Yi||((e=Wi.getPosition()).x-=5,e.x<132&&(e.x=137),Wi.setPosition(e)),5<Yi&&(Yi=0)}},this,250),3<=player.pastureLevel){Wi.setHidden(!0);try{goog.events.removeAll(Wi)}catch(e){console.log("remove failed barnunlock3p")}}var qi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(190,45).setSize(50,64).setFill(imgArray[90]);pi.appendChild(qi);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,2).setSize(27,30).setFill("images/"+l.crops[7].harvest);qi.appendChild(b);var ji=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,42).setSize(30,18).setFontFamily("Proxima Nova");qi.appendChild(ji),qi.setHidden(!0);var Ki=0;goog.events.listen(qi,["mousedown","touchstart"],function(){qi.setHidden(!0),purchaseSound.play(),player.cropsStored[7].stored=player.cropsStored[7].stored+Ki,count7.setText(player.cropsStored[7].stored),Rr.setText(player.cropsStored[7].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Ki=0}),lime.scheduleManager.scheduleWithDelay(function(){2==sceneBefore&&cowSound.play(),1==a[1].owned&&lime.scheduleManager.callAfter(function(){l.harvestMilk()},this,200),1<vinyardHouseLevel&&lime.scheduleManager.callAfter(function(){l.makeJelly()},this,300)},this,6e4),l.harvestMilk=function(){player.cropsStored[6].stored>=player.pastureLevel+player.treesP&&(Ki+=player.pastureLevel+player.treesP,player.cropsStored[6].stored=player.cropsStored[6].stored-(player.pastureLevel+player.treesP),count6.setText(player.cropsStored[6].stored),Br.setText(player.cropsStored[6].stored),qi.setHidden(!1),ji.setText("+ "+Ki),l.haySize())},l.makeJelly=function(){2<=player.cropsStored[12].stored&&1<vinyardHouseLevel&&0<player.cropsStored[16].stored&&(Fp.setHidden(!1),vp+=1,player.cropsStored[12].stored=parseInt(player.cropsStored[12].stored)-2,player.cropsStored[16].stored=parseInt(player.cropsStored[16].stored)-1,count12.setText(player.cropsStored[12].stored),Vr.setText(player.cropsStored[12].stored),Kr.setText(player.cropsStored[16].stored),Pp.setText("+ "+vp),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",parseInt(pickedEver)),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver),ey(),lime.scheduleManager.callAfter(function(){Cp.setHidden(!1),Cp.setPosition(145,320),Cp.setOpacity(1)},this,500),lime.scheduleManager.callAfter(function(){Cp.setHidden(!1),Cp.setPosition(145,310),Cp.setOpacity(.8)},this,1e3),lime.scheduleManager.callAfter(function(){Cp.setHidden(!1),Cp.setPosition(145,300),Cp.setOpacity(.6)},this,1500),lime.scheduleManager.callAfter(function(){Cp.setHidden(!1),Cp.setPosition(145,290),Cp.setOpacity(.4)},this,2e3),lime.scheduleManager.callAfter(function(){Cp.setHidden(!1),Cp.setPosition(145,280),Cp.setOpacity(.2)},this,2500),lime.scheduleManager.callAfter(function(){Cp.setHidden(!0)},this,3e3))},l.haySize=function(){player.cropsStored[6].stored<=0&&(no.setHidden(!0),ro.setHidden(!0)),1<=player.cropsStored[6].stored&&no.setHidden(!1),2<=player.cropsStored[6].stored&&(ro.setHidden(!1),bo.setHidden(!0)),12<=player.cropsStored[6].stored&&no.setSize(30,15),24<=player.cropsStored[6].stored&&ro.setSize(30,15),50<=player.cropsStored[6].stored&&no.setSize(40,20),75<=player.cropsStored[6].stored&&no.setSize(40,20),85<=player.cropsStored[6].stored&&no.setSize(50,25),100<=player.cropsStored[6].stored&&no.setSize(50,25)};var $i=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,45).setSize(59,83).setFill(imgArray[100]);pi.appendChild($i);var Xi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(243,45).setSize(59,83).setFill(imgArray[101]);pi.appendChild(Xi),$i.setHidden(!0),Xi.setHidden(!0),1<player.pastureLevel&&($i.setHidden(!1),2<player.pastureLevel&&Xi.setHidden(!1));O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,122).setSize(15,20).setFill(imgArrayItems[43]);pi.appendChild(O),1==mapLocations.places[10].found||yearCount<3?O.setHidden(!0):goog.events.listen(O,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[10].found=1,TA("p1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-50,116).setSize(15,20).setFill(imgArrayStore[6]);pi.appendChild(u),1==mapLocations.places[11].found||yearCount<6?u.setHidden(!0):goog.events.listen(u,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[11].found=1,TA("p2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2+65,412).setSize(15,20).setFill(imgArrayItems[44]);for(pi.appendChild(y),1==mapLocations.places[12].found||yearCount<9?y.setHidden(!0):goog.events.listen(y,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[12].found=1,TA("p3"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),c=0;c<l.num_tiles_x;c++)for(Ce=0;Ce<2;Ce++){var Qi,be=c*l.tile_size+12,Te=Ce*l.tile_size+352,Zi=Ce,eo=c,to="",io="";to="hay1-",io=io.concat(to.toString(),eo.toString(),Zi.toString()),Qi=(0==c&&0==Ce?new farming.Land(l,r,be,Te,2,"tlt",io):3==c&&0==Ce?new farming.Land(l,r,be,Te,2,"trt",io):3==c&&1==Ce?new farming.Land(l,r,be,Te,2,"brt",io):0==c&&1==Ce?new farming.Land(l,r,be,Te,2,"blt",io):new farming.Land(l,r,be,Te,2,"non",io)).setPosition(c*l.tile_size+12,Ce*l.tile_size+352),pi.appendChild(Qi),be=c*l.tile_size+175,io=(io="").concat((to="hay2-").toString(),eo.toString(),Zi.toString()),io=(0==c&&0==Ce?new farming.Land(l,r,be,Te,2,"tlt",io):3==c&&0==Ce?new farming.Land(l,r,be,Te,2,"trt",io):3==c&&1==Ce?new farming.Land(l,r,be,Te,2,"brt",io):0==c&&1==Ce?new farming.Land(l,r,be,Te,2,"blt",io):new farming.Land(l,r,be,Te,2,"non",io)).setPosition(c*l.tile_size+175,Ce*l.tile_size+352),pi.appendChild(io)}E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(143,345).setSize(21,92).setFill(imgArrayPasture[5]);pi.appendChild(E);var oo=r.currentCrop,so=(new lime.Label).setPosition(156,180).setSize(50,25).setText("-50").setFontSize(14).setFontFamily("Proxima Nova").setFontColor("#e1f00e").setFontWeight(600);pi.appendChild(so);N=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);so.appendChild(N),so.setHidden(!0);var no=(new lime.Sprite).setPosition(93,138).setSize(20,10).setFill(imgArray[102]);pi.appendChild(no);var ro=(new lime.Sprite).setPosition(211,138).setSize(20,10).setFill(imgArray[102]);pi.appendChild(ro);b=(new lime.Sprite).setPosition(285,310).setSize(11,6).setFill(imgArray[102]);pi.appendChild(b);var ao=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-19,l.height/2+100).setFill("images/"+l.crops[6].image).setSize(26,21);pi.appendChild(ao),ao.setHidden(!0);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,l.height-67).setSize(56,56).setFill(imgArray[81]);pi.appendChild(O),goog.events.listen(O,["mousedown","touchstart"],function(){if(0==globalModalBlock){scenebefore=2,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market";try{Ed()}catch(e){console.log(e)}lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500)}});var lo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(1,424).setSize(40,40).setFill(imgArray[46]);pi.appendChild(lo);u=(new lime.Sprite).setPosition(l.controlsLayer_w/2-5,23).setSize(51,40).setFill(imgArrayItems[25].src).setRotation(5);pi.appendChild(u),goog.events.listen(u,["mousedown","touchstart"],function(){scenebefore=2;try{try{xa()}catch(e){console.log(e)}}catch(e){console.log(e)}ra.setText(starCash),Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.transitions.SlideInUp),br.setHidden(!1),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),sceneActive="Inventory",lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),ra.setText(starCash),Gf();try{try{Uf()}catch(e){console.log(e)}}catch(e){console.log(e)}});var go=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#000F00").setOpacity(.75);pi.appendChild(go),go.setHidden(!0);var co=(new lime.Sprite).setAnchorPoint(0,0).setPosition(26,100).setSize(250,305).setFill(imgArray[33]);pi.appendChild(co);y=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,140).setOpacity(.9);y.setFill(ee),co.appendChild(y);E=(new lime.Label).setAnchorPoint(0,0).setPosition(45,30).setText("Not Enough Coins").setFontColor("RED").setFontFamily("Proxima Nova").setFontSize(22);co.appendChild(E);N=(new lime.Label).setAnchorPoint(0,0).setPosition(30,125).setText("Buy Coins with Stars").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);co.appendChild(N);var mo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,118).setSize(45,45).setFill(imgArray[72]);co.appendChild(mo);b=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,195).setOpacity(.9);b.setFill(ee),co.appendChild(b);O=(new lime.Label).setAnchorPoint(0,0).setPosition(30,178).setText("Get 200 Coins Free").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);co.appendChild(O);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,173).setSize(90,42).setFill(imgArray[108]);co.appendChild(u);y=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,250).setOpacity(.9);y.setFill(ee),co.appendChild(y);E=(new lime.Label).setAnchorPoint(0,0).setPosition(30,235).setText("Sell Crops in Town").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);co.appendChild(E);var po=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,228).setSize(45,45).setFill(imgArray[81]);co.appendChild(po);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(110,290).setSize(35,35).setFill(imgArray[21]);co.appendChild(N),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),goog.events.listen(u,["mousedown","touchstart"],function(){if(0==co.getHidden()){co.setHidden(!0),lt.setHidden(!0),kp.setHidden(!0),an.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),lime.audio.setMute(!0),_A(),warningSeen=1,localStorage.setItem("acreDiscount1",0),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_OutOfCoin")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){player.money=parseInt(player.money)+200,l.updateMoney(),globalModalBlock=0,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))},this,5e3)}}),goog.events.listen(mo,["mousedown","touchstart"],function(){warningSeen=1,co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0),om.setHidden(!0),ay()}),goog.events.listen(po,["mousedown","touchstart"],function(){warningSeen=1,co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0),om.setHidden(!0),lime.scheduleManager.callAfter(function(){l.updateStored()},this,200),globalModalBlock=0,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market",lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500)}),goog.events.listen(N,["mousedown","touchstart"],function(){co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0),go.setHidden(!0),om.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),warningSeen=1,globalModalBlock=0}),player.money<l.crops[r.currentCrop].cost&&0==warningSeen&&(go.setHidden(!1),tt.setHidden(!1),Ds.setHidden(!1),om.setHidden(!1),zp.setHidden(!1),globalModalBlock=1,co.setHidden(!1),po.setHidden(!1),mo.setHidden(!1),an.setHidden(!1),dn.setHidden(!1),ln.setHidden(!1),kp.setHidden(!1),Mp.setHidden(!1),Ep.setHidden(!1),lt.setHidden(!1),gt.setHidden(!1),dt.setHidden(!1));var ho=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,100).setSize(210,220).setFill("images/UI/saleBack.png");pi.appendChild(ho);var uo=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(45,65).setSize(125,60).setFontSize(22).setText("Vineyard 12,500");ho.appendChild(uo);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,82).setSize(30,30).setFill(imgArray11[0]);ho.appendChild(b);var yo=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FF0000").setPosition(50,185).setSize(120,60).setFontSize(12).setText("Earn more Coin to buy");ho.appendChild(yo);var So=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,212).setSize(75,35).setFill("images/UI/buyNowBtn.png");ho.appendChild(So);var fo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,212).setSize(35,35).setFill(imgArray[21]);ho.appendChild(fo),ho.setHidden(!0);var Ao=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(40,122).setSize(135,60).setFontSize(14).setText("Get 10% Off");ho.appendChild(Ao);var wo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,135).setSize(90,42).setFill(imgArray[108]);ho.appendChild(wo),goog.events.listen(wo,["mousedown","touchstart"],function(){if(!ho.getHidden()){console.log("visible detected try show ad"),lime.audio.setMute(!0),themeSongNew.stop(),_A(),localStorage.setItem("acreDiscount4",1);try{Enhance.logEvent("acreDiscount4")}catch(e){console.log("logging failed")}localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_VineyardDiscount")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){11250<=player.money&&(yo.setHidden(!0),So.setHidden(!1)),wo.setHidden(!0),Ao.setText("Discount Applied!"),uo.setText("Vineyard 11,250")},this,2500)}});var Fo;if(goog.events.listen(lo,["mousedown","touchstart"],function(){0==globalModalBlock&&(globalModalBlock=1,fsClicked=3,uo.setText("Vineyard 12,500"),Fo=localStorage.getItem("acreDiscount4")||0,go.setHidden(!1),ho.setHidden(!1),12500<=player.money?(yo.setHidden(!0),So.setHidden(!1)):So.setHidden(!0),1==Fo&&11250<=player.money&&(yo.setHidden(!0),So.setHidden(!1),Ao.setText("Discount Applied!"),uo.setText("Vineyard 11,250")),1==Fo?(Ao.setText("Discount Applied!"),uo.setText("Vineyard 11,250"),wo.setHidden(!0)):(Ao.setText("Get 10% Off"),uo.setText("Vineyard 12,500"),wo.setHidden(!1)))}),goog.events.listen(So,["mousedown","touchstart"],function(){if(0==ho.getHidden()){var e=12500;(localStorage.getItem("acreDiscount4")||0)&&(e=11250),player.money=player.money-e,l.updateMoney(),a[3].owned=1,localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(a)),ho.setHidden(!0),hi.setHidden(!1),lo.setHidden(!0),ho.setHidden(!0),go.setHidden(!0),zp.setHidden(!0),globalModalBlock=fsClicked=0,scenebefore=4,Gf();try{AppLovinMAX.showBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}try{Enhance.logEvent("bannerAd_shown")}catch(e){console.log(e)}d.replaceScene(qf),aA.setText("The Vineyard").setOpacity(1).setHidden(!1),lA.setText("This overgrown location is a haven for fruit. Let's clean it up").setOpacity(1).setHidden(!1),rc("Vineyard"),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),lime.scheduleManager.callAfter(function(){l.updateStored(),ny(),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0)},this,1500),r.currentCrop=12,globalModalBlock=0,lime.scheduleManager.callAfter(function(){try{goog.events.removeAll(lo),goog.events.removeAll(fo),goog.events.removeAll(So)}catch(e){console.log("remove failed")}try{Enhance.logEvent("level_up")}catch(e){console.log("logging failed")}},this,1800)}}),goog.events.listen(fo,["mousedown","touchstart"],function(){ho.setHidden(!0),go.setHidden(!0),globalModalBlock=0}),1==a[3].owned)try{goog.events.removeAll(lo),goog.events.removeAll(fo),goog.events.removeAll(So)}catch(e){console.log("remove failed")}var Po=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill(imgArray[91]),vo=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");Po.appendChild(vo);var Co=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(30,123).setSize(150,60).setFontSize(14).setText("Achieve Text");Po.appendChild(Co);var Io=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");Po.appendChild(Io);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill(imgArray[21]);Po.appendChild(O),pi.appendChild(Po),Po.setHidden(!0),goog.events.listen(O,["mousedown","touchstart"],function(){0==Po.getHidden()&&(globalModalBlock=0,St.setHidden(!0),Po.setHidden(!0),Lp.setHidden(!0),on.setHidden(!0),sm.setHidden(!0))});var bo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(68,65).setSize(50,40).setFill(imgArray[60]);pi.appendChild(bo);var To=(new lime.Sprite).setAnchorPoint(0,0).setPosition(62,145).setSize(180,200).setFill("images/UI/shortage.png");pi.appendChild(To);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,195).setSize(40,40).setFill(imgArray[21]);To.appendChild(y);E=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(5,120).setSize(170,40).setFontSize(14).setText("Livestock Hungry!");To.appendChild(E);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,140).setSize(55,30).setFill("images/Pasture/cow_eatR1.png");To.appendChild(u);N=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(55,145).setFontColor("#E8FC08").setSize(24,140).setFontSize(22).setText("+");To.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(77,140).setFill("images/"+l.crops[6].harvest).setSize(30,30);To.appendChild(b);O=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,145).setSize(24,140).setFontColor("#E8FC08").setFontSize(22).setText("=");To.appendChild(O);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(132,140).setFill("images/"+l.crops[7].harvest).setSize(35,35);To.appendChild(E);var Ho=(new lime.Label).setPosition(90,186).setSize(20,16).setText(player.cropsStored[6].stored).setFontFamily("Proxima Nova").setFontColor("#E8FC08");To.appendChild(Ho),To.setHidden(!0),goog.events.listen(y,["mousedown","touchstart"],function(){To.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0)}),goog.events.listen(bo,["mousedown","touchstart"],function(){Ho.setText(player.cropsStored[6].stored),To.setHidden(!1),go.setHidden(!1)});var _o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill(imgArray[74]);pi.appendChild(_o);var xo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[48]);_o.appendChild(xo);var zo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,105).setSize(50,50).setFill(imgArray[49]);_o.appendChild(zo);var ko=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,105).setSize(50,50).setFill(imgArray[46]);_o.appendChild(ko);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);_o.appendChild(u);var Eo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);_o.appendChild(Eo);var Mo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[59]);_o.appendChild(Mo);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[57]);_o.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);_o.appendChild(b),_o.setHidden(!0),goog.events.listen(o,["mousedown","touchstart"],function(){0==globalModalBlock&&B()}),goog.events.listen(b,["mousedown","touchstart"],function(){R(),globalModalBlock=0}),goog.events.listen(Mo,["mousedown","touchstart"],function(e){1==a[5].owned&&compassVisible&&(scenebefore=10,Gf(),d.replaceScene(uy,lime.transitions.SlideInUp),sceneActive="Windmill",r.currentCrop=22,R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(u,["mousedown","touchstart"],function(){compassVisible&&(R(),scenebefore=1,oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,homeCrop=parseInt(oo),j.setFill("images/"+l.crops[homeCrop].harvest),q.setText("Plant "+l.crops[homeCrop].name),le.setFill("images/"+l.crops[homeCrop].harvest),Gf(),d.replaceScene(g,lime.transitions.SlideInRight),r.currentCrop=homeCrop,sceneActive="Home",globalModalBlock=0,lime.scheduleManager.callAfter(function(){validCropsStored()},this,100))}),goog.events.listen(Eo,["mousedown","touchstart"],function(){1==a[1].owned&&compassVisible&&(R(),scenebefore=2,r.currentCrop=6,globalModalBlock=0)}),goog.events.listen(xo,["mousedown","touchstart"],function(){1==a[2].owned&&compassVisible&&(oo=r.currentCrop,r.currentCrop=8,scenebefore=3,waterfallSound.play(),R(),Gf(),sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInRight),lime.scheduleManager.callAfter(function(){validCropsStored()},this,1e3),globalModalBlock=0)}),goog.events.listen(ko,["mousedown","touchstart"],function(){1==a[3].owned&&compassVisible&&(R(),scenebefore=4,Gf(),d.replaceScene(Fm,lime.transitions.SlideInLeft),sceneActive="Vineyard",lime.scheduleManager.callAfter(function(){l.updateStored(),ny()},this,200),waterfallSound.stop(),oo=r.currentCrop,r.currentCrop=12,globalModalBlock=0)}),goog.events.listen(zo,["mousedown","touchstart"],function(){1==a[4].owned&&compassVisible&&(R(),scenebefore=5,Gf(),d.replaceScene(ac,lime.transitions.SlideInRight),ny(),sceneActive="LS",waterfallSound.stop(),chickenSound.play(),pig1Sound.play(),lime.scheduleManager.callAfter(function(){pig2Sound.play(),ny()},this,2500),globalModalBlock=0)}),goog.events.listen(oe,["mousedown","touchstart"],function(){0==globalModalBlock&&(oe.setHidden(!0),Gf(),d.replaceScene(mi,lime.transitions.SlideInLeft),sceneActive="Pasture",cowSound.play(),(5<(homeCrop=parseInt(r.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homeCrop=localStorage.getItem("MedFarms_selectedHomeCrop")||0),oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,r.currentCrop=6,scenebefore=2,cowSound.play(),sceneBefore=2,lime.scheduleManager.callAfter(function(){ny()},this,2e3))}),goog.events.listen(ui,["mousedown","touchstart"],function(){0==globalModalBlock&&(oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,homeCrop=parseInt(oo),Gf(),r.currentCrop=homeCrop,Gf(),d.replaceScene(g,lime.transitions.SlideInRight),sceneActive="Home",(5<r.currentCrop||isNaN(r.currentCrop)||r.currentCrop<0)&&(r.CurrentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,q.setText("Plant "+l.crops[r.currentCrop].name),j.setFill("images/"+l.crops[r.currentCrop].harvest),le.setFill("images/"+l.crops[r.currentCrop].harvest)),scenebefore=sceneBefore=1)}),goog.events.listen(Ti,["mousedown","touchstart"],function(){var e,t,i,o,s;500<=player.tools&&0==globalModalBlock&&(Ti.setHidden(!0),e=120,t=100,i=175,o=90,player.tools=player.tools-500,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),Hi.setHidden(!1),_i.setHidden(!1),s=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]),_i.appendChild(s),goog.events.listen(s,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Trees3")}catch(e){console.log("logging failed")}s.setHidden(!0),e=5}),lime.scheduleManager.scheduleWithDelay(function(){0<e&&(Hi.setPosition(i,o).setSize(t,200),t+=10,o-=5,(i-=5)<165&&(i=175,o=90,t=285),35<(xi+=10)&&(xi=-10),bi.setRotation(xi))},this,250,4*e),lime.scheduleManager.scheduleWithDelay(function(){--e,_i.setText(e),e<=0&&(_i.setHidden(!0),Hi.setHidden(!0),e=60,player.treesP=1,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Ii.setHidden(!0),bi.setHidden(!0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",parseInt(pickedEver)),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver),Yf("Dairy Trees Clear",imgArray[61].src,"dairy",3e3))},this,1e3,e))});var Lo=60;goog.events.listen(Wi,["mousedown","touchstart"],function(){0;var t=(new lime.Sprite).setPosition(155,240).setSize(250,250).setFill(imgArray[79]).setHidden(!1);pi.appendChild(t);var e=(new lime.Label).setPosition(0,-85).setSize(250,30).setText("Upgrade Dairy Barn").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(22);t.appendChild(e);var i=(new lime.Label).setPosition(0,-50).setSize(250,30).setText("Increase Milk Produiction").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(14);t.appendChild(i);var o=(new lime.Sprite).setPosition(-40,-20).setSize(40,40).setFill(imgArray[30]);t.appendChild(o);e=(new lime.Label).setPosition(-40,30).setSize(250,25).setText(250).setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(22);t.appendChild(e);i=(new lime.Sprite).setPosition(40,-20).setSize(40,40).setFill("images/"+l.crops[14].harvest);t.appendChild(i);o=(new lime.Label).setPosition(40,30).setSize(250,25).setText(100).setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(22);t.appendChild(o);e=(new lime.Label).setPosition(0,50).setSize(250,25).setText("You need more resources").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(14);t.appendChild(e),e.setHidden(!0);i=(new lime.GlossyButton).setColor("#1ce636").setText("Upgrade").setPosition(0,70).setSize(80,35);t.appendChild(i);var s=(new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(0,130).setSize(40,40);t.appendChild(s);o=(new lime.Sprite).setPosition(0,0).setSize(40,40).setFill(imgArray[21].src);s.appendChild(o),parseInt(player.cropsStored[14].stored)<100&&(i.setHidden(!0),e.setHidden(!1)),player.tools<250&&(i.setHidden(!0),e.setHidden(!1)),goog.events.listen(s,["mousedown","touchstart"],function(e){if(0==t.getHidden()){t.setHidden(!0);try{goog.events.removeAll(s)}catch(e){console.log("remove failed")}e.event.stopPropagation()}}),goog.events.listen(i,["mousedown","touchstart"],function(e){0==t.getHidden()&&(t.setHidden(!0),lime.scheduleManager.callAfter(function(){No(250,100)},this,100),e.event.stopPropagation())})});Lo=150;function No(e,t){var i,o,s,n,r,a;0==barnUpInProgressPasture&&player.tools>=e&&parseInt(player.pastureLevel)<=3&&0==globalModalBlock&&parseInt(player.cropsStored[14].stored)>=t&&(barnUpInProgressPasture=1,Wi.setHidden(!0),player.tools=player.tools-e,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-parseInt(t),player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Fi.setHidden(!1),wi.setHidden(!1),Pi.setText(Lo),Pi.setHidden(!1),i=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]),Pi.appendChild(i),goog.events.listen(i,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_DairyBarn")}catch(e){console.log(e)}i.setHidden(!0),Lo=10,upgradesInProgress.buildings[1].timeLeft=Lo}),lime.scheduleManager.callAfter(function(){l.updateStored(),l.updateTools()},this,100),o=70,s=10,n=5,r=0,a=hammerSound,lime.scheduleManager.scheduleWithDelay(function(){if(0<Lo&&(--Lo,5<=++r&&(r=0,"Pasture"==sceneActive&&a.play()),Pi.setText(Lo),upgradesInProgress.buildings[1].timeLeft=Lo,upgradesInProgress.buildings[1].currentBarnLevel=player.pastureLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress))),0==Lo){Pi.setHidden(!0),wi.setHidden(!0),Fi.setHidden(!0),Lo=120,a.stop();try{player.pastureLevel=parseInt(player.pastureLevel)+1,3<player.pastureLevel&&(player.pastureLevel=3),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),2==player.pastureLevel&&($i.setHidden(!1),Wi.setHidden(!1)),3<=player.pastureLevel&&($i.setHidden(!1),Xi.setHidden(!1),Wi.setHidden(!0),ey()),Fi.setHidden(!0),wi.setHidden(!0),Pi.setHidden(!0),upgradesInProgress.buildings[1].timeLeft=0,upgradesInProgress.buildings[1].currentBarnLevel=player.pastureLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),barnUpInProgressPasture=0,Yf("Dairy Upgraded",imgArray[30].src,"dairy",3e3)}catch(e){console.log(e)}}},this,1e3,Lo),1==player.pastureLevel&&lime.scheduleManager.scheduleWithDelay(function(){0<Lo&&(Fi.setPosition(s,n).setSize(o,200),o+=10,n-=5,(s-=5)<-10&&(s=10,n=5,o=60),35<(Ci+=10)&&(Ci=-10),vi.setRotation(Ci))},this,250,4*Lo),2==player.pastureLevel&&(wi.setPosition(240,70),Pi.setPosition(275,80),vi.setPosition(-22,-50),o=70,s=240,n=5,lime.scheduleManager.scheduleWithDelay(function(){0<Lo&&(Fi.setPosition(s,n).setSize(o,200),o+=10,n-=5,(s-=5)<220&&(s=240,n=5,o=60),35<(Ci+=10)&&(Ci=-10),vi.setRotation(Ci))},this,250,4*Lo)),lime.scheduleManager.callAfter(function(){},this,1e3*Lo))}var Oo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2+40).setFill(imgArray[78]).setHidden(!0),O=(new lime.Label).setAnchorPoint(0,0).setPosition(68,30).setText("Dairy Pasture").setFontFamily("Proxima Nova").setFontSize(24);Oo.appendChild(O);E=(new lime.Label).setAnchorPoint(0,0).setPosition(20,70).setText("These fields are only good for growing HAY which your Cows will eat to produce MILK").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);Oo.appendChild(E);y=(new lime.Label).setAnchorPoint(0,0).setPosition(20,140).setText("Upgrading the Dairy increases the amount of MILK you get each cycle").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);Oo.appendChild(y);N=(new lime.Label).setAnchorPoint(0,0).setPosition(20,205).setText("Clearing the forest unlocks more pasture to increase production").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);Oo.appendChild(N);o=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,292).setSize(100,20);Oo.appendChild(o),pi.appendChild(Oo),goog.events.listen(o,["mousedown","touchstart"],function(e){0==Oo.getHidden()&&(Oo.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Y,["mousedown","touchstart"],function(e){Oo.getHidden()?Oo.setHidden(!1):Oo.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Bo=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),Ro=(new lime.Layer).setAnchorPoint(0,0),b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-5);Bo.appendChild(b),Bo.appendChild(Ro);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,45).setSize(l.controlsLayer_w,l.landLayer_h+37).setFill(imgArray[84]);Ro.appendChild(u);var Do=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,44).setSize(310,420).setFill("images/"+l.orchard[0].image);Ro.appendChild(Do);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,435).setSize(109,25).setFill(imgArray[77]);Ro.appendChild(O);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(152,435).setSize(170,25).setFill(imgArray[77]);Ro.appendChild(E);var Uo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,76).setSize(140,140).setFill(imgArray4[17]);Ro.appendChild(Uo);var Go=(new lime.GlossyButton).setColor("#00ff00").setText("").setPosition(58,65).setSize(30,30).setOpacity(.1);Uo.appendChild(Go);var Wo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(38,43).setSize(39,42).setFill(imgArray[83]);Uo.appendChild(Wo);var Vo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,135).setSize(38,43).setFill("images/UI/rockBlock.png");Ro.appendChild(Vo);var Jo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,150).setSize(38,43).setFill("images/UI/rockBlock.png");Ro.appendChild(Jo);var Yo=(new lime.GlossyButton).setColor("#00ff00").setText("").setPosition(121,190).setSize(32,32).setOpacity(.9);Ro.appendChild(Yo);var qo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,175).setSize(32,32).setFill("images/UI/pickBtn.png");Ro.appendChild(qo),0==orchardBarnLevel&&(Uo.setFill(imgArray4[17]),Vo.setHidden(!1),Jo.setHidden(!1),Yo.setHidden(!1),qo.setHidden(!1),Go.setHidden(!0),Wo.setHidden(!0)),1==orchardBarnLevel&&(Uo.setFill(imgArray4[17]),Vo.setHidden(!0),Jo.setHidden(!0),Yo.setHidden(!0),qo.setHidden(!0),Go.setHidden(!1),Wo.setHidden(!1)),2==orchardBarnLevel&&(Uo.setFill(imgArray4[18]),Vo.setHidden(!0),Jo.setHidden(!0),Yo.setHidden(!0),qo.setHidden(!0),Go.setHidden(!0),Wo.setHidden(!0));var jo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,114).setSize(110,100).setFill(imgArray[26]);Ro.appendChild(jo);var Ko=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,90).setSize(120,150).setFill(imgArray[24].src);Ro.appendChild(Ko);var $o=(new lime.Label).setText("60").setPosition(50,145).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]),Xo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);Ro.appendChild($o),$o.appendChild(Xo),Xo.setRotation(-10);var Qo=-10,Zo=120;$o.setHidden(!0),jo.setHidden(!0),Ko.setHidden(!0);var es=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,135).setSize(38,43).setFill(imgArrayStore[3].src).setRotation(-45);Ro.appendChild(es);var ts=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,135).setSize(38,43).setFill(imgArray[24].src);Ro.appendChild(ts);var is=(new lime.Label).setText("60").setPosition(120,185).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);Ro.appendChild(is),es.setHidden(!0),ts.setHidden(!0),is.setHidden(!0),goog.events.listen(Yo,["mousedown","touchstart"],function(){var e,t,i,o,s,n,r,a;1==collectItems.storeItems[3].owned?(Yo.setHidden(!0),qo.setHidden(!0),es.setHidden(!1),ts.setHidden(!1),is.setHidden(!1),t=38,i=98,o=135,n=s=0,r=4*(e=180),a=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]),is.appendChild(a),goog.events.listen(a,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_OrchardRocks")}catch(e){console.log(e)}a.setHidden(!0),e=5}),lime.scheduleManager.scheduleWithDelay(function(){--r,4==(n+=1)&&0<=e&&(--e,is.setText(e),n=0),ts.setPosition(i,o).setSize(t,46),t+=10,o-=5,(i-=5)<70&&(i=98,o=135,t=38),-15<(s+=10)&&(s=-45),es.setRotation(s),0==r&&(es.setHidden(!0),ts.setHidden(!0),Vo.setHidden(!0),Jo.setHidden(!0),is.setHidden(!0),Go.setHidden(!1),Wo.setHidden(!1),orchardBarnLevel=1,localStorage.setItem("MedFarm_orchardBarnLevel",1),cn.setText("If you upgrade the barn, we can increase our harvests"),pn.setHidden(!0),mn.setFill(imgArray4[1]),Yf("Rocks Clear","images/UI/rockBlock.png","orchard",3e3))},this,250,r+1)):(gn.setHidden(!1),cn.setText("If you had a STEEL PICK to clear rocks, we could upgrade this barn"))});y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,74).setSize(14,16).setFill(imgArrayItems[43]);Ro.appendChild(y);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-65,420).setSize(18,20).setFill(imgArrayItems[43]);Ro.appendChild(N),1==mapLocations.places[13].found||yearCount<2?y.setHidden(!0):goog.events.listen(y,["mousedown","touchstart"],function(e){this.setHidden(!0),mapLocations.places[13].found=1,TA("o1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),1==mapLocations.places[14].found||yearCount<4?N.setHidden(!0):goog.events.listen(N,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[14].found=1,TA("o2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var os=localStorage.getItem("ciderWaiting")||0,ss=(new lime.Sprite).setAnchorPoint(0,0).setPosition(148,234).setSize(77,84).setFill(imgArray4[19]);Ro.appendChild(ss),ss.owned=0,ss.setHidden(!0);var ns=(new lime.GlossyButton).setColor("#663300").setText("").setPosition(35,35).setSize(70,70).setOpacity(.2);ss.appendChild(ns);var rs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-25,-48).setSize(45,62).setFill(imgArray[115]);ss.appendChild(rs);var as=(new lime.Label).setAnchorPoint(0,0).setPosition(0,5).setSize(40,25).setText("+ "+os).setFontColor("#FFFFFF").setFontSize(14).setFontFamily("Proxima Nova");rs.appendChild(as);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,17).setSize(30,30).setFill(imgArray4[21]);rs.appendChild(o),os<=0&&rs.setHidden(!0),1==(ciderEnabled=localStorage.getItem("MedFarm_ciderPlaceOwned")||0)&&(ss.setHidden(!1),ns.setHidden(!0),ss.setFill(imgArrayCiderPlace[0]),ss.owned=1);var ls=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-18,-30).setSize(35,40).setFill("images/UI/needFruit.png").setHidden(!0);ss.appendChild(ls),1==collectItems.storeItems[4].owned&&1==ciderEnabled&&(ns.setHidden(!0),player.cropsStored[8].stored<1&&player.cropsStored[9].stored<1&&ls.setHidden(!1)),goog.events.listen(ls,["mousedown","touchstart"],function(){gn.setHidden(!1),cn.setText("We need APPLES or PEARS to make more CIDER"),pn.setHidden(!1),pn.setFill("images/apple.png"),mn.setFill("images/pear.png")});var ds=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-14,10).setSize(35,40).setFill("images/UI/needBarrels.png").setHidden(!0);ss.appendChild(ds),1==collectItems.storeItems[4].owned&&1==ciderEnabled&&player.cropsStored[17].stored<1&&ds.setHidden(!1),goog.events.listen(ds,["mousedown","touchstart"],function(){gn.setHidden(!1),cn.setText("We need more BARRELS to make more CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArray4[1])}),goog.events.listen(ss,["mousedown","touchstart"],function(){1==localStorage.getItem("MedFarm_ciderPlaceOwned")&&yr()}),goog.events.listen(ns,["mousedown","touchstart"],function(){var e,t=localStorage.getItem("MedFarm_ciderPlaceOwned")||0;hs=localStorage.getItem("GuiGhostFarms_orchardTreeBlock")||1,0==ns.getHidden()&&(1==collectItems.storeItems[4].owned&&0==t&&2==hs?(gn.setHidden(!1),cn.setText("Put that FRUIT PRESS here. Place it now?"),pn.setHidden(!1),pn.setFill(imgArray4[21]),mn.setFill(imgArray4[1]),e=(new lime.GlossyButton).setPosition(125,177).setSize(65,21).setColor("#00FF00").setText("PLACE"),gn.appendChild(e),goog.events.listen(e,["mousedown","touchstart"],function(){ss.setFill(imgArrayCiderPlace[0]),gn.setHidden(!0),e.setHidden(!0),ss.owned=1,ciderEnabled=1,localStorage.setItem("MedFarm_ciderPlaceOwned",1),ns.setHidden(!0)})):1==collectItems.storeItems[4].owned&&1==t?(gn.setHidden(!1),cn.setText("If we had some BARRELS, we could make CIDER with Apples and Pears"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArrayStore[4])):1==t?yr():0==collectItems.storeItems[4].owned&&0==t&&(gn.setHidden(!1),cn.setText("This would be a good place to put a FRUIT PRESS to make CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArrayStore[4])))}),goog.events.listen(rs,["mousedown","touchstart"],function(){yr()});Y=new farming.Land(l,r,5,195,3,"non","tree1").setPosition(5,195);Y.setSize(40,50),Ro.appendChild(Y);b=new farming.Land(l,r,65,195,3,"non","tree2").setPosition(65,195);b.setSize(40,50),Ro.appendChild(b);u=new farming.Land(l,r,5,250,3,"non","tree3").setPosition(5,250);u.setSize(40,50),Ro.appendChild(u);O=new farming.Land(l,r,65,250,3,"non","tree4").setPosition(65,250);O.setSize(40,50),Ro.appendChild(O);E=new farming.Land(l,r,5,310,3,"non","tree5").setPosition(5,310);E.setSize(40,50),Ro.appendChild(E);y=new farming.Land(l,r,65,310,3,"non","tree6").setPosition(65,310);y.setSize(40,50),Ro.appendChild(y);N=new farming.Land(l,r,5,365,3,"non","tree7").setPosition(5,365);N.setSize(40,50),Ro.appendChild(N);o=new farming.Land(l,r,65,365,3,"non","tree8").setPosition(65,365);o.setSize(40,50),Ro.appendChild(o);Y=new farming.Land(l,r,215,245,32,"non","tree9").setPosition(215,245);Y.setSize(40,50),Ro.appendChild(Y);b=new farming.Land(l,r,250,180,32,"non","tree10").setPosition(250,180);b.setSize(40,50),Ro.appendChild(b);u=new farming.Land(l,r,160,310,32,"non","tree12").setPosition(160,310);u.setSize(40,50),Ro.appendChild(u);O=new farming.Land(l,r,160,375,32,"non","tree13").setPosition(160,375);O.setSize(40,50),Ro.appendChild(O);E=new farming.Land(l,r,215,375,32,"non","tree14").setPosition(215,375);E.setSize(40,50),Ro.appendChild(E);y=new farming.Land(l,r,270,375,32,"non","tree15").setPosition(270,375);y.setSize(40,50),Ro.appendChild(y);N=new farming.Land(l,r,215,310,32,"non","tree16").setPosition(215,310);N.setSize(40,50),Ro.appendChild(N);o=new farming.Land(l,r,270,310,32,"non","tree17").setPosition(270,310);o.setSize(40,50),Ro.appendChild(o);Y=new farming.Land(l,r,270,245,32,"non","tree18").setPosition(270,245);Y.setSize(40,50),Ro.appendChild(Y);var gs=(new lime.Label).setPosition(156,180).setSize(50,25).setText("-50").setFontSize(14).setFontFamily("Proxima Nova").setFontColor("#e1f00e").setFontWeight(600);Ro.appendChild(gs);b=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);gs.appendChild(b),gs.setHidden(!0);var cs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(155,88).setSize(36,75).setFill(l.waterfallImg[0].image);Ro.appendChild(cs);var ms=(new lime.Sprite).setAnchorPoint(0,0).setPosition(120,290).setSize(22,44).setFill(l.waterfallImg[4].image);Ro.appendChild(ms);var ps=(new lime.Sprite).setAnchorPoint(0,0).setPosition(120,350).setSize(22,44).setFill(l.waterfallImg[4].image);Ro.appendChild(ps);var hs=localStorage.getItem("GuiGhostFarms_orchardTreeBlock")||1,us=0;l.waterAnim=function(){var e=0,i=0,o=0,s=0,n=0;lime.scheduleManager.scheduleWithDelay(function(){if(3<e&&(e=0),3<i&&(i=0),o++,s++,"Orchard"==sceneActive&&(us+=1,cs.setFill(l.waterfallImg[e].image),0==i&&(ms.setFill(l.waterfallImg[5].image),ps.setFill(l.waterfallImg[5].image)),1<i&&(ms.setFill(l.waterfallImg[4].image),ps.setFill(l.waterfallImg[4].image)),e+=1,i+=1,2==o&&(Go.setPosition(58,65),Wo.setPosition(38,43)),4==o&&(Go.setPosition(58,60),Wo.setPosition(38,38),o=0),3==us&&(us=0,orchardBarnLevel=localStorage.getItem("MedFarm_orchardBarnLevel")||0,hs=localStorage.getItem("GuiGhostFarms_orchardTreeBlock")||1,0==orchardBarnLevel?(Uo.setFill(imgArray4[17]),Vo.setHidden(!1),Jo.setHidden(!1),Go.setHidden(!0),Wo.setHidden(!0),ss.setHidden(!0),ns.setHidden(!0)):1==orchardBarnLevel?(Uo.setFill(imgArray4[17]),Yo.setHidden(!0),qo.setHidden(!0),Vo.setHidden(!0),Jo.setHidden(!0)):2==orchardBarnLevel&&(Go.setHidden(!0),Wo.setHidden(!0),Uo.setFill(imgArray4[18]),Yo.setHidden(!0),qo.setHidden(!0),Vo.setHidden(!0),Jo.setHidden(!0)),hs<2?(ss.setHidden(!0),ns.setHidden(!0)):2==hs&&(ss.setHidden(!1),ns.setHidden(!1),ss.setFill(imgArray4[19])),1==ciderEnabled&&player.cropsStored[8].stored<1&&player.cropsStored[9].stored<1?(ls.setHidden(!1),rr.setHidden(!1)):(ls.setHidden(!0),rr.setHidden(!0)),1==collectItems.storeItems[4].owned&&1==ciderEnabled&&player.cropsStored[17].stored<1?(ds.setHidden(!1),nr.setHidden(!1)):1==collectItems.storeItems[4].owned&&1==ciderEnabled&&1<player.cropsStored[17].stored&&(ds.setHidden(!0),nr.setHidden(!0)),1==ciderEnabled?(ss.setFill(imgArrayCiderPlace[0]),ns.setHidden(!0)):(ss.setFill(imgArray4[19]),ns.setHidden(!1))),l.moveGirl()),1==(ciderEnabled=localStorage.getItem("MedFarm_ciderPlaceOwned")||0)&&0<player.cropsStored[17].stored&&(ns.setHidden(!0),ds.setHidden(!0),(0<player.cropsStored[8].stored||0<player.cropsStored[9].stored)&&(n<=16&&"Orchard"==sceneActive&&(ss.setFill(imgArrayCiderPlace[n]),sr.setFill(imgArrayCiderPlace[n])),n=parseInt(n)+1,"Orchard"==sceneActive&&(18==n&&(ss.setFill(imgArrayCiderPlace[0]),sr.setFill(imgArrayCiderPlace[0])),20==n&&(ss.setFill(imgArrayCiderPlace[16]),sr.setFill(imgArrayCiderPlace[16])),22==n&&(ss.setFill(imgArrayCiderPlace[0]),sr.setFill(imgArrayCiderPlace[0])),25==n&&(ss.setFill(imgArrayCiderPlace[16]),sr.setFill(imgArrayCiderPlace[16])),28==n&&(ss.setFill(imgArrayCiderPlace[0]),sr.setFill(imgArrayCiderPlace[0])),29==n&&(ss.setFill(imgArrayCiderPlace[1]),sr.setFill(imgArrayCiderPlace[1]))),32<n&&(n=0))),(0<player.cropsStored[8].stored||0<player.cropsStored[9].stored)&&(0<player.cropsStored[17].stored?ar.setText("Making Cider").setFontColor("#ffffff"):ar.setText("Need Barrels").setFontColor("#ff0000")),240<s){var t=localStorage.getItem("ciderPaused")||0;let e=localStorage.getItem("ciderBoosted")||0;1==ciderEnabled&&0<player.cropsStored[17].stored&&0<player.cropsStored[9].stored&&0==t?(player.cropsStored[17].stored=player.cropsStored[17].stored-1,player.cropsStored[9].stored=player.cropsStored[9].stored-1,os=parseInt(os)+1,0<e?(--e,pr.setText("Boost Active "+e+" more batches"),localStorage.setItem("ciderBoosted",e),os=parseInt(os)+1):e<=0&&(mr.setHidden(!1),pr.setText("Get 2x for 10 batches"),localStorage.setItem("ciderBoosted",0)),rs.setHidden(!1),as.setText("+ "+os),cr.setText(os),localStorage.setItem("ciderWaiting",os)):1==ciderEnabled&&0<player.cropsStored[17].stored&&0<player.cropsStored[8].stored&&0==t&&(player.cropsStored[17].stored=player.cropsStored[17].stored-1,player.cropsStored[8].stored=player.cropsStored[8].stored-1,os=parseInt(os)+1,0<e?(--e,pr.setText("Boost Active "+e+" more batches"),localStorage.setItem("ciderBoosted",e),os=parseInt(os)+1):e<=0&&(mr.setHidden(!1),pr.setText("Get 2x for 10 batches"),localStorage.setItem("ciderBoosted",0)),rs.setHidden(!1),as.setText("+ "+os),cr.setText(os),localStorage.setItem("ciderWaiting",os)),s=0}},this,250)},l.waterAnim();var ys=(new lime.Sprite).setAnchorPoint(0,0).setPosition(158,150).setSize(150,290).setFill("images/Orchard/treeBlockO.png").setHidden(!1);Ro.appendChild(ys);var Ss=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,60).setSize(150,390).setFill(imgArray[24].src);ys.appendChild(Ss);var fs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,105).setSize(40,40).setFill(imgArray[61]);ys.appendChild(fs);var As=(new lime.Sprite).setAnchorPoint(0,0).setPosition(225,288).setSize(40,40).setFill(ImgArrayTools[3]);Ro.appendChild(As);var ws=(new lime.Label).setText("150").setPosition(75,200).setSize(40,25).setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);ys.appendChild(ws);var Fs=0;Ss.setHidden(!0),ws.setHidden(!0),orchardTreeBlock=localStorage.getItem("GuiGhostFarms_orchardTreeBlock")||1;try{goog.events.removeAll(As)}catch(e){return}if(goog.events.listen(As,["mousedown","touchstart"],function(){var e,t,i,o,s;0==globalModalBlock&&1==Ds.getHidden()&&500<=player.tools&&(player.tools=player.tools-500,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),As.setHidden(!0),Ss.setHidden(!1),ws.setHidden(!1),e=150,t=380,i=0,o=60,s=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]),ws.appendChild(s),goog.events.listen(s,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Trees4")}catch(e){console.log("logging failed")}s.setHidden(!0),e=5}),lime.scheduleManager.scheduleWithDelay(function(){0<e&&(Ss.setPosition(i,o).setSize(t,200),t+=10,o-=5,(i-=5)<-15&&(i=0,o=60,t=290),35<(Fs+=10)&&(Fs=-10),fs.setRotation(Fs))},this,250,4*e),lime.scheduleManager.scheduleWithDelay(function(){if(--e,ws.setText(e),e<=0){ws.setHidden(!0),Ss.setHidden(!0),e=60,player.fields=player.fields+1,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),orchardTreeBlock=2,ys.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Us.setHidden(!1),lime.scheduleManager.callAfter(function(){Us.setHidden(!0)},this,3e3),localStorage.setItem("GuiGhostFarms_orchardTreeBlock",2),orchardText="Pears & Apples",Os.setText(orchardText).setPosition(l.controlsLayer_w/2-5,l.height-l.controlsLayer_h/2-12),Yf("Orchard Forest Clear",imgArray[61].src,"orchard",2e3),Yf("Unlocked Pears","images/pear.png","orchard",3e3);try{goog.events.removeAll(As)}catch(e){return}}},this,1e3,e))}),1<orchardTreeBlock){ys.setHidden(!0);try{goog.events.removeAll(As)}catch(e){return}As.setHidden(!0),2==orchardBarnLevel&&ss.setHidden(!1)}u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,180).setSize(28,28).setFill(imgArray[111]);Ro.appendChild(u),goog.events.listen(u,["mousedown","touchstart"],function(){waterStored=parseInt(localStorage.getItem("MedFarms_waterStored"))||0,waterStored=parseInt(waterStored+25),localStorage.setItem("MedFarms_waterStored",waterStored),Yf("+ 25",imgArray[110].src,"orchard",2e3,"left"),Yr.setText(waterStored)});O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(l.controlsLayer_w,46).setFill(imgArray[75]);Ro.appendChild(O);E=(new lime.Sprite).setPosition(285,18).setSize(35,35).setFill(imgArray11[0]);Ro.appendChild(E);var Ps=(new lime.Label).setText(player.money).setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(235,24).setFontSize(18);Ro.appendChild(Ps);y=(new lime.Sprite).setPosition(l.controlsLayer_w/2-5,21).setSize(51,40).setFill(imgArrayItems[25].src).setRotation(5);Ro.appendChild(y),goog.events.listen(y,["mousedown","touchstart"],function(){scenebefore=3;try{try{xa()}catch(e){console.log(e)}}catch(e){console.log(e)}ra.setText(starCash),Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.transitions.SlideInUp),br.setHidden(!1),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),sceneActive="Inventory",lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0);try{try{Uf()}catch(e){console.log(e)}}catch(e){console.log(e)}});var vs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,448).setSize(15,15);Ro.appendChild(vs);var Cs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,7).setSize(35,35).setFill(imgArray[30]),Is=(new lime.Label).setText(player.tools).setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(65,24).setFontSize(18);Ro.appendChild(Cs),Ro.appendChild(Is);var bs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(42,230).setSize(31,31).setFill(imgArray4[1]);Ro.appendChild(bs);var Ts=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(8,-10).setSize(25,23).setOpacity(.2);bs.appendChild(Ts);var Hs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,-22).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);bs.appendChild(Hs),goog.events.listen(Ts,["mousedown","touchstart"],function(){gn.setHidden(!1),orchardSound.play(),1==orchardBarnLevel&&(cn.setText("If you upgrade the barn, we can increase our harvests"),pn.setHidden(!0),mn.setFill(imgArray4[1])),2==orchardBarnLevel&&0==collectItems.storeItems[6].owned&&(cn.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArrayStore[4])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&0==ss.owned&&(cn.setText("That looks like a good place to brew Cider"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1==ss.owned&&player.cropsStored[17].stored<1&&(cn.setText("We need more BARRELS to keep making CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1<player.cropsStored[17].stored&&(cn.setText("I love the peace of the orchard"),pn.setHidden(!0),mn.setFill(imgArray4[1]),Ts.setHidden(!0),Hs.setHidden(!0))});var _s=1;l.moveGirl=function(){switch(53<(_s+=1)&&(_s=1),_s){case 1:bs.setPosition(42,230).setFill(imgArray4[6]);break;case 2:bs.setPosition(42,235).setFill(imgArray4[0]);break;case 3:bs.setPosition(42,240).setFill(imgArray4[2]);break;case 4:bs.setPosition(42,245).setFill(imgArray4[0]);break;case 5:bs.setPosition(42,250).setFill(imgArray4[2]);break;case 6:bs.setPosition(42,255).setFill(imgArray4[0]);break;case 7:bs.setPosition(42,260).setFill(imgArray4[2]);break;case 8:bs.setPosition(42,265).setFill(imgArray4[0]);break;case 9:bs.setPosition(42,270).setFill(imgArray4[2]);break;case 10:bs.setPosition(42,275).setFill(imgArray4[0]);break;case 11:bs.setPosition(42,280).setFill(imgArray4[2]);break;case 12:bs.setPosition(42,285).setFill(imgArray4[0]);break;case 13:bs.setPosition(42,290).setFill(imgArray4[2]);break;case 14:bs.setPosition(42,295).setFill(imgArray4[0]);break;case 15:bs.setPosition(42,300).setFill(imgArray4[2]);break;case 16:bs.setPosition(42,305).setFill(imgArray4[0]);break;case 17:bs.setPosition(42,310).setFill(imgArray4[2]);break;case 18:bs.setPosition(42,315).setFill(imgArray4[0]);break;case 19:bs.setPosition(42,320).setFill(imgArray4[2]);break;case 20:bs.setPosition(42,325).setFill(imgArray4[0]);break;case 21:bs.setPosition(42,330).setFill(imgArray4[2]);break;case 22:bs.setPosition(42,335).setFill(imgArray4[0]);break;case 23:bs.setPosition(42,340).setFill(imgArray4[2]);break;case 24:bs.setPosition(42,345).setFill(imgArray4[0]);break;case 25:bs.setPosition(42,350).setFill(imgArray4[2]);break;case 26:bs.setFill(imgArray4[7]);break;case 27:bs.setFill(imgArray4[0]);break;case 28:bs.setFill(imgArray4[6]);break;case 29:bs.setPosition(42,345).setFill(imgArray4[3]);break;case 30:bs.setPosition(42,345).setFill(imgArray4[4]);break;case 31:bs.setPosition(42,340).setFill(imgArray4[5]);break;case 32:bs.setPosition(42,335).setFill(imgArray4[4]);break;case 33:bs.setPosition(42,330).setFill(imgArray4[3]);break;case 34:bs.setPosition(42,325).setFill(imgArray4[4]);break;case 35:bs.setPosition(42,320).setFill(imgArray4[5]);break;case 36:bs.setPosition(42,315).setFill(imgArray4[4]);break;case 37:bs.setPosition(42,310).setFill(imgArray4[3]);break;case 38:bs.setPosition(42,305).setFill(imgArray4[4]);break;case 39:bs.setPosition(42,300).setFill(imgArray4[5]);break;case 40:bs.setPosition(42,295).setFill(imgArray4[4]);break;case 41:bs.setPosition(42,290).setFill(imgArray4[5]);break;case 42:bs.setPosition(42,285).setFill(imgArray4[4]);break;case 43:bs.setPosition(42,280).setFill(imgArray4[3]);break;case 44:bs.setPosition(42,275).setFill(imgArray4[4]);break;case 45:bs.setPosition(42,270).setFill(imgArray4[5]);break;case 46:bs.setPosition(42,265).setFill(imgArray4[4]);break;case 47:bs.setPosition(42,260).setFill(imgArray4[3]);break;case 48:bs.setPosition(42,255).setFill(imgArray4[4]);break;case 49:bs.setPosition(42,250).setFill(imgArray4[5]);break;case 50:bs.setPosition(42,245).setFill(imgArray4[4]);break;case 51:bs.setPosition(42,240).setFill(imgArray4[3]);break;case 52:bs.setPosition(42,235).setFill(imgArray4[4]);break;case 53:bs.setPosition(42,230).setFill(imgArray4[6])}},vs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,422).setSize(45,45).setFill(imgArray[50]),Ro.appendChild(vs),roadRightO=(new lime.Sprite).setAnchorPoint(0,0).setPosition(267,422).setSize(45,45).setFill(imgArray[49]),Ro.appendChild(roadRightO);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,l.height-l.controlsLayer_h-5).setSize(l.controlsLayer_w,l.controlsLayer_h+5).setFill(imgArray[69]);Ro.appendChild(N);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,448).setSize(38,38).setFill(imgArray[73]);Ro.appendChild(o);var xs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill(imgArray[74]);Ro.appendChild(xs);var zs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[48]);xs.appendChild(zs);var ks=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,105).setSize(50,50).setFill(imgArray[49]);xs.appendChild(ks);var Es=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,105).setSize(50,50).setFill(imgArray[46]);xs.appendChild(Es);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);xs.appendChild(Y);var Ms=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);xs.appendChild(Ms);var Ls=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[59]);xs.appendChild(Ls);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[57]);xs.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);xs.appendChild(u),xs.setHidden(!0),goog.events.listen(o,["mousedown","touchstart"],function(){0==globalModalBlock&&(B(),Ds.setHidden(!0),globalModalBlock=1)}),goog.events.listen(u,["mousedown","touchstart"],function(){R()}),goog.events.listen(Ls,["mousedown","touchstart"],function(e){compassVisible&&1==a[5].owned&&(scenebefore=10,Gf(),d.replaceScene(uy,lime.transitions.SlideInLeft),sceneActive="Windmill",r.currentCrop=22,R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Y,["mousedown","touchstart"],function(){compassVisible&&(r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,(5<r.currentCrop||isNaN(r.currentCrop)||r.currentCrop<0)&&(r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,q.setText("Plant "+l.crops[r.currentCrop].name),j.setFill("images/"+l.crops[r.currentCrop].harvest),le.setFill("images/"+l.crops[r.currentCrop].harvest)),lime.scheduleManager.callAfter(function(){R()},this,100),scenebefore=1,waterfallSound.stop(),Gf(),d.replaceScene(g,lime.transitions.SlideInLeft),sceneActive="Home")}),goog.events.listen(Ms,["mousedown","touchstart"],function(){1==a[1].owned&&compassVisible&&(scenebefore=2,waterfallSound.stop(),R(),cowSound.play(),lime.scheduleManager.callAfter(function(){ny()},this,2e3),oo=r.currentCrop,r.currentCrop=6,Gf(),d.replaceScene(mi,lime.transitions.SlideInLeft),sceneActive="Pasture",cowSound.play())}),goog.events.listen(zs,["mousedown","touchstart"],function(){1==a[2].owned&&R()}),goog.events.listen(Es,["mousedown","touchstart"],function(){1==a[3].owned&&compassVisible&&(R(),scenebefore=4,Gf(),d.replaceScene(Fm,lime.transitions.SlideInLeft),sceneActive="Vineyard",waterfallSound.stop(),oo=r.currentCrop,r.currentCrop=12,lime.scheduleManager.callAfter(function(){ny()},this,2e3))}),goog.events.listen(ks,["mousedown","touchstart"],function(){1==a[4].owned&&compassVisible&&(R(),scenebefore=5,oo=r.currentCrop,r.currentCrop=12,Gf(),d.replaceScene(ac,lime.transitions.SlideInRight),lime.scheduleManager.callAfter(function(){ny()},this,2e3),sceneActive="LS",waterfallSound.stop(),chickenSound.play(),pig1Sound.play(),lime.scheduleManager.callAfter(function(){pig2Sound.play()},this,5e3))});var Ns=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,467).setSize(36,36).setFill(imgArray[15]);Ro.appendChild(Ns);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,467).setSize(36,36).setFill(imgArray[71]);Ro.appendChild(O),goog.events.listen(Ns,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),themeSongNew.play(!0),waterfallSound.play(!0),Ns.setFill(imgArray[15]),oy(2),localStorage.setItem("GuiGhostFarms_muted",0)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(O,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneBefore=3,sceneThis=d.getCurrentScene(),iy())});r.currentCrop;2==orchardTreeBlock&&(orchardText="Pears & Apples");var Os=(new lime.Label).setText(orchardText).setFontColor("#ffffff").setFontFamily("Proxima Nova").setFontSize(12).setPosition(l.controlsLayer_w/2-5,l.height-l.controlsLayer_h/2-12);Ro.appendChild(Os),2==orchardTreeBlock&&(orchardText="Pears & Apples",Os.setText(orchardText).setPosition(l.controlsLayer_w/2-5,l.height-l.controlsLayer_h/2-12));E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-25,l.height-l.controlsLayer_h/2-5).setFill("images/"+l.crops[8].harvest).setSize(1.2*l.tile_size,1.2*l.tile_size);Ro.appendChild(E);var Bs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-15,l.height/2).setFill("images/"+l.crops[8].harvest).setSize(26,21);Ro.appendChild(Bs),Bs.setHidden(!0);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,504).setSize(36,36).setFill(imgArray[105]);Ro.appendChild(y);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,504).setSize(36,36).setFill(imgArray[70]);Ro.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,l.height-67).setSize(56,56).setFill(imgArray[72]);Ro.appendChild(b),goog.events.listen(b,["mousedown","touchstart"],function(){0==globalModalBlock&&ay()}),goog.events.listen(y,["mousedown","touchstart"],function(e){un.getHidden()?un.setHidden(!1):un.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,l.height-67).setSize(56,56).setFill(imgArray[81]);Ro.appendChild(o),goog.events.listen(N,["mousedown","touchstart"],function(){0==globalModalBlock&&(scenebefore=3,Gf(),d.replaceScene(Sr,lime.transitions.SlideInUp),sceneActive="Menu")});var Rs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(268,424).setSize(40,40).setFill(imgArray[49]);Ro.appendChild(Rs);var Ds=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#000F00").setOpacity(.75);Ro.appendChild(Ds),Ds.setHidden(!0);var Us=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,150).setSize(250,250).setFill(imgArray[80]);Ro.appendChild(Us);u=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Proxima Nova").setPosition(10,45).setSize(230,60).setFontSize(18).setText("You found some Pear Trees!");Us.appendChild(u);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,110).setSize(70,70).setFill("images/"+l.crops[9].harvest);Us.appendChild(Y);O=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Proxima Nova").setPosition(50,185).setSize(150,50).setFontSize(18).setText("Pears");Us.appendChild(O),Us.setHidden(!0);var Gs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,130).setSize(250,220).setFill(imgArray[79]);Ro.appendChild(Gs);E=(new lime.Label).setAnchorPoint(0,0).setPosition(23,25).setText("Upgrade Orchard Barn?").setFontFamily("Proxima Nova").setFontSize(18);Gs.appendChild(E);var Ws=(new lime.Label).setAnchorPoint(0,0).setPosition(25,122).setText("Increases Apple and Pear harvests by 100%").setFontFamily("Proxima Nova").setFontSize(16).setSize(195,l.height/2-50);Gs.appendChild(Ws);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(52,50).setSize(40,40).setFill(ImgArrayTools[5]);Gs.appendChild(b);y=(new lime.Label).setAnchorPoint(0,0).setPosition(50,95).setText("250").setFontFamily("Proxima Nova").setFontSize(16).setSize(40,40);Gs.appendChild(y);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(142,50).setSize(40,40).setFill("images/"+l.crops[14].image);Gs.appendChild(N);u=(new lime.Label).setAnchorPoint(0,0).setPosition(145,95).setText("200").setFontFamily("Proxima Nova").setFontSize(16).setSize(40,40);Gs.appendChild(u);Y=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,208).setSize(100,20);Gs.appendChild(Y);var Vs=(new lime.GlossyButton).setColor("#00ff00").setText("Upgrade").setPosition(125,175).setSize(100,20);Gs.appendChild(Vs),Vs.setHidden(!0),Gs.setHidden(!0),goog.events.listen(Go,["mousedown","touchstart"],function(e){Gs.setHidden(!1),200<=parseInt(player.cropsStored[14].stored)&&250<=player.tools?(Vs.setHidden(!1),Ws.setText("Increases Apple and Pear yield by 50%")):(Ws.setText("Need more resources to upgrade"),Vs.setHidden(!0)),goog.events.listen(hn,["mousedown","touchstart"],function(e){Gs.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Vs,["mousedown","touchstart"],function(e){0==Gs.getHidden()&&(qs(1),Gs.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Js=0,Ys=hammerSound;function qs(e){var t,i,o,s,n,r;1==e&&(player.tools=player.tools-250,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-200),0==barnUpInProgressO&&(barnUpInProgressO=1,20<=++Js&&(Js=0,"Orchard"==sceneActive&&Ys.play()),player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),(Qo-=10)<-50&&(Qo=-10),Xo.setRotation(Qo),Go.setHidden(!0),Wo.setHidden(!0),$o.setHidden(!1),jo.setHidden(!1),Ko.setHidden(!1),t=150,o=90,s=i=0,n=4*Zo,r=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]),$o.appendChild(r),goog.events.listen(r,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_OrchardBarn")}catch(e){console.log(e)}r.setHidden(!0),Zo=5,n=20}),lime.scheduleManager.scheduleWithDelay(function(){--n,4==(s+=1)&&(--Zo,upgradesInProgress.buildings[2].timeLeft=Zo,upgradesInProgress.buildings[2].currentBarnLevel=orchardBarnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),$o.setText(Zo),s=0),Ko.setPosition(i,o).setSize(t,200),t+=10,o-=5,(i-=5)<-20&&(i=0,t=o=90),35<(Qo+=10)&&(Qo=-10),Xo.setRotation(Qo),n<=0&&(Ys.stop(),upgradesInProgress.buildings[2].timeLeft=0,upgradesInProgress.buildings[2].currentBarnLevel=orchardBarnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),barnUpInProgressO=0,$o.setHidden(!0),jo.setHidden(!0),Ko.setHidden(!0),orchardBarnLevel=2,Uo.setFill(imgArray4[18]),ss.setHidden(!1),ir(),localStorage.setItem("MedFarm_orchardBarnLevel",2),Yf("Orchard Upgraded",imgArray[30].src,"orchard",3e3),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-200,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),2==orchardBarnLevel&&0==collectItems.storeItems[6].owned&&(cn.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[4]),mn.setFill(imgArrayStore[6])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&player.cropsStored[17].stored<1&&(cn.setText("We need more BARRELS to keep making CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1<player.cropsStored[17].stored&&(cn.setText("I don't need anything at the moment"),pn.setHidden(!0),mn.setFill(imgArray4[1])))},this,250,n+1))}var js=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,150).setSize(210,220).setFill("images/UI/saleBack.png");Ro.appendChild(js);var Ks=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000000").setFontFamily("Proxima Nova").setPosition(50,62).setSize(115,60).setFontSize(22).setText("StockPens  10,000");js.appendChild(Ks);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(52,82).setSize(25,25).setFill(imgArray11[0]);js.appendChild(O);var $s=(new lime.Label).setAnchorPoint(0,0).setFontColor("#FF0000").setFontFamily("Proxima Nova").setPosition(8,185).setSize(190,60).setFontSize(12).setText("Earn more Coin to buy");js.appendChild($s);var Xs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,212).setSize(75,35).setFill("images/UI/buyNowBtn.png");js.appendChild(Xs);var Qs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,212).setSize(35,35).setFill(imgArray[21]);js.appendChild(Qs),js.setHidden(!0);var Zs=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(40,122).setSize(135,60).setFontSize(14).setText("Get 10% Off");js.appendChild(Zs);var en=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,135).setSize(90,42).setFill(imgArray[108]);js.appendChild(en);var tn=0;goog.events.listen(en,["mousedown","touchstart"],function(e){if(!js.getHidden()){console.log("visible detected try show ad"),localStorage.setItem("acreDiscount3",1);try{Enhance.logEvent("acreDiscount3")}catch(e){console.log("logging failed")}_A(),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_LSDiscount")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){tn=localStorage.getItem("acreDiscount3")||0,9e3<=player.money?($s.setHidden(!0),Xs.setHidden(!1),en.setHidden(!0),Zs.setHidden(!1)):(Xs.setHidden(!0),$s.setHidden(!1)),tn&&(en.setHidden(!0),Zs.setHidden(!1)),Ks.setText("StockPens  9,000"),globalModalBlock=0},this,2500)}e.stopPropagation()}),goog.events.listen(Rs,["mousedown","touchstart"],function(){0==globalModalBlock&&(fsClicked=4,globalModalBlock=1,Ds.setHidden(!1),js.setHidden(!1),tn=localStorage.getItem("acreDiscount3")||0,1e4<=player.money?($s.setHidden(!0),Xs.setHidden(!1)):Xs.setHidden(!0),Ks.setText("StockPens  10,000"),9e3<=player.money&&1==tn&&($s.setHidden(!0),Xs.setHidden(!1),en.setHidden(!0),Zs.setHidden(!1),Zs.setText("Discount Applied")),Ks.setText("StockPens  9,000"),player.money<9e3&&1==tn&&($s.setHidden(!1),Xs.setHidden(!0),en.setHidden(!0),Zs.setHidden(!1),Zs.setText("Discount Applied")),Ks.setText("StockPens  9,000"),0==tn&&(en.setHidden(!1),Zs.setHidden(!1),Zs.setText("Get 10% Off")))}),goog.events.listen(Xs,["mousedown","touchstart"],function(){if(0==js.getHidden()){globalModalBlock=0;let e=1e4;(tn=localStorage.getItem("acreDiscount3")||0)&&(e=9e3),player.money=player.money-e,l.updateMoney(),a[4].owned=1,localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(a)),js.setHidden(!0),roadRightO.setHidden(!1),Rs.setHidden(!0),js.setHidden(!0),Ds.setHidden(!0),fsClicked=0,scenebefore=5,oo=r.currentCrop,r.currentCrop=12;try{AppLovinMAX.showBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}try{Enhance.logEvent("bannerAd_shown")}catch(e){console.log(e)}d.replaceScene(qf),aA.setText("The Stockpens").setOpacity(1).setHidden(!1),lA.setText("This acre already has chickens and pigs. Make sure they stay fed").setOpacity(1).setHidden(!1),rc("LiveStock"),lime.scheduleManager.callAfter(function(){ny(),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3&&id.setHidden(!1);try{Enhance.logEvent("level_up")}catch(e){console.log("logging failed")}try{goog.events.removeAll(Rs),goog.events.removeAll(Xs),goog.events.removeAll(Qs)}catch(e){console.log("remove failed")}},this,1800),lime.scheduleManager.callAfter(function(){pig2Sound.play()},this,5e3)}}),goog.events.listen(Qs,["mousedown","touchstart"],function(){js.setHidden(!0),Ds.setHidden(!0),globalModalBlock=0});var on=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill(imgArray[91]),sn=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Proxima Nova").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");on.appendChild(sn);var nn=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Proxima Nova").setPosition(30,123).setSize(150,60).setFontSize(12).setText("Achieve Text");on.appendChild(nn);var rn=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Proxima Nova").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");on.appendChild(rn);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill(imgArray[21]);on.appendChild(E),Ro.appendChild(on),on.setHidden(!0),goog.events.listen(E,["mousedown","touchstart"],function(){0==on.getHidden()&&(St.setHidden(!0),Po.setHidden(!0),Lp.setHidden(!0),on.setHidden(!0),sm.setHidden(!0),Ds.setHidden(!0),go.setHidden(!0),3<=tutStep&&(tt.setHidden(!0),om.setHidden(!0),zp.setHidden(!0)))}),goog.events.listen(roadRightO,["mousedown","touchstart"],function(){0==globalModalBlock&&(scenebefore=5,Gf(),d.replaceScene(ac,lime.transitions.SlideInRight),sceneActive="LS",waterfallSound.stop(),chickenSound.play(),pig1Sound.play(),lime.scheduleManager.callAfter(function(){pig2Sound.play()},this,5e3),lime.scheduleManager.callAfter(function(){ny()},this,2e3))}),goog.events.listen(o,["mousedown","touchstart"],function(){0==globalModalBlock&&(scenebefore=3,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market",lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500),waterfallSound.stop(),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0))});var an=(new lime.Sprite).setAnchorPoint(0,0).setPosition(26,100).setSize(250,305).setFill(imgArray[33]);Ro.appendChild(an);b=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,140).setOpacity(.9);b.setFill(ee),an.appendChild(b);y=(new lime.Label).setAnchorPoint(0,0).setPosition(45,30).setText("Not Enough Coins").setFontColor("RED").setFontFamily("Proxima Nova").setFontSize(22);an.appendChild(y);N=(new lime.Label).setAnchorPoint(0,0).setPosition(30,125).setText("Buy Coins with Stars").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);an.appendChild(N);var ln=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,118).setSize(45,45).setFill(imgArray[72]);an.appendChild(ln);u=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,195).setOpacity(.9);u.setFill(ee),an.appendChild(u);Y=(new lime.Label).setAnchorPoint(0,0).setPosition(30,178).setText("Get 200 Coins Free").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);an.appendChild(Y);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,173).setSize(90,42).setFill(imgArray[108]);an.appendChild(O);E=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,250).setOpacity(.9);E.setFill(ee),an.appendChild(E);o=(new lime.Label).setAnchorPoint(0,0).setPosition(30,235).setText("Sell Crops in Town").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);an.appendChild(o);var dn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,228).setSize(45,45).setFill(imgArray[81]);an.appendChild(dn);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(110,290).setSize(35,35).setFill(imgArray[21]);an.appendChild(b),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),goog.events.listen(O,["mousedown","touchstart"],function(){if(0==lt.getHidden()){an.setHidden(!0),lt.setHidden(!0),co.setHidden(!0),kp.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),warningSeen=1,_A(),localStorage.setItem("acreDiscount1",0),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_OutOfCoin")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){player.money=parseInt(player.money)+200,l.updateMoney(),globalModalBlock=0,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))},this,5e3)}}),goog.events.listen(ln,["mousedown","touchstart"],function(){0==an.getHidden()&&(lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),co.setHidden(!0),an.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),ay(),warningSeen=1)}),goog.events.listen(dn,["mousedown","touchstart"],function(){0==an.getHidden()&&(kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),Ds.setHidden(!0),tt.setHidden(!0),zp.setHidden(!0),go.setHidden(!0),om.setHidden(!0),townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market",lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500),warningSeen=1,globalModalBlock=0)}),goog.events.listen(b,["mousedown","touchstart"],function(){0==an.getHidden()&&(kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),Ds.setHidden(!0),tt.setHidden(!0),zp.setHidden(!0),go.setHidden(!0),om.setHidden(!0),warningSeen=1,globalModalBlock=0)}),player.money<l.crops[r.currentCrop].cost&&0==warningSeen&&(kp.setHidden(!1),Mp.setHidden(!1),Ep.setHidden(!1),an.setHidden(!1),dn.setHidden(!1),ln.setHidden(!1),co.setHidden(!1),po.setHidden(!1),mo.setHidden(!1),lt.setHidden(!1),gt.setHidden(!1),dt.setHidden(!1),Ds.setHidden(!1),tt.setHidden(!1),zp.setHidden(!1),go.setHidden(!1),om.setHidden(!1),globalModalBlock=1);var gn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,130).setSize(250,220).setFill(imgArray[79]);Ro.appendChild(gn);y=(new lime.Label).setAnchorPoint(0,0).setPosition(28,25).setText("Cultivator Isabel").setFontFamily("Proxima Nova").setFontSize(24);gn.appendChild(y);var cn=(new lime.Label).setAnchorPoint(0,0).setPosition(20,130).setText("If you had a STEEL PICK to clear rocks, we could upgrade this barn").setFontFamily("Proxima Nova").setFontSize(16).setSize(200,l.height/2-50);gn.appendChild(cn);var mn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(62,50).setSize(64,70).setFill(imgArray4[1]);gn.appendChild(mn);var pn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,50).setSize(50,60).setFill("images/UI/rockBlock.png");gn.appendChild(pn);var hn=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);if(gn.appendChild(hn),gn.setHidden(!0),goog.events.listen(hn,["mousedown","touchstart"],function(e){0==gn.getHidden()&&(gn.setHidden(!0),Ts.setHidden(!0),Hs.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==orchardBarnLevel){cn.setText("If you upgrade the barn, we can increase our harvests"),pn.setHidden(!0),mn.setFill(imgArray4[1]);try{goog.events.removeAll(Yo)}catch(e){return}}if(2==orchardBarnLevel&&0==collectItems.storeItems[6].owned&&(cn.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArrayStore[4])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&player.cropsStored[17].stored<1&&(cn.setText("We need more BARRELS to keep making CIDER"),pn.setHidden(!1),pn.setFill(imgArrayStore[6]),mn.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1<player.cropsStored[17].stored&&(cn.setText("I don't need anything at the moment"),pn.setHidden(!0),mn.setFill(imgArray4[1])),2==orchardBarnLevel)try{goog.events.removeAll(Yo),goog.events.removeAll(Go)}catch(e){return}var un=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]).setHidden(!0),N=(new lime.Label).setAnchorPoint(0,0).setPosition(68,30).setText("The Orchard").setFontFamily("Proxima Nova").setFontSize(24);un.appendChild(N);u=(new lime.Label).setAnchorPoint(0,0).setPosition(20,80).setText("Tap the trees to prune old growth, again to fertilize.").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);un.appendChild(u);Y=(new lime.Label).setAnchorPoint(0,0).setPosition(20,130).setText("Upgrading the barn increases your harvest. ").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);un.appendChild(Y);E=(new lime.Label).setAnchorPoint(0,0).setPosition(20,175).setText("Clearing the forest unlocks PEARS and more").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);un.appendChild(E);o=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);un.appendChild(o),Bo.appendChild(un),goog.events.listen(o,["mousedown","touchstart"],function(e){0==un.getHidden()&&(un.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var yn=(new lime.Layer).setAnchorPoint(0,0).setSize(l.width,0-3*l.height).setPosition(-2,0-3*l.height);Bo.appendChild(yn);var Sn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(3*l.width+8,3*l.height).setFill("images/Orchard/theCaves.png");yn.appendChild(Sn);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,82).setSize(22,25).setFill(imgArrayItems[43]);Sn.appendChild(O);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,305).setSize(25,25).setFill(imgArrayStore[6]);Sn.appendChild(b);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(775,2*l.height+250).setSize(22,25).setFill(imgArrayItems[44]);Sn.appendChild(y);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(460,2*l.height+325).setSize(25,25).setFill(imgArrayItems[43]);Sn.appendChild(N);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-59,665).setSize(25,25).setFill(imgArrayStore[6]);Sn.appendChild(u);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-210,660).setSize(22,25).setFill(imgArrayItems[44]);Sn.appendChild(Y),1==mapLocations.places[4].found?O.setHidden(!0):goog.events.listen(O,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(mapLocations.places[4].found=1,TA("c1"),this.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[5].found||yearCount<3?b.setHidden(!0):goog.events.listen(b,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(mapLocations.places[5].found=1,TA("c2"),this.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[6].found||yearCount<4?y.setHidden(!0):goog.events.listen(y,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(mapLocations.places[6].found=1,TA("c3"),this.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[7].found||yearCount<6?N.setHidden(!0):goog.events.listen(N,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(mapLocations.places[7].found=1,TA("c4"),this.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[8].found||yearCount<8?u.setHidden(!0):goog.events.listen(u,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(mapLocations.places[8].found=1,TA("c5"),this.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[9].found||yearCount<10?Y.setHidden(!0):goog.events.listen(Y,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(mapLocations.places[9].found=1,TA("c6"),this.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var fn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(500,2*l.height+270).setSize(30,30).setFill(imgArrayCave[0]);Sn.appendChild(fn);var An=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,2*l.height+250).setSize(30,30).setFill(imgArrayCave[1]);Sn.appendChild(An);var wn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,2*l.height+175).setSize(30,30).setFill(imgArrayCave[2]);Sn.appendChild(wn);var Fn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(385,2*l.height+255).setSize(30,30).setFill(imgArrayCave[3]);Sn.appendChild(Fn);var Pn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(250,2*l.height+280).setSize(30,30).setFill(imgArrayCave[4]);Sn.appendChild(Pn);var vn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(84,l.height+315).setSize(30,30).setFill(imgArrayCave[1]);Sn.appendChild(vn);var Cn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(230,l.height+315).setSize(30,30).setFill(imgArrayCave[2]);Sn.appendChild(Cn);var In=(new lime.Sprite).setAnchorPoint(0,0).setPosition(738,2*l.height+255).setSize(30,30).setFill(imgArrayCave[2]);Sn.appendChild(In);var bn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(800,2*l.height+410).setSize(30,30).setFill(imgArrayCave[4]);Sn.appendChild(bn);var Tn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(760,2*l.height+410).setSize(30,30).setFill(imgArrayCave[0]);Sn.appendChild(Tn);var Hn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(810,2*l.height+255).setSize(30,30).setFill(imgArrayCave[1]);Sn.appendChild(Hn),goog.events.listen(fn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+3,Yf(2,imgArrayCave[0].src,"cave",2e3),fn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(An,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),An.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(wn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),wn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Fn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),Fn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Pn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),Pn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(vn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),vn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Cn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),Cn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(In,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),In.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(bn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),bn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Tn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),Tn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Hn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&(player.cropsStored[25].stored=player.cropsStored[25].stored+2,Yf(2,imgArrayCave[0].src,"cave",2e3),Hn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var _n=(new lime.Sprite).setAnchorPoint(0,0).setPosition(810,120).setSize(30,30).setFill(imgArrayItems[25]);Sn.appendChild(_n),goog.events.listen(_n,["mousedown","touchstart"],function(e){_n.getHidden()||1!=Xn?0==Xn&&incorrectSound.play():(successSound.play(),IA("orchard")),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var xn=(new lime.Sprite).setPosition(410,430).setSize(60,60).setFill(imgArray[119]).setHidden(!0);Sn.appendChild(xn),goog.events.listen(xn,["mousedown","touchstart"],function(e){0==xn.getHidden()&&(IA("cavern"),successSound.play()),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1);var zn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(402,l.height+67).setSize(20,20).setFill("images/Orchard/tileSmile.png");Sn.appendChild(zn);var kn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(420,l.height+67).setSize(20,20).setFill("images/Orchard/tileGrin.png");Sn.appendChild(kn);var En=(new lime.Sprite).setAnchorPoint(0,0).setPosition(420,l.height+47).setSize(20,20).setFill("images/Orchard/tileMad.png");Sn.appendChild(En);var Mn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(502,l.height+47).setSize(20,20).setFill("images/Orchard/tileSmile.png");Sn.appendChild(Mn);var Ln=(new lime.Sprite).setAnchorPoint(0,0).setPosition(502,l.height+67).setSize(20,20).setFill("images/Orchard/tileGrin.png");Sn.appendChild(Ln);var Nn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(522,l.height+67).setSize(20,20).setFill("images/Orchard/tileMad.png");Sn.appendChild(Nn);var On=(new lime.Sprite).setAnchorPoint(0,0).setPosition(460,l.height+50).setSize(20,40).setFill("images/Orchard/caveGate.png");Sn.appendChild(On);var Bn=0;1!=Bn&&(zn.setFill(""),kn.setFill(""),En.setFill(""),Mn.setFill(""),Ln.setFill(""),Nn.setFill(""));var Rn=0;function Dn(){lime.scheduleManager.callAfter(function(){incorrectSound.play(),Rn=0,zn.setFill(""),kn.setFill(""),En.setFill(""),Mn.setFill(""),Ln.setFill(""),Nn.setFill("")},this,1250)}function Un(){console.log("tilesclicked = "+Rn),4<=Rn&&(successSound.play(),On.setHidden(!0),Wn.setHidden(!1),Bn=1,lime.scheduleManager.callAfter(function(){Rn=0},this,1250))}goog.events.listen(zn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&1==Xn&&(zn.setFill("images/Orchard/tileSmile.png"),Rn++,Un(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(kn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&1==Xn&&(kn.setFill("images/Orchard/tileGrin.png"),Rn++,Un(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(En,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&1==Xn&&(En.setFill("images/Orchard/tileMad.png"),Dn(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Mn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&1==Xn&&(Mn.setFill("images/Orchard/tileSmile.png"),Rn++,Un(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Ln,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&1==Xn&&(Ln.setFill("images/Orchard/tileGrin.png"),Rn++,Un(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Nn,["mousedown","touchstart"],function(e){0==Sn.getHidden()&&1==Xn&&(Nn.setFill("images/Orchard/tileMad.png"),Dn(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Gn=(new lime.Layer).setAnchorPoint(0,0).setSize(l.width,l.height-50).setPosition(0,0);Bo.appendChild(Gn);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height);Gn.appendChild(E),Gn.setHidden(!0);var Wn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(134,50).setSize(30,42).setFill(imgArrayCave[6]);E.appendChild(Wn);var Vn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,l.height/2+15).setSize(30,30).setFill(imgArrayCave[6]).setRotation(90);E.appendChild(Vn),caveGoLeft2=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,100).setSize(30,30).setFill(imgArrayCave[6]).setRotation(90),E.appendChild(caveGoLeft2);var Jn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width,l.height/2-18).setSize(30,30).setFill(imgArrayCave[6]).setRotation(270);E.appendChild(Jn);var Yn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width,70).setSize(30,30).setFill(imgArrayCave[6]).setRotation(270);E.appendChild(Yn);var qn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2+10,l.height-30).setSize(30,42).setFill(imgArrayCave[6]).setRotation(180);E.appendChild(qn);var jn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-80,l.height-100).setSize(100,100).setFill(imgArrayPlayer[0]);E.appendChild(jn);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-85,-85).setSize(156,105).setFill(imgArray[117]);jn.appendChild(o);var Kn=(new lime.Label).setText("The path is blocked. There must be another way").setPosition(80,70).setSize(150,100).setFontColor("black").setFontSize(15);o.appendChild(Kn);var $n=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill(imgArrayCave[5]);E.appendChild($n);var Xn=0;goog.events.listen(Wn,["mousedown","touchstart"],function(e){console.log("clicked Go Up"),0==Gn.getHidden()&&(tr("up"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Vn,["mousedown","touchstart"],function(e){0==Gn.getHidden()&&(tr("left"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(caveGoLeft2,["mousedown","touchstart"],function(e){0==Gn.getHidden()&&(Xn=1,tr("left"),Yn.setHidden(!1),Jn.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Jn,["mousedown","touchstart"],function(e){0==Gn.getHidden()&&(tr("right"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Yn,["mousedown","touchstart"],function(e){0==Yn.getHidden()&&(tr("right"),Xn=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(qn,["mousedown","touchstart"],function(e){0==Gn.getHidden()&&(tr("down"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Qn={positions:[{index:0,name:"Hidden",x:-2,y:1-3*l.height,special:0},{index:1,name:"LeftB",x:-2,y:1-2*l.height,special:0},{index:2,name:"LeftM",x:-2,y:1-l.height-10,special:0},{index:3,name:"LeftT",x:-2,y:-35,special:0},{index:4,name:"CenterB",x:1-l.width-10,y:1-2*l.height-2,special:0},{index:5,name:"CenterM",x:1-l.width-10,y:1-l.height-10,special:0},{index:6,name:"CenterT",x:1-l.width,y:-20,special:0},{index:7,name:"RightB",x:1-2*l.width,y:1-2*l.height,special:0},{index:8,name:"RightM",x:1-2*l.width-5,y:1-l.height-15,special:0},{index:9,name:"RightT",x:1-2*l.width,y:-25,special:0}],treasures:[{index:0,name:"Mushhrooms",x:0,y:0,special:0},{index:1,name:"Gold",x:0,y:0,special:0},{index:2,name:"Ore",x:0,y:0,special:0},{index:3,name:"Heirloom",x:0,y:0,special:0}]},Zn="Hidden";let er=0;function tr(e){jn.setHidden(!0),Kn.setText("The path is blocked. There must be another way");var t=Sn.getPosition();switch(themeSongNew.stop(),e){case"up":switch(Zn){case"Hidden":Zn="LeftB",i(),Kn.setText("Nice, there are Mushrooms here! Let's pick some"),er=1,Wn.setHidden(!1),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!1),Gn.setHidden(!1),themeSongNew.stop(),waterfallSound.stop(),caveLoop.play(!0);break;case"LeftB":Zn="LeftM",er=2,Wn.setHidden(!1),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!1);break;case"LeftM":case"LeftT":Zn="LeftT",er=3,Wn.setHidden(!0),Vn.setHidden(!0),Jn.setHidden(!0),qn.setHidden(!1);break;case"CenterB":Zn="CenterM",i(),Kn.setText("We need to find a way around this lava"),er=5,Wn.setHidden(!0),Vn.setHidden(!0),Jn.setHidden(!0),qn.setHidden(!1);break;case"CenterM":Zn="CenterT",lime.scheduleManager.callAfter(function(){Sn.setScale(1).setPosition(0,0)},this,1e3),er=6,Wn.setHidden(!0),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!1);break;case"CenterT":Zn="CenterT",lime.scheduleManager.callAfter(function(){Sn.setScale(1).setPosition(0,0)},this,1e3),er=6,Wn.setHidden(!0),Vn.setHidden(!0),Jn.setHidden(!0),qn.setHidden(!1);break;case"RightB":Zn="RightM",er=8,Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!1);break;case"RightM":Zn="RightT",i(),Kn.setText("Look Treasure! We need to find a way around to get it"),er=9,Wn.setHidden(!0),Vn.setHidden(!0),Jn.setHidden(!0),qn.setHidden(!1);break;case"RightT":Zn="RightT",er=9,Wn.setHidden(!0),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!1)}break;case"left":switch(Zn){case"LeftB":Vn.setHidden(!0);break;case"LeftM":case"LeftT":break;case"CenterB":Zn="LeftB",er=1,Wn.setHidden(!1),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!1);break;case"CenterM":Zn="LeftM",jn.setHidden(!0),er=2,Wn.setHidden(!1),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!1);break;case"CenterT":break;case"RightB":Zn="CenterB",jn.setHidden(!0),er=4,Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!0);break;case"RightM":Zn="CenterM",1!=Xn?(i(),Kn.setText("There is a gate over there. Find a way around")):(1==Bn?jn.setHidden(!0):(i(),Kn.setText("There must be some way to unlock this door. Touch stuff!"),t=Sn.getPosition(),console.log("origPos = "+t.y+" "+t.x),lime.scheduleManager.callAfter(function(){Sn.setScale(1.5).setPosition(-240,-250)},this,1e3)),Wn.setHidden(!0)),er=5,Wn.setHidden(!0),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!0);break;case"RightT":Zn="CenterT",er=6,Wn.setHidden(!0),Vn.setHidden(!0),Jn.setHidden(!1),Jn.setHidden(!1),qn.setHidden(!1)}break;case"right":switch(Zn){case"LeftB":Zn="CenterB",er=4,themeSongNew.stop(),waterfallSound.stop(),caveLoop.play(!0),Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!1),qn.setHidden(!0);break;case"LeftM":Zn="CenterM",i(),er=5,Wn.setHidden(!0),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!0);break;case"LeftT":jn.setHidden(!0),Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!0);break;case"CenterB":Zn="RightB",er=7,Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!0);break;case"CenterM":Zn="RightM",lime.scheduleManager.callAfter(function(){Sn.setScale(1).setPosition(0,0)},this,1e3),jn.setHidden(!0),er=8,Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!1);break;case"CenterT":jn.setHidden(!0),Zn="RightT",er=9,Wn.setHidden(!0),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!1)}break;case"down":switch(Zn){case"LeftB":Zn="Hidden",er=0,caveLoop.stop(),themeSongNew.play(!0),waterfallSound.play(!0),Ro.setPosition(0,0),lime.scheduleManager.callAfter(function(){Gn.setHidden(!0),Sn.setHidden(!0),yn.setHidden(!0)},this,2600);break;case"LeftM":jn.setHidden(!0),Zn="LeftB",er=1,Wn.setHidden(!1),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!1);break;case"LeftT":jn.setHidden(!0),Zn="LeftM",er=2,Wn.setHidden(!1),Vn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!1);break;case"CenterB":break;case"CenterM":Zn="CenterB",jn.setHidden(!0),er=4,Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!1),qn.setHidden(!0);break;case"CenterT":jn.setHidden(!0),Zn="CenterM",er=5,Wn.setHidden(!1),Vn.setHidden(!0),Jn.setHidden(!0),Jn.setHidden(!1),qn.setHidden(!0);break;case"RightB":break;case"RightM":jn.setHidden(!0),Zn="RightB",er=7,Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!0);break;case"RightT":jn.setHidden(!0),Zn="RightM",er=8,Wn.setHidden(!1),Vn.setHidden(!1),Jn.setHidden(!0),qn.setHidden(!1)}}function i(){lime.scheduleManager.callAfter(function(){jn.setHidden(!1),lime.scheduleManager.callAfter(function(){jn.setHidden(!0)},this,4e3)},this,3e3)}let o=0;qn.setOpacity(.1),Wn.setOpacity(.1),Vn.setOpacity(.1),caveGoLeft2.setOpacity(.1),Jn.setOpacity(.1),Yn.setOpacity(.1),$n.setHidden(!1).setOpacity(o),yn.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){o+=.1,$n.setOpacity(o)},this,100,10),lime.scheduleManager.callAfter(function(){lime.scheduleManager.scheduleWithDelay(function(){o-=.1,$n.setOpacity(o)},this,100,10),yn.setPosition(Qn.positions[er].x,Qn.positions[er].y)},this,1500),lime.scheduleManager.callAfter(function(){qn.setOpacity(1),Wn.setOpacity(1),Vn.setOpacity(1),caveGoLeft2.setOpacity(1),Jn.setOpacity(1),Yn.setOpacity(1)},this,2900),"RightM"==Zn?caveGoLeft2.setHidden(!1):caveGoLeft2.setHidden(!0),"CenterM"==Zn&&"down"==e?Yn.setHidden(!1):Yn.setHidden(!0),"CenterM"==Zn&&"left"==e&&1==Xn?(Yn.setHidden(!1),Wn.setHidden(!0),Jn.setHidden(!0),1==Bn&&Wn.setHidden(!1),1!=Bn&&(i(),Kn.setText("There must be some way to unlock this gate. Touch stuff!"),Wn.setHidden(!0))):Yn.setHidden(!0)}lime.scheduleManager.scheduleWithDelay(function(){"Hidden"!=Zn&&0==xn.getHidden()&&(xn.setRotation(0),lime.scheduleManager.callAfter(function(){xn.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){xn.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){xn.setRotation(270)},this,750))},this,1e3),lime.scheduleManager.scheduleWithDelay(function(){fn.setHidden(!1),An.setHidden(!1),wn.setHidden(!1),Fn.setHidden(!1),Pn.setHidden(!1),vn.setHidden(!1),Cn.setHidden(!1),In.setHidden(!1),bn.setHidden(!1),Tn.setHidden(!1),Hn.setHidden(!1)},this,24e4);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-40,115).setSize(20,25).setFill("#000000").setOpacity(.2);Ro.appendChild(O),goog.events.listen(O,["mousedown","touchstart"],function(e){0==collectItems.storeItems[7].owned?(Ro.appendChild($),$.setHidden(!1),Q.setText("It's Too Dark! We need to buy a LANTERN"),goog.events.listen($,["mousedown","touchstart"],function(e){$.setHidden(!0),goog.events.removeAll(Q)}),goog.events.listen(X,["mousedown","touchstart"],function(e){$.setHidden(!0),goog.events.removeAll(X)})):"Hidden"==Zn&&1==landSlideDone&&(console.log("caveShiftclicked "+Zn),themeSongNew.stop(),waterfallSound.stop(),caveLoop.play(!0),Zn="Hidden",tr("up"),Sn.setHidden(!1),yn.setHidden(!1),Gn.setHidden(!1),jn.setHidden(!0),lime.scheduleManager.callAfter(function(){Ro.setPosition(-600,0)},this,1050)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});async function ir(){return 1==landSlideDone?Do.setFill("images/"+l.orchard[1].image):Do.setFill("images/"+l.orchard[0].image),lime.scheduleManager.callAfter(function(){try{console.log("inside try landslides"),orchardBarnLevel=localStorage.getItem("MedFarm_orchardBarnLevel")||0,vinyardHouseLevel=localStorage.getItem("GuiGhostFarms_vinyardHouseLevel")||1,0==landSlideDone&&2==orchardBarnLevel&&2<=vinyardHouseLevel&&lime.scheduleManager.callAfter(function(){landSlideDone=1,localStorage.setItem("landSlideDone",1),Do.setFill("images/"+l.orchard[1].image),$.setHidden(!1);let e=0;var t=d.getPosition();directorY=t.y,directorX=t.x,console.log("y is "+directorY);try{hapticsVibrate()}catch(e){console.log(e)}lime.scheduleManager.scheduleWithDelay(function(){console.log("in ticker landslide"),0==e?(d.setPosition(directorX-5,directorY),e=1):1==e?(d.setPosition(directorX,directorY),e=2):2==e&&(d.setPosition(directorX+5,directorY),e=0)},this,100,20),lime.scheduleManager.callAfter(function(){d.setPosition(directorX,directorY),goog.events.listen($,["mousedown","touchstart"],function(e){$.setHidden(!0)})},this,2e3),lime.scheduleManager.callAfter(function(){Ro.appendChild($),Q.setText("Look... a landslide from the quake opened a Cave!"),goog.events.listen($,["mousedown","touchstart"],function(e){$.setHidden(!0)})},this,8e3)},this,5e3)}catch(e){console.log(e)}},this,4e3),1}var or=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),b=(new lime.Layer).setAnchorPoint(0,0),y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-50).setFill(imgArray[84]),N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-50).setFill(imgArray4[22]),sr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,26).setSize(150,150).setFill(imgArrayCiderPlace[0]);or.appendChild(b),b.appendChild(y),b.appendChild(N),b.appendChild(sr);var nr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-8,58).setSize(35,40).setFill("images/UI/needBarrels.png").setHidden(!0);sr.appendChild(nr);var rr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,5).setSize(35,40).setFill("images/UI/needFruit.png").setHidden(!0);sr.appendChild(rr);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setFill("#000000").setSize(l.width,30).setOpacity(.3);N.appendChild(u);Y=(new lime.Label).setText("Cider Making").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(150,17).setFontSize(24);N.appendChild(Y);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,175).setFill(imgArrayTown[18]).setSize(l.width-10,280);N.appendChild(o);var ar=(new lime.Label).setText("Making Cider").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(150,34).setFontSize(20);o.appendChild(ar);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,20).setFill(imgArray4[21]).setSize(40,40);o.appendChild(E);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-75,20).setFill(imgArray4[21]).setSize(40,40);o.appendChild(O);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,50).setFill(imgArrayCider2[0]).setSize(25,25);o.appendChild(y);var lr=(new lime.Label).setText(player.cropsStored[7].stored).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(30,20).setFontSize(14).setSize(50,20);y.appendChild(lr);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,50).setFill(imgArrayCider2[1]).setSize(25,25);o.appendChild(b);var dr=(new lime.Label).setText(player.cropsStored[8].stored).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(30,20).setFontSize(14).setSize(50,20);b.appendChild(dr);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(180,50).setFill(imgArrayStore[6]).setSize(25,25);o.appendChild(u);var gr=(new lime.Label).setText(player.cropsStored[17].stored).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(33,20).setFontSize(14).setSize(50,20);u.appendChild(gr);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-85,88).setFill(imgArrayTown[18]).setSize(160,55);o.appendChild(Y);E=(new lime.Label).setText("Collect").setFontFamily("Proxima Nova").setFontColor("#008000").setPosition(45,45).setFontSize(18).setSize(80,50);Y.appendChild(E);var cr=(new lime.Label).setText(os).setFontFamily("Proxima Nova").setFontColor("#008000").setPosition(85,43).setFontSize(22).setSize(80,50);Y.appendChild(cr);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,8).setFill(imgArray4[21]).setSize(36,36);Y.appendChild(O);var mr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-60,347).setFill(imgArray[108]).setSize(120,40);N.appendChild(mr);var pr=(new lime.Label).setText("Get 2x for 10 batches").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(l.width/2,354).setFontSize(18).setSize(220,50);N.appendChild(pr);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-75,218).setFill(imgArrayTown[18]).setSize(140,30);o.appendChild(y);var hr=(new lime.Label).setText("Pause Prodution").setFontFamily("Proxima Nova").setFontColor("#FF0000").setPosition(70,34).setFontSize(14).setSize(120,50);y.appendChild(hr);var ur=0;goog.events.listen(y,["mousedown","touchstart"],function(e){0==ur?(hr.setText("Resume Prodution").setFontColor("#008000"),ur=1,ar.setText("Production Paused"),localStorage.setItem("ciderPaused",1)):(hr.setText("Pause Prodution").setFontColor("#FF0000"),ur=0,ar.setText("Making Cider"),localStorage.setItem("ciderPaused",0))}),goog.events.listen(mr,["mousedown","touchstart"],function(e){localStorage.setItem("ciderBoosted",10),mr.setHidden(!0),pr.setText("Boost Active 10 more batches")});b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-25,270).setSize(40,40).setFill(imgArray[21]);function yr(){cr.setText(os),lr.setText(player.cropsStored[7].stored),dr.setText(player.cropsStored[8].stored),gr.setText(player.cropsStored[17].stored),player.cropsStored[8].stored<1&&player.cropsStored[9].stored<1?(rr.setHidden(!1),ar.setText("Need Fruit").setFontColor("#FF0000")):player.cropsStored[17].stored<1?(nr.setHidden(!1),ar.setText("Need Barrels").setFontColor("#FF0000")):ar.setText("Need Barrels").setFontColor("#ffffff"),1==(localStorage.getItem("ciderPaused")||0)&&ar.setText("Production Paused");var e=localStorage.getItem("ciderBoosted")||0;1<=e?(pr.setText("Boost Active "+e+" more batches"),mr.setHidden(!0)):e<=0&&(mr.setHidden(!1),pr.setText("Get 2x for 10 batches")),sceneActive="Orchard",d.replaceScene(or)}o.appendChild(b),goog.events.listen(b,["mousedown","touchstart"],function(e){d.replaceScene(Bo)}),goog.events.listen(Y,["mousedown","touchstart"],function(){player.cropsStored[18].stored=parseInt(player.cropsStored[18].stored)+parseInt(os),Yf("+"+os,imgArray4[21].src,"orchard",3e3),Xr.setText(player.cropsStored[18].stored),lime.scheduleManager.callAfter(function(){l.updateStored()},this,100),os=0,cr.setText(os),rs.setHidden(!0),localStorage.setItem("ciderWaiting",os)});var Sr=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),u=(new lime.Layer).setAnchorPoint(0,0),E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#0D0D0D");Sr.appendChild(E),Sr.appendChild(u);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-50).setSize(300,520).setFill(imgArray[14]);u.appendChild(O);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,220).setSize(l.width/2+40,40).setFill("#663300"),N=(new lime.GlossyButton).setColor("#4dff4d").setText("Save & Quit").setPosition(150,175).setSize(l.width/2+40,40);u.appendChild(N);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/4-20,265).setSize(l.width/2+40,40).setFill("#663300"),y=(new lime.GlossyButton).setColor("#ff0000").setText("Clear Data (Start Over)").setPosition(150,250).setSize(l.width/2+40,40);u.appendChild(y);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/4-20,330).setSize(l.width/2+40,40).setFill("#663300"),o=(new lime.GlossyButton).setColor("#6600ff").setText("About").setPosition(150,315).setSize(l.width/2+50,40);u.appendChild(o);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/4-20,395).setSize(l.width/2+40,40).setFill("#663300");function fr(){lime.scheduleManager.callAfter(function(){rA.setOpacity(.9)},this,150),lime.scheduleManager.callAfter(function(){rA.setOpacity(.8)},this,300),lime.scheduleManager.callAfter(function(){rA.setOpacity(.7)},this,450),lime.scheduleManager.callAfter(function(){rA.setOpacity(.6)},this,600),lime.scheduleManager.callAfter(function(){rA.setOpacity(.5)},this,750),lime.scheduleManager.callAfter(function(){rA.setOpacity(.4)},this,900),lime.scheduleManager.callAfter(function(){rA.setOpacity(.3)},this,1050),lime.scheduleManager.callAfter(function(){rA.setOpacity(.2)},this,1200),lime.scheduleManager.callAfter(function(){rA.setOpacity(.1)},this,1350),lime.scheduleManager.callAfter(function(){rA.setHidden(!0)},this,1500),lime.scheduleManager.callAfter(function(){rA.setOpacity(1)},this,2e3)}b=(new lime.GlossyButton).setColor("#a83299").setText("Story").setPosition(150,380).setSize(l.width/2+50,40),u.appendChild(b),goog.events.listen(o,["mousedown","touchstart"],function(e){Gf(),d.replaceScene(dy,lime.transitions.SlideInUp),lime.scheduleManager.callAfter(function(){openCodes(),getLocalStorage()},this,300)}),goog.events.listen(b,["mousedown","touchstart"],function(e){d.replaceScene(qf,lime.transitions.SlideInUp),aA.setText("Medieval Farms").setHidden(!1).setOpacity(1),lA.setText("Our Story Begins").setHidden(!1).setOpacity(1),rA.setOpacity(1).setHidden(!1),lime.scheduleManager.callAfter(function(){fr(),rc("menuStory")},this,1500)});Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/4-20,480).setSize(l.width/2+40,40).setFill("#663300"),Y=(new lime.GlossyButton).setColor("#1ce636").setText("Back to Game").setPosition(150,480).setSize(l.width/2+40,40);u.appendChild(Y),goog.events.listen(w,["mousedown","touchstart"],function(){d.replaceScene(Sr,lime.transitions.SlideInUp),sceneActive="Menu",scenebefore=1,globalModalBlock=0}),goog.events.listen(se,["mousedown","touchstart"],function(){if(0==globalModalBlock){Gf(),sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInRight),scenebefore=3,waterfallSound.play(!0);try{(5<(homeCrop=parseInt(r.currentCrop)||0)||isNaN(homeCrop)||homeCrop<0)&&(homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),oo=r.currentCrop,r.currentCrop=8}catch(e){console.log(e)}lime.scheduleManager.callAfter(function(){validCropsStored()},this,1e3)}}),goog.events.listen(vs,["mousedown","touchstart"],function(){0==globalModalBlock&&(Gf(),d.replaceScene(g,lime.transitions.SlideInLeft),scenebefore=1,waterfallSound.stop(),sceneActive="Home",r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,r.currentCrop=Math.abs(r.currentCrop),(5<r.currentCrop||isNaN(r.currentCrop)||r.currentCrop<0)&&(r.currentCrop=0,q.setText("Plant "+l.crops[r.currentCrop].name),j.setFill("images/"+l.crops[r.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,lime.scheduleManager.callAfter(function(){validCropsStored()},this,100))}),goog.events.listen(N,["mousedown","touchstart"],function(){localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_dayCount",dayCount),localStorage.setItem("GuiGhostFarms_yearCount",yearCount),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",parseInt(pickedEver)),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver),d.replaceScene(tc,lime.transitions.SlideInUp),lime.audio.setMute(!0),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100)}),goog.events.listen(y,["mousedown","touchstart"],function(){if(1==confirm("Danger! Are you sure you want to clear data?\nThis will erase all progress and you will start over.\nClick Ok to proceed or Cancel now while you still can!")){try{d.setPaused(!0)}catch(e){console.log(e)}d.setPaused(!0),mapsComplete=0,localStorage.setItem("mapsComplete",0),mapPieces=0,localStorage.setItem("mapPieces",0),chests_Complete=0,localStorage.setItem("chests_Complete",0),showStory=1,player.barnLevel=1,player.pastureLevel=1,player.treesP=0,player.tools=50,player.fields=1,player.money=500,player.cropsStored[0].stored=0,player.cropsStored[1].stored=0,player.cropsStored[2].stored=0,player.cropsStored[3].stored=0,player.cropsStored[4].stored=0,player.cropsStored[5].stored=0,player.cropsStored[6].stored=0,player.cropsStored[7].stored=0,player.cropsStored[8].stored=0,player.cropsStored[9].stored=0,player.cropsStored[10].stored=0,player.cropsStored[11].stored=0,player.cropsStored[12].stored=0,player.cropsStored[13].stored=0,player.cropsStored[14].stored=0,player.cropsStored[15].stored=200,player.cropsStored[16].stored=0,player.cropsStored[17].stored=0,player.cropsStored[18].stored=0,player.cropsStored[19].stored=0,player.cropsStored[20].stored=0,player.cropsStored[21].stored=0,player.cropsStored[22].stored=0,player.cropsStored[23].stored=0,player.cropsStored[24].stored=0,player.cropsStored[25].stored=0,player.cropsStored[26].stored=0,player.cropsStored[27].stored=0,player.cropsStored[28].stored=0,player.cropsStored[29].stored=0,showHighlight2=showHighLight=0,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),a[1].owned=0,a[2].owned=0,a[3].owned=0,a[4].owned=0,yearCount=dayCount=1,moneyEver=toolsEver=0,pickedEver=parseInt(0),saraReady=feliciaReady=friarReady=mayorReady=ciderEnabled=townRep=0,player.money=500,player.tools=50,l.achievements[1],l.achievements[2],l.achievements[3],l.achievements[4],l.achievements[5],l.achievements[6],l.achievements[7],l.achievements[8],l.achievements[9],l.achievements[10],l.achievements[11],l.achievements[12],l.achievements[13],l.achievements[14],l.achievements[15],l.achievements[16],localStorage.setItem("MedFarm_orchardBarnLevel",0),localStorage.setItem("GuiGhostFarms_achievements",JSON.stringify(l.achievements)),localStorage.setItem("GuiGhostFarms_moneyEver",0),localStorage.setItem("GuiGhostFarms_pickedEver",0),localStorage.setItem("GuiGhostFarms_dayCount",0),localStorage.setItem("GuiGhostFarms_yearCount",1),localStorage.setItem("GuiGhostFarms_toolsEver",0),localStorage.setItem("GuiGhostFarms_boughtStarCash",!1),localStorage.removeItem("GuiGhostFarms_player"),localStorage.removeItem("GuiGhostFarms_vinyardBlocks"),localStorage.removeItem("GuiGhostFarms_vinyardBlocks2"),localStorage.removeItem("GuiGhostFarms_vinyardHouseLevel"),localStorage.removeItem("GuiGhostFarms_orchardTreeBlock"),localStorage.removeItem("GuiGhostFarms_dayCount"),localStorage.removeItem("GuiGhostFarms_yearCount"),localStorage.removeItem("GuiGhostFarms_toolsEver"),localStorage.removeItem("GuiGhostFarms_pickedEver"),localStorage.removeItem("GuiGhostFarms_moneyEver"),localStorage.removeItem("GuiGhostFarms_achievements"),localStorage.removeItem("GuiGhostFarms_acres"),localStorage.removeItem("GuiGhostFarms_boughtStarCash"),localStorage.removeItem("GuiGhostFarms_coopLevel"),localStorage.removeItem("GuiGhostFarms_tutSeen"),localStorage.removeItem("GuiGhostFarms_houseUpgrades"),localStorage.removeItem("showHighLight"),localStorage.removeItem("landStates"),localStorage.removeItem("GuiGhostFarms_muted"),localStorage.removeItem("GuiGhostFarms_playerItems"),localStorage.removeItem("MedFarm_StarCashBoost"),localStorage.removeItem("MedFarm_LoadAd"),localStorage.removeItem("adWatched"),localStorage.removeItem("MedFarm_orchardBarnLevel"),localStorage.removeItem("GuiGhostFarms_playerItems"),localStorage.removeItem("MedFarm_ciderPlaceOwned"),localStorage.removeItem("MedFarms_townRep"),localStorage.removeItem("MedFarms_seenPremiumPromo"),localStorage.removeItem("MedFarms_seen1stHouseNotif"),localStorage.removeItem("MedFarm_Rewarded"),localStorage.removeItem("MedFarms_homeTreesLeft"),localStorage.removeItem("MedFarms_homeTreesRight"),localStorage.removeItem("MedFarms_selectedHomeCrop"),localStorage.removeItem("MedFarms_heraldOrdersFilled"),localStorage.removeItem("chests_Complete"),localStorage.removeItem("showStory"),localStorage.clear(),lime.scheduleManager.callAfter(function(){localStorage.removeItem("landStates");try{d.setPaused(!1)}catch(e){console.log(e)}window.location.reload()},this,1750)}else alert("Whew! That was close!\n Your Farm is safe")}),goog.events.listen(Y,["mousedown","touchstart"],function(e){Gf(),""!=sceneThis?d.replaceScene(sceneThis,lime.transitions.SlideInDown):(1==parseInt(scenebefore)&&(d.replaceScene(g,lime.transitions.SlideInDown),r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,sceneActive="Home"),2==scenebefore&&(d.replaceScene(mi,lime.transitions.SlideInDown),sceneActive="Pasture",cowSound.play()),3==scenebefore&&(sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInDown)),4==scenebefore&&(d.replaceScene(Fm,lime.transitions.SlideInDown),lime.scheduleManager.callAfter(function(){ny()},this,2e3),sceneActive="Vineyard"),5==scenebefore&&(d.replaceScene(ac,lime.transitions.SlideInDown),chickenSound.play(),sceneActive="LS",pig1Sound.play(),lime.scheduleManager.callAfter(function(){ny()},this,2e3),lime.scheduleManager.callAfter(function(){pig2Sound.play()},this,1e3),lime.scheduleManager.callAfter(function(){pig3Sound.play()},this,2e3)),10==scenebefore&&(d.replaceScene(uy,lime.transitions.SlideInDown),sceneActive="Windmill",r.currentCrop=22)),e.stopPropagation()});var Ar=document.getElementById("sucessbuyTxt");function wr(){_A(),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Stars")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){var e=(parseInt(localStorage.getItem("starCash")),0),e=parseInt(starCash+3);localStorage.setItem("starCash",e),document.getElementById("starCashOuterLabel").innerHTML=e},this,1500),lime.scheduleManager.callAfter(function(){Ar.style.display="none"},this,33e3);var e=document.getElementById("viewAdImg");e.classList.add("hidden"),Ar.innerHTML="Wait time is required before you can boost again",lime.scheduleManager.callAfter(function(){e.classList.remove("viewAdCls"),e.classList.remove("hidden"),e.classList.add("viewAdImg"),document.getElementById("waitText").innerHTML=""},this,12e4)}document.getElementById("buyWithStarCash").addEventListener("touchstart",function(e){if("block"==document.getElementById("fbshare").style.display){if(5<=starCash){boughtStarCash=!0,player.money+=500,l.updateMoney(),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=5,localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Ar.innerHTML="+ 500 Coins",Ar.style.display="block",lime.scheduleManager.callAfter(function(){Ar.style.display="none"},this,1e3),ey(),Yf("+ 500",imgArray11[0].src,"stars",2e3,"left");try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.stopPropagation()}},!1),document.getElementById("buyWithStarCash").addEventListener("click",function(e){if("block"==document.getElementById("fbshare").style.display){if(5<=starCash){boughtStarCash=!0,player.money+=500,l.updateMoney(),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=5,localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Ar.innerHTML="+ 500 Coins",Ar.style.display="block",lime.scheduleManager.callAfter(function(){Ar.style.display="none"},this,750),Yf("+ 500",imgArray11[0].src,"stars",2e3,"left");try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.stopPropagation()}},!1),document.getElementById("buyWithStarCashTools").addEventListener("touchstart",function(e){if("block"==document.getElementById("fbshare").style.display){if(10<=starCash){player.tools+=500,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=10,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Ar.innerHTML="+ 500 Tools",Ar.style.display="block",lime.scheduleManager.callAfter(function(){Ar.style.display="none"},this,1e3),purchaseSound.play(),Yf("+ 500",imgArray[30].src,"stars2",2e3,"left");try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.stopPropagation()}},!1),document.getElementById("buyWithStarCashTools").addEventListener("click",function(e){if("block"==document.getElementById("fbshare").style.display){if(10<=starCash){player.tools+=500,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=10,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Ar.innerHTML="+ 500 Tools",Ar.style.display="block",lime.scheduleManager.callAfter(function(){Ar.style.display="none"},this,1e3),purchaseSound.play(),Yf("+ 500",imgArray[30].src,"stars",2e3,"left");try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.stopPropagation()}},!1),document.getElementById("viewAdImg").addEventListener("touchstart",function(e){"block"==document.getElementById("fbshare").style.display&&(wr(),e.stopPropagation())},!1),document.getElementById("viewAdImg").addEventListener("click",function(e){"block"==document.getElementById("fbshare").style.display&&(wr(),e.stopPropagation())},!1),document.getElementById("closeFB").addEventListener("touchstart",function(e){"block"==document.getElementById("fbshare").style.display&&(document.getElementById("fbshare").style.display="none",console.log(document.getElementById("fbshare").style.display),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),ry=globalModalBlock=0,HA(),e.stopPropagation())},{passive:!0}),document.getElementById("closeFB").addEventListener("click",function(e){"block"==document.getElementById("fbshare").style.display&&(document.getElementById("fbshare").style.display="none",tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),ry=globalModalBlock=0,HA(),e.stopPropagation())},!1),document.getElementById("buyStarsFromModal").addEventListener("touchstart",function(e){"block"==document.getElementById("fbshare").style.display&&(document.getElementById("fbshare").style.display="none",tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),ry=globalModalBlock=0,Gf(),d.replaceScene(qa,lime.transitions.SlideInDown),Nl.setOpacity(1),Ll.setOpacity(.5),ja.setHidden(!0),Ka.setHidden(!0),storeBuyPremiumLayer.setHidden(!1),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),e.stopPropagation())},{passive:!0}),document.getElementById("buyStarsFromModal").addEventListener("click",function(e){"block"==document.getElementById("fbshare").style.display&&(document.getElementById("fbshare").style.display="none",tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),ry=globalModalBlock=0,Gf(),d.replaceScene(qa,lime.transitions.SlideInDown),sceneActive="Store",Nl.setOpacity(1),Ll.setOpacity(.5),ja.setHidden(!0),Ka.setHidden(!0),storeBuyPremiumLayer.setHidden(!1),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),e.stopPropagation())},!1),document.getElementById("foundItClose").addEventListener("touchstart",function(e){"block"==document.getElementById("foundIt").style.display&&(document.getElementById("foundIt").style.display="none",tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),globalModalBlock=0,e.stopPropagation())},{passive:!0}),document.getElementById("foundItClose").addEventListener("click",function(e){"block"==document.getElementById("foundIt").style.display&&(document.getElementById("foundIt").style.display="none",tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),globalModalBlock=0,e.stopPropagation())},!1);var Fr=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),E=(new lime.Layer).setAnchorPoint(0,0),Pr=(new lime.Layer).setAnchorPoint(0,0),O=(new lime.Layer).setAnchorPoint(0,0),o=(new lime.Layer).setAnchorPoint(0,0);Fr.appendChild(E),Fr.appendChild(Pr),Fr.appendChild(O),Fr.appendChild(o);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,81).setFill("#2F4F4F");E.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,55).setFill(imgArray[75]);E.appendChild(u);var w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,3).setSize(35,35).setFill(imgArray[30]),vr=(new lime.Label).setText(player.tools).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(65,24).setFontSize(18);E.appendChild(w),E.appendChild(vr);N=(new lime.Label).setText("Fordwin").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(150,18).setFontSize(18);E.appendChild(N);var Cr=(new lime.Label).setText("Peasant Farmer").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(150,40).setFontSize(12);E.appendChild(Cr);y=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);E.appendChild(y);var Ir=(new lime.Label).setText(player.money).setFontColor("#ffffff").setPosition(235,24).setFontSize(18).setFontFamily("Proxima Nova");E.appendChild(Ir),Cr.setText("Peasant Farmer");var br=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-7,74).setSize(100,100).setFill(imgArrayPlayer[0]);Fr.appendChild(br);var Tr=0,Hr=(lime.scheduleManager.scheduleWithDelay(function(){Tr++,"Inventory"==sceneActive&&(5==Tr?br.setFill(imgArrayPlayer[1].src):6==Tr?br.setFill(imgArrayPlayer[2].src):7==Tr?br.setFill(imgArrayPlayer[0].src):8==Tr?br.setFill(imgArrayPlayer[1].src):10==Tr?br.setFill(imgArrayPlayer[0].src):19==Tr?br.setFill(imgArrayPlayer[2].src):20==Tr&&br.setFill(imgArrayPlayer[0].src)),25==Tr&&(Tr=0)},this,500),(new lime.GlossyButton).setColor("#46CD2D").setText("Close").setPosition(l.width/2,l.height-12).setSize(100,25));Fr.appendChild(Hr),goog.events.listen(Hr,["mousedown","touchstart"],function(){ey(),Gf(),da.setPosition(110,25).setText("Item Information"),ga.setPosition(110,65).setText("Click on an item"),ca.setPosition(110,90).setText("to see the details"),""!=sceneThis&&d.replaceScene(sceneThis,lime.transitions.SlideInDown),1==parseInt(scenebefore)&&(r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,d.replaceScene(g,lime.transitions.SlideInDown),sceneActive="Home"),2==scenebefore&&(d.replaceScene(mi,lime.transitions.SlideInDown),sceneActive="Pasture",cowSound.play()),3==scenebefore&&(sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInDown)),4==scenebefore&&(d.replaceScene(Fm,lime.transitions.SlideInDown),sceneActive="Vineyard"),5==scenebefore&&(d.replaceScene(ac,lime.transitions.SlideInDown),chickenSound.play(),pig1Sound.play(),sceneActive="LS",ny()),7==scenebefore&&(d.replaceScene(fh,lime.transitions.SlideInDown),sceneActive="House"),8==scenebefore&&(townSceneActive=1,sceneActive="Town",d.replaceScene(Ol,lime.transitions.SlideInDown),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market",lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500)),9==scenebefore&&(d.replaceScene(qa,lime.transitions.SlideInDown),sceneActive="Store"),10==scenebefore&&(d.replaceScene(uy,lime.transitions.SlideInDown),sceneActive="Windmill"),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100)},{passive:!0});Y=(new lime.GlossyButton).setColor("#8B4513").setText("Goods").setPosition(l.width/3-50,70).setSize(l.width/3-10,23);E.appendChild(Y);b=(new lime.GlossyButton).setColor("#F4A460").setText("Items").setPosition(l.width/3*2-50,70).setSize(l.width/3-10,23);E.appendChild(b);u=(new lime.GlossyButton).setColor("#604187").setText("Heirlooms").setPosition(l.width-l.width/3+55,70).setSize(l.width/3-10,23);E.appendChild(u);var _r=(new lime.Label).setFontSize(10).setPosition(40,46).setSize(60,15).setText("Day "+dayCount).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(14);E.appendChild(_r);var xr=(new lime.Label).setFontSize(10).setPosition(l.width-40,46).setSize(60,15).setText("Year "+yearCount).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(14);E.appendChild(xr);var zr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,81).setSize(l.width,l.height-81).setFill("#8B4513");Pr.appendChild(zr);w=(new lime.RoundedRect).setPosition(43,380).setSize(76,272).setFill("#00ff00");Pr.appendChild(w);N=(new lime.Label).setPosition(42,271).setSize(72,50).setText("Consumables").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(12);for(Pr.appendChild(N),x=0;x<10;x++)storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(88,88+42*x+6).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack);for(x=0;x<7;x++)storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,90+42*x+9).setFill("images/"+l.crops[x].harvest).setSize(28,28),Pr.appendChild(storedIcon);for(x=9;x<19;x++)storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(163,88+42*(x-9)+6).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack);for(x=7;x<14;x++)storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,90+42*(x-7)+9).setFill("images/"+l.crops[x].harvest).setSize(28,28),Pr.appendChild(storedIcon);for(x=19;x<29;x++)storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(238,88+42*(x-19)+6).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack);storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,262).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,304).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,346).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,388).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,430).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,472).setFill(imgArrayTown[18]).setSize(70,40),Pr.appendChild(storedBack),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(16,265).setFill(imgArray[110]).setSize(21,32),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,308).setFill("images/"+l.crops[14].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,350).setFill("images/"+l.crops[15].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,393).setFill("images/"+l.crops[16].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,434).setFill("images/"+l.crops[17].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,393).setFill(imgArray4[21]).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(246,100).setFill("images/"+l.crops[22].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(246,141).setFill("images/"+l.crops[23].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(244,182).setFill("images/"+l.crops[24].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(245,227).setFill("images/"+l.crops[26].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(245,267).setFill("images/"+l.crops[27].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(245,308).setFill("images/"+l.crops[28].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(245,350).setFill("images/"+l.crops[29].harvest).setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(245,390).setFill("").setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(245,430).setFill("").setSize(28,28),Pr.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,392).setFill("images/"+l.crops[25].harvest).setSize(28,28),Pr.appendChild(storedIcon);var kr=(new lime.Label).setPosition(141,115).setSize(16,20).setText(player.cropsStored[0].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(kr);var Er=(new lime.Label).setPosition(141,159).setSize(16,20).setText(player.cropsStored[1].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Er);var Mr=(new lime.Label).setPosition(141,203).setSize(16,20).setText(player.cropsStored[2].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Mr);var Lr=(new lime.Label).setPosition(141,246).setSize(16,20).setText(player.cropsStored[3].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Lr);var Nr=(new lime.Label).setPosition(141,290).setSize(16,20).setText(player.cropsStored[4].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Nr);var Or=(new lime.Label).setPosition(141,330).setSize(16,20).setText(player.cropsStored[5].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Or);var Br=(new lime.Label).setPosition(141,370).setSize(16,12).setText(player.cropsStored[6].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Br);var Rr=(new lime.Label).setPosition(214,115).setSize(16,12).setText(player.cropsStored[7].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Rr);var Dr=(new lime.Label).setPosition(214,157).setSize(16,12).setText(player.cropsStored[8].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Dr);var Ur=(new lime.Label).setPosition(214,200).setSize(16,12).setText(player.cropsStored[9].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Ur);var Gr=(new lime.Label).setPosition(214,240).setSize(16,12).setText(player.cropsStored[10].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Gr);var Wr=(new lime.Label).setPosition(214,283).setSize(16,12).setText(player.cropsStored[11].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Wr);var Vr=(new lime.Label).setPosition(214,330).setSize(16,18).setText(player.cropsStored[12].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Vr);var Jr=(new lime.Label).setPosition(214,370).setSize(16,18).setText(player.cropsStored[13].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Jr);var Yr=(new lime.Label).setPosition(57,284).setSize(26,12).setText(waterStored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Yr);var qr=(new lime.Label).setPosition(57,326).setSize(26,12).setText(player.cropsStored[14].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(qr);var jr=(new lime.Label).setPosition(57,367).setSize(26,12).setText(player.cropsStored[15].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(jr);var Kr=(new lime.Label).setPosition(57,410).setSize(26,12).setText(player.cropsStored[16].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Kr);var $r=(new lime.Label).setPosition(57,450).setSize(26,12).setText(player.cropsStored[17].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild($r);var Xr=(new lime.Label).setPosition(141,410).setSize(26,12).setText(player.cropsStored[18].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Xr);y=(new lime.Label).setPosition(57,492).setSize(26,12).setText("?").setFontSize(22).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(y);E=(new lime.Label).setPosition(141,492).setSize(26,12).setText("?").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(E);var Qr=(new lime.Label).setPosition(289,115).setSize(26,12).setText(player.cropsStored[22].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Qr);var Zr=(new lime.Label).setPosition(289,159).setSize(26,12).setText(player.cropsStored[23].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(Zr);var ea=(new lime.Label).setPosition(289,203).setSize(26,12).setText(player.cropsStored[24].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(ea);var ta=(new lime.Label).setPosition(214,410).setSize(26,12).setText(player.cropsStored[25].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(ta);var ia=(new lime.Label).setPosition(289,246).setSize(26,12).setText(player.cropsStored[26].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(ia);var oa=(new lime.Label).setPosition(289,290).setSize(26,12).setText(player.cropsStored[27].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(oa);var sa=(new lime.Label).setPosition(289,330).setSize(26,12).setText(player.cropsStored[28].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(sa);var na=(new lime.Label).setPosition(289,370).setSize(26,12).setText(player.cropsStored[29].stored).setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(na);w=(new lime.Label).setPosition(289,410).setSize(26,12).setText("?").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(w);N=(new lime.Label).setPosition(141,450).setSize(26,12).setText("?").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(N);y=(new lime.Label).setPosition(214,450).setSize(26,12).setText("?").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(y);E=(new lime.Label).setPosition(214,492).setSize(26,12).setText("?").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(E);w=(new lime.Label).setPosition(289,450).setSize(26,12).setText("?").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(w);N=(new lime.Label).setPosition(289,492).setSize(26,12).setText("?").setFontSize(16).setFontFamily("Proxima Nova").setFontColor("#FFFFFF");Pr.appendChild(N);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,168).setSize(72,35).setFill(imgArray[25].src);Pr.appendChild(y);var ra=(new lime.Label).setText(starCash).setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(50,188).setFontSize(16);Pr.appendChild(ra),ra.setText(starCash);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,202).setSize(72,35).setFill(imgArray[52]);Pr.appendChild(E);var aa=(new lime.Label).setText(heraldOrderTop).setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(50,223).setFontSize(16);Pr.appendChild(aa);var la=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,81).setSize(l.width,l.height-81).setFill("#F4A460");O.appendChild(la);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,85).setSize(l.width-85,110).setFill(imgArray[79]);la.appendChild(w);var da=(new lime.Label).setPosition(110,28).setText("Item Information").setFontSize(22).setFontFamily("Proxima Nova").setFontColor("#000000");w.appendChild(da);var ga=(new lime.Label).setPosition(110,68).setText("Hit an item to").setFontSize(18).setFontFamily("Proxima Nova").setFontColor("#000000");w.appendChild(ga);var ca=(new lime.Label).setPosition(110,93).setText("see the details").setFontSize(18).setFontFamily("Proxima Nova").setFontColor("#000000");w.appendChild(ca);var ma=(new lime.Sprite).setPosition(120,30).setSize(50,50).setFill(imgArrayItems[18].src);la.appendChild(ma);var pa=(new lime.Label).setFontSize(12).setPosition(3,43).setSize(70,18).setText("IRON SHOVEL").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(10);ma.appendChild(pa),1==collectItems.storeItems[2].owned&&(ma.setFill(imgArrayStore[2].src),pa.setFontSize(10).setPosition(3,42).setSize(70,18).setText("BLESSED SHOVEL").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(11));var ha=(new lime.Sprite).setPosition(190,32).setSize(30,50).setFill("images/items/lantern_No.png");la.appendChild(ha);var ua=(new lime.Label).setFontSize(12).setPosition(0,45).setSize(70,18).setText("????").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(11);ha.appendChild(ua),1==collectItems.storeItems[7].owned&&(ha.setFill(imgArrayStore[7].src),ua.setText("LANTERN"));var ya=(new lime.Sprite).setPosition(267,33).setSize(50,50).setFill(imgArray[20].src);la.appendChild(ya);var Sa=(new lime.Label).setPosition(3,45).setSize(70,18).setText("????").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(11);for(ya.appendChild(Sa),1==collectItems.storeItems[3].owned&&(ya.setFill(imgArrayStore[3].src),Sa.setText("STEEL PICK")),goog.events.listen(ma,["click","touchstart"],function(){0==collectItems.storeItems[2].owned&&(da.setText("IRON SHOVEL"),ga.setText("Gives 1% luck to "),ca.setText("find items when digging")),1==collectItems.storeItems[2].owned&&(da.setText("Blessed Shovel"),ga.setText("Gives 10% luck to"),ca.setText("find items when digging"))}),goog.events.listen(ha,["click","touchstart"],function(){0==collectItems.storeItems[7].owned&&(da.setText("???  HMMMM  ???"),ga.setText("I wonder what is "),ca.setText(" going to go here?")),1==collectItems.storeItems[7].owned&&(da.setText("LANTERN"),ga.setText("Lights the dark "),ca.setText("in caverns and lairs"))}),goog.events.listen(ya,["click","touchstart"],function(){0==collectItems.storeItems[3].owned&&(da.setText("???  HMMMM  ???"),ga.setText("I wonder what is "),ca.setText(" going to go here?")),1==collectItems.storeItems[3].owned&&(da.setText("Steel Pick"),ga.setText("Breaks rocks that"),ca.setText("are in the way"))}),Ce=0;Ce<4;Ce++)for(x=0;x<3;x++)itemsStoredBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20+70*Ce,195+62*x+6).setFill(imgArrayTown[18]).setSize(60,52),la.appendChild(itemsStoredBack);itemsStoredBack.setHidden(!0);var fa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,202).setSize(48,48).setFill(imgArray[17].src);la.appendChild(fa),fa.filled=0,fa.heading="",fa.subtext1="",fa.subtext2="";var Aa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,202).setSize(48,48).setFill(imgArray[17].src);la.appendChild(Aa),Aa.filled=0,Aa.heading="",Aa.subtext1="",Aa.subtext2="";var wa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,202).setSize(48,48).setFill(imgArray[17].src);la.appendChild(wa),wa.filled=0,wa.heading="",wa.subtext1="",wa.subtext2="";var Fa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,202).setSize(48,48).setFill(imgArray[17].src);la.appendChild(Fa),Fa.filled=0,Fa.heading="",Fa.subtext1="",Fa.subtext2="";var Pa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,265).setSize(48,48).setFill(imgArray[17].src);la.appendChild(Pa),Pa.filled=0,Pa.heading="",Pa.subtext1="",Pa.subtext2="";var va=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,265).setSize(48,48).setFill(imgArray[17].src);la.appendChild(va),va.filled=0,va.heading="",va.subtext1="",va.subtext2="";var Ca=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,265).setSize(48,48).setFill(imgArray[17].src);la.appendChild(Ca),Ca.filled=0,Ca.heading="",Ca.subtext1="",Ca.subtext2="";var Ia=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,265).setSize(48,48).setFill(imgArray[17].src);la.appendChild(Ia),Ia.filled=0,Ia.heading="",Ia.subtext1="",Ia.subtext2="";var ba=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,325).setSize(48,48).setFill(imgArray[17].src);la.appendChild(ba),ba.filled=0,ba.heading="",ba.subtext1="",ba.subtext2="";var Ta=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,325).setSize(48,48).setFill(imgArray[17].src);la.appendChild(Ta),Ta.filled=0,Ta.heading="",Ta.subtext1="",Ta.subtext2="";var Ha=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,325).setSize(48,48).setFill(imgArray[17].src);la.appendChild(Ha),Ha.filled=0,Ha.heading="",Ha.subtext1="",Ha.subtext2="";var _a=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,325).setSize(48,48).setFill(imgArray[17].src);la.appendChild(_a),_a.filled=0,_a.heading="",_a.subtext1="";_a.subtext2="";function xa(){fa.filled=0,fa.heading="",fa.subtext1="",fa.subtext2="",fa.setFill(imgArray[17].src),Aa.filled=0,Aa.heading="",Aa.subtext1="",Aa.subtext2="",Aa.setFill(imgArray[17].src),wa.filled=0,wa.heading="",wa.subtext1="",wa.subtext2="",wa.setFill(imgArray[17].src),Fa.filled=0,Fa.heading="",Fa.subtext1="",Fa.subtext2="",Fa.setFill(imgArray[17].src),Pa.filled=0,Pa.heading="",Pa.subtext1="",Pa.subtext2="",Pa.setFill(imgArray[17].src),va.filled=0,va.heading="",va.subtext1="",va.subtext2="",va.setFill(imgArray[17].src),Ca.filled=0,Ca.heading="",Ca.subtext1="",Ca.subtext2="",Ca.setFill(imgArray[17].src),Ia.filled=0,Ia.heading="",Ia.subtext1="",Ia.subtext2="",Ia.setFill(imgArray[17].src),ba.filled=0,ba.heading="",ba.subtext1="",ba.subtext2="",ba.setFill(imgArray[17].src),Ta.filled=0,Ta.heading="",Ta.subtext1="",Ta.subtext2="",Ta.setFill(imgArray[17].src),Ha.filled=0,Ha.heading="",Ha.subtext1="",Ha.subtext2="",Ha.setFill(imgArray[17].src),_a.filled=0,_a.heading="",_a.subtext1="",_a.subtext2="",_a.setFill(imgArray[17].src);for(var e,t,i,o,s,n,r,a,l=0;l<collectItems.digUpSells.length;l++)1<=collectItems.digUpSells[l].owned&&(e=collectItems.digUpSells[l].src,t=collectItems.digUpSells[l].name,i=collectItems.digUpSells[l].sub1,o=collectItems.digUpSells[l].sub2,s=e,n=t,r=i,a=o,0==fa.filled?(fa.filled=1,fa.setFill(s),fa.heading=n,fa.subtext1=r,fa.subtext2=a,goog.events.listen(fa,["click","touchstart"],function(){1==fa.filled&&(da.setText(fa.heading),ga.setText(fa.subtext1),ca.setText(fa.subtext2))})):0==Aa.filled?(Aa.filled=1,Aa.setFill(s),Aa.heading=n,Aa.subtext1=r,Aa.subtext2=a,goog.events.listen(Aa,["click","touchstart"],function(){1==Aa.filled&&(da.setText(Aa.heading),ga.setText(Aa.subtext1),ca.setText(Aa.subtext2))})):0==wa.filled?(wa.filled=1,wa.setFill(s),wa.heading=n,wa.subtext1=r,wa.subtext2=a,goog.events.listen(wa,["click","touchstart"],function(){1==wa.filled&&(da.setText(wa.heading),ga.setText(wa.subtext1),ca.setText(wa.subtext2))})):0==Fa.filled?(Fa.filled=1,Fa.setFill(s),Fa.heading=n,Fa.subtext1=r,Fa.subtext2=a,goog.events.listen(Fa,["click","touchstart"],function(){1==Fa.filled&&(da.setText(Fa.heading),ga.setText(Fa.subtext1),ca.setText(Fa.subtext2))})):0==Pa.filled?(Pa.filled=1,Pa.setFill(s),Pa.heading=n,Pa.subtext1=r,Pa.subtext2=a,goog.events.listen(Pa,["click","touchstart"],function(){1==Pa.filled&&(da.setText(Pa.heading),ga.setText(Pa.subtext1),ca.setText(Pa.subtext2))})):0==va.filled?(va.filled=1,va.setFill(s),va.heading=n,va.subtext1=r,va.subtext2=a,goog.events.listen(va,["click","touchstart"],function(){1==va.filled&&(da.setText(va.heading),ga.setText(va.subtext1),ca.setText(va.subtext2))})):0==Ca.filled?(Ca.filled=1,Ca.setFill(s),Ca.heading=n,Ca.subtext1=r,Ca.subtext2=a,goog.events.listen(Ca,["click","touchstart"],function(){1==Ca.filled&&(da.setText(Ca.heading),ga.setText(Ca.subtext1),ca.setText(Ca.subtext2))})):0==Ia.filled?(Ia.filled=1,Ia.setFill(s),Ia.heading=n,Ia.subtext1=r,Ia.subtext2=a,goog.events.listen(Ia,["click","touchstart"],function(){1==Ia.filled&&(da.setText(Ia.heading),ga.setText(Ia.subtext1),ca.setText(Ia.subtext2))})):0==ba.filled?(ba.filled=1,ba.setFill(s),ba.heading=n,ba.subtext1=r,ba.subtext2=a,goog.events.listen(ba,["click","touchstart"],function(){1==ba.filled&&(da.setText(ba.heading),ga.setText(ba.subtext1),ca.setText(ba.subtext2))})):0==Ta.filled?(Ta.filled=1,Ta.setFill(s),Ta.heading=n,Ta.subtext1=r,Ta.subtext2=a,goog.events.listen(Ta,["click","touchstart"],function(){1==Ta.filled&&(da.setText(Ta.heading),ga.setText(Ta.subtext1),ca.setText(Ta.subtext2))})):0==Ha.filled?(Ha.filled=1,Ha.setFill(s),Ha.heading=n,Ha.subtext1=r,Ha.subtext2=a,goog.events.listen(Ha,["click","touchstart"],function(){1==Ha.filled&&(da.setText(Ha.heading),ga.setText(Ha.subtext1),ca.setText(Ha.subtext2))})):0==_a.filled&&(_a.filled=1,_a.setFill(s),_a.heading=n,_a.subtext1=r,_a.subtext2=a,goog.events.listen(_a,["click","touchstart"],function(){1==_a.filled&&(da.setText(_a.heading),ga.setText(_a.subtext1),ca.setText(_a.subtext2))})))}var za=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,81).setSize(l.width,l.height-81).setFill("#604187");o.appendChild(za);var ka=(new lime.Label).setText("Collect all items to unlock your destiny").setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(l.width/2,15).setFontSize(16);za.appendChild(ka);var Ea=(new lime.Sprite).setPosition(65,75).setSize(80,80).setFill(imgArrayItems[40]);za.appendChild(Ea);var Ma=(new lime.Sprite).setPosition(160,75).setSize(80,80).setFill(imgArrayItems[30]);za.appendChild(Ma);var La=(new lime.Sprite).setPosition(160,170).setSize(95,90).setFill(imgArrayItems[34]);za.appendChild(La);var Na=(new lime.Sprite).setPosition(65,175).setSize(130,130).setFill(imgArrayItems[28]);za.appendChild(Na);var Oa=(new lime.Sprite).setPosition(258,175).setSize(70,140).setFill(imgArrayItems[33]).setRotation(-30);za.appendChild(Oa);var Ba=(new lime.Sprite).setPosition(258,72).setSize(65,65).setFill(imgArrayItems[35]);za.appendChild(Ba);var Ra=(new lime.Sprite).setPosition(160,285).setSize(90,90).setFill(imgArrayItems[32]);za.appendChild(Ra);var Da=(new lime.Sprite).setPosition(65,290).setSize(80,80).setFill(imgArrayItems[38]);za.appendChild(Da);var Ua=(new lime.Sprite).setPosition(250,290).setSize(80,80).setFill(imgArrayItems[36]);za.appendChild(Ua);N=(new lime.Sprite).setPosition(l.width/4-20,380).setSize(l.width/3-15,90).setFill(imgArrayTown[18]);za.appendChild(N);y=(new lime.Sprite).setPosition(l.width/2,380).setSize(l.width/3-15,90).setFill(imgArrayTown[18]);za.appendChild(y);E=(new lime.Sprite).setPosition(l.width/2+(l.width/3-7),380).setSize(l.width/3-15,90).setFill(imgArrayTown[18]);za.appendChild(E);O=(new lime.Sprite).setPosition(0,0).setSize(40,40).setFill(imgArray[113]);N.appendChild(O);w=(new lime.Label).setText("Fragments").setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(0,-28).setFontSize(16);N.appendChild(w),mapPieces=localStorage.getItem("mapPieces")||0;var Ga=(new lime.Label).setText(mapPieces+"/5").setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(0,30).setFontSize(12);N.appendChild(Ga);o=(new lime.Label).setText("Maps").setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(0,-28).setFontSize(16);y.appendChild(o);O=(new lime.Sprite).setPosition(0,0).setSize(50,40).setFill(imgArray[118]);y.appendChild(O);var Wa=(new lime.Label).setText(mapsComplete+"/6").setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(0,30).setFontSize(12);y.appendChild(Wa);w=(new lime.Label).setText("Chests").setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(0,-28).setFontSize(16);E.appendChild(w);N=(new lime.Sprite).setPosition(0,0).setSize(50,40).setFill(imgArrayItems[42]);E.appendChild(N),chests_Complete=localStorage.getItem("chests_Complete")||0;var Va=(new lime.Label).setText(chests_Complete+"/8").setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(0,30).setFontSize(12);function Ja(){let e=0;1==collectItems.digUpCollect[0].owned&&(Ba.setFill(imgArrayItems[27]),e+=1),1==collectItems.digUpCollect[1].owned&&(Na.setFill(imgArrayItems[2]),e+=1),1==collectItems.digUpCollect[2].owned&&(Oa.setFill(imgArrayItems[21]),e+=1),1==collectItems.digUpCollect[3].owned&&(La.setFill(imgArrayItems[6]),e+=1),1==collectItems.digUpCollect[4].owned&&(Ma.setFill(imgArrayItems[29]),e+=1),1==collectItems.digUpCollect[5].owned&&(Da.setFill(imgArrayItems[39]),e+=1),1==collectItems.digUpCollect[6].owned&&(Ra.setFill(imgArrayItems[31]),e+=1),1==collectItems.digUpCollect[7].owned&&(Ua.setFill(imgArrayItems[37]),e+=1),1==collectItems.digUpCollect[8].owned&&(Ea.setFill(imgArrayItems[40]),e+=1),9==e&&(ka.setText("Your full set reveals your Royal Lineage"),Cr.setText("Harvest Lord")),Ya()}function Ya(){var e;mapPieces=localStorage.getItem("mapPieces")||0,mapsComplete=parseInt(localStorage.getItem("mapsComplete"))||0,5<=mapPieces&&(console.log("map 1 complete with pieces = "+mapPieces),e=mapsComplete,mapsComplete=localStorage.getItem("mapsComplete")||0,0==e?(mA.setPosition(245,157),pA.setPosition(246,160),treasurePendingLocation="StockPens",wc.setHidden(!1)):1==e?(mA.setPosition(110,154),pA.setPosition(111,157),treasurePendingLocation="Dairy",Gi.setHidden(!1)):2==e?(mA.setPosition(46,164),pA.setPosition(47,167),treasurePendingLocation="Vineyard",Qm.setHidden(!1)):3==e?(mA.setPosition(170,220),pA.setPosition(171,223),treasurePendingLocation="Market Town",od.setHidden(!1)):4==e?(mA.setPosition(215,95),pA.setPosition(216,98),treasurePendingLocation="Caverns",xn.setHidden(!1)):5==e&&(mA.setPosition(40,60),pA.setPosition(41,63),treasurePendingLocation="Windmill",yS.setHidden(!1)),successSound.play(),CA.setText("Head to the "+treasurePendingLocation+" to find it!"),d.replaceScene(cA),function(){lime.scheduleManager.scheduleWithDelay(function(){mA.setRotation(0),lime.scheduleManager.callAfter(function(){mA.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){mA.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){mA.setRotation(270)},this,750)},this,1e3,10)}(),mapPieces=0,localStorage.setItem("mapPieces",0),Ga.setText(mapPieces+"/5"),6<(mapsComplete+=1)&&(mapsComplete=6),localStorage.setItem("mapsComplete",mapsComplete),Wa.setText(mapsComplete+"/6")),Ga.setText(mapPieces+"/5"),Wa.setText(mapsComplete+"/6"),Va.setText(chests_Complete+"/8")}E.appendChild(Va),la.setHidden(!0),za.setHidden(!0);goog.events.listen(O,["mousedown","touchstart"],function(){0==(mapsComplete=localStorage.getItem("mapsComplete")||0)&&(mA.setHidden(!0),pA.setHidden(!0),hA.setHidden(!0),uA.setHidden(!0),yA.setHidden(!0),SA.setHidden(!0),fA.setHidden(!0),AA.setHidden(!0),wA.setHidden(!0),FA.setHidden(!0),PA.setHidden(!0),map6.setHidden(!0)),1==mapsComplete&&(mA.setPosition(245,157).setHidden(!1).setHidden(!1),pA.setPosition(246,160).setHidden(!1)),1<mapsComplete&&(hA.setPosition(110,154).setHidden(!1),uA.setPosition(111,157).setHidden(!1)),2<mapsComplete&&(yA.setPosition(46,164).setHidden(!1),SA.setPosition(47,167).setHidden(!1)),3<mapsComplete&&(fA.setPosition(170,220).setHidden(!1),AA.setPosition(171,223).setHidden(!1)),4<mapsComplete&&(wA.setPosition(215,95).setHidden(!1),FA.setPosition(216,98).setHidden(!1)),5<mapsComplete&&(PA.setPosition(40,60).setHidden(!1),vA.setPosition(41,63).setHidden(!1)),CA.setText("Treasures await those who find them"),d.replaceScene(cA),collectItems.digUpCollect[5].owned=1,mA.setFill(imgArray[35]).setSize(30,30),collectItems.digUpCollect[2].owned=1,hA.setFill(imgArray[35]).setSize(30,30),collectItems.digUpCollect[4].owned=1,yA.setFill(imgArray[35]).setSize(30,30),collectItems.digUpCollect[7].owned=1,fA.setFill(imgArray[35]).setSize(30,30),collectItems.digUpCollect[0].owned=1,wA.setFill(imgArray[35]).setSize(30,30),collectItems.digUpCollect[3].owned=1,PA.setFill(imgArray[35]).setSize(30,30)}),goog.events.listen(Y,["mousedown","touchstart"],function(){zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),br.setHidden(!1)}),goog.events.listen(b,["mousedown","touchstart"],function(){zr.setHidden(!0),la.setHidden(!1),itemsStoredBack.setHidden(!1),za.setHidden(!0),br.setHidden(!1),1==collectItems.storeItems[7].owned&&(ha.setFill(imgArrayStore[7].src),ua.setText("LANTERN")),1==collectItems.storeItems[2].owned&&(ma.setFill(imgArrayStore[2].src),pa.setFontSize(10).setPosition(3,42).setSize(70,18).setText("BLESSED SHOVEL")),1==collectItems.storeItems[3].owned&&(ya.setFill(imgArrayStore[3].src),Sa.setText("STEEL PICK"))}),goog.events.listen(u,["mousedown","touchstart"],function(){zr.setHidden(!0),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!1),br.setHidden(!0),Ja()});var qa=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),ja=(new lime.Layer).setAnchorPoint(0,0).setHidden(!1),o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("images/shop/shopBack2.png");qa.appendChild(o),qa.appendChild(ja);y=(new lime.Sprite).setSize(l.width/2+75,345).setPosition(155,320).setFill("#000000").setOpacity(.5);ja.appendChild(y);var Ka=(new lime.Sprite).setSize(l.width/2+32,345).setPosition(155,320);ja.appendChild(Ka);var $a=(new lime.Sprite).setSize(42,40).setPosition(65,-250).setFill(imgArrayStore[0].src);Ka.appendChild($a),$a.setHidden(!0);var Xa=(new lime.Sprite).setSize(220,58).setPosition(0,-140).setFill(imgArray[18].src);Ka.appendChild(Xa),Xa.price=collectItems.storeItems[0].value,Xa.stars=3;w=(new lime.Sprite).setSize(40,40).setPosition(-68,-7).setFill(imgArrayStore[0].src);Xa.appendChild(w);N=(new lime.Label).setPosition(10,-15).setFontFamily("Proxima Nova").setFontSize(16).setText(collectItems.storeItems[0].name).setFontColor("#E8FC08");Xa.appendChild(N);E=(new lime.Label).setPosition(13,12).setFontFamily("Proxima Nova").setFontSize(14).setText("Keep the smith busy").setFontColor("#f0ffff");Xa.appendChild(E);var Qa=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[0].value).setPosition(110,0).setSize(45,40).setHidden(!1);Xa.appendChild(Qa);O=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);Qa.appendChild(O);var Za=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);Xa.appendChild(Za);Y=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[37]);Za.appendChild(Y);var el=65,tl=130,il=195,ol=260;goog.events.listen(Qa,["mousedown","touchstart"],function(){var e=ja.getHidden(),t=Qa.getHidden();player.money>=Xa.price&&0==e&&0==t&&(vl(0),purchaseSound.play(),player.money=player.money-Xa.price,kl.setText(player.money),l.updateMoney(),player.cropsStored[15].stored=player.cropsStored[15].stored+50,ue.setHidden(!0),townRep+=1,Yf("+ 50",imgArrayStore[0].src,"iron",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateStored(),rg()},this,100))}),goog.events.listen(Za,["mousedown","touchstart"],function(){var e=ja.getHidden(),t=Za.getHidden();starCash>=Xa.stars&&0==e&&0==t&&(vl(0),purchaseSound.play(),starCash-=Xa.stars,El.setText(starCash),ra.setText(starCash),player.cropsStored[15].stored=player.cropsStored[15].stored+50,ue.setHidden(!0),townRep+=1,Yf("+ 50",imgArrayStore[0].src,"iron",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateStored(),rg()},this,100))});var sl=(new lime.Sprite).setSize(220,58).setPosition(0,-70).setFill(imgArray[18].src);Ka.appendChild(sl),sl.price=collectItems.storeItems[1].value,sl.stars=3;b=(new lime.Sprite).setSize(40,40).setPosition(-69,-5).setFill(imgArrayStore[1].src);sl.appendChild(b);u=(new lime.Label).setPosition(12,-13).setFontFamily("Proxima Nova").setFontSize(16).setText(collectItems.storeItems[1].name).setFontColor("#E8FC08");sl.appendChild(u);o=(new lime.Label).setPosition(13,12).setFontFamily("Proxima Nova").setFontSize(14).setText("Store Jelly in these").setFontColor("#f0ffff");sl.appendChild(o);var nl=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[1].value).setPosition(110,0).setSize(46,40).setHidden(!1);sl.appendChild(nl);y=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);nl.appendChild(y);var rl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);sl.appendChild(rl);w=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[37]);rl.appendChild(w),goog.events.listen(nl,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=nl.getHidden();player.money>=sl.price&&0==t&&0==i&&(purchaseSound.play(),player.money=player.money-sl.price,kl.setText(player.money),l.updateMoney(),player.cropsStored[16].stored=player.cropsStored[16].stored+50,Kr.setText(player.cropsStored[16].stored),townRep+=1,Yf("+ 50",imgArrayStore[1].src,"jars",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateStored(),rg()},this,100),vl(1)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(rl,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=rl.getHidden();if(starCash>=sl.stars&&0==t&&0==i){purchaseSound.play(),starCash-=sl.stars,El.setText(starCash),player.cropsStored[16].stored=player.cropsStored[16].stored+50,Kr.setText(player.cropsStored[16].stored),townRep+=1,Yf("+ 50",imgArrayStore[1].src,"jars",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateStored(),rg()},this,100),vl(1);try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var al=(new lime.Sprite).setSize(220,58).setPosition(0,0).setFill(imgArray[18].src).setHidden(!1);Ka.appendChild(al),al.price=collectItems.storeItems[2].value,al.stars=25;N=(new lime.Sprite).setSize(40,40).setPosition(-68,0).setFill(imgArrayStore[2].src);al.appendChild(N);E=(new lime.Label).setPosition(12,-13).setFontFamily("Proxima Nova").setFontSize(16).setText(collectItems.storeItems[2].name).setFontColor("#E8FC08");al.appendChild(E);O=(new lime.Label).setPosition(13,12).setFontFamily("Proxima Nova").setFontSize(14).setText("+ 10% Item Find").setFontColor("#f0ffff");al.appendChild(O);var ll=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[2].value).setPosition(110,0).setSize(46,40).setHidden(!1);al.appendChild(ll);Y=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);ll.appendChild(Y);var dl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);al.appendChild(dl);b=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[40]);if(dl.appendChild(b),goog.events.listen(ll,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=ll.getHidden();if(player.money>=al.price&&0==t&&0==i){purchaseSound.play(),player.money=player.money-al.price,kl.setText(player.money),collectItems.storeItems[2].owned=1,pa.setText("Blessed Shovel + 10% find"),ma.setFill(imgArrayStore[2].src),townRep+=1,Yf("Obtained Blessed Shovel",imgArrayStore[2].src,"shovel",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),al.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Pl(),vl(2);try{goog.events.removeAll(ll),goog.events.removeAll(dl)}catch(e){return}}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(dl,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=dl.getHidden();if(starCash>=al.stars&&0==t&&0==i){purchaseSound.play(),starCash-=al.stars,El.setText(starCash),collectItems.storeItems[2].owned=1,pa.setText("Blessed Shovel + 10% find"),ma.setFill(imgArrayStore[2].src),townRep+=1,Yf("Obtained Blessed Shovel",imgArrayStore[2].src,"shovel",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateStored(),rg()},this,100),al.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Pl(),vl(2);try{goog.events.removeAll(ll),goog.events.removeAll(dl)}catch(e){return}try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),1==collectItems.storeItems[2].owned){el=0;try{goog.events.removeAll(ll),goog.events.removeAll(dl)}catch(e){return}}var gl=(new lime.Sprite).setSize(220,58).setPosition(0,el).setFill(imgArray[18].src);Ka.appendChild(gl),gl.price=collectItems.storeItems[3].value,gl.stars=50;u=(new lime.Sprite).setSize(40,40).setPosition(-75,0).setFill(imgArrayStore[3].src);gl.appendChild(u);o=(new lime.Label).setPosition(12,-12).setFontFamily("Proxima Nova").setFontSize(16).setText(collectItems.storeItems[3].name).setFontColor("#E8FC08");gl.appendChild(o);y=(new lime.Label).setPosition(11,12).setFontFamily("Proxima Nova").setFontSize(14).setText("Break rocks in the way").setFontColor("#f0ffff");gl.appendChild(y);var cl=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[3].value).setPosition(110,0).setSize(46,40).setHidden(!1);gl.appendChild(cl);w=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);cl.appendChild(w);var ml=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);gl.appendChild(ml);N=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[41]);if(ml.appendChild(N),goog.events.listen(cl,["mousedown","touchstart"],function(e){var t=cl.getHidden(),i=ja.getHidden();if(player.money>=gl.price&&0==i&&0==t){purchaseSound.play(),player.money=player.money-gl.price,kl.setText(player.money),collectItems.storeItems[3].owned=1,Sa.setText("Steel Pick"),ya.setFill(imgArrayStore[3].src),townRep+=1,Yf("Obtained Pick",imgArrayStore[3].src,"pick",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),gl.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Pl(),vl(3);try{goog.events.removeAll(cl),goog.events.removeAll(ml)}catch(e){return}}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(ml,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=ml.getHidden();if(starCash>=gl.stars&&0==t&&0==i){purchaseSound.play(),starCash-=gl.stars,El.setText(starCash),collectItems.storeItems[3].owned=1,Sa.setText("Steel Pick"),ya.setFill(imgArrayStore[3].src),townRep+=1,Yf("Obtained Pick",imgArrayStore[3].src,"pick",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateStored(),rg()},this,100),al.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Pl(),vl(3),pl.setHidden(!1);try{goog.events.removeAll(cl),goog.events.removeAll(ml)}catch(e){return}try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),1==collectItems.storeItems[3].owned)try{goog.events.removeAll(cl),goog.events.removeAll(ml)}catch(e){return}1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?(tl=0,al.setHidden(!0),gl.setHidden(!0)):1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned?(tl=65,al.setHidden(!0)):0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?(tl=65,gl.setHidden(!0)):tl=130;var pl=(new lime.Sprite).setSize(220,55).setPosition(0,tl).setFill(imgArray[18].src);Ka.appendChild(pl),pl.price=collectItems.storeItems[4].value,pl.stars=75;E=(new lime.Sprite).setSize(42,40).setPosition(-70,0).setFill(imgArrayStore[4].src);pl.appendChild(E);O=(new lime.Label).setPosition(12,-12).setFontFamily("Proxima Nova").setFontSize(16).setText(collectItems.storeItems[4].name).setFontColor("#E8FC08");pl.appendChild(O);Y=(new lime.Label).setPosition(15,12).setFontFamily("Proxima Nova").setFontSize(14).setText("Unlocks Fruit Cider  Place in the Orchard").setFontColor("#f0ffff").setSize(145,35);pl.appendChild(Y);var hl=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[4].value).setPosition(110,0).setSize(46,40).setHidden(!1);pl.appendChild(hl);b=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);hl.appendChild(b);var ul=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);pl.appendChild(ul);u=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[42]);if(ul.appendChild(u),0==collectItems.storeItems[3].owned?pl.setHidden(!0):0==collectItems.storeItems[4].owned&&pl.setHidden(!1),goog.events.listen(hl,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=hl.getHidden();if(player.money>=pl.price&&0==t&&0==i){purchaseSound.play(),player.money=player.money-pl.price,kl.setText(player.money),collectItems.storeItems[4].owned=1,townRep+=1,El.setText(starCash),Yf("Obtained Fruit Press",imgArrayStore[4].src,"press",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),pl.setHidden(!0),yl.setHidden(!1),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Pl(),vl(4);try{goog.events.removeAll(hl),goog.events.removeAll(ul)}catch(e){return}}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(ul,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=ul.getHidden();if(starCash>=pl.stars&&0==t&&0==i){purchaseSound.play(),starCash-=pl.stars,El.setText(starCash),collectItems.storeItems[4].owned=1,townRep+=1,El.setText(starCash),Yf("Obtained Fruit Press",imgArrayStore[4].src,"press",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateStored(),rg()},this,100),pl.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Pl(),vl(4);try{goog.events.removeAll(hl),goog.events.removeAll(ul)}catch(e){return}try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!0),1==collectItems.storeItems[4].owned)try{goog.events.removeAll(hl),goog.events.removeAll(ul)}catch(e){return}1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?il=0:1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned?il=65:(0==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned)&&(il=130);var yl=(new lime.Sprite).setSize(220,55).setPosition(0,350).setFill(imgArray[18].src).setHidden(!1);Ka.appendChild(yl),yl.price=collectItems.storeItems[6].value,yl.stars=5;o=(new lime.Sprite).setSize(42,40).setPosition(-70,0).setFill(imgArrayStore[6].src);yl.appendChild(o);y=(new lime.Label).setPosition(12,-12).setFontFamily("Proxima Nova").setFontSize(16).setText(collectItems.storeItems[6].name).setFontColor("#E8FC08");yl.appendChild(y);w=(new lime.Label).setPosition(15,12).setFontFamily("Proxima Nova").setFontSize(14).setText("Store Fruit Cider").setFontColor("#f0ffff");yl.appendChild(w);var Sl=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[6].value).setPosition(110,0).setSize(46,40).setHidden(!1);yl.appendChild(Sl);N=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);Sl.appendChild(N);var fl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);yl.appendChild(fl);E=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[38]);fl.appendChild(E),goog.events.listen(Sl,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=Sl.getHidden();player.money>=yl.price&&0==t&&0==i&&(purchaseSound.play(),player.money=player.money-yl.price,kl.setText(player.money),collectItems.storeItems[6].owned=1,player.cropsStored[17].stored=parseInt(player.cropsStored[17].stored)+50,townRep+=1,xa(),Yf("+ 50",imgArrayStore[6].src,"barrels",2e3,"right","bottom"),lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),vl(6),El.setText(starCash),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(fl,["mousedown","touchstart"],function(e){var t=fl.getHidden(),i=ja.getHidden();if(starCash>=yl.stars&&0==i&&0==t){purchaseSound.play(),starCash=parseInt(starCash)-yl.stars,El.setText(starCash),kl.setText(player.money),collectItems.storeItems[6].owned=1,player.cropsStored[17].stored=parseInt(player.cropsStored[17].stored)+50,Yf("+ 50",imgArrayStore[6].src,"barrels",2e3,"right","bottom"),townRep+=1;try{xa()}catch(e){console.log(e)}lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),vl(6),El.setText(starCash),e.event.stopPropagation(),localStorage.setItem("starCash",starCash);try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}e.swallow(["mouseup","touchend","touchcancel"],function(){})}});var Al=(new lime.Sprite).setSize(220,55).setPosition(0,250).setFill(imgArray[18].src).setHidden(!1);Ka.appendChild(Al),Al.price=collectItems.storeItems[7].value,Al.stars=50;O=(new lime.Sprite).setSize(26,40).setPosition(-70,0).setFill(imgArrayStore[7].src);Al.appendChild(O);Y=(new lime.Label).setPosition(12,-12).setFontFamily("Proxima Nova").setFontSize(16).setText(collectItems.storeItems[7].name).setFontColor("#E8FC08");Al.appendChild(Y);b=(new lime.Label).setPosition(15,12).setFontFamily("Proxima Nova").setFontSize(14).setText("Light up the dark!").setFontColor("#f0ffff");Al.appendChild(b);var wl=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[7].value).setPosition(110,0).setSize(46,40).setHidden(!1);Al.appendChild(wl);u=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);wl.appendChild(u);var Fl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);Al.appendChild(Fl);o=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[41]);function Pl(){0==collectItems.storeItems[4].owned?(yl.setHidden(!0),Al.setHidden(!0)):(yl.setHidden(!1),Al.setHidden(!1)),el=1==collectItems.storeItems[2].owned?0:65,tl=1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?0:1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?65:130,1==collectItems.storeItems[4].owned&&(pl.setHidden(!0),yl.setHidden(!1),Al.setHidden(!1)),1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?(ol=0,pl.setHidden(!0),yl.setHidden(!1).setPosition(0,il),Al.setHidden(!1)):1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?(ol=0,yl.setHidden(!1)):1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned?(ol=0,pl.setHidden(!1),yl.setHidden(!0)):0==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?(ol=130,yl.setHidden(!1)):(1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned)&&(ol=130,pl.setHidden(!1),yl.setHidden(!0),Al.setHidden(!0)),1==collectItems.storeItems[4].owned&&(pl.setHidden(!0),yl.setHidden(!1),Al.setHidden(!1)),gl.setPosition(0,el),pl.setPosition(0,tl),yl.setPosition(0,il),Al.setPosition(0,ol),1==collectItems.storeItems[7].owned&&Al.setHidden(!0)}function vl(e){0<=e&&e<=7&&$a.setHidden(!1).setFill(imgArrayStore[e].src),lime.scheduleManager.callAfter(function(){$a.setHidden(!0)},this,800)}Fl.appendChild(o),goog.events.listen(wl,["mousedown","touchstart"],function(e){var t=ja.getHidden(),i=wl.getHidden();if(player.money>=Al.price&&0==t&&0==i&&0==collectItems.storeItems[7].owned){purchaseSound.play(),player.money=player.money-Al.price,kl.setText(player.money),collectItems.storeItems[7].owned=1,townRep+=1;try{xa()}catch(e){console.log(e)}Al.setHidden(!0),lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),vl(7),El.setText(starCash),Yf("Obtained Lantern",imgArrayStore[7].src,"lantern",2e3,"right","bottom"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),goog.events.listen(Fl,["mousedown","touchstart"],function(e){var t=Fl.getHidden(),i=ja.getHidden();if(starCash>=Al.stars&&0==i&&0==t&&0==collectItems.storeItems[7].owned){purchaseSound.play(),starCash=parseInt(starCash)-Al.stars,El.setText(starCash),kl.setText(player.money),collectItems.storeItems[7].owned=1,townRep+=1;try{xa()}catch(e){console.log(e)}Al.setHidden(!0),lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),vl(7),localStorage.setItem("starCash",starCash),Yf("Obtained Lantern",imgArrayStore[7].src,"lantern",2e3,"right","bottom"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){});try{Enhance.logEvent("spend_virtual_currency")}catch(e){console.log(e)}}}),0==(collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems"))).storeItems[4].owned?(yl.setHidden(!0),Al.setHidden(!0)):(yl.setHidden(!1),Al.setHidden(!1)),Pl(),storeBuyPremiumLayer=(new lime.Layer).setAnchorPoint(0,0).setHidden(!1),storeFill2=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("images/shop/shopBack2.png"),qa.appendChild(storeBuyPremiumLayer),storeBuyPremiumLayer.appendChild(storeFill2);y=(new lime.Sprite).setSize(l.width/2+75,345).setPosition(155,320).setFill("#000000").setOpacity(.5);storeBuyPremiumLayer.appendChild(y);w=(new lime.Sprite).setSize(l.width/2+75,345).setPosition(155,320).setFill("");storeBuyPremiumLayer.appendChild(w),storeBuyPremiumLayer.setHidden(!0);var Cl=(new lime.Sprite).setSize(220,60).setPosition(0,-135).setFill(imgArray[18].src);w.appendChild(Cl);N=(new lime.Sprite).setSize(30,30).setPosition(-70,-11).setFill(imgArray[41]);Cl.appendChild(N);E=(new lime.Sprite).setSize(30,30).setPosition(70,-11).setFill(imgArray[41]);Cl.appendChild(E),Cl.owned=localStorage.getItem("MedFarms_boughtSmallStars")||0,null==Cl.owned&&(Cl.owned=0);O=(new lime.Label).setPosition(0,-10).setFontFamily("Proxima Nova").setFontSize(16).setText("Star Pack I").setFontColor("#E8FC08");Cl.appendChild(O);Y=(new lime.Label).setPosition(0,59).setSize(185,100).setFontFamily("Proxima Nova").setFontSize(14).setText("50 Stars - Boost away").setFontColor("#f0ffff");Cl.appendChild(Y);var Il=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(50,30).setHidden(!1);Cl.appendChild(Il);b=(new lime.Label).setPosition(0,4).setFontFamily("Proxima Nova").setFontSize(12).setText("Buy now $0.99").setFontColor("#f0ffff").setSize(50,30);Il.appendChild(b),goog.events.listen(Il,["mousedown","touchstart"],function(){var i,e=storeBuyPremiumLayer.getHidden();0==Il.getHidden()&&0==e&&(i=0,localStorage.setItem("MedFarms_buyingSmallStars",1),purchaseSound.play(),Cl.setOpacity(.2),Il.setHidden(!0),function e(){i++;var t=localStorage.getItem("MedFarms_boughtSmallStars")||0;1==t?(Yf("+ 50",imgArray[36].src,"stars"),El.setText(starCash),lime.scheduleManager.callAfter(function(){Cl.setOpacity(1),Il.setHidden(!1)},this,3e4)):i<60?lime.scheduleManager.callAfter(function(){e()},this,1e3):60<=i&&(Cl.setOpacity(1),Il.setHidden(!1))}())});var bl=(new lime.Sprite).setSize(220,60).setPosition(0,-71).setFill(imgArray[18].src);w.appendChild(bl);u=(new lime.Sprite).setSize(30,30).setPosition(-70,-11).setFill(imgArray[44]);bl.appendChild(u);o=(new lime.Sprite).setSize(30,30).setPosition(70,-11).setFill(imgArray[44]);bl.appendChild(o),bl.owned=localStorage.getItem("MedFarms_boughtLargeStars")||0,null==bl.owned&&(bl.owned=0);y=(new lime.Label).setPosition(0,-10).setFontFamily("Proxima Nova").setFontSize(16).setText("Star Pack II").setFontColor("#E8FC08");bl.appendChild(y);N=(new lime.Label).setPosition(0,59).setSize(185,100).setFontFamily("Proxima Nova").setFontSize(14).setText("300 Stars - Ton's o' Boost").setFontColor("#f0ffff");bl.appendChild(N);var Tl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(46,30).setHidden(!1);bl.appendChild(Tl);E=(new lime.Label).setPosition(0,4).setFontFamily("Proxima Nova").setFontSize(12).setText("Buy now $4.99").setFontColor("#f0ffff").setSize(50,30);Tl.appendChild(E),goog.events.listen(Tl,["mousedown","touchstart"],function(){var i,e=storeBuyPremiumLayer.getHidden();0==Tl.getHidden()&&0==e&&(i=0,localStorage.setItem("MedFarms_buyingLargeStars",1),function e(){i++;var t=localStorage.getItem("MedFarms_boughtLargeStars")||0;1==t?(purchaseSound.play(),bl.setOpacity(.2),Tl.setHidden(!0),Yf("+ 300",imgArray[36].src,"stars"),El.setText(starCash),lime.scheduleManager.callAfter(function(){bl.setOpacity(1),Tl.setHidden(!1)},this,3e4)):i<60?lime.scheduleManager.callAfter(function(){e()},this,1e3):60<=i&&(bl.setOpacity(1),Tl.setHidden(!1))}())});var Hl=(new lime.Sprite).setSize(220,96).setPosition(0,12).setFill(imgArray[18].src);w.appendChild(Hl),Hl.owned=localStorage.getItem("MedFarms_boughtStarterPack")||0,null==Hl.owned&&(Hl.owned=0);O=(new lime.Sprite).setSize(30,30).setPosition(-60,-8).setFill(imgArrayStore[0].src);Hl.appendChild(O);Y=(new lime.Sprite).setSize(30,30).setPosition(0,-8).setFill(imgArray[58]);Hl.appendChild(Y);b=(new lime.Sprite).setSize(30,30).setPosition(60,-8).setFill(imgArray[30]);Hl.appendChild(b);u=(new lime.Label).setPosition(0,-31).setFontFamily("Proxima Nova").setFontSize(16).setText("Starter Pack").setFontColor("#E8FC08");Hl.appendChild(u);o=(new lime.Label).setPosition(0,68).setSize(185,100).setFontFamily("Proxima Nova").setFontSize(14).setText("250 Iron, Wood, and Tools").setFontColor("#f0ffff");Hl.appendChild(o);var _l=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(46,40).setHidden(!1);Hl.appendChild(_l);y=(new lime.Label).setPosition(0,4).setFontFamily("Proxima Nova").setFontSize(12).setText("Buy now $0.99").setFontColor("#f0ffff").setSize(50,30);_l.appendChild(y),goog.events.listen(_l,["mousedown","touchstart"],function(){var t,e=storeBuyPremiumLayer.getHidden();0==_l.getHidden()&&0==e&&(purchaseSound.play(),localStorage.setItem("MedFarms_buyingStarterPack",1),Hl.setOpacity(.2),_l.setHidden(!0),t=0,function e(){t++;if(1==localStorage.getItem("MedFarms_boughtStarterPack")){(player=JSON.parse(localStorage.getItem("GuiGhostFarms_player"))).tools=parseInt(player.tools)+250,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+250,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=250),player.cropsStored[15].stored=parseInt(player.cropsStored[15].stored)+250,player.cropsStored[15].stored<0&&(player.cropsStored[15].stored=250),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Hl.owned=1,El.setText(starCash),kl.setText(player.money),purchaseSound.play(),Yf("+ 250",imgArrayStore[0].src,"iron"),purchaseSound.play(),Yf("+ 250",imgArray[58].src,"wood"),purchaseSound.play(),Yf("+ 250",imgArray[30].src,"tools"),t=61;try{Uf()}catch(e){console.log(e)}l.updateTools(),lime.scheduleManager.callAfter(function(){Hl.setOpacity(1),_l.setHidden(!1)},this,3e4)}else t<60?lime.scheduleManager.callAfter(function(){e()},this,1e3):60<=t&&(Hl.setOpacity(1),_l.setHidden(!1))}())});var xl=(new lime.Sprite).setSize(220,100).setPosition(0,115).setFill(imgArray[18].src);w.appendChild(xl),xl.owned=localStorage.getItem("MedFarms_boughtMasterPack")||0,null==xl.owned&&(xl.owned=0);N=(new lime.Sprite).setSize(30,30).setPosition(-80,-10).setFill(imgArrayStore[0].src);xl.appendChild(N);E=(new lime.Sprite).setSize(30,30).setPosition(-40,-10).setFill(imgArray[58]);xl.appendChild(E);O=(new lime.Sprite).setSize(30,30).setPosition(-5,-10).setFill(imgArray[30]);xl.appendChild(O);Y=(new lime.Sprite).setSize(30,30).setPosition(30,-10).setFill(imgArray11[0].src);xl.appendChild(Y);b=(new lime.Sprite).setSize(30,30).setPosition(64,-10).setFill(imgArray[41]);xl.appendChild(b);u=(new lime.Label).setPosition(0,-32).setFontFamily("Proxima Nova").setFontSize(16).setText("Masters Pack").setFontColor("#E8FC08");xl.appendChild(u);o=(new lime.Label).setPosition(0,61).setSize(185,100).setFontFamily("Proxima Nova").setFontSize(14).setText("750 Iron, Wood, and Tools + 2500 Coins and 50 Stars").setFontColor("#f0ffff");xl.appendChild(o);var zl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(46,40).setHidden(!1);xl.appendChild(zl);y=(new lime.Label).setPosition(0,4).setFontFamily("Proxima Nova").setFontSize(12).setText("Buy now $4.99").setFontColor("#f0ffff").setSize(50,30);zl.appendChild(y),goog.events.listen(zl,["mousedown","touchstart"],function(){var t,e=storeBuyPremiumLayer.getHidden(),i=zl.getHidden();0==e&&0==i&&(purchaseSound.play(),localStorage.setItem("MedFarms_buyingMasterPack",1),xl.setOpacity(.2),zl.setHidden(!0),El.setText(starCash),kl.setText(player.money),t=0,function e(){t++;if(1==localStorage.getItem("MedFarms_boughtMasterPack")){(player=JSON.parse(localStorage.getItem("GuiGhostFarms_player"))).tools=parseInt(player.tools)+750,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+750,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=750),player.cropsStored[15].stored=parseInt(player.cropsStored[15].stored)+750,player.cropsStored[15].stored<0&&(player.cropsStored[15].stored=750),player.money=parseInt(player.money)+2500,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash=parseInt(localStorage.getItem("starCash"))||0,starCash=parseInt(starCash)+50,localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,xl.owned=1,El.setText(starCash),kl.setText(player.money),purchaseSound.play(),Yf("+ 2500",imgArray11[0].src,"coin"),purchaseSound.play(),Yf("+ 50",imgArray[36].src,"stars"),purchaseSound.play(),Yf("+ 750",imgArrayStore[0].src,"iron"),purchaseSound.play(),Yf("+ 750",imgArray[58].src,"wood"),purchaseSound.play(),Yf("+ 750",imgArray[30].src,"tools"),t=61;try{Uf()}catch(e){console.log(e)}l.updateTools(),l.updateMoney(),lime.scheduleManager.callAfter(function(){xl.setOpacity(1),zl.setHidden(!1)},this,3e4)}else t<60?lime.scheduleManager.callAfter(function(){e()},this,1e3):60<=t&&(xl.setOpacity(1),zl.setHidden(!1))}())});w=(new lime.GlossyButton).setColor("#008000").setText("Close").setPosition(155,520).setSize(52,30);qa.appendChild(w),goog.events.listen(w,["mousedown","touchstart"],function(){townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInDown),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market"});N=(new lime.Sprite).setPosition(0,0).setSize(l.width+l.width,60).setFill("#000000").setOpacity(.4);qa.appendChild(N);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-100,5).setSize(25,25).setFill(imgArray11[0]);qa.appendChild(E);var kl=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Proxima Nova").setPosition(l.controlsLayer_w-43,18).setFontSize(18);qa.appendChild(kl);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,2).setSize(30,30).setFill(imgArray[36]);qa.appendChild(O);var El=(new lime.Label).setText(starCash).setFontColor("#E8FC08").setFontFamily("Proxima Nova").setPosition(55,18).setFontSize(18);qa.appendChild(El);Y=(new lime.Sprite).setFill(imgArrayItems[25].src).setPosition(l.width/2+5,17).setSize(51,40).setRotation(5);qa.appendChild(Y),goog.events.listen(Y,["mousedown","touchstart"],function(){ra.setText(starCash);try{xa()}catch(e){console.log(e)}townSceneActive=0,Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.transitions.SlideInUp),br.setHidden(!1),sceneActive="Inventory",ra.setText(starCash),scenebefore=9;try{Uf()}catch(e){console.log(e)}});var Ml=(new lime.Sprite).setAnchorPoint(0,0).setPosition(128,44).setSize(64,64).setFill(imgArrayTrader[0].src);qa.appendChild(Ml);var Ll=(new lime.GlossyButton).setColor("#00f000").setText("General").setPosition(105,135).setSize(80,18);qa.appendChild(Ll);var Nl=(new lime.GlossyButton).setColor("#E8FC08").setText("Premium").setPosition(210,135).setSize(80,18).setOpacity(.5);qa.appendChild(Nl),goog.events.listen(Ll,["mousedown","touchstart"],function(){Ll.setOpacity(1),Nl.setOpacity(.5),Ka.setHidden(!1),ja.setHidden(!1),storeBuyPremiumLayer.setHidden(!0)}),goog.events.listen(Nl,["mousedown","touchstart"],function(){Nl.setOpacity(1),Ll.setOpacity(.5),ja.setHidden(!0),Ka.setHidden(!0),storeBuyPremiumLayer.setHidden(!1)});var Ol=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),Bl=(new lime.Layer).setAnchorPoint(0,0),Rl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill(imgArrayTown[0]);Ol.appendChild(Rl),Ol.appendChild(Bl);b=(new lime.Sprite).setPosition(0,0).setSize(l.width+l.width,60).setFill("#000000").setOpacity(.4);Rl.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-108,5).setSize(25,25).setFill(imgArray11[0]);Ol.appendChild(u);var Dl=(new lime.Label).setText(player.money).setFontColor("#ffffff").setFontFamily("Proxima Nova").setPosition(l.controlsLayer_w-53,18).setFontSize(18);Ol.appendChild(Dl);o=(new lime.Label).setText("Reputation:").setFontColor("#E8FC08").setFontFamily("Proxima Nova").setPosition(46,12).setFontSize(12);Rl.appendChild(o);var Ul=(new lime.Label).setText(townRep).setFontColor("#E8FC08").setFontFamily("Proxima Nova").setPosition(94,12).setFontSize(12);Rl.appendChild(Ul);var Gl=(new lime.Label).setText("New in Town").setFontColor("#00FF00").setFontFamily("Proxima Nova").setPosition(70,26).setFontSize(12);Rl.appendChild(Gl),5<=townRep&&Gl.setText("Local Farmer"),15<=townRep&&Gl.setText("Trusted Resident"),30<=townRep&&Gl.setText("Local Leader");y=(new lime.Sprite).setFill(imgArrayItems[25].src).setPosition(l.width/2,19).setSize(51,40).setRotation(5);Rl.appendChild(y),goog.events.listen(y,["mousedown","touchstart"],function(){ra.setText(starCash),gd.setHidden(!0);try{xa()}catch(e){console.log(e)}townSceneActive=0,Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.transitions.SlideInUp),br.setHidden(!1),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),sceneActive="Inventory",scenebefore=8;try{Uf()}catch(e){console.log(e)}});var Wl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(55,260).setSize(32,32);Rl.appendChild(Wl);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16.5,-16).setSize(33,33).setFill(imgArrayTown[17].src);Wl.appendChild(w),goog.events.listen(Wl,["mousedown","touchstart"],function(){collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems")),Gf(),d.replaceScene(qa,lime.transitions.SlideInUp),sceneActive="Store",Pl()});var Vl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(46,155).setSize(35,35).setFill(imgArrayTown[1].src);Rl.appendChild(Vl);var Jl=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);Vl.appendChild(Jl);var Yl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);Vl.appendChild(Yl);var ql=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,l.height-70).setSize(35,35).setFill(imgArrayTown2[0].src);Rl.appendChild(ql);var jl=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);ql.appendChild(jl);var Kl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);ql.appendChild(Kl);var $l=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,165).setSize(35,35).setFill(imgArrayMayor[0].src);Rl.appendChild($l);var Xl=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(25,-4).setSize(25,23).setOpacity(.2);$l.appendChild(Xl);var Ql=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-15).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);$l.appendChild(Ql);var Zl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(230,242).setSize(35,35).setFill(imgArrayFelicia[0].src);Rl.appendChild(Zl);var ed=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);Zl.appendChild(ed);var td=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);Zl.appendChild(td);var id=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,264).setSize(35,35).setFill(imgArrayGideon[0]).setHidden(!0);Rl.appendChild(id);N=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);id.appendChild(N);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);id.appendChild(E),4<=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned)&&(id.setHidden(!1),Cr.setText("Expert Farmer"));O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(109,107).setSize(18,18).setFill(imgArrayStore[6]);Rl.appendChild(O);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(224,65).setSize(18,20).setFill(imgArrayStore[6]);Rl.appendChild(Y);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,487).setSize(18,20).setFill(imgArrayStore[6]);Rl.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-39,487).setSize(18,20).setFill(imgArrayStore[6]);Rl.appendChild(u),1==mapLocations.places[26].found||yearCount<3?O.setHidden(!0):goog.events.listen(O,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[26].found=1,TA("t1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[27].found||yearCount<4||goog.events.listen(Y,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[27].found=1,TA("t2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[28].found||yearCount<6?b.setHidden(!0):goog.events.listen(b,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[28].found=1,TA("t3"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[29].found||yearCount<8?u.setHidden(!0):goog.events.listen(u,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[29].found=1,TA("t4"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var od=(new lime.Sprite).setPosition(30,344).setSize(60,60).setFill(imgArray[119]).setHidden(!0);Rl.appendChild(od),goog.events.listen(od,["mousedown","touchstart"],function(e){0==od.getHidden()&&(IA("town"),successSound.play()),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1);var sd=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(217,295).setSize(32,30).setHidden(!1);Bl.appendChild(sd);var nd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16,-17).setSize(33,33).setFill(imgArrayTown[19]);sd.appendChild(nd);o=(new lime.Sprite).setPosition(0,23).setSize(60,15).setFill("#000000").setOpacity(.7);sd.appendChild(o);y=(new lime.Label).setText("Market").setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(14).setPosition(0,25);sd.appendChild(y);var rd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-20,500).setSize(40,40).setFill(imgArray[50]);Bl.appendChild(rd);var ad=0,ld=1,ld=parseInt(ld),dd=0;lime.scheduleManager.scheduleWithDelay(function(){if(El.setText(starCash),1==townSceneActive){switch(50<=ld&&(ld=1,Vl.setPosition(46,155).setFill(imgArrayTown[1])),ld){case 1:ld=1,Vl.setPosition(46,155).setFill(imgArrayTown[1]);break;case 2:Vl.setPosition(46,161).setFill(imgArrayTown[2]),ql.setPosition(55,l.height-70).setFill(imgArrayTown2[1]),$l.setPosition(200,165).setFill(imgArrayMayor[0]),Zl.setPosition(230,242).setFill(imgArrayFelicia[8].src),Ml.setFill(imgArrayTrader[1].src),id.setFill(imgArrayGideon[2]);break;case 3:Vl.setPosition(46,165).setFill(imgArrayTown[3]),ql.setPosition(60,l.height-70).setFill(imgArrayTown2[2]),Zl.setPosition(225,242).setFill(imgArrayFelicia[8].src);break;case 4:Vl.setPosition(51,165).setFill(imgArrayTown[4]),ql.setPosition(65,l.height-70).setFill(imgArrayTown2[3]),$l.setPosition(200,165).setFill(imgArrayMayor[16]),Zl.setPosition(220,242).setFill(imgArrayFelicia[9].src);break;case 5:Vl.setPosition(56,165).setFill(imgArrayTown[5]),ql.setPosition(70,l.height-70).setFill(imgArrayTown2[1]),Zl.setPosition(215,242).setFill(imgArrayFelicia[10].src);break;case 6:Vl.setPosition(61,165).setFill(imgArrayTown[6]),ql.setPosition(75,l.height-70).setFill(imgArrayTown2[2]),$l.setFill(imgArrayMayor[0]),Zl.setPosition(210,242).setFill(imgArrayFelicia[11].src);break;case 7:Vl.setPosition(67,165).setFill(imgArrayTown[5]),ql.setPosition(80,l.height-70).setFill(imgArrayTown2[3]),Zl.setPosition(205,242).setFill(imgArrayFelicia[8].src);break;case 8:Vl.setPosition(73,165).setFill(imgArrayTown[6]),ql.setPosition(85,l.height-70).setFill(imgArrayTown2[1]),Zl.setPosition(200,242).setFill(imgArrayFelicia[9].src);break;case 9:Vl.setPosition(79,165).setFill(imgArrayTown[5]),ql.setPosition(90,l.height-70).setFill(imgArrayTown2[2]),$l.setFill(imgArrayMayor[16]),Zl.setPosition(195,242).setFill(imgArrayFelicia[10].src),Ml.setFill(imgArrayTrader[2].src),id.setFill(imgArrayGideon[1]);break;case 10:Vl.setPosition(84,165).setFill(imgArrayTown[6]),ql.setPosition(95,l.height-70).setFill(imgArrayTown2[3]),$l.setPosition(200,165).setFill(imgArrayMayor[8]),Zl.setPosition(190,242).setFill(imgArrayFelicia[11].src),id.setFill(imgArrayGideon[2]);break;case 11:Vl.setFill(imgArrayTown[1]),ql.setFill(imgArrayTown2[0]),$l.setPosition(195,165).setFill(imgArrayMayor[9]),Zl.setPosition(185,242).setFill(imgArrayFelicia[8].src),id.setFill(imgArrayGideon[1]);break;case 12:ql.setPosition(90,l.height-70).setFill(imgArrayTown2[4]),$l.setPosition(190,165).setFill(imgArrayMayor[10]),Zl.setPosition(180,242).setFill(imgArrayFelicia[9].src),id.setFill(imgArrayGideon[2]);break;case 13:Vl.setFill(imgArrayTown[7]),ql.setPosition(95,l.height-70).setFill(imgArrayTown2[0]),$l.setPosition(185,165).setFill(imgArrayMayor[11]),Zl.setPosition(175,242).setFill(imgArrayFelicia[10].src);break;case 14:Vl.setPosition(79,165).setFill(imgArrayTown[8]),ql.setFill(imgArrayTown2[1]),$l.setPosition(180,165).setFill(imgArrayMayor[10]),Zl.setPosition(170,242).setFill(imgArrayFelicia[11].src);break;case 15:Vl.setPosition(73,165).setFill(imgArrayTown[9]),$l.setPosition(175,165).setFill(imgArrayMayor[9]),Zl.setPosition(165,242).setFill(imgArrayFelicia[8].src);break;case 16:Vl.setPosition(67,165).setFill(imgArrayTown[7]),ql.setFill(imgArrayTown2[0]),$l.setPosition(170,165).setFill(imgArrayMayor[8]),Zl.setPosition(160,242).setFill(imgArrayFelicia[9].src);break;case 17:Vl.setPosition(61,165).setFill(imgArrayTown[8]),$l.setFill(imgArrayMayor[0]),Zl.setFill(imgArrayFelicia[13].src);break;case 18:Vl.setPosition(56,165).setFill(imgArrayTown[9]),ql.setPosition(95,l.height-70).setFill(imgArrayTown2[10]),$l.setFill(imgArrayMayor[1]),Zl.setFill(imgArrayFelicia[12].src),Ml.setFill(imgArrayTrader[0].src),id.setFill(imgArrayGideon[2]);break;case 19:Vl.setPosition(51,165).setFill(imgArrayTown[8]),$l.setFill(imgArrayMayor[3]),Zl.setFill(imgArrayFelicia[13].src),id.setFill(imgArrayGideon[1]);break;case 20:Vl.setPosition(46,165).setFill(imgArrayTown[7]),$l.setFill(imgArrayMayor[4]),Zl.setFill(imgArrayFelicia[12].src);break;case 21:Vl.setPosition(46,161).setFill(imgArrayTown[11]),$l.setPosition(170,165).setFill(imgArrayMayor[3]),Zl.setFill(imgArrayFelicia[13].src),id.setFill(imgArrayGideon[0]);break;case 22:Vl.setPosition(46,155).setFill(imgArrayTown[12]),ql.setFill(imgArrayTown2[5]),$l.setPosition(175,165).setFill(imgArrayMayor[5]),Zl.setFill(imgArrayFelicia[4].src);break;case 23:Vl.setFill(imgArrayTown[4]),ql.setPosition(90,l.height-70).setFill(imgArrayTown2[5]),$l.setPosition(180,165).setFill(imgArrayMayor[6]),Zl.setPosition(165,242).setFill(imgArrayFelicia[4].src),id.setFill(imgArrayGideon[1]);break;case 24:ql.setPosition(85,l.height-70).setFill(imgArrayTown2[6]),$l.setPosition(185,165).setFill(imgArrayMayor[7]),Zl.setPosition(170,242).setFill(imgArrayFelicia[5].src),id.setFill(imgArrayGideon[2]);break;case 25:Vl.setFill(imgArrayTown[2]),ql.setPosition(80,l.height-70).setFill(imgArrayTown2[7]),$l.setPosition(190,165).setFill(imgArrayMayor[6]),Zl.setPosition(175,242).setFill(imgArrayFelicia[6].src),id.setFill(imgArrayGideon[0]);break;case 26:ql.setPosition(75,l.height-70).setFill(imgArrayTown2[5]),$l.setPosition(195,165).setFill(imgArrayMayor[7]),Zl.setPosition(180,242).setFill(imgArrayFelicia[7].src),Ml.setFill(imgArrayTrader[1].src);break;case 27:Vl.setFill(imgArrayTown[7]),ql.setPosition(70,l.height-70).setFill(imgArrayTown2[6]),$l.setPosition(200,165).setFill(imgArrayMayor[6]),Zl.setPosition(185,242).setFill(imgArrayFelicia[4].src);break;case 28:ql.setPosition(65,l.height-70).setFill(imgArrayTown2[7]),$l.setPosition(200,165).setFill(imgArrayMayor[3]),Zl.setPosition(190,242).setFill(imgArrayFelicia[5].src);break;case 29:Vl.setFill(imgArrayTown[1]),ql.setPosition(60,l.height-70).setFill(imgArrayTown2[5]),$l.setPosition(200,165).setFill(imgArrayMayor[0]),Zl.setPosition(195,242).setFill(imgArrayFelicia[6].src),id.setFill(imgArrayGideon[2]);break;case 30:ql.setPosition(55,l.height-70).setFill(imgArrayTown2[6]),$l.setPosition(200,165).setFill(imgArrayMayor[15]),Zl.setPosition(200,242).setFill(imgArrayFelicia[7].src);break;case 31:Vl.setFill(imgArrayTown[13]),ql.setPosition(50,l.height-70).setFill(imgArrayTown2[7]),Zl.setPosition(205,242).setFill(imgArrayFelicia[4].src);break;case 32:ql.setPosition(45,l.height-70).setFill(imgArrayTown2[8]),Zl.setPosition(210,242).setFill(imgArrayFelicia[5].src),Ml.setFill(imgArrayTrader[2].src);break;case 33:Vl.setFill(imgArrayTown[13]),ql.setPosition(45,l.height-75).setFill(imgArrayTown2[9]),Zl.setPosition(215,242).setFill(imgArrayFelicia[6].src);break;case 34:Vl.setFill(imgArrayTown[14]),ql.setPosition(45,l.height-80).setFill(imgArrayTown2[10]),Zl.setPosition(220,242).setFill(imgArrayFelicia[7].src),id.setFill(imgArrayGideon[0]);break;case 35:ql.setPosition(45,l.height-85).setFill(imgArrayTown2[9]),Zl.setPosition(225,242).setFill(imgArrayFelicia[4].src);break;case 36:Vl.setPosition(46,155).setFill(imgArrayTown[13]),ql.setPosition(45,l.height-80).setFill(imgArrayTown2[0]),Zl.setPosition(230,242).setFill(imgArrayFelicia[5].src);break;case 37:ql.setPosition(45,l.height-80).setFill(imgArrayTown2[4]),Zl.setFill(imgArrayFelicia[12].src),id.setFill(imgArrayGideon[2]);break;case 38:ql.setPosition(50,l.height-80).setFill(imgArrayTown2[4]),Zl.setFill(imgArrayFelicia[13].src),Ml.setFill(imgArrayTrader[0].src),id.setFill(imgArrayGideon[2]);break;case 39:ql.setFill(imgArrayTown2[0]),Zl.setPosition(235,242).setFill(imgArrayFelicia[4].src),id.setFill(imgArrayGideon[0]);break;case 40:ql.setPosition(50,l.height-75),Zl.setPosition(240,242).setFill(imgArrayFelicia[5].src),id.setFill(imgArrayGideon[2]);break;case 41:ql.setPosition(50,l.height-70),Zl.setPosition(245,242).setFill(imgArrayFelicia[6].src),id.setFill(imgArrayGideon[0]);break;case 42:ql.setPosition(55,l.height-70).setFill(imgArrayTown2[1]),Zl.setFill(imgArrayFelicia[12].src),id.setFill(imgArrayGideon[2]);break;case 43:Vl.setFill(imgArrayTown[13]),ql.setPosition(55,l.height-70).setFill(imgArrayTown2[1]),$l.setPosition(200,165).setFill(imgArrayMayor[15]),Zl.setFill(imgArrayFelicia[13].src),Ml.setFill(imgArrayTrader[1].src);break;case 44:$l.setPosition(200,165).setFill(imgArrayMayor[8]),Zl.setFill(imgArrayFelicia[8].src);break;case 45:$l.setFill(imgArrayMayor[15]),Zl.setPosition(240,242).setFill(imgArrayFelicia[9].src);break;case 46:Vl.setPosition(46,155).setFill(imgArrayTown[14]),ql.setPosition(55,l.height-70).setFill(imgArrayTown2[0]),$l.setPosition(200,165).setFill(imgArrayMayor[1]),Zl.setPosition(235,242).setFill(imgArrayFelicia[10].src),Ml.setFill(imgArrayTrader[2].src)}ld+=1,0==moneyEver&&(0==dd?(nd.setFill(imgArrayTown[19]),dd=1):1==dd?(nd.setFill(imgArrayTown[19]),dd=3):3==dd&&(nd.setFill(imgArrayTown[20]),dd=0))}ad++,0==od.getHidden()&&5<=ad&&(ad=0,lime.scheduleManager.scheduleWithDelay(function(){od.setRotation(0),lime.scheduleManager.callAfter(function(){od.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){od.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){od.setRotation(270)},this,750)},this,1e3))},this,250);var gd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]).setHidden(!1);Bl.appendChild(gd),gd.setHidden(!0),gd.who="";var cd=(new lime.Label).setAnchorPoint(0,0).setPosition(80,20).setText("").setFontFamily("Proxima Nova").setFontSize(22);gd.appendChild(cd);var md=(new lime.Label).setAnchorPoint(0,0).setPosition(20,145).setText("").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);gd.appendChild(md);var pd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,36).setSize(100,100).setFill(imgArrayMayor[0].src);gd.appendChild(pd);var hd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,64).setSize(50,50).setFill(imgArray4[21]);gd.appendChild(hd);var ud=(new lime.Label).setAnchorPoint(0,0).setPosition(168,84).setText(player.cropsStored[18].stored).setFontFamily("Proxima Nova").setFontSize(30).setFontColor("#FFFFFF").setSize(40,40);gd.appendChild(ud);var yd=(new lime.GlossyButton).setPosition(142,215).setText("Sell for "+l.crops[18].revenue*player.cropsStored[18].stored).setSize(100,20).setColor("#00ff00").setHidden(!1);gd.appendChild(yd),hd.setHidden(!0),ud.setHidden(!0),yd.setHidden(!0);var Sd=(new lime.GlossyButton).setColor("#008000").setText("Give").setPosition(190,235).setSize(90,20);gd.appendChild(Sd),Sd.setHidden(!0);var fd=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(75,255).setSize(100,20).setHidden(!1);function Ad(){count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),count22.setText(player.cropsStored[22].stored),count23.setText(player.cropsStored[23].stored),count24.setText(player.cropsStored[24].stored),count25.setText(player.cropsStored[25].stored),count26.setText(player.cropsStored[26].stored),count27.setText(player.cropsStored[27].stored),count28.setText(player.cropsStored[28].stored),count29.setText(player.cropsStored[29].stored),player.cropsStored[0].stored<=0?(Ag.setOpacity(.6),g0.setOpacity(.6)):(Ag.setOpacity(1),g0.setOpacity(1)),player.cropsStored[1].stored<=0?(wg.setOpacity(.6),g1.setOpacity(.6)):(wg.setOpacity(1),g1.setOpacity(1)),player.cropsStored[2].stored<=0?(Fg.setOpacity(.6),g3.setOpacity(.6)):(Fg.setOpacity(1),g3.setOpacity(1)),player.cropsStored[3].stored<=0?(Pg.setOpacity(.6),g4.setOpacity(.6)):(Pg.setOpacity(1),g4.setOpacity(1)),player.cropsStored[4].stored<=0?(vg.setOpacity(.6),g5.setOpacity(.6)):(vg.setOpacity(1),g5.setOpacity(1)),player.cropsStored[5].stored<=0?(Cg.setOpacity(.6),g6.setOpacity(.6)):(Cg.setOpacity(1),g6.setOpacity(1)),player.cropsStored[6].stored<=0?(Ig.setOpacity(.6),g7.setOpacity(.6)):(Ig.setOpacity(1),g7.setOpacity(1)),player.cropsStored[7].stored<=0?(bg.setOpacity(.6),g8.setOpacity(.6)):(bg.setOpacity(1),g8.setOpacity(1)),player.cropsStored[8].stored<=0?(Tg.setOpacity(.6),g9.setOpacity(.6)):(Tg.setOpacity(1),g9.setOpacity(1)),player.cropsStored[9].stored<=0?(Hg.setOpacity(.6),g10.setOpacity(.6)):(Hg.setOpacity(1),g10.setOpacity(1)),player.cropsStored[10].stored<=0?(_g.setOpacity(.6),g11.setOpacity(.6)):(_g.setOpacity(1),g11.setOpacity(1)),player.cropsStored[11].stored<=0?(xg.setOpacity(.6),g12.setOpacity(.6)):(xg.setOpacity(1),g12.setOpacity(1)),player.cropsStored[12].stored<=0?(zg.setOpacity(.6),g13.setOpacity(.6)):(zg.setOpacity(1),g13.setOpacity(1)),player.cropsStored[13].stored<=0?(kg.setOpacity(.6),g14.setOpacity(.6)):(kg.setOpacity(1),g14.setOpacity(1)),player.cropsStored[22].stored<=0?(Mg.setOpacity(.6),g22.setOpacity(.6)):(Mg.setOpacity(1),g22.setOpacity(1)),player.cropsStored[23].stored<=0?(Lg.setOpacity(.6),g23.setOpacity(.6)):(Lg.setOpacity(1),g23.setOpacity(1)),player.cropsStored[24].stored<=0?(Ng.setOpacity(.6),g24.setOpacity(.6)):(Ng.setOpacity(1),g24.setOpacity(1)),player.cropsStored[25].stored<=0?(Og.setOpacity(.6),g25.setOpacity(.6)):(Og.setOpacity(1),g25.setOpacity(1)),player.cropsStored[26].stored<=0?(Bg.setOpacity(.6),g26.setOpacity(.6)):(Bg.setOpacity(1),g26.setOpacity(1)),player.cropsStored[27].stored<=0?(Rg.setOpacity(.6),g27.setOpacity(.6)):(Rg.setOpacity(1),g27.setOpacity(1)),player.cropsStored[28].stored<=0?(Dg.setOpacity(.6),g28.setOpacity(.6)):(Dg.setOpacity(1),g28.setOpacity(1)),player.cropsStored[29].stored<=0?(Ug.setOpacity(.6),g29.setOpacity(.6)):(Ug.setOpacity(1),g29.setOpacity(1)),player.tools<=0?Eg.setOpacity(.6):Eg.setOpacity(1),countTools.setText(player.tools)}gd.appendChild(fd),goog.events.listen(sd,["mousedown","touchstart"],function(e){scenebefore=8,dg.setHidden(!1),gg.setHidden(!1),townSceneActive=0,Gf(),d.replaceScene(lg,lime.transitions.SlideInDown),sceneActive="MarketSell",lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),gd.setHidden(!0),Ad(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var wd=(new lime.GlossyButton).setColor("#008000").setText("Check Items").setPosition(205,235).setSize(100,20).setHidden(!1);gd.appendChild(wd),goog.events.listen(wd,["mousedown","touchstart"],function(e){0==gd.getHidden()&&(sellLayer.setHidden(!1),gd.setHidden(!0),sellLayerFill1.setHidden(!1),"mayor"==gd.who&&og("mayor"),"monk"==gd.who&&og("monk"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(yd,["mousedown","touchstart"],function(e){var t;0==yd.getHidden()&&(townRep+=1,t=l.crops[18].revenue*player.cropsStored[18].stored,player.money=player.money+t,player.cropsStored[18].stored=0,ud.setText("0"),yd.setHidden(!0),Yf("+ "+t,imgArray11[0].src,"stars",2e3,"left"),lime.scheduleManager.callAfter(function(){l.updateMoney,l.updateStored(),rg()},this,100),Kl.setHidden(!0),jl.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(fd,["mousedown","touchstart"],function(e){gd.setHidden(!0),pd.setPosition(90,38),"sara"==gd.who&&(Kl.setHidden(!0),jl.setHidden(!0));try{Ed()}catch(e){console.log(e)}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Fd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,45).setSize(l.width-30,370).setFill(imgArray[78]).setHidden(!0);Bl.appendChild(Fd);w=(new lime.Label).setAnchorPoint(0,0).setPosition(58,35).setText("Herald of the King").setFontFamily("Proxima Nova").setFontSize(22);Fd.appendChild(w);var Pd=(new lime.Label).setAnchorPoint(0,0).setPosition(20,150).setText("The King needs food to feed the people in Castle Town.        Loyal subjects who tribute gain TOKENS of Royal Favor").setFontFamily("Proxima Nova").setFontSize(16).setSize(240,200);Fd.appendChild(Pd);var vd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(88,38).setSize(100,100).setFill(imgArrayGideon[0].src);Fd.appendChild(vd);var Cd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,225).setSize(50,50).setFill("images/"+l.crops[0].harvest);Fd.appendChild(Cd);var Id=(new lime.Label).setAnchorPoint(0,0).setPosition(75,280).setText("0/50").setFontFamily("Proxima Nova").setFontSize(16).setSize(40,40);Fd.appendChild(Id);var bd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,225).setSize(50,50).setFill("images/"+l.crops[1].harvest);Fd.appendChild(bd);var Td=(new lime.Label).setAnchorPoint(0,0).setPosition(165,280).setText("0/50").setFontFamily("Proxima Nova").setFontSize(16).setSize(40,40);Fd.appendChild(Td);var Hd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,225).setSize(50,50).setFill(imgArray[51]).setHidden(!0);Fd.appendChild(Hd);var _d=(new lime.GlossyButton).setPosition(140,310).setText("Pay Tribute").setSize(100,20).setColor("#00ff00").setHidden(!1);Fd.appendChild(_d);var xd=(new lime.GlossyButton).setPosition(140,290).setText("Next").setSize(100,20).setColor("#00ff00").setHidden(!0),N=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,353).setSize(100,20).setHidden(!1);Fd.appendChild(N);var zd=50,kd=50;id.getHidden(),Fd.getHidden();goog.events.listen(E,["mousedown","touchstart"],function(e){!function(){var t;0==id.getHidden()&&(heraldIntroSeen=parseInt(localStorage.getItem("MedFarms_heraldIntro"))||0,Fd.setHidden(!1),vd.setFill(imgArrayGideon[0]).setSize(100,100),1==heraldIntroSeen?10==heraldOrderTop?(Pd.setText("Congratulations! The King has granted you the honor of new land for your loyal tributes to feed the people. This land is good for growing wheat and has an old mill on it"),Cd.setHidden(!0),Id.setHidden(!0).setText("Wheat"),bd.setHidden(!0),Td.setHidden(!0).setText("Flour"),Hd.setHidden(!0),_d.setHidden(!0),Fd.appendChild(xd),xd.setHidden(!1),t=1,goog.events.listen(xd,["mousedown","touchstart"],function(e){if(1==t)t=2,Cd.setHidden(!0),Id.setHidden(!0),bd.setHidden(!0),Td.setHidden(!0),Pd.setText("The windmill plains have been vacant since the local lord dissapeared years ago and the King has granted you stewardship over this tract. It will take you some work to get it operational again."),xd.setHidden(!1),Hd.setHidden(!0),_d.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){}),goog.events.unlisten(xd,["mousedown","touchstart"],function(e){});else if(2==t){Xm.setHidden(!1),xd.setHidden(!0),Pd.setText("I have heard there is an old path leading north from your Vineyard that leads to the windmill plains, covered by a rockslide. You will need to clear it to get to your new land."),Cd.setHidden(!0),Id.setHidden(!0),bd.setHidden(!0),Td.setHidden(!0),Hd.setHidden(!0),_d.setHidden(!0);try{goog.events.unlisten(xd,["mousedown","touchstart"],function(e){}),Fd.removeChild(xd)}catch(e){console.log("failedremove")}heraldOrderTop=11,aa.setText(heraldOrderTop),localStorage.setItem("MedFarms_heraldOrdersFilled",heraldOrderTop),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}})):(Pd.setText("The King needs food to feed the people in Castle Town. Loyal subjects who tribute gain TOKENS of ROYAL FAVOR"),Cd.setHidden(!1),Id.setHidden(!1),bd.setHidden(!1),Td.setHidden(!1),Hd.setHidden(!0),_d.setHidden(!0),xd.setHidden(!0),lime.scheduleManager.callAfter(function(){ly(heraldOrderTop)},this,50)):(Pd.setText("I am Gideon, the royal Herald, travelling to all the villages to collect royal tributes for King and Kingdom. The Mayor told me that you have grown a good sized farm."),Cd.setHidden(!0),Id.setHidden(!0),bd.setHidden(!0),Td.setHidden(!0),Hd.setHidden(!0),_d.setHidden(!0),Fd.appendChild(xd),xd.setHidden(!1),goog.events.listen(xd,["mousedown","touchstart"],function(e){localStorage.setItem("MedFarms_heraldIntro",1),heraldIntroSeen=1,xd.setHidden(!0),Pd.setText("The King needs food to feed the people in Castle Town. Loyal subjects who tribute gain TOKENS of ROYAL FAVOR"),Cd.setHidden(!1),Id.setHidden(!1),bd.setHidden(!1),Td.setHidden(!1),Hd.setHidden(!0),_d.setHidden(!0),lime.scheduleManager.callAfter(function(){ly(heraldOrderTop)},this,50),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){}),goog.events.unlisten(xd,["mousedown","touchstart"],function(e){}),Fd.removeChild(xd)})),gidSound.play())}(),e.swallow(["mouseup","touchend","touchcancel"],function(e){}),e.event.stopPropagation()}),goog.events.listen(N,["mousedown","touchstart"],function(e){0==Fd.getHidden()&&Fd.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})});goog.events.listen(_d,["mousedown","touchstart"],function(e){var t;0==Fd.getHidden()&&(t=0,18==(heraldOrderTop=parseInt(heraldOrderTop))?(heraldOrder1=22,heraldOrder2=23):19==heraldOrderTop?(heraldOrder1=24,heraldOrder2=23):heraldOrderTop>questParamsHerald.crops.length&&(t=heraldOrderTop%10,heraldOrder1=questParamsHerald.crops[t].crop1,heraldOrder2=questParamsHerald.crops[t].crop2),player.cropsStored[heraldOrder1].stored=Math.abs(parseInt(parseInt(player.cropsStored[heraldOrder1].stored)-zd)),player.cropsStored[heraldOrder2].stored=Math.abs(parseInt(parseInt(player.cropsStored[heraldOrder2].stored)-kd)),lime.scheduleManager.callAfter(function(){l.updateStored()},this,50),Cd.setHidden(!0),Id.setHidden(!0),bd.setHidden(!0),Td.setHidden(!0),Hd.setHidden(!1),_d.setHidden(!0),Pd.setText("Take this Token of Royal Favor for your Tribute. You can use them in the future. I will get this food back to the castle"),heraldOrderTop=parseInt(heraldOrderTop)+1,heraldOrderTop=Math.abs(heraldOrderTop),aa.setText(heraldOrderTop),localStorage.setItem("MedFarms_heraldOrdersFilled",heraldOrderTop),Yf("+1 King's Token",imgArray[51].src,"token",2500),successSound.play(),heraldOrderTop==questParamsHerald.crops.length&&Pd.setText("Here's another token. You have quite a few tokens now. I will inform the King you have been a loyal subject"),daysTillHerald=5,id.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){}))});try{Ed()}catch(e){console.log(e)}function Ed(){for(var t,i,e=Object.keys(collectItems.digUpSells).length,o=saraReady=feliciaReady=friarReady=mayorReady=0;o<e;o++)1==collectItems.digUpSells[o].owned&&("Mayor"==collectItems.digUpSells[o].who?mayorReady=1:"Friar"==collectItems.digUpSells[o].who?friarReady=1:"Sara"==collectItems.digUpSells[o].who?saraReady=1:"Felicia"==collectItems.digUpSells[o].who&&0==questParams.felicia[2].completed&&(feliciaReady=1));1==mayorReady?(Ql.setFill(imgArrayTown[16].src),Ql.setHidden(!1),Xl.setHidden(!1),goog.events.unlisten(Xl,["mousedown","touchstart"],function(e){}),goog.events.unlisten($l,["mousedown","touchstart"],function(e){}),goog.events.listen(Xl,["mousedown","touchstart"],function(e){Ld("mayor",1),gd.who="mayor",mayorSound.play()}),goog.events.listen($l,["mousedown","touchstart"],function(e){Ld("mayor",1),gd.who="mayor",mayorSound.play()})):0==mayorReady&&((t=Math.round(6*Math.random()))<1&&(t=1),6<t&&(t=6),Ql.setFill(imgArrayTown[15].src),goog.events.unlisten(Xl,["mousedown","touchstart"],function(e){}),goog.events.unlisten($l,["mousedown","touchstart"],function(e){}),goog.events.listen(Xl,["mousedown","touchstart"],function(e){Ld("mayor",0),md.setText(questParams.mayor[t].text),gd.who="mayor",mayorSound.play()}),goog.events.listen($l,["mousedown","touchstart"],function(e){Ld("mayor",0),md.setText(questParams.mayor[t].text),gd.who="mayor",mayorSound.play()})),0<friarReady?(Yl.setFill(imgArrayTown[16].src),Yl.setHidden(!1),Jl.setHidden(!1),goog.events.unlisten(Jl,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Vl,["mousedown","touchstart"],function(e){}),goog.events.listen(Jl,["mousedown","touchstart"],function(e){Ld("monk",1),gd.who="monk",wd.setHidden(!1)}),goog.events.listen(Vl,["mousedown","touchstart"],function(e){Ld("monk",1),gd.who="monk",wd.setHidden(!1)})):((i=Math.round(5*Math.random()))<1&&(i=1),5<i&&(i=5),Yl.setFill(imgArrayTown[15].src),goog.events.unlisten(Jl,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Vl,["mousedown","touchstart"],function(e){}),goog.events.listen(Jl,["mousedown","touchstart"],function(e){Ld("monk",0),gd.who="monk",md.setText(questParams.monk[i].text)}),goog.events.listen(Vl,["mousedown","touchstart"],function(e){Ld("monk",0),gd.who="monk",md.setText(questParams.monk[i].text)})),0<saraReady?(Kl.setFill(imgArrayTown[16].src),goog.events.unlisten(jl,["mousedown","touchstart"],function(e){}),goog.events.unlisten(ql,["mousedown","touchstart"],function(e){}),goog.events.listen(jl,["mousedown","touchstart"],function(e){Ld("sara",1),gd.who="sara",Kl.setHidden(!1),jl.setHidden(!1),saraSound.play()}),goog.events.listen(ql,["mousedown","touchstart"],function(e){Ld("sara",1),gd.who="sara",Kl.setHidden(!1),jl.setHidden(!1),saraSound.play()})):(Kl.setFill(imgArrayTown[15].src),md.setText(questParams.sara[1].text),goog.events.unlisten(jl,["mousedown","touchstart"],function(e){}),goog.events.unlisten(ql,["mousedown","touchstart"],function(e){}),goog.events.listen(jl,["mousedown","touchstart"],function(e){Ld("sara",0),gd.who="sara",Kl.setHidden(!1),jl.setHidden(!1),saraSound.play()}),goog.events.listen(ql,["mousedown","touchstart"],function(e){Ld("sara",0),gd.who="sara",Kl.setHidden(!1),jl.setHidden(!1),saraSound.play()})),0<feliciaReady?(td.setFill(imgArrayTown[16].src),goog.events.unlisten(ed,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Zl,["mousedown","touchstart"],function(e){}),goog.events.listen(ed,["mousedown","touchstart"],function(e){Ld("felicia",1),gd.who="felicia",feliciaSound.play()},{passive:!1}),goog.events.listen(Zl,["mousedown","touchstart"],function(e){Ld("felicia",1),gd.who="felicia",feliciaSound.play()},{passive:!1})):(td.setFill(imgArrayTown[15].src),md.setText(questParams.felicia[1].text),hd.setHidden(!0),goog.events.unlisten(ed,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Zl,["mousedown","touchstart"],function(e){}),goog.events.listen(ed,["mousedown","touchstart"],function(e){Ld("felicia",0),gd.who="felicia",feliciaSound.play()}),goog.events.listen(Zl,["mousedown","touchstart"],function(e){Ld("felicia",0),gd.who="felicia",feliciaSound.play()}))}goog.events.listen(fd,["mousedown","touchstart"],function(){gd.setHidden(!0),pd.setPosition(90,38),sd.setHidden(!1),Wl.setHidden(!1)});var Md=gd.getHidden(),Ld=function(e,t){if(Md=gd.getHidden(),sd.setHidden(!0),Wl.setHidden(!0),1==Md){if(0==t){try{wd.setHidden(!0)}catch(e){console.log("caught from sellbtn "+e)}var i,o,s;"mayor"==e&&(yd.setHidden(!0),ud.setHidden(!0),cd.setText("Mayor Borgan").setPosition(75,25),md.setText(questParams.mayor[1].text),swapItM1=0,Ql.setFill(imgArrayTown[15].src),pd.setFill(imgArrayMayor[0].src),fd.setPosition(75,235),!0===questParams.mayor[0].available?(i=questParams.mayor[0].highestCompleted,i=parseInt(i)+1,md.setText(questParams.mayor[i].text)):md.setText("Thanks, but I do not need anything right now. Try me later."),gd.setHidden(!1),Ql.setHidden(!0),Xl.setHidden(!0)),"monk"==e&&(yd.setHidden(!0),ud.setHidden(!0),fd.setPosition(75,235),cd.setText("Friar Patrick").setPosition(80,25),pd.setFill(imgArrayTown[1].src),swapIt=0,1==questParams.monk[0].available?(questLevelMonk=questParams.monk[0].highestCompleted,3<(s=parseInt(questLevelMonk)+1)&&(s=1),s=questParams.monk[s].text,md.setText(s),gd.setHidden(!1),Yl.setHidden(!0),Jl.setHidden(!0)):(md.setText("Thanks, but I do not need anything right now. Try me later."),gd.setHidden(!1)),monkSound.play()),"felicia"==e&&(yd.setHidden(!0),fd.setPosition(75,235),ud.setHidden(!0),cd.setText("Lady Felicia").setPosition(80,25),swapIt=0,pd.setFill(imgArrayFelicia[0].src),1==questParams.felicia[0].available?(questLevelFel=questParams.felicia[0].highestCompleted,3<(o=parseInt(questLevelFel)+1)&&(o=1),md.setText(questParams.felicia[o].text)):md.setText("Thanks, but I do not need anything right now. Try me later."),gd.setHidden(!1),feliciaSound.play()),"sara"==e&&(cd.setText("InnKeeper Sara").setPosition(69,24),pd.setFill(imgArrayTown2[0].src),fd.setPosition(75,255),swapIt=0,1==questParams.sara[0].available?(questLevelSara=questParams.sara[0].highestCompleted,s=parseInt(questLevelSara)+1,3<o&&(s=1),md.setText(questParams.sara[s].text),gd.setHidden(!1)):(md.setText("My patrons are asking for CIDER."),gd.setHidden(!1),fd.setPosition(140,255)),1==collectItems.storeItems[4].owned&&0<player.cropsStored[18].stored?(md.setText("My Patrons Love CIDER. Sell me all you make!"),pd.setPosition(65,38),hd.setHidden(!1),ud.setText(player.cropsStored[18].stored),ud.setHidden(!1),gd.setHidden(!1),yd.setText("Sell for "+l.crops[18].revenue*player.cropsStored[18].stored),yd.setHidden(!1),hd.setFill(imgArray4[21]),fd.setPosition(140,255)):(hd.setHidden(!0),ud.setHidden(!0),pd.setPosition(90,38)))}if(t=1,wd.setHidden(!1),"mayor"==e&&(yd.setHidden(!0),fd.setPosition(75,235),ud.setHidden(!0),cd.setText("Mayor Borgan").setPosition(75,25),pd.setPosition(90,38),pd.setFill(imgArrayMayor[0].src),md.setText("I will buy those jewels from you"),Nd.setFill(imgArrayMayor[0].src),og("mayor"),gd.setHidden(!1),wd.setHidden(!1),og("mayor")),"monk"==e){yd.setHidden(!0),fd.setPosition(75,235),ud.setHidden(!0),pd.setPosition(90,38),cd.setText("Friar Patrick").setPosition(80,25),pd.setFill(imgArrayTown[1].src),md.setText("You found something interesting to me"),Nd.setFill(imgArrayTown[1].src),wd.setHidden(!1),gd.setHidden(!1);try{og("monk")}catch(e){console.log(e)}monkSound.play()}if("felicia"==e){if(yd.setHidden(!0),fd.setPosition(140,235),ud.setHidden(!0),pd.setPosition(90,38),pd.setFill(imgArrayFelicia[0].src),cd.setText("Lady Felicia").setPosition(80,25),wd.setHidden(!0),1==collectItems.digUpSells[3].owned&&questParams.felicia[0].highestCompleted<2)pd.setFill(imgArrayFelicia[0].src).setPosition(40,38),hd.setHidden(!1).setFill(collectItems.digUpSells[3].src),md.setText("You found my Broach! Can I have it back?"),wd.setHidden(!0),Sd.setHidden(!1),fd.setPosition(75,235),gd.y=gd.y+30,goog.events.listen(Sd,["mousedown","touchstart"],function(){gd.setHidden(!0),hd.setHidden(!0),questParams.felicia[2].completed=1,questParams.felicia[0].highestCompleted=2,collectItems.digUpSells[3].owned=0,collectItems.digUpSells[3].onlyOnce=1,townRep+=1,lime.scheduleManager.callAfter(function(){rg()},this,50),Sd.setHidden(!0),fd.setPosition(140,235),gd.removeChild(Sd),pd.setPosition(90,38),hd.setHidden(!0),md.setText("Thanks, but I do not need anything right now. Try me later.");try{Ed()}catch(e){console.log(e)}sd.setHidden(!1),Wl.setHidden(!1),ed.setHidden(!0),td.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),hd.setFill(imgArray4[21])});else{switch(pd.setPosition(90,38).setFill(imgArrayFelicia[0].src),hd.setHidden(!0),Math.round(7*Math.random())){case 0:md.setText("I heard the king sometimes sends special orders to feed the troops");break;case 1:md.setText("I met your wife Denise. You did buy her some furniture.... right?");break;case 2:md.setText("Legends tell of a Local Lord that ruled many years ago.");break;case 3:md.setText("The Friar told me that the local lordship has been vacant for years");break;case 4:md.setText("I grew up close to the castle and miss the spices we could get there");break;case 5:md.setText("The trader told me some old maps show caverns in the area. I wonder where");break;case 6:md.setText("I heard there is a healer named Connie that lives somewhere close by"),1==by&&1==a[5].owned&&md.setText("The new couple from your grain farm came into town yesterday. They are nice folks");break;case 7:md.setText("There used to be a Windmill close by, but it closed and the road there is blocked"),0==by&&11<=heraldOrderTop?md.setText("If you upgrade the Windmill on your new farm, you can make FLOUR"):1==by&&0==storeHouseUpgraded?md.setText("Now that you have Flour, if you upgrade your Storehouse, you can make Bread"):1==by&&1==storeHouseUpgraded&&md.setText("I am so exicited that we now have Bread at the market!");break;default:md.setText("My husband buys me awesome jewels all the time")}ed.setHidden(!0),td.setHidden(!0)}gd.setHidden(!1),feliciaSound.play()}"sara"==e&&(fd.setPosition(140,255),cd.setText("InnKeeper Sara").setPosition(65,24),pd.setFill(imgArrayTown2[0].src),md.setText("My patrons want CIDER.  If you can make some, I will buy it."),Nd.setFill(imgArrayTown[1].src),wd.setHidden(!0),og("sara"))}};sellLayer=(new lime.Layer).setAnchorPoint(0,0),sellLayerFill1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,50).setSize(l.width,l.height-60).setFill(imgArray[79]).setHidden(!1),Ol.appendChild(sellLayer),sellLayer.appendChild(sellLayerFill1),sellLayer.setHidden(!0);var Nd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,40).setSize(128,128).setFill(imgArrayMayor[0].src);sellLayerFill1.appendChild(Nd);var Od=(new lime.Label).setAnchorPoint(0,0).setPosition(130,80).setText("I will buy these items from you").setFontFamily("Proxima Nova").setFontSize(16).setSize(150,50);sellLayerFill1.appendChild(Od);O=(new lime.GlossyButton).setColor("#008000").setText("Close").setPosition(155,420).setSize(52,30);sellLayerFill1.appendChild(O);var Bd=(new lime.Label).setAnchorPoint(0,0).setPosition(90,175).setText("+").setFontFamily("Proxima Nova").setFontSize(16).setSize(150,50);sellLayerFill1.appendChild(Bd);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(108,0).setSize(20,20).setFill(imgArray11[0].src);Bd.appendChild(Y),Bd.setHidden(!0),goog.events.listen(O,["mousedown","touchstart"],function(){sellLayerFill1.setHidden(!0),sellLayer.setHidden(!0);try{Ed()}catch(e){console.log(e)}sd.setHidden(!1),Wl.setHidden(!1),gd.setHidden(!0)});var Rd=(new lime.Sprite).setPosition(70,260).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Rd).setHidden(!1),Rd=(new lime.GlossyButton).setPosition(70,260).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Rd);var Dd=(new lime.Sprite).setPosition(70,260).setSize(50,50).setFill(imgArrayItems[0].src);sellLayerFill1.appendChild(Dd);var Ud=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Proxima Nova").setFontColor("#0000ff").setFontSize(16);Dd.appendChild(Ud);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);Dd.appendChild(b),Rd.empty=!0,Rd.value=0,Rd.collectNumber=-1;var Gd=(new lime.Sprite).setPosition(150,260).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Gd).setHidden(!1),Gd=(new lime.GlossyButton).setPosition(150,260).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Gd);var Wd=(new lime.Sprite).setPosition(150,260).setSize(50,50).setFill(imgArrayItems[1].src);sellLayerFill1.appendChild(Wd);var Vd=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Proxima Nova").setFontColor("#0000ff").setFontSize(16);Wd.appendChild(Vd);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);Wd.appendChild(u),Gd.empty=!0,Gd.value=0,Gd.collectNumber=-1;var Jd=(new lime.Sprite).setPosition(230,260).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Jd).setHidden(!1),Jd=(new lime.GlossyButton).setPosition(230,260).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Jd);var Yd=(new lime.Sprite).setPosition(230,260).setSize(50,50).setFill(imgArrayItems[3].src);sellLayerFill1.appendChild(Yd);var qd=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Proxima Nova").setFontColor("#0000ff").setFontSize(16);Yd.appendChild(qd);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);Yd.appendChild(o),Jd.empty=!0,Jd.value=0,Jd.collectNumber=-1;var jd=(new lime.Sprite).setPosition(70,350).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(jd).setHidden(!1),jd=(new lime.GlossyButton).setPosition(70,350).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(jd);var Kd=(new lime.Sprite).setPosition(70,350).setSize(50,50).setFill(imgArrayItems[4].src);sellLayerFill1.appendChild(Kd);var $d=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Proxima Nova").setFontColor("#0000ff").setFontSize(16);Kd.appendChild($d);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);Kd.appendChild(y),jd.empty=!0,jd.value=0,jd.collectNumber=-1;var Xd=(new lime.Sprite).setPosition(150,350).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Xd).setHidden(!1),Xd=(new lime.GlossyButton).setPosition(150,350).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Xd);var Qd=(new lime.Sprite).setPosition(150,350).setSize(50,50).setFill(imgArrayItems[5].src);sellLayerFill1.appendChild(Qd);var Zd=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Proxima Nova").setFontColor("#0000ff").setFontSize(16);Qd.appendChild(Zd);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);Qd.appendChild(w),Xd.empty=!0,Xd.value=0,Xd.collectNumber=-1;var eg=(new lime.Sprite).setPosition(230,350).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(eg).setHidden(!1),eg=(new lime.GlossyButton).setPosition(230,350).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(eg);var tg=(new lime.Sprite).setPosition(230,350).setSize(50,50).setFill(imgArrayItems[6].src);sellLayerFill1.appendChild(tg);var ig=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Proxima Nova").setFontColor("#0000ff").setFontSize(16);tg.appendChild(ig);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);function og(e){var t=Object.keys(collectItems.digUpSells).length;if(Rd.empty=!0,Dd.setHidden(!0),Gd.empty=!0,Wd.setHidden(!0),Jd.empty=!0,Yd.setHidden(!0),jd.empty=!0,Kd.setHidden(!0),Xd.empty=!0,Qd.setHidden(!0),eg.empty=!0,tg.setHidden(!0),"mayor"==e)for(var i=0;i<t;i++)0<collectItems.digUpSells[i].owned&&(Od.setText("I will buy this jewelery from you. My wife can't get enough"),"Mayor"==collectItems.digUpSells[i].who&&(1==Rd.empty?(Dd.setFill(collectItems.digUpSells[i].src),Rd.empty=!1,Rd.value=collectItems.digUpSells[i].value,Ud.setText(collectItems.digUpSells[i].value),Dd.setHidden(!1),Rd.collectNumber=i,Rd.setHidden(!1)):1==Gd.empty?(Wd.setFill(collectItems.digUpSells[i].src),Gd.empty=!1,Gd.value=collectItems.digUpSells[i].value,Vd.setText(collectItems.digUpSells[i].value),Wd.setHidden(!1),Gd.collectNumber=i,Gd.setHidden(!1)):1==Jd.empty?(Yd.setFill(collectItems.digUpSells[i].src),Jd.empty=!1,Jd.value=collectItems.digUpSells[i].value,qd.setText(collectItems.digUpSells[i].value),Yd.setHidden(!1),Jd.collectNumber=i,Jd.setHidden(!1)):1==jd.empty?(Kd.setFill(collectItems.digUpSells[i].src),jd.empty=!1,jd.value=collectItems.digUpSells[i].value,$d.setText(collectItems.digUpSells[i].value),Kd.setHidden(!1),jd.collectNumber=i,jd.setHidden(!1)):1==Xd.empty?(Qd.setFill(collectItems.digUpSells[i].src),Xd.empty=!1,Xd.value=collectItems.digUpSells[i].value,Zd.setText(collectItems.digUpSells[i].value),Qd.setHidden(!1),Xd.collectNumber=i,Xd.setHidden(!1)):1==eg.empty?(tg.setFill(collectItems.digUpSells[i].src),eg.empty=!1,eg.value=collectItems.digUpSells[i].value,ig.setText(collectItems.digUpSells[i].value),tg.setHidden(!1),eg.collectNumber=i,eg.setHidden(!1)):console.log("mayor hit else")));if("monk"==e)try{for(i=0;i<t;i++)0<collectItems.digUpSells[i].owned&&(Od.setText("I will buy these Artifacts from you. Bring me all you can find"),"Friar"==collectItems.digUpSells[i].who&&(1==Rd.empty?(Dd.setFill(collectItems.digUpSells[i].src),Rd.setHidden(!1),Rd.empty=!1,Rd.value=collectItems.digUpSells[i].value,Ud.setText(collectItems.digUpSells[i].value),Dd.setHidden(!1),Rd.collectNumber=i):1==Gd.empty?(Wd.setFill(collectItems.digUpSells[i].src),Gd.setHidden(!1),Gd.empty=!1,Gd.value=collectItems.digUpSells[i].value,Vd.setText(collectItems.digUpSells[i].value),Wd.setHidden(!1),Gd.collectNumber=i):1==Jd.empty?(Yd.setFill(collectItems.digUpSells[i].src),Jd.setHidden(!1),Jd.empty=!1,Jd.value=collectItems.digUpSells[i].value,qd.setText(collectItems.digUpSells[i].value),Yd.setHidden(!1),Jd.collectNumber=i):1==jd.empty?(Kd.setFill(collectItems.digUpSells[i].src),jd.setHidden(!1),jd.empty=!1,jd.value=collectItems.digUpSells[i].value,$d.setText(collectItems.digUpSells[i].value),Kd.setHidden(!1),jd.collectNumber=i):1==Xd.empty?(Qd.setFill(collectItems.digUpSells[i].src),Xd.setHidden(!1),Xd.empty=!1,Xd.value=collectItems.digUpSells[i].value,Zd.setText(collectItems.digUpSells[i].value),Qd.setHidden(!1),Xd.collectNumber=i):1==eg.empty?(tg.setFill(collectItems.digUpSells[i].src),eg.setHidden(!1),eg.empty=!1,eg.value=collectItems.digUpSells[i].value,ig.setText(collectItems.digUpSells[i].value),tg.setHidden(!1),eg.collectNumber=i):console.log("monk hit else- all full")))}catch(e){console.log(e)}}function sg(e){Yf("+ "+e+" ",imgArray11[0].src,1)}function ng(){purchaseSound.play(),lime.scheduleManager.callAfter(function(){Bd.setPosition(90,184).setHidden(!1)},this,75),lime.scheduleManager.callAfter(function(){Bd.setPosition(90,180)},this,150),lime.scheduleManager.callAfter(function(){Bd.setPosition(90,177)},this,225),lime.scheduleManager.callAfter(function(){Bd.setPosition(90,173)},this,300),lime.scheduleManager.callAfter(function(){Bd.setPosition(90,170)},this,350),lime.scheduleManager.callAfter(function(){Bd.setHidden(!0).setText("+ ").setPosition(90,175).setOpacity(1)},this,450)}function rg(){Ul.setText(townRep),localStorage.setItem("MedFarms_townRep",townRep),5<=townRep&&Gl.setText("Local Farmer"),15<=townRep&&Gl.setText("Trusted Resident"),30<=townRep&&Gl.setText("Local Leader")}tg.appendChild(E),eg.empty=!0,eg.value=0,eg.collectNumber=-1,goog.events.listen(Rd,["mousedown","touchstart"],function(){var e=Dd.getHidden(),t=sellLayerFill1.getHidden();0==e&&"undefined"!=e&&0==t&&(Dd.setHidden(!0),player.money=parseInt(player.money)+Rd.value,sg(Rd.value),townRep+=1,lime.scheduleManager.callAfter(function(){rg()},this,50),Bd.setText("+ "+Rd.value),ng(),t=Rd.collectNumber,collectItems.digUpSells[t].owned=0,"Mayor"==(t=collectItems.digUpSells[t].who)&&(mayorReady=0,Ql.setHidden(!0),Xl.setHidden(!0)),"Friar"==t&&(friarReady=0,Yl.setHidden(!0),Jl.setHidden(!0)),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Rd.empty=!0,Rd.value=0,Rd.collectNumber=-1,Dd.setFill(imgArray[17].src),l.updateMoney())}),goog.events.listen(Gd,["mousedown","touchstart"],function(){var e=Wd.getHidden(),t=sellLayerFill1.getHidden(),t=sellLayerFill1.getHidden();0==e&&"undefined"!=e&&0==t&&(Wd.setHidden(!0),player.money=parseInt(player.money)+Gd.value,sg(Gd.value),townRep+=1,lime.scheduleManager.callAfter(function(){rg()},this,50),Bd.setText("+ "+Gd.value),ng(),t=Gd.collectNumber,collectItems.digUpSells[t].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[t].who)&&(mayorReady=0,Ql.setHidden(!0),Xl.setHidden(!0)),"Friar"==t&&(friarReady=0,Yl.setHidden(!0),Jl.setHidden(!0)),Gd.empty=!0,Gd.value=0,Gd.collectNumber=-1,Wd.setFill(imgArray[17].src),l.updateMoney())}),goog.events.listen(Jd,["mousedown","touchstart"],function(){var e=Yd.getHidden(),t=sellLayerFill1.getHidden();0==e&&"undefined"!=e&&0==t&&(Yd.setHidden(!0),player.money=parseInt(player.money)+Jd.value,sg(Jd.value),townRep+=1,Bd.setText("+ "+Jd.value),ng(),t=Jd.collectNumber,collectItems.digUpSells[t].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[t].who)&&(mayorReady=0,Ql.setHidden(!0),Xl.setHidden(!0)),"Friar"==t&&(friarReady=0,Yl.setHidden(!0),Jl.setHidden(!0)),Jd.empty=!0,Jd.value=0,Jd.collectNumber=-1,Yd.setFill(imgArray[17].src),lime.scheduleManager.callAfter(function(){rg(),l.updateMoney()},this,100))}),goog.events.listen(jd,["mousedown","touchstart"],function(){var e=Kd.getHidden(),t=sellLayerFill1.getHidden();0==e&&"undefined"!=e&&0==t&&(Kd.setHidden(!0),player.money=parseInt(player.money)+jd.value,sg(jd.value),townRep+=1,Bd.setText("+ "+jd.value),ng(),t=jd.collectNumber,collectItems.digUpSells[t].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[t].who)&&(mayorReady=0,Ql.setHidden(!0),Xl.setHidden(!0)),"Friar"==t&&(friarReady=0,Yl.setHidden(!0),Jl.setHidden(!0)),jd.empty=!0,jd.value=0,jd.collectNumber=-1,Kd.setFill(imgArray[17].src),lime.scheduleManager.callAfter(function(){rg(),l.updateMoney()},this,100))}),goog.events.listen(Xd,["mousedown","touchstart"],function(){var e=Qd.getHidden(),t=sellLayerFill1.getHidden();0==e&&"undefined"!=e&&0==t&&(Qd.setHidden(!0),player.money=parseInt(player.money)+Xd.value,sg(Xd.value),townRep+=1,Bd.setText("+ "+Xd.value),ng(),t=Xd.collectNumber,collectItems.digUpSells[t].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[t].who)&&(mayorReady=0,Ql.setHidden(!0),Xl.setHidden(!0)),"Friar"==t&&(friarReady=0,Yl.setHidden(!0),Jl.setHidden(!0)),Xd.empty=!0,Xd.value=0,Xd.collectNumber=-1,Qd.setFill(imgArray[17].src),lime.scheduleManager.callAfter(function(){rg(),l.updateMoney()},this,100))}),goog.events.listen(eg,["mousedown","touchstart"],function(){var e=tg.getHidden(),t=sellLayerFill1.getHidden();0==e&&"undefined"!=e&&0==t&&(tg.setHidden(!0),player.money=parseInt(player.money)+eg.value,sg(eg.value),townRep+=1,Bd.setText("+ "+eg.value),ng(),t=eg.collectNumber,collectItems.digUpSells[t].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[t].who)&&(mayorReady=0,Ql.setHidden(!0),Xl.setHidden(!0)),"Friar"==t&&(friarReady=0,Yl.setHidden(!0),Jl.setHidden(!0)),eg.empty=!0,eg.value=0,eg.collectNumber=-1,tg.setFill(imgArray[17].src),lime.scheduleManager.callAfter(function(){rg(),l.updateMoney()},this,100))});var ag=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,50).setSize(275,323).setFill("images/UI/goPremium.png");Bl.appendChild(ag);N=(new lime.GlossyButton).setColor("#00ff00").setText("Visit Shop").setPosition(210,315).setSize(80,25);ag.appendChild(N);Y=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(60,315).setSize(80,25);ag.appendChild(Y),1==(seenPremiumPromo=JSON.parse(localStorage.getItem("MedFarms_seenPremiumPromo"))||0)?ag.setHidden(!0):(ag.setHidden(!0),goog.events.listen(N,["mousedown","touchstart"],function(e){ag.setHidden(!0),Gf(),d.replaceScene(qa,lime.transitions.SlideInDown),sceneActive="Store",Nl.setOpacity(1),Ll.setOpacity(.5),ja.setHidden(!0),Ka.setHidden(!0),storeBuyPremiumLayer.setHidden(!1),seenPremiumPromo=1,localStorage.setItem("MedFarms_seenPremiumPromo",1),e.stopPropagation()}),goog.events.listen(Y,["mousedown","touchstart"],function(e){ag.setHidden(!0),seenPremiumPromo=1,localStorage.setItem("MedFarms_seenPremiumPromo",1),e.stopPropagation()}));var lg=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),dg=(new lime.Layer).setAnchorPoint(0,0),gg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill(imgArray[84]).setHidden(!1);lg.appendChild(gg),lg.appendChild(dg);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("images/UI/farmersMarket3.png");dg.appendChild(O);var cg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-20,490).setSize(40,40).setFill(imgArray[21]);dg.appendChild(cg);b=(new lime.Sprite).setPosition(285,60).setSize(35,35).setFill(imgArray11[0]);dg.appendChild(b);var mg=(new lime.Label).setText(player.money).setFontColor("#FFFFFF").setPosition(247,63).setFontSize(18).setFontFamily("Proxima Nova");dg.appendChild(mg);var pg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,62).setSize(65,65).setFill(imgArrayFelicia[0]);dg.appendChild(pg);var hg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,-35).setSize(150,65).setFill(imgArray[116]);pg.appendChild(hg);var ug=(new lime.Label).setAnchorPoint(0,0).setText("Hit a tile to sell a crop").setFontSize(16).setFontColor("#000000").setFontFamily("Proxima Nova").setPosition(5,10).setSize(140,80);hg.appendChild(ug);var yg=0,Sg=0,fg=0;lime.scheduleManager.scheduleWithDelay(function(){0==dg.getHidden()&&(Sg++,1==yg&&pg.setFill(imgArrayFelicia[15]),2==yg&&pg.setFill(imgArrayFelicia[0]),3==yg&&pg.setFill(imgArrayFelicia[15]),4==yg&&pg.setFill(imgArrayFelicia[1]),4<(yg+=1)&&(yg=0,pg.setFill(imgArrayFelicia[1])),5==Sg&&hg.setHidden(!0),6<=Sg&&0==fg&&(hg.setHidden(!1),ug.setText("I am always looking for new foods"),fg=1),12<=Sg&&(Sg=0,hg.setHidden(!0)))},this,800);var Ag=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,85).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Ag),count0=(new lime.Label).setText(player.cropsStored[0].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(90,100),dg.appendChild(count0),g0=(new lime.Sprite).setAnchorPoint(0,0).setPosition(112,90).setFill("images/"+l.crops[0].harvest).setSize(30,30),dg.appendChild(g0),i0=(new lime.Label).setText(" +"+l.crops[0].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(98,121),dg.appendChild(i0),g0I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,110).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(g0I);var wg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,85).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(wg),count1=(new lime.Label).setText(player.cropsStored[1].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(185,100),dg.appendChild(count1),g1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,90).setFill("images/"+l.crops[1].harvest).setSize(30,30),dg.appendChild(g1),i1=(new lime.Label).setText(" +"+l.crops[1].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(188,121),dg.appendChild(i1),i0I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,110).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i0I);var Fg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,135).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Fg),count2=(new lime.Label).setText(player.cropsStored[2].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(90,150),dg.appendChild(count2),g3=(new lime.Sprite).setAnchorPoint(0,0).setPosition(112,140).setFill("images/"+l.crops[2].harvest).setSize(30,30),dg.appendChild(g3),i3=(new lime.Label).setText(" +"+l.crops[2].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(97,171),dg.appendChild(i3),i3I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,160).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i3I);var Pg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,135).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Pg),count3=(new lime.Label).setText(player.cropsStored[3].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(185,150),dg.appendChild(count3),g4=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,140).setFill("images/"+l.crops[3].harvest).setSize(30,30),dg.appendChild(g4),i4=(new lime.Label).setText(" +"+l.crops[3].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(186,171),dg.appendChild(i4),i4I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,160).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i4I);var vg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,185).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(vg),count4=(new lime.Label).setText(player.cropsStored[4].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(90,200),dg.appendChild(count4),g5=(new lime.Sprite).setAnchorPoint(0,0).setPosition(112,190).setFill("images/"+l.crops[4].harvest).setSize(30,30),dg.appendChild(g5),i5=(new lime.Label).setText(" +"+l.crops[4].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(97,221),dg.appendChild(i5),i5I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,210).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i5I);var Cg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,185).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Cg),count5=(new lime.Label).setText(player.cropsStored[5].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(185,200),dg.appendChild(count5),g6=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,190).setFill("images/"+l.crops[5].harvest).setSize(30,30),dg.appendChild(g6),i6=(new lime.Label).setText(" +"+l.crops[5].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(188,221),dg.appendChild(i6),i6I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,210).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i6I);var Ig=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,235).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Ig),count6=(new lime.Label).setText(player.cropsStored[6].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(90,250),dg.appendChild(count6),g7=(new lime.Sprite).setAnchorPoint(0,0).setPosition(112,240).setFill("images/"+l.crops[6].harvest).setSize(40,30),dg.appendChild(g7),i7=(new lime.Label).setText(" +"+l.crops[6].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(98,271),dg.appendChild(i7),i7I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,260).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i7I);var bg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,235).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(bg),count7=(new lime.Label).setText(player.cropsStored[7].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(185,250),dg.appendChild(count7),g8=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,240).setFill("images/"+l.crops[7].harvest).setSize(30,30),dg.appendChild(g8),i8=(new lime.Label).setText(" +"+l.crops[7].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(188,271),dg.appendChild(i8),i8I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,260).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i8I);var Tg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,285).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Tg),count8=(new lime.Label).setText(player.cropsStored[8].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(90,300),dg.appendChild(count8),g9=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,290).setFill("images/"+l.crops[8].harvest).setSize(30,30),dg.appendChild(g9),i9=(new lime.Label).setText(" +"+l.crops[8].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(98,321),dg.appendChild(i9),i9I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,310).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i9I);var Hg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,285).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Hg),count9=(new lime.Label).setText(player.cropsStored[9].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(185,300),dg.appendChild(count9),g10=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,290).setFill("images/"+l.crops[9].harvest).setSize(30,30),dg.appendChild(g10),i10=(new lime.Label).setText(" +"+l.crops[9].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(188,323),dg.appendChild(i10),i10I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,310).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i10I);var _g=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,335).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(_g),count10=(new lime.Label).setText(player.cropsStored[10].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(90,350),dg.appendChild(count10),g11=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,340).setFill("images/"+l.crops[10].harvest).setSize(30,30),dg.appendChild(g11),i11=(new lime.Label).setText(" +"+l.crops[10].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(98,371),dg.appendChild(i11),i11I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,360).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i11I);var xg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,335).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(xg),count11=(new lime.Label).setText(player.cropsStored[11].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(185,350),dg.appendChild(count11),g12=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,340).setFill("images/"+l.crops[11].harvest).setSize(30,30),dg.appendChild(g12),i12=(new lime.Label).setText(" +"+l.crops[11].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(188,371),dg.appendChild(i12),i12I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,360).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i12I);var zg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,385).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(zg),count12=(new lime.Label).setText(player.cropsStored[12].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(90,400),dg.appendChild(count12),g13=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,390).setFill("images/"+l.crops[12].harvest).setSize(30,30),dg.appendChild(g13),i13=(new lime.Label).setText(" +"+l.crops[12].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(98,421),dg.appendChild(i13),i13I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,410).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i13I);var kg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,385).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(kg),count13=(new lime.Label).setText(player.cropsStored[13].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(185,400),dg.appendChild(count13),g14=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,390).setFill("images/"+l.crops[13].harvest).setSize(30,30),dg.appendChild(g14),i14=(new lime.Label).setText(" +"+l.crops[13].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(188,421),dg.appendChild(i14),i14I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,410).setFill(imgArray11[0]).setSize(18,18),dg.appendChild(i14I);var Eg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(250,135).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Eg),countTools=(new lime.Label).setText(player.tools).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(26,15),Eg.appendChild(countTools),g15=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,17).setFill(imgArray[30]).setSize(30,30),Eg.appendChild(g15),i15=(new lime.Label).setText("+5").setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Eg.appendChild(i15),i15I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Eg.appendChild(i15I);var Mg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,135).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Mg),count22=(new lime.Label).setText(player.cropsStored[22].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(12,18),Mg.appendChild(count22),g22=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,15).setFill("images/"+l.crops[22].harvest).setSize(30,30),Mg.appendChild(g22),i22=(new lime.Label).setText(" +"+l.crops[22].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Mg.appendChild(i22),i22I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Mg.appendChild(i22I);var Lg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,213).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Lg),count23=(new lime.Label).setText(player.cropsStored[23].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(12,18),Lg.appendChild(count23),g23=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,15).setFill("images/"+l.crops[23].harvest).setSize(30,30),Lg.appendChild(g23),i23=(new lime.Label).setText(" +"+l.crops[23].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Lg.appendChild(i23),i23I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Lg.appendChild(i23I);var Ng=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,290).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Ng),count24=(new lime.Label).setText(player.cropsStored[24].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(12,18),Ng.appendChild(count24),g24=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,15).setFill("images/"+l.crops[24].harvest).setSize(30,30),Ng.appendChild(g24),i24=(new lime.Label).setText(" +"+l.crops[24].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Ng.appendChild(i24),i24I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Ng.appendChild(i24I);var Og=(new lime.Sprite).setAnchorPoint(0,0).setPosition(118,435).setSize(80,44).setFill(imgArray[18].src);dg.appendChild(Og),count25=(new lime.Label).setText(player.cropsStored[25].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(21,17),Og.appendChild(count25),g25=(new lime.Sprite).setAnchorPoint(0,0).setPosition(43,5).setFill("images/"+l.crops[25].harvest).setSize(30,30),Og.appendChild(g25),i25=(new lime.Label).setText(" +"+l.crops[25].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(30,35),Og.appendChild(i25),i25I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,25).setFill(imgArray11[0]).setSize(18,18),Og.appendChild(i25I);var Bg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(250,213).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Bg),count26=(new lime.Label).setText(player.cropsStored[26].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(12,18),Bg.appendChild(count26),g26=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,15).setFill("images/"+l.crops[26].harvest).setSize(30,30),Bg.appendChild(g26),i26=(new lime.Label).setText(" +"+l.crops[26].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Bg.appendChild(i26),i26I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Bg.appendChild(i26I);var Rg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,365).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Rg),count27=(new lime.Label).setText(player.cropsStored[27].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(12,18),Rg.appendChild(count27),g27=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,15).setFill("images/"+l.crops[27].harvest).setSize(30,30),Rg.appendChild(g27),i27=(new lime.Label).setText(" +"+l.crops[27].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Rg.appendChild(i27),i27I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Rg.appendChild(i27I);var Dg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(250,293).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Dg),count28=(new lime.Label).setText(player.cropsStored[28].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(12,18),Dg.appendChild(count28),g28=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,15).setFill("images/"+l.crops[28].harvest).setSize(30,30),Dg.appendChild(g28),i28=(new lime.Label).setText(" +"+l.crops[28].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Dg.appendChild(i28),i28I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Dg.appendChild(i28I);var Ug=(new lime.Sprite).setAnchorPoint(0,0).setPosition(250,368).setSize(54,70).setFill(imgArray[18].src);dg.appendChild(Ug),count29=(new lime.Label).setText(player.cropsStored[29].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Proxima Nova").setPosition(12,18),Ug.appendChild(count29),g29=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,15).setFill("images/"+l.crops[29].harvest).setSize(30,30),Ug.appendChild(g29),i29=(new lime.Label).setText(" +"+l.crops[29].revenue).setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(12).setPosition(35,58),Ug.appendChild(i29),i29I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,45).setFill(imgArray11[0]).setSize(20,20),Ug.appendChild(i29I);var Gg=0,Wg=0,Vg=0,Jg=0,Yg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("images/UI/blocker.png").setHidden(!1);dg.appendChild(Yg);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,305).setFill(imgArray[78]);Yg.appendChild(u);var qg=(new lime.Label).setText(l.crops[26].name).setFontColor("#00004d").setFontFamily("Proxima Nova").setFontSize(26).setPosition(130,45);u.appendChild(qg);var jg=(new lime.Label).setText(Wg+"/"+Gg).setFontColor("#00004d").setFontFamily("Proxima Nova").setFontSize(22).setPosition(l.width/2-34,145);u.appendChild(jg);var Kg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,70).setFill("images/"+l.crops[26].harvest).setSize(50,50);u.appendChild(Kg);var $g=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-90,165).setFill(imgArray[18]).setSize(120,38);u.appendChild($g);o=(new lime.Sprite).setPosition(90,20).setSize(35,35).setFill(imgArray11[0]);$g.appendChild(o);var Xg=(new lime.Label).setText(" 0 ").setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(22).setPosition(l.width/2-50,186);u.appendChild(Xg);y=(new lime.Label).setText("OR").setFontColor("#004d00").setFontFamily("Proxima Nova").setFontSize(18).setPosition(l.width/2-35,219);u.appendChild(y);var Qg=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-100,220).setFill("images/UI/viewAdSale1.png").setSize(140,50);u.appendChild(Qg);var Zg=(new lime.Label).setText(" 0 ").setFontColor("#FFFFFF").setFontFamily("Proxima Nova").setFontSize(22).setPosition(72,30);Qg.appendChild(Zg);w=(new lime.Sprite).setPosition(115,25).setSize(35,35).setFill(imgArray11[0]);Qg.appendChild(w);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,80).setFill("images/UI/downBtn.png").setSize(30,30);u.appendChild(E);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,80).setFill(imgArray[83]).setSize(30,30);u.appendChild(N);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,285).setFill(imgArray[21]).setSize(40,40);u.appendChild(Y),Yg.setHidden(!0),goog.events.listen(Y,["mousedown","touchstart"],function(e){Yg.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(N,["mousedown","touchstart"],function(e){l.cropUp(Vg),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(E,["mousedown","touchstart"],function(e){l.cropDown(Vg),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})});var ec=0;goog.events.listen(rd,["mousedown","touchstart"],function(){ey(),gd.setHidden(!0),townSceneActive=0,l.updateMoney(),Gf(),1==parseInt(scenebefore)?(r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,d.replaceScene(g,lime.transitions.SlideInDown),sceneActive="Home"):2==scenebefore?(d.replaceScene(mi,lime.transitions.SlideInDown),sceneActive="Pasture",cowSound.play()):3==scenebefore?(sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInDown)):4==scenebefore?(d.replaceScene(Fm,lime.transitions.SlideInDown),sceneActive="Vineyard"):5==scenebefore?(d.replaceScene(ac,lime.transitions.SlideInDown),chickenSound.play(),sceneActive="LS",pig1Sound.play(),ny()):sceneActive=7==scenebefore?(d.replaceScene(fh,lime.transitions.SlideInDown),"House"):10==scenebefore?(d.replaceScene(uy,lime.transitions.SlideInDown),"Windmill"):(r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,d.replaceScene(g,lime.transitions.SlideInDown),"Home"),Bl.setHidden(!1),Rl.setHidden(!1),dg.setHidden(!0),gg.setHidden(!0),rd.setHidden(!1),1==showAdCountry&&1==ec?(ec=0,lime.scheduleManager.callAfter(function(){_A(),localStorage.setItem("MedFarm_LoadAd",1),localStorage.setItem("MedFarm_NoBoost",1),localStorage.setItem("MedFarm_StarCashBoost",0),globalModalBlock=0;try{Enhance.logEvent("adView_CloseTown")}catch(e){console.log("logging failed")}},this,1800)):ec+=1}),goog.events.listen(cg,["mousedown","touchstart"],function(){ey(),townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market",Bl.setHidden(!1),Rl.setHidden(!1),rd.setHidden(!1),Wl.setHidden(!1),gd.setHidden(!0),1==seenPremiumPromo?ag.setHidden(!0):ag.setHidden(!1),lime.scheduleManager.callAfter(function(){try{Uf()}catch(e){console.log(e)}},this,1500)});goog.events.listen(Ag,["mousedown","touchstart"],function(){l.updateCropsandCash(0)}),goog.events.listen(wg,["mousedown","touchstart"],function(){l.updateCropsandCash(1)}),goog.events.listen(Fg,["mousedown","touchstart"],function(){l.updateCropsandCash(2)}),goog.events.listen(Pg,["mousedown","touchstart"],function(){l.updateCropsandCash(3)}),goog.events.listen(vg,["mousedown","touchstart"],function(){l.updateCropsandCash(4)}),goog.events.listen(Cg,["mousedown","touchstart"],function(){l.updateCropsandCash(5)}),goog.events.listen(Ig,["mousedown","touchstart"],function(){l.updateCropsandCash(6)}),goog.events.listen(bg,["mousedown","touchstart"],function(){l.updateCropsandCash(7)}),goog.events.listen(Tg,["mousedown","touchstart"],function(){l.updateCropsandCash(8)}),goog.events.listen(Hg,["mousedown","touchstart"],function(){l.updateCropsandCash(9)}),goog.events.listen(_g,["mousedown","touchstart"],function(){l.updateCropsandCash(10)}),goog.events.listen(xg,["mousedown","touchstart"],function(){l.updateCropsandCash(11)}),goog.events.listen(zg,["mousedown","touchstart"],function(){l.updateCropsandCash(12)}),goog.events.listen(kg,["mousedown","touchstart"],function(){l.updateCropsandCash(13)}),goog.events.listen(Eg,["mousedown","touchstart"],function(){l.updateCropsandCash(14)}),goog.events.listen(Mg,["mousedown","touchstart"],function(){l.updateCropsandCash(22)}),goog.events.listen(Lg,["mousedown","touchstart"],function(){l.updateCropsandCash(23)}),goog.events.listen(Ng,["mousedown","touchstart"],function(){l.updateCropsandCash(24)}),goog.events.listen(Og,["mousedown","touchstart"],function(){l.updateCropsandCash(25)}),goog.events.listen(Bg,["mousedown","touchstart"],function(){l.updateCropsandCash(26)}),goog.events.listen(Rg,["mousedown","touchstart"],function(){l.updateCropsandCash(27)}),goog.events.listen(Dg,["mousedown","touchstart"],function(){l.updateCropsandCash(28)}),goog.events.listen(Ug,["mousedown","touchstart"],function(){l.updateCropsandCash(29)}),l.updateCropsandCash=function(e){var t=Yg.getHidden();14==e&&t?(Vg=parseInt(e),Gg=player.tools,Wg=player.tools,Jg=5*player.tools,qg.setText("Sell Tools"),Xg.setText(Jg),Zg.setText(Jg+2*Wg),jg.setText(Wg+"/"+Gg),Kg.setFill(imgArray[30]),Yg.setHidden(!1),goog.events.listen($g,["mousedown","touchstart"],function(e){Yg.getHidden()||(l.finalSale(Vg),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){}))}),goog.events.listen(Qg,["mousedown","touchstart"],function(e){Yg.getHidden()||(l.finalSale2(Vg),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){}))})):0<player.cropsStored[e].stored&&t&&(Vg=parseInt(e),Gg=player.cropsStored[e].stored,Wg=player.cropsStored[e].stored,Jg=l.crops[e].revenue*player.cropsStored[e].stored,qg.setText("Sell "+l.crops[e].name),Xg.setText(Jg),jg.setText(Wg+"/"+Gg),Zg.setText(Jg+2*Wg),Kg.setFill("images/"+l.crops[e].harvest),Yg.setHidden(!1),goog.events.listen($g,["mousedown","touchstart"],function(e){Yg.getHidden()||l.finalSale(Vg),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(Qg,["mousedown","touchstart"],function(e){Yg.getHidden()||l.finalSale2(Vg),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}))},l.cropDown=function(e){Wg<100?--Wg:100<=Wg&&Wg<1e3?Wg-=10:1e3<=Wg&&(Wg-=100),Wg<=1&&(Wg=1),Jg=14==e?5*Wg:l.crops[e].revenue*Wg,jg.setText(Wg+"/"+Gg),Xg.setText(Jg),Zg.setText(Jg+2*Wg)},l.cropUp=function(e){Wg+=1,14==e&&(Wg+=9),Gg<=Wg&&(Wg=Gg),Jg=14==e?5*Wg:l.crops[e].revenue*Wg,jg.setText(Wg+"/"+Gg),Xg.setText(Jg),Zg.setText(Jg+2*Wg)},l.interMedSale=function(e){l.finalSale(e)},l.finalSale=function(e){var t=player.money+Jg;isNaN(t)||(player.money=player.money+Jg),moneyEver+=Jg,localStorage.GuiGhostFarms_moneyEver=moneyEver,purchaseSound.play(),Yg.setHidden(!0),e<14||22<=e?player.cropsStored[e].stored=Math.abs(parseInt(player.cropsStored[e].stored-Wg)):14==e&&(player.tools=player.tools-Wg),2<=e&&(questParams.felicia[1].completed=1,0==questParams.felicia[0].highestcompleted&&(questParams.felicia[0].highestcompleted=1)),Ad(),Yg.setHidden(!0),Yf("+ "+Jg+" ",imgArray11[0].src,1),l.updateMoney(),$g.removeEventListener("mousedown",function(){console.log("howmanysellBtn removed listener")})},l.finalSale2=function(e){var t=player.money+Jg+2*Wg;isNaN(t)||(player.money=player.money+Jg+2*Wg),moneyEver=moneyEver+Jg+2*Wg,localStorage.GuiGhostFarms_moneyEver=moneyEver,purchaseSound.play(),Yg.setHidden(!0),e<14||22<=e?player.cropsStored[e].stored=Math.abs(parseInt(player.cropsStored[e].stored-Wg)):14==e&&(player.tools=player.tools-Wg),Ad(),Yg.setHidden(!0),Yf("+ "+(Jg+2*Wg)+" ",imgArray11[0].src,1),_A(),l.updateMoney(),Qg.removeEventListener("mousedown",function(){console.log("howmanysellBtn removed listener")}),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_SaleBoost")}catch(e){console.log("logging failed")}};var tc=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),O=(new lime.Layer).setAnchorPoint(0,0);introFill1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height),tc.appendChild(O),O.appendChild(introFill1),playGameBtn=(new lime.GlossyButton).setColor("#126423").setText("").setPosition(155,360).setSize(l.width/2-35,60),O.appendChild(playGameBtn);var ic=(new lime.Label).setText("PLAY").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(0,5).setFontSize(36);playGameBtn.appendChild(ic),playGameBtn.setHidden(!0);var oc="Loading.",sc=0;lime.scheduleManager.scheduleWithDelay(function(){sc++,oc="."+oc+".",ic.setText(oc).setFontSize(24),12==sc&&(ic.setText("PLAY").setFontSize(36),playGameBtn.setHidden(!1))},this,300,12),lime.audio.setMute(!0),goog.events.listen(playGameBtn,["mousedown","touchstart"],function(){lime.audio.setMute(!1),r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,0==(localStorage.getItem("GuiGhostFarms_muted")||0)?(lime.audio.setMute(!1),themeSongNew.play(!0),smithSound.play()):(lime.audio.setMute(!0),oy(1));var e=localStorage.getItem("showStory")||0;if(1==e)d.replaceScene(qf,lime.transitions.Dissolve),Kf.setHidden(!1),Xf.setHidden(!1),lime.scheduleManager.callAfter(function(){fr(),rc("intro")},this,2e3);else{Gf();try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}d.replaceScene(g,lime.transitions.Dissolve),sceneActive="Home",sceneBefore=1,lime.scheduleManager.callAfter(function(){!async function(){$t.setHidden(!0),Xt.setHidden(!0),Qt.setHidden(!0),Zt.setHidden(!0),ei.setHidden(!0),ti.setHidden(!0),ii.setHidden(!0),ir();var e=new Date,t=new Date(e.getFullYear(),0,0),t=e-t,t=Math.floor(t/864e5);if(localStorage.setItem("lastLoginDay",t),0<li){if(li==t)I.setHidden(!1),ri.setHidden(!0),Gt.setHidden(!0);else if(li<t-1)console.log("more than 1 day ago"),I.setHidden(!1),enteredPrizeToday=0,localStorage.setItem("enteredPrizeToday",0),Gt.setHidden(!1),ai=0,localStorage.setItem("daysInRow",0),$t.setHidden(!1),Wt.setFill("#00ff00"),oi.setText("+100 Coins").setFontColor("#E8FC08"),Xt.setHidden(!0),Qt.setHidden(!0),Zt.setHidden(!0),ei.setHidden(!0),ti.setHidden(!0),ii.setHidden(!0),ri.setHidden(!1);else if(li==t-1)switch(I.setHidden(!1),Gt.setHidden(!1),ri.setHidden(!1),6<ai&&(ai=0,localStorage.setItem("daysInRow",0)),ai){case 0:oi.setText("+100 Coins").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00");try{Enhance.logEvent("achieved_Daily1")}catch(e){console.log("logging failed")}break;case 1:oi.setText("+150 Tools").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00");try{Enhance.logEvent("achieved_Daily2")}catch(e){console.log("logging failed")}break;case 2:oi.setText("+5 Stars").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00");try{Enhance.logEvent("achieved_Daily3")}catch(e){console.log("logging failed")}break;case 3:oi.setText("+250 Coins").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00");try{Enhance.logEvent("achieved_Daily4")}catch(e){console.log("logging failed")}break;case 4:oi.setText("+10 Stars").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00"),ei.setHidden(!1),qt.setFill("#00ff00");try{Enhance.logEvent("achieved_Daily5")}catch(e){console.log("logging failed")}break;case 5:oi.setText("+150 Wood").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00"),ei.setHidden(!1),qt.setFill("#00ff00"),ti.setHidden(!1),jt.setFill("#00ff00");try{Enhance.logEvent("achieved_Daily6")}catch(e){console.log("logging failed")}break;case 6:oi.setText("+1,000 Coins").setFontColor("#E8FC08"),$t.setHidden(!1),Wt.setFill("#00ff00"),Xt.setHidden(!1),Vt.setFill("#00ff00"),Qt.setHidden(!1),Jt.setFill("#00ff00"),Zt.setHidden(!1),Yt.setFill("#00ff00"),ei.setHidden(!1),qt.setFill("#00ff00"),ti.setHidden(!1),jt.setFill("#00ff00"),ii.setHidden(!1),Kt.setFill("#00ff00");try{Enhance.logEvent("achieved_Daily7")}catch(e){console.log("logging failed")}break;default:console.log("none")}localStorage.setItem("lastLoginDay",t)}return console.log("async dailylogin check"),1}(),validCropsStored()},this,1500)}});var nc=0;function rc(e){if("menuStory"==e&&(nc=0,eA.setHidden(!0),tA.setHidden(!0),e="intro"),"intro"==e){switch(gA.setHidden(!1),eA.setHidden(!0),oA.setHidden(!0),Qf.setText("Hi - I am Fordwin and I am 18 years old").setFontSize(15).setPosition(100,75).setHidden(!1),Xf.setPosition(-12,-15).setSize(200,75),nc){case 0:Qf.setText("Hi - I am Fordwin and it is my 18th birthday").setFontSize(15).setPosition(100,60).setHidden(!1),Xf.setPosition(-12,-65).setSize(200,75),eA.setHidden(!0),tA.setHidden(!0),gA.setText("Skip");break;case 1:Qf.setText("I just inherited a farm that used to belong to some far off great great uncle I have never seen or heard of.").setPosition(100,80),Xf.setPosition(-12,-154).setSize(200,165);break;case 2:Qf.setText("I am scared to leave my home and start a new life, yet excited too.").setPosition(100,75),Xf.setPosition(-12,-134).setSize(200,125);break;case 3:Qf.setText("The farm is far away, and I have never been there.").setPosition(100,67),Xf.setPosition(-12,-79).setSize(200,85);break;case 4:Qf.setText("I have always lived in this shack with my parents and will need your help").setPosition(100,67),Xf.setPosition(-12,-124).setSize(200,120);break;case 5:Qf.setText("Hopefully the local townspeople will buy my crops at the market").setPosition(100,70),Xf.setPosition(-12,-134).setSize(200,115);break;case 6:Qf.setText("It will be scary to go alone, but can't miss this opportunity to be a landowner").setPosition(100,67),Xf.setPosition(-12,-134).setSize(200,135);break;case 7:Xf.setHidden(!0),eA.setHidden(!1),iA.setText("Fordwin.... WAIT!").setPosition(87,75).setSize(180,115),tA.setHidden(!1);break;case 8:tA.setHidden(!0),Xf.setHidden(!1),eA.setHidden(!1),Qf.setText("Huh? Denise, my love, I did not assume you would want to leave with me").setPosition(100,75),Xf.setPosition(-12,-134).setSize(200,125);break;case 9:tA.setHidden(!1),Xf.setHidden(!0),eA.setHidden(!1).setFill(imgArrayDenise[9]),iA.setText("You're not getting away from me that easy!"),tA.setPosition(-125,-125).setSize(175,125);break;case 10:tA.setHidden(!1),Xf.setHidden(!0),eA.setHidden(!1).setFill(imgArrayDenise[8]),iA.setText("I'm coming with you!"),tA.setPosition(-130,-95).setSize(180,105);break;case 11:Xf.setHidden(!0),oA.setHidden(!1),sA.setHidden(!1),nA.setText("Son - take these supplies to help you get started"),tA.setHidden(!0),eA.setHidden(!1);break;case 12:Xf.setHidden(!0),oA.setHidden(!1),nA.setText("Take this Family Heirloom Amulet and some gold"),tA.setHidden(!0),eA.setHidden(!1),successSound.play(),Yf("+ 500",imgArray11[0].src,"intro",3e3,"left"),Yf("+ 50",imgArray[30].src,"intro",3e3,"left"),Yf("Recieved Family Heirloom",imgArrayItems[40].src,"intro",4e3,"left"),foundHeir.style.display="block",foundHeirSubText.innerHTML="See the Inventory Heirloom tab for your set",heirImgParent.style.display="none",foundHeirClose.style.display="block",heirChestDelayText.style.display="none",itemReceivedHeir=collectItems.digUpCollect[8].name,collectItems.digUpCollect[8].owned=1,foundHeirTitle.innerHTML=itemReceivedHeir,foundHeirImage.style.backgroundImage="url('"+imgArrayItems[40].src+"')",localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems));break;case 13:oA.setHidden(!1),sA.setHidden(!0),Qf.setText("Thank's Dad, Now let's go!").setFontSize(18).setPosition(100,60),Xf.setPosition(-12,-74).setHidden(!1),tA.setHidden(!0),eA.setHidden(!1);break;case 14:Qf.setHidden(!0),eA.setHidden(!1),nc=0,Xf.setHidden(!0),function(){aA.setText(""),lA.setText(""),lime.scheduleManager.callAfter(function(){rA.setOpacity(.1),rA.setHidden(!1)},this,150),lime.scheduleManager.callAfter(function(){rA.setOpacity(.2)},this,300),lime.scheduleManager.callAfter(function(){rA.setOpacity(.3)},this,450),lime.scheduleManager.callAfter(function(){rA.setOpacity(.4)},this,600),lime.scheduleManager.callAfter(function(){rA.setOpacity(.5)},this,750),lime.scheduleManager.callAfter(function(){rA.setOpacity(.6)},this,900),lime.scheduleManager.callAfter(function(){rA.setOpacity(.7)},this,1050),lime.scheduleManager.callAfter(function(){rA.setOpacity(.8),aA.setText("The Journey")},this,1200),lime.scheduleManager.callAfter(function(){rA.setOpacity(.9)},this,1350),lime.scheduleManager.callAfter(function(){lA.setText("Fordwin and Denise .").setHidden(!1),aA.setText("The Journey").setHidden(!1)},this,400),lime.scheduleManager.callAfter(function(){lA.setText("Fordwin and Denise packed all their belongings ")},this,800),lime.scheduleManager.callAfter(function(){lA.setText("Fordwin and Denise packed all their belongings and left that very night,")},this,1200),lime.scheduleManager.callAfter(function(){lA.setText("Fordwin and Denise packed all their belongings and left that very night, eager for a new life.")},this,1600),lime.scheduleManager.callAfter(function(){lA.setText("Fordwin and Denise packed all their belongings and left that very night, eager for a new life.")},this,2e3),lime.scheduleManager.callAfter(function(){rA.setOpacity(1),themeSongNew.stop(),introSound.play();var t=0-l.height;lA.setHidden(!0),aA.setHidden(!0),lime.scheduleManager.scheduleWithDelay(function e(){t<0?t+=3:lime.scheduleManager.unschedule(e,this),dA.setPosition(0,t)},this,25,1e3),lime.scheduleManager.callAfter(function(){lA.setText("Click Continue to Proceed").setHidden(!1)},this,4e3),lime.scheduleManager.callAfter(function(){introSound.stop()},this,9e3)},this,5e3)}(),localStorage.setItem("showStory",0),gA.setText("Continue").setSize(100,22);break;default:Qf.setText("Hi - I am Fordwin and I am 18 years old").setFontSize(15).setPosition(100,75),Xf.setPosition(-12,-60).setSize(200,75),eA.setHidden(!0)}nc++}"Pasture"==e&&(successSound.play(),lime.scheduleManager.callAfter(function(){d.replaceScene(mi,lime.transitions.SlideInLeft),jf.setHidden(!0),sceneActive="Pasture",cowSound.play(),lime.scheduleManager.callAfter(function(){try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}},this,2e3)},this,5e3),gA.setHidden(!0)),"Orchard"==e&&(successSound.play(),lime.scheduleManager.callAfter(function(){sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInRight),lime.scheduleManager.callAfter(function(){validCropsStored()},this,1e3),lime.scheduleManager.callAfter(function(){try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}},this,2e3),waterfallSound.play(!0)},this,5e3),gA.setHidden(!0)),"Vineyard"==e&&(successSound.play(),lime.scheduleManager.callAfter(function(){d.replaceScene(Fm,lime.transitions.SlideInLeft),sceneActive="Vineyard",lime.scheduleManager.callAfter(function(){try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}},this,2e3)},this,5e3),gA.setHidden(!0)),"LiveStock"==e&&(successSound.play(),lime.scheduleManager.callAfter(function(){Gf(),d.replaceScene(ac,lime.transitions.SlideInRight),sceneActive="LS",waterfallSound.stop(),chickenSound.play(),pig1Sound.play(),ny(),lime.scheduleManager.callAfter(function(){try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}},this,2e3)},this,5e3),gA.setHidden(!0))}d.replaceScene(tc),lime.scheduleManager.callAfter(function(){document.getElementById("loadingGG").style.display="none"},this,3e3);var ac=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),b=(new lime.Layer).setAnchorPoint(0,0),o=(new lime.Sprite).setPosition(0,0).setSize(l.width,l.height);ac.appendChild(b),b.appendChild(o),5!=sceneBefore&&(chickenSound.stop(),pig1Sound.stop(),pig2Sound.stop(),pig3Sound.stop());y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(l.controlsLayer_w,l.controlsLayer_h-24).setFill(imgArray[75]);b.appendChild(y);w=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);b.appendChild(w);var lc=(new lime.Label).setText(player.money).setFontColor("#ffffff").setPosition(235,24).setFontSize(18).setFontFamily("Proxima Nova");b.appendChild(lc);var dc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,45).setSize(l.controlsLayer_w,420).setFill("images/livestockPens/livestockPensBack3-1.png");1<coopLevel&&dc.setFill("images/livestockPens/livestockPensBackUpCoop-1.png"),b.appendChild(dc);var gc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,210).setSize(39,42).setFill("images/toolUp3.png");b.appendChild(gc);var cc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,240).setSize(110,80).setFill(imgArray[26]);b.appendChild(cc);var mc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,185).setSize(120,200).setFill(imgArray[24].src);b.appendChild(mc);var pc=(new lime.Label).setText("60").setPosition(118,275).setSize(40,25).setFontColor("#FFFFFF").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]),hc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);b.appendChild(pc),pc.appendChild(hc),hc.setRotation(-10);var uc=-10;pc.setHidden(!0),cc.setHidden(!0),mc.setHidden(!0),lime.scheduleManager.scheduleWithDelay(function(){var e;"LS"==sceneActive&&coopLevel<2&&((e=gc.getPosition()).y+=5,215<e.y&&(e.y=210),gc.setPosition(e))},this,500);var yc=60;if(goog.events.listen(gc,["mousedown","touchstart"],function(){lime.scheduleManager.callAfter(function(){Ac(0)},this,100)}),1<coopLevel)try{goog.events.removeAll(gc)}catch(e){return}var Sc=0,fc=hammerSound;function Ac(e){var t,i,o;0==globalModalBlock&&0==barnUpInProgressLS&&(500<player.tools||1==e)&&(0==e&&(player.tools=player.tools-500),barnUpInProgressLS=1,gc.setHidden(!0),mc.setHidden(!1),cc.setHidden(!1),pc.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){35<(uc+=10)&&(uc=-10),hc.setRotation(uc)},this,200,300),t=120,i=55,o=185,lime.scheduleManager.scheduleWithDelay(function(){if(--yc,pc.setText(yc),upgradesInProgress.buildings[4].timeLeft=yc,upgradesInProgress.buildings[4].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),yc<=0){pc.setHidden(!0),cc.setHidden(!0),mc.setHidden(!0),yc=60,dc.setFill("images/livestockPens/livestockPensBackUpCoop-1.png"),lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),coopLevel=2,localStorage.GuiGhostFarms_coopLevel=2,Pc.setHidden(!1),upgradesInProgress.buildings[4].timeLeft=0,upgradesInProgress.buildings[4].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress));try{goog.events.removeAll(gc)}catch(e){return}barnUpInProgressLS=0,Yf("Coop Upgraded",imgArray[30].src,"livestock",3e3),fc.stop()}5<=++Sc&&(fc.play(),Sc=0)},this,1e3,60),lime.scheduleManager.scheduleWithDelay(function(){mc.setPosition(i,o).setSize(t,200),t+=10,o-=5,(i-=5)<40&&(i=55,o=185,t=120)},this,250,240))}u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,436).setSize(245,25).setFill(imgArray[77]);b.appendChild(u),roadLeftLS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-12).setSize(40,40).setFill(imgArray[48]),u.appendChild(roadLeftLS);var wc=(new lime.Sprite).setPosition(180,70).setSize(60,60).setFill("images/stars1.png").setHidden(!0);b.appendChild(wc);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,l.height-l.controlsLayer_h-5).setSize(l.controlsLayer_w,l.controlsLayer_h+5).setFill(imgArray[69]);b.appendChild(Y);var Fc=(new lime.Sprite).setPosition(90,282).setFill("images/livestockPens/egg3.png").setSize(17,13);b.appendChild(Fc);var Pc=(new lime.Sprite).setPosition(123,292).setFill("images/livestockPens/egg3.png").setSize(17,13);b.appendChild(Pc),coopLevel<2&&Pc.setHidden(!0),2==coopLevel&&gc.setHidden(!0);var vc=(new lime.Sprite).setPosition(155,282).setFill("images/livestockPens/egg3.png").setSize(17,13);b.appendChild(vc),Fc.setHidden(!0),Pc.setHidden(!0),vc.setHidden(!0);var Cc=0,Ic={egg1:!1,egg2:!1,egg3:!1},bc={egg1:!1,egg2:!1,egg3:!1},Tc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,210).setSize(45,55).setFill(imgArray[90]);b.appendChild(Tc);var Hc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,5).setSize(35,24).setFill("images/"+l.crops[11].harvest);Tc.appendChild(Hc);var _c=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,37).setSize(30,18).setFontFamily("Proxima Nova");Tc.appendChild(_c),Tc.setHidden(!0);var xc=0;player.cropsStored[5].stored<=0&&xc<=0&&(Fc.setHidden(!0),Pc.setHidden(!0),vc.setHidden(!0),Tc.setHidden(!1),Tc.setFill("images/UI/needCorn.png"),Hc.setHidden(!0),_c.setHidden(!0)),l.LivestockHarvest=function(e){lime.scheduleManager.scheduleWithDelay(function(){Cc+=1,0<xc&&xc<4||1<=e.cropsStored[5].stored&&xc<4?(Fc.setHidden(!0),Pc.setHidden(!0),vc.setHidden(!0),2==Cc&&(Fc.setHidden(!1),Ic[Fc]=!1,e.cropsStored[5].stored=e.cropsStored[5].stored-1,xc=1,_c.setText("+ 3 "),Tc.setHidden(!1).setFill(imgArray[90]),Hc.setHidden(!1),_c.setHidden(!1)),3==Cc&&(vc.setHidden(!1),Ic[vc]=!1,e.cropsStored[5].stored=e.cropsStored[5].stored-1,xc=2,_c.setText("+ 6 "),Tc.setHidden(!1).setFill(imgArray[90]),Hc.setHidden(!1),_c.setHidden(!1)),4==Cc&&1<coopLevel&&(Pc.setHidden(!1),Ic[Pc]=!1,e.cropsStored[5].stored=e.cropsStored[5].stored-1,xc=3,_c.setText("+ 9 "),Tc.setHidden(!1).setFill(imgArray[90]),Hc.setHidden(!1),_c.setHidden(!1)),5<Cc&&(Cc=0),um.setText(e.cropsStored[5].stored),ym.setText(e.cropsStored[1].stored)):e.cropsStored[5].stored<=1&&xc<=0&&(Tc.setHidden(!1),Fc.setHidden(!0),Pc.setHidden(!0),vc.setHidden(!0),Tc.setFill("images/UI/needCorn.png"),Hc.setHidden(!0),_c.setHidden(!0))},this,15e3)},l.LivestockHarvest(player),goog.events.listen(Tc,["mousedown","touchstart","touchmove"],function(){if(1<=xc){switch(xc){case 1:l.eggClick(1);break;case 2:l.eggClick(1),lime.scheduleManager.callAfter(function(){l.eggClick(2)},this,100);break;case 3:l.eggClick(1),lime.scheduleManager.callAfter(function(){l.eggClick(2)},this,1e3),lime.scheduleManager.callAfter(function(){l.eggClick(3)},this,1e3)}Tc.setHidden(!0),xc=0}else hm.setHidden(!1),um.setText(player.cropsStored[5].stored),ym.setText(player.cropsStored[1].stored)}),l.eggClick=function(e){1==e?(bc[Fc]=!0,player.cropsStored[11].stored=player.cropsStored[11].stored+3,Ic[Fc]=!0,Cc=0,count11.setText(player.cropsStored[11].stored),Wr.setText(player.cropsStored[11].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,272)},this,100),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,262)},this,200),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,242)},this,300),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,222)},this,400),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,182)},this,500),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,150)},this,600),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,130)},this,700),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,120)},this,730),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,110)},this,760),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,100)},this,790),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,90)},this,820),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,70)},this,850),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,50)},this,875),lime.scheduleManager.callAfter(function(){Fc.setHidden(!0),bc[Fc]=!1},this,900),lime.scheduleManager.callAfter(function(){Fc.setPosition(90,282)},this,1e3)):2==e?(player.cropsStored[11].stored=player.cropsStored[11].stored+3,Cc=0,bc[vc]=!0,count11.setText(player.cropsStored[11].stored),Wr.setText(player.cropsStored[11].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){vc.setPosition(155,272)},this,100),lime.scheduleManager.callAfter(function(){vc.setPosition(155,262)},this,200),lime.scheduleManager.callAfter(function(){vc.setPosition(155,242)},this,300),lime.scheduleManager.callAfter(function(){vc.setPosition(155,222)},this,400),lime.scheduleManager.callAfter(function(){vc.setPosition(155,182)},this,500),lime.scheduleManager.callAfter(function(){vc.setPosition(155,150)},this,600),lime.scheduleManager.callAfter(function(){vc.setPosition(155,130)},this,700),lime.scheduleManager.callAfter(function(){vc.setPosition(155,120)},this,730),lime.scheduleManager.callAfter(function(){vc.setPosition(155,110)},this,760),lime.scheduleManager.callAfter(function(){vc.setPosition(155,100)},this,790),lime.scheduleManager.callAfter(function(){vc.setPosition(155,90)},this,820),lime.scheduleManager.callAfter(function(){vc.setPosition(155,70)},this,850),lime.scheduleManager.callAfter(function(){vc.setPosition(155,50)},this,875),lime.scheduleManager.callAfter(function(){vc.setHidden(!0),bc[vc]=!1},this,900),lime.scheduleManager.callAfter(function(){vc.setPosition(155,282).setHidden(!0)},this,1e3)):3==e&&(player.cropsStored[11].stored=player.cropsStored[11].stored+3,Cc=0,bc[Pc]=!0,count11.setText(player.cropsStored[11].stored),Wr.setText(player.cropsStored[11].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,282)},this,100),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,272)},this,150),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,262)},this,200),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,252)},this,250),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,242)},this,300),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,222)},this,400),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,182)},this,500),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,150)},this,600),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,130)},this,700),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,120)},this,730),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,110)},this,760),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,100)},this,790),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,90)},this,820),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,70)},this,850),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,50)},this,875),lime.scheduleManager.callAfter(function(){Pc.setHidden(!0),bc[Pc]=!1},this,900),lime.scheduleManager.callAfter(function(){Pc.setPosition(123,292)},this,1e3))};var zc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(16,115).setSize(36,36).setFill(imgArrayEva[0].src);b.appendChild(zc);var kc=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(25,-4).setSize(25,23).setOpacity(.2);zc.appendChild(kc);var Ec=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-15).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);function Mc(){evaSound.play();var e=Math.round(5*Math.random());Am.setHidden(!1),wm.setText(questParamsEva.speech[e].text),kc.setHidden(!0),Ec.setHidden(!0),lime.scheduleManager.callAfter(function(){kc.setHidden(!1),Ec.setHidden(!1)},this,2e4)}zc.appendChild(Ec),goog.events.listen(zc,["mousedown","touchstart"],function(){Mc()}),goog.events.listen(kc,["mousedown","touchstart"],function(){Mc()});var Lc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(175,350).setSize(23,22).setFill(imgArray3[3]);b.appendChild(Lc);var Nc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,315).setSize(23,22).setFill(imgArray3[3]);b.appendChild(Nc);var Oc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(156,309).setSize(23,22).setFill(imgArray3[3]);b.appendChild(Oc);var Bc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(118,168).setSize(50,26).setFill(imgArray3[27]);b.appendChild(Bc);var Rc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,100).setSize(22,33).setFill(imgArray3[24]);b.appendChild(Rc);var Dc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(195,135).setSize(21,33).setFill(imgArray3[24]);b.appendChild(Dc),goog.events.listen(Bc,["mousedown","touchstart"],function(){pig1Sound.play()}),goog.events.listen(Rc,["mousedown","touchstart"],function(){pig2Sound.play()}),goog.events.listen(Dc,["mousedown","touchstart"],function(){pig3Sound.play()});var Uc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(262,421).setSize(38,38).setFill(imgArray3[34]);b.appendChild(Uc);var Gc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-109,-105).setSize(156,105).setFill(imgArray[117]).setHidden(!0);Uc.appendChild(Gc);N=(new lime.Label).setText("My Buddies told me to keep everyone away from their Fishing Pond").setPosition(80,60).setSize(145,100).setFontColor("black").setFontSize(15);Gc.appendChild(N),goog.events.listen(Uc,["mousedown","touchstart"],function(e){0==globalModalBlock&&(Gc.setHidden(!1),lime.scheduleManager.callAfter(function(){Gc.setHidden(!0)},this,5500))});var Wc=0,Vc=0,Jc=0;l.moveAnimals=function(){lime.scheduleManager.scheduleWithDelay(function(){if("LS"==sceneActive){switch(Wc++,Vc++,4==++Jc&&(Jc=0)==wc.getHidden()&&lime.scheduleManager.scheduleWithDelay(function(){wc.setRotation(0),lime.scheduleManager.callAfter(function(){wc.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){wc.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){wc.setRotation(270)},this,750)},this,1e3,1e3),30<Wc&&(Wc=1),Wc){case 1:Lc.setFill(imgArray3[3]),Nc.setFill(imgArray3[4]),Nc.setPosition(100,315),Oc.setFill(imgArray3[4]),Rc.setSize(21,33).setFill(imgArray3[25]).setPosition(160,110),Bc.setFill(imgArray3[27]),Uc.setFill(imgArray3[34]);break;case 2:Lc.setFill(imgArray3[4]),Nc.setFill(imgArray3[5]),Nc.setPosition(100,315),Oc.setFill(imgArray3[5]),Uc.setFill(imgArray3[36]),Bc.setFill(imgArray3[28]),Rc.setFill(imgArray3[25]).setPosition(160,115),Dc.setFill(imgArray3[25]);break;case 3:Lc.setFill(imgArray3[5]),Nc.setFill(imgArray3[4]),Nc.setPosition(100,315),Oc.setFill(imgArray3[4]);break;case 4:Lc.setFill(imgArray3[4]),Nc.setFill(imgArray3[4]),Nc.setPosition(100,315),Oc.setFill(imgArray3[5]),Bc.setFill(imgArray3[29]),Dc.setFill(imgArray3[26]);break;case 5:Lc.setFill(imgArray3[5]),Nc.setFill(imgArray3[12]),Nc.setPosition(95,315),Oc.setFill(imgArray3[4]),Uc.setFill(imgArray3[35]);break;case 6:Lc.setFill(imgArray3[6]),Nc.setFill(imgArray3[13]),Nc.setPosition(90,315),Oc.setFill(imgArray3[5]),Bc.setFill(imgArray3[28]);break;case 7:Lc.setFill(imgArray3[3]),Nc.setFill(imgArray3[14]),Nc.setPosition(85,315),Oc.setFill(imgArray3[4]);break;case 8:Lc.setFill(imgArray3[12]),Lc.setPosition(170,350),Nc.setFill(imgArray3[13]),Nc.setPosition(80,315),Oc.setFill(imgArray3[4]),Rc.setFill(imgArray3[26]).setPosition(160,120),Dc.setFill(imgArray3[25]),Bc.setFill(imgArray3[27]);break;case 9:Lc.setFill(imgArray3[13]),Lc.setPosition(165,350),Nc.setFill(imgArray3[12]),Nc.setPosition(75,315),Oc.setFill(imgArray3[5]),Bc.setFill(imgArray3[27]);break;case 10:Lc.setFill(imgArray3[14]),Lc.setPosition(160,350),Nc.setFill(imgArray3[13]),Nc.setPosition(70,315),Oc.setFill(imgArray3[4]),Bc.setFill(imgArray3[28]),Rc.setPosition(160,125).setFill(imgArray3[25]),Uc.setFill(imgArray3[36]);break;case 11:Lc.setFill(imgArray3[12]),Lc.setPosition(155,350),Nc.setFill(imgArray3[9]),Nc.setPosition(70,315),Oc.setFill(imgArray3[3]),Bc.setFill(imgArray3[29]);break;case 12:Lc.setFill(imgArray3[13]),Lc.setPosition(150,350),Nc.setFill(imgArray3[10]).setPosition(70,310),Oc.setFill(imgArray3[3]),Rc.setPosition(160,130).setFill(imgArray3[24]),Dc.setFill(imgArray3[24]);break;case 13:Lc.setFill(imgArray3[14]).setPosition(145,350),Nc.setFill(imgArray3[11]).setPosition(70,305),Oc.setFill(imgArray3[3]);break;case 14:Lc.setFill(imgArray3[4]),Nc.setFill(imgArray3[15]).setPosition(70,300),Oc.setFill(imgArray3[3]),Rc.setFill(imgArray3[25]).setPosition(160,135);break;case 15:Lc.setFill(imgArray3[5]),Nc.setFill(imgArray3[16]).setPosition(75,300),Oc.setFill(imgArray3[3]),Uc.setFill(imgArray3[37]);break;case 16:Lc.setFill(imgArray3[4]),Nc.setFill(imgArray3[17]).setPosition(80,300),Oc.setFill(imgArray3[3]);break;case 17:Lc.setFill(imgArray3[5]),Nc.setFill(imgArray3[17]).setPosition(80,300),Oc.setFill(imgArray3[3]),Bc.setFill(imgArray3[28]),Rc.setSize(39,21).setPosition(150,147).setFill(imgArray3[22]),Dc.setFill(imgArray3[25]);break;case 18:Lc.setFill(imgArray3[2]),Nc.setFill(imgArray3[15]),Nc.setPosition(85,300),Oc.setFill(imgArray3[3]),Rc.setSize(20,33).setFill(imgArray3[31]).setPosition(150,130),Dc.setFill(imgArray3[26]);break;case 19:Lc.setFill(imgArray3[15]).setPosition(145,350),Nc.setFill(imgArray3[16]).setPosition(90,300),Oc.setFill(imgArray3[3]),Dc.setFill(imgArray3[25]);break;case 20:Lc.setFill(imgArray3[16]).setPosition(150,350),Nc.setFill(imgArray3[17]).setPosition(95,300),Oc.setFill(imgArray3[3]),Rc.setSize(20,33).setFill(imgArray3[30]).setPosition(150,120),Dc.setFill(imgArray3[26]),Uc.setFill(imgArray3[34]);break;case 21:Lc.setFill(imgArray3[17]).setPosition(155,350),Nc.setFill(imgArray3[16]).setPosition(100,300),Oc.setFill(imgArray3[3]);break;case 22:Lc.setFill(imgArray3[15]).setPosition(160,350),Nc.setFill(imgArray3[7]),Oc.setFill(imgArray3[3]),Bc.setFill(imgArray3[27]),Dc.setFill(imgArray3[25]);break;case 23:Lc.setFill(imgArray3[16]).setPosition(165,350),Nc.setFill(imgArray3[8]),Oc.setFill(imgArray3[3]);break;case 24:Lc.setFill(imgArray3[17]).setPosition(170,350),Nc.setFill(imgArray3[7]),Oc.setFill(imgArray3[4]),Rc.setFill(imgArray3[31]).setPosition(150,117),Dc.setFill(imgArray3[26]);break;case 25:Lc.setFill(imgArray3[7]).setPosition(175,350),Nc.setFill(imgArray3[1]),Oc.setFill(imgArray3[5]),Uc.setFill(imgArray3[35]);break;case 26:Lc.setFill(imgArray3[8]).setPosition(175,350),Nc.setFill(imgArray3[0]).setPosition(100,305),Oc.setFill(imgArray3[4]),Rc.setFill(imgArray3[32]).setPosition(150,115);break;case 27:Lc.setFill(imgArray3[7]).setPosition(175,350),Nc.setFill(imgArray3[1]).setPosition(100,310),Oc.setFill(imgArray3[5]),Bc.setFill(imgArray3[28]),Rc.setFill(imgArray3[30]).setPosition(150,110);break;case 28:Lc.setFill(imgArray3[8]).setPosition(175,350),Nc.setFill(imgArray3[3]).setPosition(100,315),Oc.setFill(imgArray3[4]),Rc.setFill(imgArray3[31]).setPosition(150,105);break;case 29:Lc.setFill(imgArray3[0]),Nc.setFill(imgArray3[4]),Oc.setFill(imgArray3[4]),Bc.setFill(imgArray3[29]),Rc.setSize(39,21).setPosition(150,105).setFill(imgArray3[21]);break;case 30:Nc.setFill(imgArray3[5]),Oc.setFill(imgArray3[3]),Uc.setFill(imgArray3[36]),Bc.setFill(imgArray3[28]);break;default:Lc.setFill(imgArray3[3]),Nc.setFill(imgArray3[4]).setPosition(100,315),Oc.setFill(imgArray3[4]),Rc.setSize(20,33).setFill(imgArray3[24])}switch(105<=Vc&&(Vc=1),Vc){case 1:zc.setPosition(16,145).setFill(imgArrayEva[0].src);break;case 2:zc.setPosition(16,150).setFill(imgArrayEva[1].src);break;case 3:zc.setPosition(16,155).setFill(imgArrayEva[0].src);break;case 4:zc.setPosition(16,160).setFill(imgArrayEva[3].src);break;case 5:zc.setPosition(16,165).setFill(imgArrayEva[0].src);break;case 6:zc.setPosition(16,170).setFill(imgArrayEva[1].src);break;case 7:zc.setPosition(16,175).setFill(imgArrayEva[2].src);break;case 8:zc.setPosition(16,180).setFill(imgArrayEva[3].src);break;case 9:zc.setPosition(16,185).setFill(imgArrayEva[0].src);break;case 10:zc.setPosition(16,190).setFill(imgArrayEva[1].src);break;case 11:zc.setPosition(16,195).setFill(imgArrayEva[2].src);break;case 12:zc.setPosition(16,200).setFill(imgArrayEva[3].src);break;case 13:zc.setPosition(16,205).setFill(imgArrayEva[0].src);break;case 14:zc.setPosition(16,210).setFill(imgArrayEva[1].src);break;case 15:zc.setPosition(16,215).setFill(imgArrayEva[2].src);break;case 16:zc.setPosition(16,220).setFill(imgArrayEva[3].src);break;case 17:zc.setPosition(16,225).setFill(imgArrayEva[0].src);break;case 18:zc.setPosition(16,230).setFill(imgArrayEva[1].src);break;case 19:zc.setPosition(16,235).setFill(imgArrayEva[2].src);break;case 20:zc.setPosition(16,240).setFill(imgArrayEva[3].src);break;case 21:zc.setPosition(16,245).setFill(imgArrayEva[0].src);break;case 22:zc.setPosition(16,250).setFill(imgArrayEva[1].src);break;case 23:zc.setPosition(16,255).setFill(imgArrayEva[2].src);break;case 24:zc.setPosition(16,260).setFill(imgArrayEva[3].src);break;case 25:zc.setPosition(16,265).setFill(imgArrayEva[0].src);break;case 26:zc.setPosition(16,270).setFill(imgArrayEva[1].src);break;case 27:zc.setPosition(16,275).setFill(imgArrayEva[2].src);break;case 28:zc.setPosition(16,280).setFill(imgArrayEva[3].src);break;case 29:zc.setPosition(18,285).setFill(imgArrayEva[0].src);break;case 30:zc.setPosition(20,290).setFill(imgArrayEva[1].src);break;case 31:zc.setPosition(22,295).setFill(imgArrayEva[2].src);break;case 32:zc.setPosition(24,300).setFill(imgArrayEva[3].src);break;case 33:zc.setPosition(27,305).setFill(imgArrayEva[0].src);break;case 34:zc.setPosition(27,310).setFill(imgArrayEva[1].src);break;case 35:zc.setPosition(24,315).setFill(imgArrayEva[2].src);break;case 36:zc.setPosition(27,320).setFill(imgArrayEva[3].src);break;case 37:zc.setFill(imgArrayEva[8].src);break;case 38:break;case 47:case 48:zc.setFill(imgArrayEva[12].src);break;case 49:zc.setPosition(25,315).setFill(imgArrayEva[13].src);break;case 50:zc.setPosition(23,310).setFill(imgArrayEva[14].src);break;case 51:zc.setPosition(20,305).setFill(imgArrayEva[15].src);break;case 52:zc.setPosition(18,300).setFill(imgArrayEva[12].src);break;case 53:zc.setPosition(16,295).setFill(imgArrayEva[13].src);break;case 54:zc.setPosition(16,290).setFill(imgArrayEva[14].src);break;case 55:zc.setPosition(16,285).setFill(imgArrayEva[15].src);break;case 56:zc.setPosition(16,280).setFill(imgArrayEva[12].src);break;case 57:zc.setPosition(16,275).setFill(imgArrayEva[13].src);break;case 58:zc.setPosition(16,270).setFill(imgArrayEva[14].src);break;case 59:zc.setPosition(16,265).setFill(imgArrayEva[15].src);break;case 60:zc.setPosition(16,260).setFill(imgArrayEva[14].src);break;case 61:zc.setPosition(16,255).setFill(imgArrayEva[15].src);break;case 62:zc.setPosition(16,250).setFill(imgArrayEva[12].src);break;case 63:zc.setPosition(16,245).setFill(imgArrayEva[13].src);break;case 64:zc.setPosition(16,240).setFill(imgArrayEva[14].src);break;case 65:zc.setPosition(16,235).setFill(imgArrayEva[15].src);break;case 66:zc.setPosition(16,230).setFill(imgArrayEva[12].src);break;case 67:zc.setPosition(16,225).setFill(imgArrayEva[13].src);break;case 68:zc.setPosition(16,220).setFill(imgArrayEva[14].src);break;case 69:zc.setPosition(16,215).setFill(imgArrayEva[15].src);break;case 70:zc.setPosition(16,210).setFill(imgArrayEva[14].src);break;case 71:zc.setPosition(16,205).setFill(imgArrayEva[15].src);break;case 72:zc.setPosition(16,200).setFill(imgArrayEva[12].src);break;case 73:zc.setPosition(16,195).setFill(imgArrayEva[13].src);break;case 74:zc.setPosition(16,190).setFill(imgArrayEva[14].src);break;case 75:zc.setPosition(16,185).setFill(imgArrayEva[15].src);break;case 76:zc.setPosition(16,180).setFill(imgArrayEva[12].src);break;case 77:zc.setPosition(16,175).setFill(imgArrayEva[13].src);break;case 78:zc.setPosition(16,170).setFill(imgArrayEva[14].src);break;case 79:zc.setPosition(16,165).setFill(imgArrayEva[15].src);break;case 80:zc.setPosition(16,160).setFill(imgArrayEva[12].src);break;case 81:zc.setPosition(16,155).setFill(imgArrayEva[13].src);break;case 82:zc.setPosition(16,150).setFill(imgArrayEva[14].src);break;case 83:zc.setPosition(16,145).setFill(imgArrayEva[15].src);break;case 84:zc.setFill(imgArrayEva[8].src);break;case 85:zc.setFill(imgArrayEva[0].src);break;case 86:break;case 87:zc.setFill(imgArrayEva[4].src);break;case 88:break;case 89:zc.setFill(imgArrayEva[0].src);break;case 90:break;case 91:zc.setFill(imgArrayEva[8].src);break;case 92:break;case 93:zc.setFill(imgArrayEva[0].src)}}},this,250)},l.moveAnimals();var Yc=(new lime.Label).setText("+ 2 Ham").setFontWeight(600).setFontColor("#E8FC08").setPosition(155,110).setOpacity(.9).setSize(200,20).setFontFamily("Proxima Nova");b.appendChild(Yc);var qc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,95).setSize(35,24).setFill("images/"+l.crops[10].harvest);b.appendChild(qc),Yc.setHidden(!0),qc.setHidden(!0);var jc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,60).setSize(50,55).setFill(imgArray[90]);b.appendChild(jc);var Kc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,2).setSize(35,24).setFill("images/"+l.crops[10].harvest);jc.appendChild(Kc);var $c=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,37).setSize(30,18).setFontFamily("Proxima Nova");jc.appendChild($c),jc.setHidden(!0);var Xc=0,Qc=0,Zc=0;lime.scheduleManager.scheduleWithDelay(function(){Qc+=1;var e=Yc.getPosition().y-5;e<70&&(e=110),240<Qc&&1<=player.cropsStored[1].stored&&1==a[4].owned?($c.setHidden(!1),Yc.setHidden(!1),Yc.setPosition(155,e),qc.setHidden(!1),qc.setPosition(95,e-15),jc.setHidden(!1).setPosition(10,60).setFill(imgArray[90]).setSize(50,55),Kc.setHidden(!1),$c.setHidden(!1),0==Zc&&(Zc=1,Xc=parseInt(Xc)+2,$c.setText("+ "+Xc),player.cropsStored[1].stored=parseInt(player.cropsStored[1].stored)-1,count8.setText(player.cropsStored[1].stored),Dr.setText(player.cropsStored[1].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)))):player.cropsStored[1].stored<=0&&"LS"==sceneActive&&Xc<=0&&(jc.setHidden(!1).setFill(imgArray[23]).setPosition(45,50).setSize(40,45),Kc.setHidden(!0),$c.setHidden(!0)),248<Qc&&(Qc=0,Yc.setHidden(!0),Zc=0,qc.setHidden(!0))},this,250),goog.events.listen(jc,["mousedown","touchstart"],function(){0<Xc?(player.cropsStored[10].stored=parseInt(player.cropsStored[10].stored)+parseInt(Xc),Xc=0,count10.setText(player.cropsStored[10].stored),Gr.setText(player.cropsStored[10].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),jc.setHidden(!0),purchaseSound.play()):Xc<=0&&player.cropsStored[1].stored<=0&&1==a[4].owned&&(hm.setHidden(!1),jc.setHidden(!0),um.setText(player.cropsStored[5].stored),ym.setText(player.cropsStored[1].stored))}),mapLocations=JSON.parse(localStorage.getItem("mapLocations"));E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(7,252).setSize(16,20).setFill(imgArrayStore[6]);b.appendChild(E),1==mapLocations.places[15].found||yearCount<2?E.setHidden(!0):goog.events.listen(E,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[15].found=1,TA("ls1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-75,118).setSize(16,20).setFill(imgArrayStore[6]);b.appendChild(O),1==mapLocations.places[16].found||yearCount<4?O.setHidden(!0):goog.events.listen(O,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[16].found=1,TA("ls2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2+15,412).setSize(16,20).setFill(imgArrayStore[6]);b.appendChild(o),1==mapLocations.places[17].found||yearCount<7?o.setHidden(!0):goog.events.listen(o,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[17].found=1,TA("ls3"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,l.height-67).setSize(56,56).setFill(imgArray[81]);b.appendChild(y),goog.events.listen(y,["mousedown","touchstart"],function(){0==globalModalBlock&&(scenebefore=5,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),sceneActive="Market",lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500))});w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,504).setSize(36,36).setFill(imgArray[70]);b.appendChild(w),goog.events.listen(w,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneBefore=5,Gf(),d.replaceScene(Sr,lime.transitions.SlideInUp),sceneActive="Menu")});var em=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,467).setSize(36,36).setFill(imgArray[15]);b.appendChild(em);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,467).setSize(36,36).setFill(imgArray[71]);b.appendChild(u);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,504).setSize(36,36).setFill(imgArray[105]);b.appendChild(Y);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,l.height-67).setSize(56,56).setFill(imgArray[72]);b.appendChild(N),goog.events.listen(Y,["mousedown","touchstart"],function(e){fm.getHidden()?fm.setHidden(!1):fm.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(em,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),themeSongNew.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),oy(2)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(N,["mousedown","touchstart"],function(){0==globalModalBlock&&ay()}),goog.events.listen(u,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneBefore=5,sceneThis=d.getCurrentScene(),iy())});E=(new lime.Label).setText("Raising Pigs & Chickens").setFontColor("#FFFFFF").setPosition(155,525).setSize(100,75).setFontFamily("Proxima Nova");b.appendChild(E),goog.events.listen(roadLeftLS,["mousedown","touchstart"],function(){0==globalModalBlock&&(Gf(),sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInLeft),hm.setHidden(!0),sceneBefore=3,waterfallSound.play(),chickenSound.stop(),pig1Sound.stop(),pig2Sound.stop(),pig3Sound.stop())});O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,448).setSize(38,38).setFill(imgArray[73]);b.appendChild(O);var tm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,7).setSize(35,35).setFill(imgArray[30]),im=(new lime.Label).setText(player.tools).setFontColor("#ffffff").setPosition(65,24).setFontSize(18).setFontFamily("Proxima Nova");b.appendChild(tm),b.appendChild(im);o=(new lime.Sprite).setPosition(l.controlsLayer_w/2-5,22).setSize(51,40).setFill(imgArrayItems[25].src).setRotation(5);b.appendChild(o),goog.events.listen(o,["mousedown","touchstart"],function(){scenebefore=5;try{try{xa()}catch(e){console.log(e)}}catch(e){console.log(e)}ra.setText(starCash),Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.Transition.SlideInUp),br.setHidden(!1),sceneActive="Inventory";try{try{Uf()}catch(e){console.log(e)}}catch(e){console.log(e)}});var om=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#000F00").setOpacity(.75);b.appendChild(om),om.setHidden(!0);var sm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill(imgArray[91]),nm=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I").setFontFamily("Proxima Nova");sm.appendChild(nm);var rm=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setPosition(30,123).setSize(150,35).setFontSize(12).setText("Achieve Text").setFontFamily("Proxima Nova");sm.appendChild(rm);var am=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ").setFontFamily("Proxima Nova");sm.appendChild(am);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill(imgArray[21]);sm.appendChild(y),b.appendChild(sm),sm.setHidden(!0),goog.events.listen(y,["mousedown","touchstart"],function(){St.setHidden(!0),Po.setHidden(!0),Lp.setHidden(!0),on.setHidden(!0),sm.setHidden(!0)});var lm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill(imgArray[74]);b.appendChild(lm);var dm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[48]);lm.appendChild(dm);var gm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,105).setSize(50,50).setFill(imgArray[49]);lm.appendChild(gm);var cm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,105).setSize(50,50).setFill(imgArray[46]);lm.appendChild(cm);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);lm.appendChild(w);var mm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);lm.appendChild(mm);var pm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[59]);lm.appendChild(pm);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[57]);lm.appendChild(Y);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);lm.appendChild(N),lm.setHidden(!0),goog.events.listen(O,["mousedown","touchstart"],function(){0==globalModalBlock&&B()}),goog.events.listen(N,["mousedown","touchstart"],function(){R()}),goog.events.listen(pm,["mousedown","touchstart"],function(e){compassVisible&&1==a[5].owned&&(scenebefore=10,Gf(),d.replaceScene(uy,lime.transitions.SlideInUp),sceneActive="Windmill",r.currentCrop=22,R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(w,["mousedown","touchstart"],function(){compassVisible&&(r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,r.currentCrop=Math.abs(r.currentCrop),(5<r.currentCrop||isNaN(r.currentCrop)||r.currentCrop<0)&&(r.currentCrop=0,q.setText("Plant "+l.crops[r.currentCrop].name),j.setFill("images/"+l.crops[r.currentCrop].harvest)),R(),scenebefore=1,waterfallSound.stop(),globalModalBlock=0,Gf(),d.replaceScene(g,lime.transitions.SlideInLeft),sceneActive="Home",chickenSound.stop(),pig1Sound.stop(),pig2Sound.stop())}),goog.events.listen(mm,["mousedown","touchstart"],function(){1==a[1].owned&&compassVisible&&(R(),scenebefore=2,r.currentCrop=6,Gf(),d.replaceScene(mi,lime.transitions.SlideInLeft),sceneActive="Pasture",cowSound.play(),chickenSound.stop(),pig1Sound.stop(),pig2Sound.stop(),globalModalBlock=0)}),goog.events.listen(dm,["mousedown","touchstart"],function(){1==a[2].owned&&compassVisible&&(scenebefore=3,R(),r.currentCrop=8,Gf(),sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInLeft),waterfallSound.play(),chickenSound.stop(),pig1Sound.stop(),pig2Sound.stop(),globalModalBlock=0)}),goog.events.listen(cm,["mousedown","touchstart"],function(){1==a[3].owned&&compassVisible&&(R(),scenebefore=4,Gf(),d.replaceScene(Fm,lime.transitions.SlideInLeft),sceneActive="Vineyard",waterfallSound.stop(),oo=r.currentCrop,r.currentCrop=12,chickenSound.stop(),pig1Sound.stop(),pig2Sound.stop(),globalModalBlock=0)}),goog.events.listen(gm,["mousedown","touchstart"],function(){1==a[4].owned&&(R(),globalModalBlock=0)});var hm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(60,145).setSize(185,200).setFill(imgArray[80]);b.appendChild(hm);u=(new lime.Label).setAnchorPoint(0,0).setPosition(5,19).setSize(170,40).setFontSize(18).setFontFamily("Proxima Nova").setText("Farmhand Eva");hm.appendChild(u);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(60,26).setSize(60,60).setFill(imgArrayEva[0].src);hm.appendChild(E);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,195).setSize(40,40).setFill(imgArray[21]);hm.appendChild(o);y=(new lime.Label).setAnchorPoint(0,0).setFontColor("#FFFFFF").setPosition(5,85).setSize(170,40).setFontSize(14).setFontFamily("Proxima Nova").setText("Livestock Hungry!");hm.appendChild(y);Y=(new lime.Label).setAnchorPoint(0,0).setPosition(2,105).setSize(175,40).setFontSize(10).setFontFamily("Proxima Nova").setText("CHICKENS eat CORN to lay EGGS");hm.appendChild(Y);O=(new lime.Label).setAnchorPoint(0,0).setPosition(2,120).setSize(175,40).setFontSize(10).setFontFamily("Proxima Nova").setText("PIGS eat CARROTS to yield HAM");hm.appendChild(O);N=(new lime.Sprite).setPosition(50,145).setFill("images/"+l.crops[5].harvest).setSize(25,25);hm.appendChild(N);w=(new lime.Sprite).setPosition(120,145).setFill("images/"+l.crops[1].harvest).setSize(25,25);hm.appendChild(w);var um=(new lime.Label).setPosition(70,141).setSize(20,16).setText(player.cropsStored[5].stored).setFontFamily("Proxima Nova").setFontColor("#E8FC08");hm.appendChild(um);var ym=(new lime.Label).setPosition(140,141).setSize(20,16).setText(player.cropsStored[1].stored).setFontFamily("Proxima Nova").setFontColor("#E8FC08");hm.appendChild(ym);var Sm=(new lime.Label).setAnchorPoint(0,0).setPosition(2,165).setSize(175,40).setFontSize(10).setFontFamily("Proxima Nova").setText("Upgrade Home Barn to Level 5 to unlock Corn");hm.appendChild(Sm),hm.setHidden(!0),goog.events.listen(o,["mousedown","touchstart"],function(){hm.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),Ds.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),om.setHidden(!0)});var fm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2+40).setFill(imgArray[78]).setHidden(!0),u=(new lime.Label).setAnchorPoint(0,0).setPosition(62,28).setText("LiveStock Pens").setFontFamily("Proxima Nova").setFontSize(24);fm.appendChild(u);E=(new lime.Label).setAnchorPoint(0,0).setPosition(20,70).setText("The goal here is to feed the animals and collect goods.").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);fm.appendChild(E);y=(new lime.Label).setAnchorPoint(0,0).setPosition(20,115).setText("Pigs eat APPLES to produce HAM on a regular basis. ").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);fm.appendChild(y);Y=(new lime.Label).setAnchorPoint(0,0).setPosition(20,165).setText("Chickens eat CORN to yield EGGS. Upgrade your home barn to grow CORN").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);fm.appendChild(Y);O=(new lime.Label).setAnchorPoint(0,0).setPosition(20,230).setText("You can collect Ham and Eggs once per minute").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);fm.appendChild(O);N=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,296).setSize(100,20);fm.appendChild(N),b.appendChild(fm),goog.events.listen(N,["mousedown","touchstart"],function(e){0==fm.getHidden()&&(fm.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Am=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,115).setSize(l.width-30,l.height/2).setFill(imgArray[78]).setHidden(!0);b.appendChild(Am);w=(new lime.Label).setAnchorPoint(0,0).setPosition(55,25).setText("Farmhand Eva").setFontFamily("Proxima Nova").setFontSize(24);Am.appendChild(w);var wm=(new lime.Label).setAnchorPoint(0,0).setPosition(20,145).setText(questParamsEva.speech[0].text).setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);Am.appendChild(wm);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,40).setSize(100,100).setFill(imgArrayEva[0]);Am.appendChild(o);u=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);Am.appendChild(u),goog.events.listen(u,["mousedown","touchstart"],function(e){0==Am.getHidden()&&(Am.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Fm=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),E=(new lime.Layer).setAnchorPoint(0,0),y=(new lime.Sprite).setPosition(0,0).setSize(l.width,l.height);Fm.appendChild(E),E.appendChild(y);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(l.controlsLayer_w,l.controlsLayer_h-20).setFill(imgArray[75]);E.appendChild(Y);O=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);E.appendChild(O);var Pm=(new lime.Label).setText(player.money).setFontColor("#ffffff").setPosition(235,24).setFontFamily("Proxima Nova").setFontSize(18);E.appendChild(Pm);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,45).setSize(l.controlsLayer_w,423).setFill(imgArrayVin[0]);E.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(225,436).setSize(100,25).setFill(imgArray[77]);E.appendChild(b),roadRightV=(new lime.Sprite).setAnchorPoint(0,0).setPosition(43,-12).setSize(42,42).setFill(imgArray[47]),b.appendChild(roadRightV);var vm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,7).setSize(35,35).setFill(imgArray[30]),Cm=(new lime.Label).setText(player.tools).setFontColor("#ffffff").setPosition(65,24).setFontFamily("Proxima Nova").setFontSize(18);E.appendChild(vm),E.appendChild(Cm),isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks")||0,isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||0;l.tile_size,l.tile_size;var Im=new farming.Land(l,r,80,110,5,"non","vine0").setPosition(80,110);Im.setSize(45,50),E.appendChild(Im);var bm=new farming.Land(l,r,135,100,5,"non","vine1").setPosition(135,100);bm.setSize(45,50),E.appendChild(bm);var Tm=new farming.Land(l,r,200,95,5,"non","vine2").setPosition(200,95);Tm.setSize(45,50),E.appendChild(Tm);var Hm=new farming.Land(l,r,260,105,5,"non","vine3").setPosition(260,105);Hm.setSize(45,50),E.appendChild(Hm),1==isblocked2&&(Im.setHidden(!0),bm.setHidden(!0),Tm.setHidden(!0),Hm.setHidden(!0)),2==isblocked2&&(Im.setHidden(!1),bm.setHidden(!1),Tm.setHidden(!1),Hm.setHidden(!1));var _m=new farming.Land(l,r,105,200,5,"non","vine4").setPosition(105,200);_m.setSize(45,50),E.appendChild(_m);var xm=new farming.Land(l,r,175,215,5,"non","vine5").setPosition(175,215);xm.setSize(45,50),E.appendChild(xm);var zm=new farming.Land(l,r,240,228,5,"non","vine6").setPosition(240,228);zm.setSize(45,50),E.appendChild(zm);var km=new farming.Land(l,r,45,210,5,"non","vine7").setPosition(45,210);km.setSize(45,50),E.appendChild(km),1==isblocked1&&(_m.setHidden(!0),xm.setHidden(!0),zm.setHidden(!0),km.setHidden(!0)),2==isblocked1&&(_m.setHidden(!1),xm.setHidden(!1),zm.setHidden(!1),km.setHidden(!1));w=new farming.Land(l,r,75,370,5,"non","vine8").setPosition(75,370);w.setSize(45,50),E.appendChild(w);o=new farming.Land(l,r,25,350,5,"non","vine9").setPosition(28,360);o.setSize(45,50),E.appendChild(o);u=new farming.Land(l,r,126,360,5,"non","vine10").setPosition(126,367);u.setSize(45,50),E.appendChild(u);y=new farming.Land(l,r,219,315,5,"non","vine11").setPosition(219,315);y.setSize(45,50),E.appendChild(y);Y=new farming.Land(l,r,262,350,5,"non","vine12").setPosition(262,350);Y.setSize(45,50),E.appendChild(Y);var Em=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,195).setSize(240,105).setFill(imgArrayVin[1]);E.appendChild(Em);var Mm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,-60).setSize(190,250).setFill(imgArray[24].src).setOpacity(.3);Em.appendChild(Mm);var Lm=(new lime.Label).setText("").setAnchorPoint(0,0).setFontColor("#4CFF33").setFontWeight(600).setPosition(170,280).setFontFamily("Proxima Nova").setSize(90,130);E.appendChild(Lm);var Nm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,15).setSize(40,40).setFill(imgArray[61]);Em.appendChild(Nm);var Om=(new lime.Sprite).setAnchorPoint(0,0).setPosition(140,-3).setSize(40,40).setFill(ImgArrayTools[3]);Em.appendChild(Om);var Bm=(new lime.Label).setText("90").setPosition(170,70).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);Em.appendChild(Bm);var Rm=0;if(Mm.setHidden(!0),Bm.setHidden(!0),isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks")||0,isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||0,goog.events.listen(Om,["mousedown","touchstart"],function(){var e,t,i,o,s;500<=player.tools&&0==globalModalBlock&&(player.tools=player.tools-500,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),Om.setHidden(!0),Mm.setHidden(!1),Bm.setHidden(!1),e=90,t=250,i=55,o=-60,s=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]),Bm.appendChild(s),goog.events.listen(s,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Trees5")}catch(e){console.log("logging failed")}s.setHidden(!0),e=5}),lime.scheduleManager.scheduleWithDelay(function(){0<e&&(Mm.setPosition(i,o).setSize(t,200),t+=10,o-=5,(i-=5)<45&&(i=55,o=-60,t=250),35<(Rm+=10)&&(Rm=-10),Nm.setRotation(Rm))},this,250,4*e),lime.scheduleManager.scheduleWithDelay(function(){if(--e,Bm.setText(e),e<=0){Bm.setHidden(!0),Mm.setHidden(!0),e=60,Nm.setHidden(!0),lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),Om.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),l.vinyardBlocksControl(1),isblocked1=vinyardBlocks=2,Lm.setHidden(!0),localStorage.GuiGhostFarms_vinyardBlocks=isblocked1,0==e&&Yf("Vineyard Trees Clear",imgArray[61].src,"vineyard",3e3);try{goog.events.removeAll(Om)}catch(e){return}}},this,1e3,e))}),isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks")||0,isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||0,1==isblocked1&&(Em.setHidden(!1),Lm.setHidden(!1),Om.setHidden(!1)),2==isblocked1){Em.setHidden(!0),Lm.setHidden(!0),Om.setHidden(!0);try{goog.events.removeAll(Om)}catch(e){return}}var Dm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,78).setSize(235,100).setFill(imgArrayVin[2]);E.appendChild(Dm);var Um=(new lime.Label).setText("").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#E8FC08").setFontWeight(600).setPosition(170,165).setSize(90,130);E.appendChild(Um);var Gm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,-60).setSize(190,250).setFill(imgArray[24].src).setOpacity(.3);Dm.appendChild(Gm);var Wm=(new lime.Label).setText("90").setPosition(150,75).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);Dm.appendChild(Wm);var Vm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,20).setSize(40,40).setFill(imgArray[61]);Dm.appendChild(Vm);var Jm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,-3).setSize(40,40).setFill(ImgArrayTools[3]);Dm.appendChild(Jm);var Ym=0;if(Gm.setHidden(!0),Wm.setHidden(!0),Dm.setHidden(!0),Um.setHidden(!0),Jm.setHidden(!0),1==isblocked2?(Dm.setHidden(!1),Um.setHidden(!1),Jm.setHidden(!1)):2==isblocked2&&(Dm.setHidden(!0),Um.setHidden(!0),Jm.setHidden(!0)),isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||0,goog.events.listen(Jm,["mousedown","touchstart"],function(){var e,t,i,o,s;500<=player.tools&&0==globalModalBlock&&(player.tools=player.tools-500,lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),Jm.setHidden(!0),Gm.setHidden(!1),Wm.setHidden(!1),e=90,t=250,i=45,o=-60,s=(new lime.Sprite).setPosition(0,25).setSize(75,34).setFill(imgArray[109]),Wm.appendChild(s),goog.events.listen(s,["mousedown","touchstart"],function(){_A(),s.setHidden(!0),e=5,localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Trees6")}catch(e){console.log("logging failed")}}),lime.scheduleManager.scheduleWithDelay(function(){0<e&&(Gm.setPosition(i,o).setSize(t,200),t+=10,o-=5,(i-=5)<35&&(i=45,o=-60,t=250),35<(Ym+=10)&&(Ym=-10),Vm.setRotation(Ym))},this,250,4*e),lime.scheduleManager.scheduleWithDelay(function(){if(--e,Wm.setText(e),e<=0){Wm.setHidden(!0),Gm.setHidden(!0),Vm.setHidden(!0),lime.scheduleManager.callAfter(function(){l.updateTools()},this,100),l.vinyardBlocksControl(2),isblocked2=vinyardBlocks2=2,Um.setHidden(!0),localStorage.GuiGhostFarms_vinyardBlocks2=isblocked2,Jm.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),0==e&&Yf("Vineyard Trees Clear",imgArray[61].src,"vineyard",3e3);try{goog.events.removeAll(Jm)}catch(e){return}}},this,1e3,e))}),2==(isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2")||0)){Dm.setHidden(!0),Um.setHidden(!0),Jm.setHidden(!0);try{goog.events.removeAll(Jm)}catch(e){return}}l.vinyardBlocksControl=function(e){1==e&&(Em.setHidden(!0),Lm.setHidden(!0),_m.setHidden(!1),xm.setHidden(!1),zm.setHidden(!1),km.setHidden(!1)),2==e&&(Dm.setHidden(!0),Um.setHidden(!0),Im.setHidden(!1),bm.setHidden(!1),Tm.setHidden(!1),Hm.setHidden(!1))};var qm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(62,247).setSize(118,115).setFill(imgArrayVin[3]);E.appendChild(qm);var jm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(78,275).setSize(39,42).setFill(imgArray[83]);E.appendChild(jm);var Km=(new lime.Sprite).setFill(imgArray[59]).setPosition(36,63).setSize(35,35);E.appendChild(Km),goog.events.listen(Km,["mousedown","touchstart"],function(){0==Km.getHidden()&&(scenebefore=10,r.currentCrop=22,Gf(),d.replaceScene(uy,lime.transitions.SlideInUp),sceneActive="Windmill")});var $m=(new lime.Sprite).setFill(imgArrayVin[4]).setPosition(46,78).setSize(60,65).setHidden(!1);E.appendChild($m),goog.events.listen($m,["mousedown","touchstart"],function(){console.log("her ic ome to save"),0==$m.getHidden()&&1==Xm.getHidden()&&(jp.setText("None may pass by order of the King. Perhaps you could please him and gain entry?"),dp.setHidden(!1),gp.setHidden(!1),qp.setHidden(!1))});var Xm=(new lime.Sprite).setFill(imgArrayVin[5]).setPosition(0,33).setSize(32,32).setHidden(!1);$m.appendChild(Xm),goog.events.listen(Xm,["mousedown","touchstart"],function(){var e=$m.getHidden();compassVisible||0!=e||($p.setHidden(!1),1==collectItems.storeItems[3].owned?Xp.setColor("#00ff00").setText("Clear Rocks"):Xp.setColor("#C83521").setText("Need a PICK"))}),1==a[5].owned?($m.setHidden(!0),Xm.setHidden(!0),Km.setHidden(!1)):($m.setHidden(!1),Xm.setHidden(!0),Km.setHidden(!0)),10<heraldOrderTop&&0==a[5].owned&&($m.setHidden(!1),Xm.setHidden(!1),Km.setHidden(!0)),mapLocations=JSON.parse(localStorage.getItem("mapLocations"));O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(7,232).setSize(16,20).setFill(imgArrayStore[6]);E.appendChild(O),1==mapLocations.places[18].found||yearCount<9?O.setHidden(!0):goog.events.listen(O,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[18].found=1,TA("v1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-22,143).setSize(16,20).setFill(imgArrayStore[6]);E.appendChild(N),1==mapLocations.places[19].found||yearCount<11?N.setHidden(!0):goog.events.listen(N,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[19].found=1,TA("v2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,422).setSize(16,20).setFill(imgArrayStore[6]);E.appendChild(b),1==mapLocations.places[20].found||yearCount<3?b.setHidden(!0):goog.events.listen(b,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[20].found=1,TA("v3"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Qm=(new lime.Sprite).setPosition(22,285).setSize(50,50).setFill("images/stars1.png").setHidden(!0);E.appendChild(Qm);var Zm=0;0==collectItems.digUpCollect[4].owned&&2<=mapsComplete&&Qm.setHidden(!1),goog.events.listen(Qm,["mousedown","touchstart"],function(e){0==Qm.getHidden()&&(IA("vineyard"),successSound.play()),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1);var ep=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,280).setSize(80,70).setFill(imgArray[26]);E.appendChild(ep);var tp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,220).setSize(100,150).setFill(imgArray[24].src);E.appendChild(tp);var ip=(new lime.Label).setText("120").setPosition(95,310).setSize(40,25).setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]),op=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);E.appendChild(ip),ip.appendChild(op),op.setRotation(-10);var sp=-10;ip.setHidden(!0),ep.setHidden(!0),tp.setHidden(!0);var np=(new lime.Sprite).setAnchorPoint(0,0).setPosition(26,43).setSize(38,43).setFill(imgArrayStore[3].src).setRotation(-45);E.appendChild(np);var rp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-40,0).setSize(60,70).setFill(imgArray[24].src);E.appendChild(rp);var ap=(new lime.Label).setText("60").setPosition(46,108).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);E.appendChild(ap),np.setHidden(!0),rp.setHidden(!0),ap.setHidden(!0),1<vinyardHouseLevel?(qm.setFill(imgArrayVin[6]),jm.setHidden(!0),0==questParams.terric[0].highestCompleted&&(questParams.terric[0].highestCompleted=1)):lime.scheduleManager.scheduleWithDelay(function(){var e;"Vineyard"==sceneActive&&((e=jm.getPosition()).y-=5,e.y<270&&(e.y=275),jm.setPosition(e))},this,500);var lp=(new lime.Sprite).setPosition(60,350).setFill(imgArrayVin[8]).setSize(26,26);E.appendChild(lp);var dp=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(5,-28).setSize(25,23).setOpacity(.2);lp.appendChild(dp);var gp=(new lime.Sprite).setPosition(5,-28).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);lp.appendChild(gp),gp.current=1,goog.events.listen(lp,["mousedown","touchstart"],function(){Hp()}),goog.events.listen(dp,["mousedown","touchstart"],function(){Hp()});var cp=250,mp=100,pp=(new lime.Sprite).setPosition(155,250).setSize(250,250).setFill(imgArray[79]);E.appendChild(pp);w=(new lime.Label).setPosition(0,-85).setSize(250,30).setText("Upgrade Vineyard Barn").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(20);pp.appendChild(w);o=(new lime.Label).setPosition(0,-50).setSize(250,30).setText("Unlocks Jelly Making").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(18);pp.appendChild(o);u=(new lime.Sprite).setPosition(-40,-20).setSize(40,40).setFill(imgArray[30]);pp.appendChild(u);y=(new lime.Label).setPosition(-40,30).setSize(250,25).setText(cp).setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(22);pp.appendChild(y);Y=(new lime.Sprite).setPosition(40,-20).setSize(40,40).setFill("images/"+l.crops[14].harvest);pp.appendChild(Y);O=(new lime.Label).setPosition(40,30).setSize(250,25).setText(mp).setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(22);pp.appendChild(O);var hp=(new lime.Label).setPosition(0,60).setSize(250,25).setText("You need more resources").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(14);pp.appendChild(hp),hp.setHidden(!0);var up=(new lime.GlossyButton).setColor("#1ce636").setText("Upgrade").setPosition(0,70).setSize(80,35);pp.appendChild(up);var yp=(new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(0,130).setSize(40,40);pp.appendChild(yp);N=(new lime.Sprite).setPosition(0,0).setSize(40,40).setFill(imgArray[21].src);yp.appendChild(N),pp.setHidden(!0),vinyardHouseLevel<2&&goog.events.listen(jm,["mousedown","touchstart"],function(){var e,t;vinyardHouseLevel<2&&(pp.setHidden(!1),parseInt(player.cropsStored[14].stored)<mp||player.tools<cp?(up.setHidden(!0),hp.setHidden(!1)):(up.setHidden(!1),hp.setHidden(!0)),e=Om.getHidden(),t=Jm.getHidden(),Om.setHidden(!0),Jm.setHidden(!0),goog.events.listen(yp,["mousedown","touchstart"],function(){pp.setHidden(!0),hp.setHidden(!0),0==e&&Om.setHidden(!1),0==t&&Jm.setHidden(!1)}),goog.events.listen(up,["mousedown","touchstart"],function(){pp.setHidden(!0),hp.setHidden(!0),0==e&&Om.setHidden(!1),0==t&&Jm.setHidden(!1),globalModalBlock=0,gp.setHidden(!0),dp.setHidden(!0),lime.scheduleManager.callAfter(function(){wp(cp,mp)},this,50)}))});var Sp=150,fp=0,Ap=hammerSound;function wp(e,t){var i,o,s,n;0==barnUpInProgressV&&0==globalModalBlock&&(gp.setHidden(!0),dp.setHidden(!0),player.tools>=e&&parseInt(player.cropsStored[14].stored)&&(barnUpInProgressV=1,jm.setHidden(!0),player.tools=player.tools-e,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-parseInt(t),player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),tp.setHidden(!1),ep.setHidden(!1),ip.setHidden(!1),i=100,o=45,s=220,n=0,lime.scheduleManager.scheduleWithDelay(function(){4==++n&&0<=Sp&&(--Sp,n=0,upgradesInProgress.buildings[3].timeLeft=Sp,upgradesInProgress.buildings[3].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),ip.setText(Sp),Sp<=0&&(ip.setHidden(!0),ep.setHidden(!0),tp.setHidden(!0)),5<=++fp&&("Vineyard"==sceneActive&&Ap.play(),vinyardTicker=0)),tp.setPosition(o,s).setSize(i,200),i+=10,s-=5,(o-=5)<30&&(o=45,s=220,i=100),35<(sp+=10)&&(sp=-10),op.setRotation(sp)},this,250,4*Sp),lime.scheduleManager.callAfter(function(){jm.setHidden(!0),qm.setFill(imgArrayVin[6]),jm.setHidden(!0),vinyardHouseLevel=2,ir(),questParams.terric[0].highestCompleted=1,questParams.terric[1].completed=1,player.cropsStored[16].stored<=0?jp.setText(questParams.terric[2].text):jp.setText("Now we are making Jelly! Keeps the grapes coming"),gp.setHidden(!1),dp.setHidden(!1),Yf("Vineyard Upgraded",imgArray[30].src,"vineyard",3e3),lime.scheduleManager.callAfter(function(){l.makeJelly()},this,200),upgradesInProgress.buildings[3].timeLeft=0,upgradesInProgress.buildings[3].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),localStorage.setItem("GuiGhostFarms_vinyardHouseLevel",2),Yp.setHidden(!1),lime.scheduleManager.callAfter(function(){Yp.setHidden(!0)},this,2500);try{goog.events.removeAll(jm)}catch(e){return}barnUpInProgressV=0,Ap.stop(),Yf("Unlocked Jelly","images/vinyard/jelly.png","vineyard",3e3);try{goog.events.removeAll(up),goog.events.removeAll(jm),goog.events.removeAll(yp)}catch(e){return}},this,1e3*Sp)))}if(1<vinyardHouseLevel)try{goog.events.removeAll(up),goog.events.removeAll(jm),goog.events.removeAll(yp)}catch(e){return}var Fp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(120,260).setSize(50,67).setFill(imgArray[90]);E.appendChild(Fp);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,2).setSize(30,31).setFill("images/"+l.crops[13].harvest);Fp.appendChild(b);var Pp=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,44).setSize(30,18).setFontFamily("Proxima Nova");Fp.appendChild(Pp),Fp.setHidden(!0);var vp=0,Cp=(new lime.Label).setText("+ 1 Jelly").setFontWeight(600).setFontColor("#E8FC08").setFontFamily("Proxima Nova").setPosition(145,335).setOpacity(.4);E.appendChild(Cp),Cp.setHidden(!0),goog.events.listen(Fp,["mousedown","touchstart"],function(){Fp.setHidden(!0),player.cropsStored[13].stored=player.cropsStored[13].stored+vp,count13.setText(player.cropsStored[13].stored),Jr.setText(player.cropsStored[13].stored),vp=0,purchaseSound.play()});var Ip=(new lime.Label).setPosition(156,180).setSize(50,25).setText("50").setFontSize(14).setFontFamily("Proxima Nova").setFontColor("#e1f00e").setFontWeight(600);E.appendChild(Ip);w=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);Ip.appendChild(w),Ip.setHidden(!0);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,l.height-l.controlsLayer_h-5).setSize(l.controlsLayer_w,l.controlsLayer_h+5).setFill(imgArray[69]);E.appendChild(o);r.currentCrop;u=(new lime.Label).setText("Growing "+l.crops[12].name).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(12).setPosition(l.controlsLayer_w/2-7,l.height-l.controlsLayer_h/2-11);E.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-28,l.height-l.controlsLayer_h/2-10).setFill("images/"+l.crops[12].harvest).setSize(30,38);E.appendChild(y);var bp=questParams.terric[0].highestCompleted,Tp=parseInt(player.cropsStored[16].stored);parseInt(player.cropsStored[13].stored);function Hp(){terricSound.play(),zp.setHidden(!1),qp.setHidden(!1),Om.setHidden(!0),Jm.setHidden(!0),bp=questParams.terric[0].highestCompleted,1<vinyardHouseLevel&&bp<1&&(bp=1,questParams.terric[0].highestCompleted=1),Tp=parseInt(player.cropsStored[16].stored),parseInt(player.cropsStored[13].stored),Tp<=0&&1<=bp?jp.setText(questParams.terric[2].text):jp.setText(questParams.terric[3].text),dp.setHidden(!1),gp.setHidden(!1)}var _p=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-15,l.height/2).setFill("images/"+l.crops[12].harvest).setSize(26,21);E.appendChild(_p),_p.setHidden(!0);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,504).setSize(36,36).setFill(imgArray[70]);E.appendChild(Y);var xp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,467).setSize(36,36).setFill(imgArray[15]);E.appendChild(xp);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,467).setSize(36,36).setFill(imgArray[71]);E.appendChild(O);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,504).setSize(36,36).setFill(imgArray[105]);E.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,l.height-67).setSize(56,56).setFill(imgArray[72]);E.appendChild(b),goog.events.listen(b,["mousedown","touchstart"],function(){0==globalModalBlock&&ay()}),goog.events.listen(xp,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),themeSongNew.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),oy(2)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(O,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneBefore=4,sceneThis=d.getCurrentScene(),iy())}),goog.events.listen(Y,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneBefore=4,Gf(),d.replaceScene(Sr,lime.transitions.SlideInUp))});w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,l.height-67).setSize(56,56).setFill(imgArray[81]);E.appendChild(w),goog.events.listen(w,["mousedown","touchstart"],function(){0==globalModalBlock&&(scenebefore=4,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),sceneActive="Market",acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500))}),goog.events.listen(roadRightV,["mousedown","touchstart"],function(){0==globalModalBlock&&(Gf(),d.replaceScene(mi,lime.transitions.SlideInRight),sceneBefore=2,r.currentCrop=6,sceneActive="Pasture",cowSound.play())}),om.setHidden(!0);o=(new lime.Sprite).setPosition(l.controlsLayer_w/2-5,22).setSize(51,40).setFill(imgArrayItems[25].src).setRotation(5);E.appendChild(o),goog.events.listen(o,["mousedown","touchstart"],function(){scenebefore=4;try{xa()}catch(e){console.log(e)}ra.setText(starCash),Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.transitions.SlideInUp),sceneActive="Inventory",br.setHidden(!1);try{Uf()}catch(e){console.log(e)}});u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,449).setSize(35,35).setFill(imgArray[73]);E.appendChild(u);var zp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#000F00").setOpacity(.75);E.appendChild(zp),zp.setHidden(!0);var kp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(26,100).setSize(250,305).setFill(imgArray[33]);E.appendChild(kp);y=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,140).setOpacity(.9);y.setFill(ee),kp.appendChild(y);b=(new lime.Label).setAnchorPoint(0,0).setPosition(45,30).setText("Not Enough Coins").setFontColor("RED").setFontFamily("Proxima Nova").setFontSize(22);kp.appendChild(b);O=(new lime.Label).setAnchorPoint(0,0).setPosition(30,125).setText("Buy Coins with Stars").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);kp.appendChild(O);var Ep=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,118).setSize(45,45).setFill(imgArray[72]);kp.appendChild(Ep);Y=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,195).setOpacity(.9);Y.setFill(ee),kp.appendChild(Y);w=(new lime.Label).setAnchorPoint(0,0).setPosition(30,178).setText("Get 200 Coins Free").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);kp.appendChild(w);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,173).setSize(90,42).setFill(imgArray[108]);kp.appendChild(o);y=(new lime.RoundedRect).setSize(205,50).setRadius(10).setPosition(125,250).setOpacity(.9);y.setFill(ee),kp.appendChild(y);b=(new lime.Label).setAnchorPoint(0,0).setPosition(30,235).setText("Sell Crops in Town").setFontColor("WHITE").setSize(90,80).setFontFamily("Proxima Nova").setFontSize(16);kp.appendChild(b);var Mp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(157,228).setSize(45,45).setFill(imgArray[81]);kp.appendChild(Mp);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(110,290).setSize(35,35).setFill(imgArray[21]);kp.appendChild(O),kp.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),goog.events.listen(o,["mousedown","touchstart"],function(){if(0==kp.getHidden()){kp.setHidden(!0),lt.setHidden(!0),co.setHidden(!0),tt.setHidden(!0),go.setHidden(!0),Ds.setHidden(!0),om.setHidden(!0),zp.setHidden(!0),warningSeen=1,_A(),localStorage.setItem("acreDiscount1",0),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_OutOfCoin")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){HA()},this,25e3),lime.scheduleManager.callAfter(function(){player.money=parseInt(player.money)+200,l.updateMoney(),globalModalBlock=0,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))},this,5e3)}}),goog.events.listen(Ep,["mousedown","touchstart"],function(){0==globalModalBlock&&(warningSeen=1,co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0),om.setHidden(!0),ay())}),goog.events.listen(Mp,["mousedown","touchstart"],function(){warningSeen=1,co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0),om.setHidden(!0),townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),sceneActive="Market",acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}validCropsStored(),l.updateStored()},this,1500),globalModalBlock=0}),goog.events.listen(O,["mousedown","touchstart"],function(){go.setHidden(!0),co.setHidden(!0),po.setHidden(!0),mo.setHidden(!0),an.setHidden(!0),dn.setHidden(!0),ln.setHidden(!0),kp.setHidden(!0),Mp.setHidden(!0),Ep.setHidden(!0),lt.setHidden(!0),gt.setHidden(!0),dt.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0),om.setHidden(!0),warningSeen=1,globalModalBlock=0}),player.money<l.crops[r.currentCrop].cost&&0==warningSeen&&(go.setHidden(!1),tt.setHidden(!1),Ds.setHidden(!1),zp.setHidden(!1),om.setHidden(!1),co.setHidden(!1),po.setHidden(!1),mo.setHidden(!1),an.setHidden(!1),dn.setHidden(!1),ln.setHidden(!1),kp.setHidden(!1),Mp.setHidden(!1),Ep.setHidden(!1),lt.setHidden(!1),gt.setHidden(!1),dt.setHidden(!1),globalModalBlock=1);var Lp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill(imgArray[91]),Np=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");Lp.appendChild(Np);var Op=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(30,123).setSize(150,60).setFontSize(12).setText("Achieve Text");Lp.appendChild(Op);var Bp=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");Lp.appendChild(Bp);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill(imgArray[21]);Lp.appendChild(Y),E.appendChild(Lp),Lp.setHidden(!0),goog.events.listen(Y,["mousedown","touchstart"],function(){St.setHidden(!0),Po.setHidden(!0),Lp.setHidden(!0),on.setHidden(!0),sm.setHidden(!0),zp.setHidden(!0),Ds.setHidden(!0),go.setHidden(!0),om.setHidden(!0),tt.setHidden(!0)});var Rp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill(imgArray[74]);E.appendChild(Rp);var Dp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[48]);Rp.appendChild(Dp);var Up=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,105).setSize(50,50).setFill(imgArray[49]);Rp.appendChild(Up);var Gp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,105).setSize(50,50).setFill(imgArray[46]);Rp.appendChild(Gp);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);Rp.appendChild(w);var Wp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);Rp.appendChild(Wp);var Vp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[59]);Rp.appendChild(Vp);ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[57]);Rp.appendChild(ee);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);Rp.appendChild(y),Rp.setHidden(!0),goog.events.listen(u,["mousedown","touchstart"],function(){0==globalModalBlock&&(B(),zp.setHidden(!1))}),goog.events.listen(y,["mousedown","touchstart"],function(e){compassVisible&&(R(),zp.setHidden(!0),globalModalBlock=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Vp,["mousedown","touchstart"],function(e){compassVisible&&1==a[5].owned&&(scenebefore=10,Gf(),d.replaceScene(uy,lime.transitions.SlideInUp),sceneActive="Windmill",r.currentCrop=22,R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(w,["mousedown","touchstart"],function(e){compassVisible&&(R(),scenebefore=1,r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,r.currentCrop=Math.abs(r.currentCrop),(5<r.currentCrop||isNaN(r.currentCrop)||r.currentCrop<0)&&(r.currentCrop=0,q.setText("Plant "+l.crops[r.currentCrop].name),j.setFill("images/"+l.crops[r.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,Gf(),d.replaceScene(g,lime.transitions.SlideInRight),sceneActive="Home",zp.setHidden(!0),globalModalBlock=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Wp,["mousedown","touchstart"],function(e){1==a[1].owned&&compassVisible&&(scenebefore=2,R(),cowSound.play(),r.currentCrop=6,Gf(),d.replaceScene(mi,lime.transitions.SlideInRight),sceneActive="Pasture",cowSound.play(),lime.scheduleManager.callAfter(function(){ny()},this,2e3),zp.setHidden(!0),globalModalBlock=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Dp,["mousedown","touchstart"],function(e){1==a[2].owned&&compassVisible&&(scenebefore=3,waterfallSound.play(),R(),oo=r.currentCrop,r.currentCrop=8,Gf(),sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInRight),zp.setHidden(!0),globalModalBlock=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Gp,["mousedown","touchstart"],function(e){1==a[3].owned&&compassVisible&&(R(),zp.setHidden(!0),globalModalBlock=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Up,["mousedown","touchstart"],function(e){1==a[4].owned&&compassVisible&&(R(),scenebefore=5,Gf(),d.replaceScene(ac,lime.transitions.SlideInRight),sceneActive="LS",chickenSound.play(),pig1Sound.play(),lime.scheduleManager.callAfter(function(){pig2Sound.play()},this,5e3),ny(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Jp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(60,145).setSize(180,200).setFill("images/UI/shortage.png");E.appendChild(Jp);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,195).setSize(40,40).setFill(imgArray[21]);Jp.appendChild(b);o=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(5,120).setSize(170,40).setFontSize(14).setText("Jelly Making Halted!");Jp.appendChild(o);O=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(2,140).setSize(175,40).setFontSize(10).setText("You need to grow more GRAPES to make JELLY");Jp.appendChild(O);Y=(new lime.Sprite).setPosition(85,180).setFill("images/"+l.crops[12].harvest).setSize(20,25);Jp.appendChild(Y);ee=(new lime.Label).setPosition(105,186).setSize(20,16).setText(player.cropsStored[12].stored).setFontFamily("Proxima Nova").setFontColor("#E8FC08");Jp.appendChild(ee),Jp.setHidden(!0),goog.events.listen(b,["mousedown","touchstart"],function(){Jp.setHidden(!0),2==isblocked1?(Lm.setHidden(!0),Om.setHidden(!0)):(Lm.setHidden(!1),Om.setHidden(!1)),2==isblocked2?(Um.setHidden(!0),Jm.setHidden(!0)):(Um.setHidden(!1),Jm.setHidden(!1)),zp.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0)});var Yp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,130).setSize(250,250).setFill(imgArrayVin[7]);E.appendChild(Yp),Yp.setHidden(!0);var qp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,115).setSize(l.width-30,l.height/2).setFill(imgArray[78]);E.appendChild(qp),gd.setHidden(!0);u=(new lime.Label).setAnchorPoint(0,0).setPosition(40,25).setText("Vinemaster Terric").setFontFamily("Proxima Nova").setFontSize(24);qp.appendChild(u);var jp=(new lime.Label).setAnchorPoint(0,0).setPosition(20,155).setText(questParams.terric[1].text).setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);qp.appendChild(jp);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,45).setSize(100,100).setFill(imgArrayVin[12]);qp.appendChild(y);w=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);qp.appendChild(w),goog.events.listen(w,["mousedown","touchstart"],function(e){0==gp.getHidden()&&(gp.setHidden(!0),dp.setHidden(!0),jp.setText(questParams.terric[1].text),qp.setHidden(!0),zp.setHidden(!0),2==isblocked1?Um.setHidden(!0):(Um.setHidden(!1),Om.setHidden(!1)),2==isblocked2?Lm.setHidden(!0):(Lm.setHidden(!1),Jm.setHidden(!1)),zp.setHidden(!0),go.setHidden(!0),tt.setHidden(!0),Ds.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),qp.setHidden(!0),bp=questParams.terric[0].highestCompleted,Tp=parseInt(player.cropsStored[16].stored),parseInt(player.cropsStored[13].stored),0==Tp&&1<=bp?(gp.setFill(imgArray[22].src),jp.setText(questParams.terric[2].text)):0<Tp&&1<=bp&&jp.setText(questParams.terric[3].text),dp.setHidden(!1),gp.setHidden(!1);var Kp=0;lime.scheduleManager.scheduleWithDelay(function(){if("Vineyard"==sceneActive){switch(58<(Kp+=1)&&(Kp=1),Kp<11&&lp.setFill("images/vinyard/vinFarmer"+Kp+".png"),Kp){case 2:case 3:lp.setPosition(74,350);break;case 4:lp.setPosition(75,350).setFill(imgArrayVin[11]);break;case 5:lp.setPosition(75,355);break;case 6:lp.setPosition(75,360);break;case 7:lp.setPosition(75,365).setFill(imgArrayVin[11]);break;case 8:lp.setPosition(75,360).setFill(imgArrayVin[11]);break;case 9:lp.setPosition(75,355);break;case 10:lp.setPosition(75,350);break;case 11:lp.setPosition(80,350).setFill(imgArrayVin[8]);break;case 12:lp.setPosition(85,350).setFill(imgArrayVin[9]);break;case 13:lp.setPosition(90,350).setFill(imgArrayVin[10]);break;case 14:lp.setPosition(95,350).setFill(imgArrayVin[8]);break;case 15:lp.setPosition(100,350).setFill(imgArrayVin[9]);break;case 16:lp.setPosition(105,350).setFill(imgArrayVin[10]);break;case 17:lp.setPosition(110,350).setFill(imgArrayVin[8]);break;case 18:lp.setPosition(115,350).setFill(imgArrayVin[9]);break;case 19:lp.setPosition(120,350).setFill(imgArrayVin[10]);break;case 20:lp.setPosition(125,350).setFill(imgArrayVin[8]);break;case 21:lp.setPosition(130,350).setFill(imgArrayVin[9]);break;case 22:lp.setPosition(135,350).setFill(imgArrayVin[10]);break;case 23:lp.setPosition(140,350).setFill(imgArrayVin[9]);break;case 24:case 25:lp.setFill(imgArrayVin[13]);break;case 26:case 27:case 28:lp.setFill(imgArrayVin[16]);break;case 29:lp.setFill(imgArrayVin[14]);break;case 30:lp.setFill(imgArrayVin[10]);break;case 31:case 32:break;case 33:lp.setPosition(145,350).setFill(imgArrayVin[8]);break;case 34:lp.setPosition(150,350).setFill(imgArrayVin[9]);break;case 35:lp.setPosition(155,350).setFill(imgArrayVin[10]);break;case 36:lp.setPosition(160,350).setFill(imgArrayVin[8]);break;case 37:lp.setPosition(165,350).setFill(imgArrayVin[9]);break;case 38:lp.setFill(imgArrayVin[11]);break;case 39:lp.setPosition(160,350).setFill(imgArrayVin[16]);break;case 40:lp.setPosition(155,350).setFill(imgArrayVin[15]);break;case 41:lp.setPosition(150,350).setFill(imgArrayVin[16]);break;case 42:lp.setPosition(145,350).setFill(imgArrayVin[17]);break;case 43:lp.setPosition(140,350).setFill(imgArrayVin[16]);break;case 44:lp.setPosition(135,350).setFill(imgArrayVin[16]);break;case 45:lp.setPosition(130,350).setFill(imgArrayVin[15]);break;case 46:lp.setPosition(125,350).setFill(imgArrayVin[16]);break;case 47:lp.setPosition(120,350).setFill(imgArrayVin[17]);break;case 48:lp.setPosition(115,350).setFill(imgArrayVin[15]);break;case 49:lp.setPosition(110,350).setFill(imgArrayVin[16]);break;case 50:lp.setPosition(105,350).setFill(imgArrayVin[17]);break;case 51:lp.setPosition(100,350).setFill(imgArrayVin[16]);break;case 52:lp.setPosition(95,350).setFill(imgArrayVin[15]);break;case 53:lp.setPosition(90,350).setFill(imgArrayVin[16]);break;case 54:lp.setPosition(85,350).setFill(imgArrayVin[17]);break;case 55:lp.setPosition(80,350).setFill(imgArrayVin[16]);break;case 56:lp.setPosition(75,350).setFill(imgArrayVin[15]);break;case 57:lp.setFill(imgArrayVin[16]);break;case 58:lp.setFill(imgArrayVin[11])}Zm++,0==Qm.getHidden()&&4<=Zm&&(Zm=0,lime.scheduleManager.scheduleWithDelay(function(){Qm.setRotation(0),lime.scheduleManager.callAfter(function(){Qm.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){Qm.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){Qm.setRotation(270)},this,750)},this,1e3,1e3))}},this,250);var $p=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,115).setSize(l.width-30,l.height/2).setFill(imgArray[78]);E.appendChild($p),$p.setHidden(!0);o=(new lime.Label).setAnchorPoint(0,0).setPosition(40,25).setText("Vinemaster Terric").setFontFamily("Proxima Nova").setFontSize(24);$p.appendChild(o);O=(new lime.Label).setAnchorPoint(0,0).setPosition(15,150).setText("This old path used to lead to the WINDMILL before the landslide").setFontFamily("Proxima Nova").setFontSize(15).setSize(l.width-70,l.height/2-50);$p.appendChild(O);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,50).setSize(80,80).setFill(imgArrayVin[12]);$p.appendChild(Y);var Xp=(new lime.GlossyButton).setColor("#00ff00").setText("Clear Rocks").setPosition(140,205).setSize(100,20);$p.appendChild(Xp);ee=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);$p.appendChild(ee),0==collectItems.storeItems[3].owned&&Xp.setColor("#C83521").setText("Need a PICK"),goog.events.listen(Xp,["mousedown","touchstart"],function(e){0==$p.getHidden()&&(1==collectItems.storeItems[3].owned?(Xp.setColor("#00ff00").setText("Clear Rocks"),$p.setHidden(!0),function(){var e,t,i,o,s,n;console.log("started"),1==collectItems.storeItems[3].owned?(console.log("started2"),rp.setHidden(!1),np.setHidden(!1),ap.setHidden(!1),Xm.setHidden(!0),t=38,i=20,o=50,n=s=0,e=60,lime.scheduleManager.scheduleWithDelay(function(){4==(n+=1)&&(--e,ap.setText(e),n=0),rp.setPosition(i,o).setSize(t,46),t+=10,o-=5,(i-=5)<0&&(i=20,o=50,t=38),-15<(s+=10)&&(s=-45),np.setRotation(s),e<=0&&(a[5].owned=1,localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(a)),$m.setHidden(!0),Km.setHidden(!1),rp.setHidden(!0),np.setHidden(!0),ap.setHidden(!0))},this,250,241)):console.log("running")}()):Xp.setColor("#C83521").setText("Need a PICK"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(ee,["mousedown","touchstart"],function(e){0==$p.getHidden()&&($p.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Qp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2+40).setFill(imgArray[78]).setHidden(!0),b=(new lime.Label).setAnchorPoint(0,0).setPosition(68,30).setText("The Vineyard").setFontFamily("Proxima Nova").setFontSize(24);Qp.appendChild(b);u=(new lime.Label).setAnchorPoint(0,0).setPosition(20,80).setText("These hills are best suited to growing GRAPES").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);Qp.appendChild(u);y=(new lime.Label).setAnchorPoint(0,0).setPosition(20,140).setText("Upgrade the Vineyard and buy JARS in town to unlock JELLY").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);Qp.appendChild(y);w=(new lime.Label).setAnchorPoint(0,0).setPosition(20,205).setText("As long as you have GRAPES and JARS, you can collect JELLY regularly").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);Qp.appendChild(w);o=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,292).setSize(100,20);Qp.appendChild(o),E.appendChild(Qp),goog.events.listen(o,["mousedown","touchstart"],function(e){0==Qp.getHidden()&&(Qp.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(N,["mousedown","touchstart"],function(e){Qp.getHidden()?Qp.setHidden(!1):Qp.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Zp=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),O=(new lime.Layer).setAnchorPoint(0,0),Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#0D0D0D");Zp.appendChild(Y),Zp.appendChild(O);ee=(new lime.Sprite).setAnchorPoint(0).setPosition(0,0).setFill("images/UI/achieveBack.png").setSize(l.width,l.height);O.appendChild(ee);var eh=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(l.width/2,l.height-20).setSize(80,40);O.appendChild(eh);b=(new lime.Sprite).setAnchorPoint(0).setPosition(9,80).setFill(imgArray[18].src).setSize(142,40);O.appendChild(b);u=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(75,85).setText("Harvester I").setSize(152,40);O.appendChild(u);y=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(11).setPosition(80,108).setText("Harvest 500 crops").setSize(152,40);O.appendChild(y);w=(new lime.Sprite).setAnchorPoint(0).setPosition(120,80).setFill(imgArray[37]).setSize(30,29.5);O.appendChild(w);var th=(new lime.Sprite).setAnchorPoint(0).setPosition(10,85).setFill(imgArray[35]).setSize(16,16);O.appendChild(th);E=(new lime.Sprite).setAnchorPoint(0).setPosition(9,125).setFill(imgArray[18].src).setSize(142,40);O.appendChild(E);o=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(75,130).setText("Harvester II").setSize(152,40);O.appendChild(o);N=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(80,153).setFontSize(11).setText("Harvest 5000 crops").setSize(152,40);O.appendChild(N);Y=(new lime.Sprite).setAnchorPoint(0).setPosition(120,125).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(Y);var ih=(new lime.Sprite).setAnchorPoint(0).setPosition(10,130).setFill(imgArray[35]).setSize(16,16);O.appendChild(ih);ee=(new lime.Sprite).setAnchorPoint(0).setPosition(9,170).setFill(imgArray[18].src).setSize(142,40);O.appendChild(ee);b=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(75,175).setText("Expansion").setSize(152,40);O.appendChild(b);u=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(80,198).setFontSize(11).setText("Purchase another Acre").setSize(152,40);O.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0).setPosition(120,170).setFill(imgArray[37]).setSize(30,29.5);O.appendChild(y);var oh=(new lime.Sprite).setAnchorPoint(0).setPosition(10,175).setFill(imgArray[35]).setSize(16,16);O.appendChild(oh);w=(new lime.Sprite).setAnchorPoint(0).setPosition(9,215).setFill(imgArray[18].src).setSize(142,40);O.appendChild(w);E=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(75,220).setText("Carpenter").setSize(152,40);O.appendChild(E);o=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(80,243).setFontSize(11).setText("Upgrade Barn to Max").setSize(152,40);O.appendChild(o);N=(new lime.Sprite).setAnchorPoint(0).setPosition(120,215).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(N);var sh=(new lime.Sprite).setAnchorPoint(0).setPosition(10,220).setFill(imgArray[35]).setSize(16,16);O.appendChild(sh);Y=(new lime.Sprite).setAnchorPoint(0).setPosition(157,80).setFill(imgArray[18].src).setSize(142,40);O.appendChild(Y);ee=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(220,85).setText("Blacksmith I").setSize(152,40);O.appendChild(ee);b=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,108).setFontSize(11).setText("Collect 500 Tools").setSize(152,40);O.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0).setPosition(266,80).setFill(imgArray[37]).setSize(30,29.5);O.appendChild(u);var nh=(new lime.Sprite).setAnchorPoint(0).setPosition(158,85).setFill(imgArray[35]).setSize(16,16);O.appendChild(nh);y=(new lime.Sprite).setAnchorPoint(0).setPosition(157,125).setFill(imgArray[18].src).setSize(142,40);O.appendChild(y);w=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(220,130).setText("Blacksmith II").setSize(152,40);O.appendChild(w);E=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,153).setFontSize(11).setText("Collect 5000 Tools").setSize(152,40);O.appendChild(E);o=(new lime.Sprite).setAnchorPoint(0).setPosition(266,125).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(o);var rh=(new lime.Sprite).setAnchorPoint(0).setPosition(158,130).setFill(imgArray[35]).setSize(16,16);O.appendChild(rh);N=(new lime.Sprite).setAnchorPoint(0).setPosition(157,170).setFill(imgArray[18].src).setSize(142,40);O.appendChild(N);Y=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(220,175).setText("Patience").setSize(152,40);O.appendChild(Y);ee=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,198).setFontSize(11).setText("Play for 1 Farm Year").setSize(152,40);O.appendChild(ee);b=(new lime.Sprite).setAnchorPoint(0).setPosition(266,170).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(b);var ah=(new lime.Sprite).setAnchorPoint(0).setPosition(158,175).setFill(imgArray[35]).setSize(16,16);O.appendChild(ah);u=(new lime.Sprite).setAnchorPoint(0).setPosition(157,215).setFill(imgArray[18].src).setSize(142,40);O.appendChild(u);y=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(220,220).setText("Acreage").setSize(152,40);O.appendChild(y);w=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,243).setFontSize(11).setText("Own 5 Acres").setSize(152,40);O.appendChild(w);E=(new lime.Sprite).setAnchorPoint(0).setPosition(266,215).setFill(imgArray[39]).setSize(30,29.5);O.appendChild(E);var lh=(new lime.Sprite).setAnchorPoint(0).setPosition(158,220).setFill(imgArray[35]).setSize(16,16);O.appendChild(lh);o=(new lime.Sprite).setAnchorPoint(0).setPosition(9,260).setFill(imgArray[18].src).setSize(142,40);O.appendChild(o);N=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(75,265).setText("Jelly Making").setSize(152,40);O.appendChild(N);Y=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(80,288).setFontSize(11).setText("Unlock Jelly Making").setSize(152,40);O.appendChild(Y);ee=(new lime.Sprite).setAnchorPoint(0).setPosition(120,260).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(ee);var dh=(new lime.Sprite).setAnchorPoint(0).setPosition(10,265).setFill(imgArray[35]).setSize(16,16);O.appendChild(dh);b=(new lime.Sprite).setAnchorPoint(0).setPosition(9,305).setFill(imgArray[18].src).setSize(142,40);O.appendChild(b);u=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(75,310).setText("Lumberjack").setSize(152,40);O.appendChild(u);y=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(75,332).setFontSize(11).setText("Clear all Forests").setSize(152,40);O.appendChild(y);w=(new lime.Sprite).setAnchorPoint(0).setPosition(120,305).setFill(imgArray[39]).setSize(30,29.5);O.appendChild(w);var gh=(new lime.Sprite).setAnchorPoint(0).setPosition(10,310).setFill(imgArray[35]).setSize(16,16);O.appendChild(gh);E=(new lime.Sprite).setAnchorPoint(0).setPosition(9,350).setFill(imgArray[18].src).setSize(142,40);O.appendChild(E);o=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(67,355).setText("Breakfast Time").setSize(152,40);O.appendChild(o);N=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(80,378).setFontSize(11).setText("Obtain 100 Ham and Eggs").setSize(152,40);O.appendChild(N);Y=(new lime.Sprite).setAnchorPoint(0).setPosition(120,350).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(Y);var ch=(new lime.Sprite).setAnchorPoint(0).setPosition(10,355).setFill(imgArray[35]).setSize(16,16);O.appendChild(ch);ee=(new lime.Sprite).setAnchorPoint(0).setPosition(9,395).setFill(imgArray[18].src).setSize(142,40);O.appendChild(ee);b=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFill("#663300").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(72,400).setText("Balanced Diet").setSize(152,40);O.appendChild(b);u=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(75,423).setFontSize(11).setText("Own 10 of each Crop").setSize(152,40);O.appendChild(u);y=(new lime.Sprite).setAnchorPoint(0).setPosition(120,395).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(y);var mh=(new lime.Sprite).setAnchorPoint(0).setPosition(10,400).setFill(imgArray[35]).setSize(16,16);O.appendChild(mh);w=(new lime.Sprite).setAnchorPoint(0).setPosition(157,260).setFill(imgArray[18].src).setSize(142,40);O.appendChild(w);E=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(224,265).setText("Milk Master").setSize(152,40);O.appendChild(E);o=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,287).setFontSize(11).setText("Upgrade Dairy to Max").setSize(152,40);O.appendChild(o);N=(new lime.Sprite).setAnchorPoint(0).setPosition(266,260).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(N);var ph=(new lime.Sprite).setAnchorPoint(0).setPosition(158,265).setFill(imgArray[35]).setSize(16,16);O.appendChild(ph);Y=(new lime.Sprite).setAnchorPoint(0).setPosition(157,305).setFill(imgArray[18].src).setSize(142,40);O.appendChild(Y);ee=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(220,310).setText("Merchant").setSize(152,40);O.appendChild(ee);b=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,332).setFontSize(11).setText("Earn $5000 at Market").setSize(152,40);O.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0).setPosition(266,305).setFill(imgArray[38]).setSize(30,29.5);O.appendChild(u);var hh=(new lime.Sprite).setAnchorPoint(0).setPosition(158,310).setFill(imgArray[35]).setSize(16,16);O.appendChild(hh);y=(new lime.Sprite).setAnchorPoint(0).setPosition(157,350).setFill(imgArray[18].src).setSize(142,40);O.appendChild(y);w=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(220,355).setText("Cross-Over").setSize(152,40);O.appendChild(w);E=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,378).setFontSize(11).setText("Convert Stars to Coins").setSize(152,40);O.appendChild(E);o=(new lime.Sprite).setAnchorPoint(0).setPosition(266,350).setFill(imgArray[37]).setSize(30,29.5);O.appendChild(o);var uh=(new lime.Sprite).setAnchorPoint(0).setPosition(158,355).setFill(imgArray[35]).setSize(16,16);O.appendChild(uh);N=(new lime.Sprite).setAnchorPoint(0).setPosition(157,395).setFill(imgArray[18].src).setSize(142,40);O.appendChild(N);Y=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(219,400).setText("Back for More").setSize(152,40);O.appendChild(Y);ee=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(226,423).setFontSize(11).setText("Play for 10 Farm Years").setSize(152,40);O.appendChild(ee);b=(new lime.Sprite).setAnchorPoint(0).setPosition(266,395).setFill(imgArray[40]).setSize(30,29.5);O.appendChild(b);var yh=(new lime.Sprite).setAnchorPoint(0).setPosition(158,400).setFill(imgArray[35]).setSize(16,16);O.appendChild(yh);var Sh=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Proxima Nova").setFontColor("#000000").setFontSize(18).setPosition(160,472).setText(starCash).setSize(152,40);O.appendChild(Sh);var fh=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),u=(new lime.Layer).setAnchorPoint(0,0),y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-90).setFill("#0D0D0D");fh.appendChild(y),fh.appendChild(u);w=(new lime.Sprite).setAnchorPoint(0).setPosition(0,30).setFill("images/UI/brownBtn.png").setSize(l.width,125);u.appendChild(w);var Ah=(new lime.Sprite).setAnchorPoint(0).setPosition(0,115).setFill("images/houseUpgrades/FarmHomeInteriorOrange.png").setSize(l.width,l.height-165);u.appendChild(Ah);E=(new lime.Sprite).setAnchorPoint(0).setPosition(123,30).setFill(imgArray12[0]).setSize(64,46);Ah.appendChild(E);var wh=(new lime.Sprite).setAnchorPoint(0).setPosition(20,20).setFill(imgArray12[1]).setSize(22,18);E.appendChild(wh);var Fh=(new lime.Sprite).setAnchorPoint(0).setPosition(160,372).setFill(imgArray12[4]).setSize(22,15);u.appendChild(Fh);var Ph=(new lime.Sprite).setAnchorPoint(0,0).setPosition(190,350).setSize(55,55).setFill(imgArrayDenise[0].src);u.appendChild(Ph);o=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(35,-1).setSize(25,23).setOpacity(.2);Ph.appendChild(o);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(23,-13).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);function vh(){var e="",e=0==houseUpgrades.upgrades[1].owned?"We Need a BED to sleep in":0==houseUpgrades.upgrades[2].owned?"I wish I had a CHEST to put stuff.":0==houseUpgrades.upgrades[3].owned?"We need a SINK to cook and clean - please buy one":0==houseUpgrades.upgrades[4].owned?"Are we Animals? We need a TABLE to eat on.":0==houseUpgrades.upgrades[5].owned?"You are gonna buy some CHAIRS right?":0==houseUpgrades.upgrades[6].owned?"All the ladies in town have a DRESSING TABLE, but I do not....":0==houseUpgrades.upgrades[7].owned?"A BEDSIDE TABLE would be very nice to have":0==houseUpgrades.upgrades[8].owned?"We need more decor. A POTTED PLANT would be nice":0==houseUpgrades.upgrades[9].owned?"A COUCH to sit on would be nice to have over there":0==houseUpgrades.upgrades[10].owned?1==houseUpgrades.upgrades[0].owned?"We need some CURTAINS for this new space":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[11].owned?1==houseUpgrades.upgrades[0].owned?"We need a DOUBLE BED to fill this space":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[12].owned?1==houseUpgrades.upgrades[0].owned?"I wish I had STOOL to sit on back there":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[13].owned?1==houseUpgrades.upgrades[0].owned?"I wish I had WARDROBE to hang my dresses":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[14].owned?1==houseUpgrades.upgrades[0].owned?"I sure do like that FANCY COUCH. Won't you buy it for me?":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[15].owned?1==houseUpgrades.upgrades[0].owned?"Don't you think BOOKSHELVES would look good here?":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[16].owned?1==houseUpgrades.upgrades[0].owned?"That FANCY TABLE is so elegant. I wish we could have it":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[17].owned?1==houseUpgrades.upgrades[0].owned?"Now we need some FANCY CHAIRS to complete our set":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[18].owned?1==houseUpgrades.upgrades[0].owned?"Don't you need a DESK to keep the farm in order?":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[19].owned?1==houseUpgrades.upgrades[0].owned?"That PAINTING would look good over the mantle":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[20].owned?1==houseUpgrades.upgrades[0].owned?"I need a DISH CABINET to keep our dishes":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[21].owned?1==houseUpgrades.upgrades[0].owned?"We need a TRUNK to store Patricia's toys":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[22].owned?1==houseUpgrades.upgrades[0].owned?"A different color of walls would be a nice":"We need more room; a little one is on the way":"I am happy and don't need anything....for the moment";Ju.setText(e)}Ph.appendChild(N),goog.events.listen(o,["mousedown","touchstart"],function(){lime.scheduleManager.callAfter(function(){vh()},this,50),deniseSound.play(),Vu.setHidden(!1)});var Ch=(new lime.Sprite).setAnchorPoint(0,0).setPosition(202,145).setSize(55,55).setFill(imgArrayPatricia[0].src);u.appendChild(Ch);Y=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(25,-4).setSize(25,23).setOpacity(.2);Ch.appendChild(Y);ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-15).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);Ch.appendChild(ee);var Ih=0,bh=1;lime.scheduleManager.scheduleWithDelay(function(){if("House"==sceneActive)try{switch(1==houseUpgrades.upgrades[0].owned?Ch.setHidden(!1):Ch.setHidden(!0),Ih=parseInt(Ih)+1,wh.setFill(imgArray12[bh]),Fh.setFill(imgArray12[bh+3]),3<++bh&&(bh=1),Ih){case 1:Ph.setPosition(190,360).setFill(imgArrayDenise[1].src),Ch.setPosition(202,145).setFill(imgArrayPatricia[0].src);break;case 2:Ph.setPosition(190,360).setFill(imgArrayDenise[8].src),Ch.setPosition(202,150).setFill(imgArrayPatricia[1].src);break;case 3:Ph.setPosition(185,360).setFill(imgArrayDenise[8].src),Ch.setPosition(202,155).setFill(imgArrayPatricia[2].src);break;case 4:Ph.setPosition(180,360).setFill(imgArrayDenise[9].src),Ch.setPosition(202,160).setFill(imgArrayPatricia[3].src);break;case 5:Ph.setPosition(175,360).setFill(imgArrayDenise[10].src),Ch.setPosition(202,165).setFill(imgArrayPatricia[0].src);break;case 6:Ph.setPosition(170,360).setFill(imgArrayDenise[11].src),Ch.setPosition(202,170).setFill(imgArrayPatricia[1].src);break;case 7:Ph.setPosition(165,360).setFill(imgArrayDenise[10].src),Ch.setPosition(202,175).setFill(imgArrayPatricia[2].src);break;case 8:Ph.setPosition(160,360).setFill(imgArrayDenise[9].src),Ch.setPosition(202,180).setFill(imgArrayPatricia[3].src);break;case 9:Ph.setPosition(155,360).setFill(imgArrayDenise[8].src),Ch.setPosition(202,185).setFill(imgArrayPatricia[0].src);break;case 10:Ph.setPosition(150,360).setFill(imgArrayDenise[9].src),Ch.setPosition(202,190).setFill(imgArrayPatricia[1].src);break;case 11:Ph.setPosition(145,360).setFill(imgArrayDenise[10].src),Ch.setPosition(202,195).setFill(imgArrayPatricia[2].src);break;case 12:Ph.setPosition(140,360).setFill(imgArrayDenise[11].src),Ch.setPosition(202,200).setFill(imgArrayPatricia[3].src);break;case 12:Ph.setPosition(135,355).setFill(imgArrayDenise[8].src),Ch.setPosition(202,205).setFill(imgArrayPatricia[0].src);break;case 12:Ph.setPosition(130,355).setFill(imgArrayDenise[9].src),Ch.setPosition(202,205).setFill(imgArrayPatricia[4].src);break;case 12:Ph.setPosition(125,350).setFill(imgArrayDenise[10].src),Ch.setPosition(195,205).setFill(imgArrayPatricia[5].src);break;case 13:Ph.setPosition(120,350).setFill(imgArrayDenise[11].src),Ch.setPosition(190,205).setFill(imgArrayPatricia[6].src);break;case 14:Ph.setPosition(115,350).setFill(imgArrayDenise[10].src),Ch.setPosition(185,205).setFill(imgArrayPatricia[7].src);break;case 15:Ph.setPosition(110,350).setFill(imgArrayDenise[9].src),Ch.setPosition(180,205).setFill(imgArrayPatricia[4].src);break;case 16:Ph.setFill(imgArrayDenise[13].src),Ch.setPosition(175,205).setFill(imgArrayPatricia[5].src);break;case 17:Ch.setPosition(170,205).setFill(imgArrayPatricia[6].src);break;case 18:Ch.setPosition(165,205).setFill(imgArrayPatricia[7].src);break;case 19:Ch.setPosition(160,205).setFill(imgArrayPatricia[6].src);break;case 20:Ch.setPosition(155,205).setFill(imgArrayPatricia[5].src);break;case 21:Ph.setFill(imgArrayDenise[14].src),Ch.setPosition(150,205).setFill(imgArrayPatricia[4].src);break;case 22:Ph.setFill(imgArrayDenise[8].src),Ch.setPosition(145,205).setFill(imgArrayPatricia[5].src);break;case 23:Ph.setFill(imgArrayDenise[1].src),Ch.setPosition(140,205).setFill(imgArrayPatricia[6].src);break;case 24:Ph.setPosition(110,355).setFill(imgArrayDenise[0].src),Ch.setPosition(135,205).setFill(imgArrayPatricia[7].src);break;case 25:Ph.setPosition(110,360).setFill(imgArrayDenise[1].src),Ch.setPosition(130,205).setFill(imgArrayPatricia[6].src);break;case 26:Ph.setPosition(110,365).setFill(imgArrayDenise[2].src),Ch.setPosition(125,205).setFill(imgArrayPatricia[5].src);break;case 27:Ph.setPosition(110,370).setFill(imgArrayDenise[3].src),Ch.setPosition(120,205).setFill(imgArrayPatricia[4].src);break;case 28:Ph.setPosition(110,375).setFill(imgArrayDenise[0].src),Ch.setPosition(115,205).setFill(imgArrayPatricia[7].src);break;case 29:Ph.setPosition(110,380).setFill(imgArrayDenise[1].src),Ch.setPosition(110,205).setFill(imgArrayPatricia[6].src);break;case 30:Ch.setPosition(105,205).setFill(imgArrayPatricia[5].src);break;case 31:Ch.setPosition(100,205).setFill(imgArrayPatricia[4].src);break;case 32:Ch.setPosition(95,205).setFill(imgArrayPatricia[5].src);break;case 33:Ch.setPosition(90,205).setFill(imgArrayPatricia[6].src);break;case 34:Ph.setPosition(110,375).setFill(imgArrayDenise[4].src),Ch.setPosition(85,205).setFill(imgArrayPatricia[7].src);break;case 35:Ph.setPosition(115,370).setFill(imgArrayDenise[5].src),Ch.setPosition(80,205).setFill(imgArrayPatricia[6].src);break;case 36:Ph.setPosition(120,365).setFill(imgArrayDenise[6].src),Ch.setPosition(75,205).setFill(imgArrayPatricia[5].src);break;case 37:Ph.setPosition(125,360).setFill(imgArrayDenise[7].src),Ch.setPosition(70,205).setFill(imgArrayPatricia[4].src);break;case 38:Ph.setPosition(130,360).setFill(imgArrayDenise[4].src),Ch.setFill(imgArrayPatricia[12].src);break;case 39:Ph.setPosition(135,360).setFill(imgArrayDenise[5].src),Ch.setPosition(70,200).setFill(imgArrayPatricia[13].src);break;case 40:Ph.setPosition(140,360).setFill(imgArrayDenise[4].src),Ch.setPosition(70,195).setFill(imgArrayPatricia[14].src);break;case 41:Ph.setPosition(145,360).setFill(imgArrayDenise[5].src),Ch.setPosition(70,190).setFill(imgArrayPatricia[15].src);break;case 42:Ph.setPosition(150,360).setFill(imgArrayDenise[4].src),Ch.setPosition(70,185).setFill(imgArrayPatricia[12].src);break;case 43:Ph.setPosition(155,360).setFill(imgArrayDenise[5].src),Ch.setPosition(70,180).setFill(imgArrayPatricia[13].src);break;case 44:Ph.setPosition(160,360).setFill(imgArrayDenise[4].src),Ch.setPosition(70,175).setFill(imgArrayPatricia[14].src);break;case 45:Ph.setPosition(175,360).setFill(imgArrayDenise[5].src),Ch.setPosition(70,170).setFill(imgArrayPatricia[15].src);break;case 46:Ph.setPosition(180,360).setFill(imgArrayDenise[4].src),Ch.setPosition(70,165).setFill(imgArrayPatricia[12].src);break;case 47:Ph.setPosition(185,360).setFill(imgArrayDenise[5].src),Ch.setPosition(70,160).setFill(imgArrayPatricia[13].src);break;case 48:Ph.setPosition(190,360).setFill(imgArrayDenise[6].src),Ch.setPosition(70,155).setFill(imgArrayPatricia[14].src);break;case 49:Ph.setFill(imgArrayDenise[0].src),Ch.setPosition(70,150).setFill(imgArrayPatricia[15].src);break;case 50:Ch.setPosition(70,150).setFill(imgArrayPatricia[4].src);break;case 51:Ch.setFill(imgArrayPatricia[0].src);break;case 52:Ch.setFill(imgArrayPatricia[8].src);break;case 53:Ch.setFill(imgArrayPatricia[0].src);break;case 54:Ch.setFill(imgArrayPatricia[4].src);break;case 55:Ch.setFill(imgArrayPatricia[0].src);break;case 56:break;case 57:Ch.setPosition(70,150);break;case 58:Ch.setPosition(70,150).setFill(imgArrayPatricia[12].src);break;case 59:Ph.setPosition(190,360).setFill(imgArrayDenise[4].src),Ch.setPosition(70,145).setFill(imgArrayPatricia[12].src);break;case 60:Ch.setPosition(70,145).setFill(imgArrayPatricia[8].src);break;case 61:Ch.setPosition(75,145).setFill(imgArrayPatricia[9].src);break;case 62:Ch.setPosition(80,145).setFill(imgArrayPatricia[10].src);break;case 63:Ch.setPosition(85,145).setFill(imgArrayPatricia[11].src);break;case 64:Ch.setPosition(90,145).setFill(imgArrayPatricia[8].src);break;case 65:Ch.setPosition(95,145).setFill(imgArrayPatricia[9].src);break;case 66:Ch.setPosition(100,145).setFill(imgArrayPatricia[10].src);break;case 67:Ch.setPosition(105,145).setFill(imgArrayPatricia[11].src);break;case 68:Ch.setPosition(110,145).setFill(imgArrayPatricia[8].src);break;case 69:Ph.setPosition(190,360).setFill(imgArrayDenise[0].src),Ch.setPosition(115,145).setFill(imgArrayPatricia[9].src);break;case 70:Ch.setPosition(120,145).setFill(imgArrayPatricia[10].src);break;case 71:Ch.setPosition(125,145).setFill(imgArrayPatricia[11].src);break;case 72:Ch.setPosition(130,145).setFill(imgArrayPatricia[8].src);break;case 73:Ch.setPosition(135,145).setFill(imgArrayPatricia[9].src);break;case 74:Ch.setPosition(140,145).setFill(imgArrayPatricia[11].src);break;case 75:Ch.setPosition(145,145).setFill(imgArrayPatricia[8].src);break;case 76:Ch.setPosition(150,145).setFill(imgArrayPatricia[9].src);break;case 77:Ch.setPosition(155,145).setFill(imgArrayPatricia[10].src);break;case 78:Ch.setPosition(160,145).setFill(imgArrayPatricia[11].src);break;case 79:Ph.setPosition(190,360).setFill(imgArrayDenise[15].src),Ch.setPosition(165,145).setFill(imgArrayPatricia[9].src);break;case 80:Ch.setPosition(170,145).setFill(imgArrayPatricia[10].src);break;case 81:Ch.setPosition(175,145).setFill(imgArrayPatricia[11].src);break;case 82:Ch.setPosition(180,145).setFill(imgArrayPatricia[8].src);break;case 83:Ph.setPosition(190,360).setFill(imgArrayDenise[1].src),Ch.setPosition(185,145).setFill(imgArrayPatricia[9].src);break;case 84:Ch.setPosition(190,145).setFill(imgArrayPatricia[10].src);break;case 85:Ch.setPosition(195,145).setFill(imgArrayPatricia[11].src);break;case 86:Ch.setPosition(202,145).setFill(imgArrayPatricia[8].src);break;case 87:case 88:Ch.setFill(imgArrayPatricia[8].src);break;case 89:Ph.setPosition(190,360).setFill(imgArrayDenise[1].src),Ch.setFill(imgArrayPatricia[4].src);break;case 90:Ch.setPosition(202,145).setFill(imgArrayPatricia[0].src);break;case 91:Ch.setFill(imgArrayPatricia[8].src);break;case 92:Ch.setFill(imgArrayPatricia[0].src);break;case 93:Ch.setFill(imgArrayPatricia[4].src);break;case 94:Ch.setFill(imgArrayPatricia[0].src);break;case 95:Ph.setPosition(190,360).setFill(imgArrayDenise[15].src),Ch.setPosition(202,145).setFill(imgArrayPatricia[8].src);break;case 96:Ch.setPosition(202,145).setFill(imgArrayPatricia[0].src);break;case 97:Ch.setFill(imgArrayPatricia[4].src);break;case 98:Ch.setFill(imgArrayPatricia[0].src);break;case 99:Ph.setPosition(190,360).setFill(imgArrayDenise[1].src),Ch.setPosition(202,145).setFill(imgArrayPatricia[0].src);break;default:Ih=0}100<=Ih&&(Ih=0)}catch(e){alert("Oh Snap! There is an error opening the house on your device. Please screenshot this and contact info@guighost.com for support "+e)}},this,250),goog.events.listen(Y,["mousedown","touchstart"],function(){lime.scheduleManager.callAfter(function(){Th=Math.round(5*Math.random()),qu.setText(questParamsPatricia.speech[Th].Text),patriciaLaugh.play()},this,50),Yu.setHidden(!1)});var Th=0;b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,460).setSize(20,20).setFill(imgArrayItems[44]);u.appendChild(b);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-36,254).setSize(20,20).setFill(imgArrayItems[43]);u.appendChild(O),1==mapLocations.places[24].found||yearCount<5?b.setHidden(!0):goog.events.listen(b,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[24].found=1,TA("w1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[25].found||yearCount<7?O.setHidden(!0):goog.events.listen(O,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[25].found=1,TA("w2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var Hh=(new lime.Sprite).setPosition(155,217).setSize(l.width-15,180).setFill("#000000").setHidden(!1);u.appendChild(Hh);var _h=(new lime.GlossyButton).setColor("#000000").setAnchorPoint(0).setPosition(-0,-30).setSize(40,50).setText("").setOpacity(.8);Hh.appendChild(_h);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,200).setSize(100,20);u.appendChild(y);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-24).setSize(40,50).setFill(imgArray[83]);_h.appendChild(w);E=(new lime.Label).setAnchorPoint(0,0).setPosition(-70,50).setSize(140,18).setText("Expand Your Home").setFontColor("#f0ffff").setOpacity(1);_h.appendChild(E);var xh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-125,-85).setSize(l.width-75,150).setFill(imgArray[26]);Hh.appendChild(xh);var zh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-130,-100).setSize(300,200).setFill(imgArray[24].src);Hh.appendChild(zh);var kh=(new lime.Label).setText("90").setPosition(5,27).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]),Eh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);Hh.appendChild(kh),kh.appendChild(Eh),Eh.setRotation(-10),kh.setHidden(!0),xh.setHidden(!0),zh.setHidden(!0);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(l.controlsLayer_w-2,l.controlsLayer_h-25).setFill(imgArray[75]);u.appendChild(N);var o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,3).setSize(35,35).setFill(imgArray[30]),Mh=(new lime.Label).setText(player.tools).setFontFamily("Proxima Nova").setFontColor("#E8FC08").setPosition(69,24).setFontSize(18);u.appendChild(o),u.appendChild(Mh);var Lh=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Proxima Nova").setFontSize(18).setPosition(235,24);u.appendChild(Lh);ee=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);u.appendChild(ee);Y=(new lime.Label).setText("Home Store").setPosition(l.width/2,109).setSize(250,18).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");u.appendChild(Y);var Nh=(new lime.Sprite).setAnchorPoint(0).setPosition(0,42).setSize(l.width,100).setFill("#E8FC08");u.appendChild(Nh);var b=85,Oh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(85,30).setSize(60,45).setText("");Nh.appendChild(Oh);O=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[1]).setSize(25,44);Oh.appendChild(O);y=(new lime.Label).setText(houseUpgrades.upgrades[1].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Oh.appendChild(y);w=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Oh.appendChild(w);var Bh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(250,270).setSize(28,63).setText(""),E=(new lime.Sprite).setAnchorPoint(0).setPosition(-14,-34).setFill(imgArray11[1]).setSize(28,64);Ah.appendChild(Bh),Bh.appendChild(E),Bh.setHidden(!0),b+=70;var Rh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(155,30).setSize(60,45).setText("");Nh.appendChild(Rh);N=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[2]).setSize(25,40);Rh.appendChild(N);o=(new lime.Label).setText(houseUpgrades.upgrades[2].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Rh.appendChild(o);ee=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Rh.appendChild(ee);var Dh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(210,347).setSize(25,44).setText(""),Y=(new lime.Sprite).setAnchorPoint(0).setPosition(-12,-24).setFill(imgArray11[2]).setSize(25,45);Ah.appendChild(Dh),Dh.appendChild(Y),Dh.setHidden(!0),b+=70;var Uh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(225,30).setSize(60,45).setText("");Nh.appendChild(Uh);O=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[3]).setSize(25,45);Uh.appendChild(O);y=(new lime.Label).setText(houseUpgrades.upgrades[3].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Uh.appendChild(y);w=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Uh.appendChild(w);var Gh=(new lime.Sprite).setAnchorPoint(0).setPosition(113,241).setFill(imgArray11[3]).setSize(42,35);Ah.appendChild(Gh),Gh.setHidden(!0),b+=70;var Wh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(295,30).setSize(60,45).setText("");Nh.appendChild(Wh);E=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[4]).setSize(25,40);Wh.appendChild(E);N=(new lime.Label).setText(houseUpgrades.upgrades[4].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Wh.appendChild(N);o=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Wh.appendChild(o);var Vh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(63,322).setSize(32,46).setText(""),ee=(new lime.Sprite).setAnchorPoint(0).setPosition(-15,-29).setFill(imgArray11[4]).setSize(32,56);Ah.appendChild(Vh),Vh.appendChild(ee),Vh.setHidden(!0),b+=70;var Jh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(365,30).setSize(60,45).setText("");Nh.appendChild(Jh);Y=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[5]).setSize(24,44);Jh.appendChild(Y);O=(new lime.Label).setText(houseUpgrades.upgrades[5].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Jh.appendChild(O);y=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Jh.appendChild(y);var Yh=(new lime.Sprite).setAnchorPoint(0).setPosition(25,267).setFill("images/houseUpgrades/woodChairSet2.png").setSize(79,99);Ah.appendChild(Yh),Yh.setHidden(!0),b+=70;var qh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(435,30).setSize(60,45).setText("");Nh.appendChild(qh);w=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[6]).setSize(24,44);qh.appendChild(w);E=(new lime.Label).setText(houseUpgrades.upgrades[6].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");qh.appendChild(E);N=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);qh.appendChild(N);var jh=(new lime.Sprite).setAnchorPoint(0).setPosition(267,216).setFill(imgArray11[6]).setSize(32,56);Ah.appendChild(jh),jh.setHidden(!0),b+=70;var Kh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(505,30).setSize(60,45).setText("");Nh.appendChild(Kh);o=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[7]).setSize(22,20);Kh.appendChild(o);ee=(new lime.Label).setText(houseUpgrades.upgrades[7].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Kh.appendChild(ee);Y=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Kh.appendChild(Y);var $h=(new lime.Sprite).setAnchorPoint(0).setPosition(212,242).setFill(imgArray11[7]).setSize(22,32);Ah.appendChild($h),$h.setHidden(!0),b+=70;var Xh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(575,30).setSize(60,45).setText("");Nh.appendChild(Xh);O=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[8]).setSize(22,34);Xh.appendChild(O);y=(new lime.Label).setText(houseUpgrades.upgrades[8].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Xh.appendChild(y);w=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Xh.appendChild(w);var Qh=(new lime.Sprite).setAnchorPoint(0).setPosition(127,328).setFill(imgArray11[8]).setSize(25,40);Ah.appendChild(Qh),Qh.setHidden(!0),b+=70;var Zh=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(645,30).setSize(60,45).setText("");Nh.appendChild(Zh);E=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[9]).setSize(22,34);Zh.appendChild(E);N=(new lime.Label).setText(houseUpgrades.upgrades[9].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Zh.appendChild(N);o=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Zh.appendChild(o);var eu=(new lime.Sprite).setAnchorPoint(0).setPosition(271,318).setFill(imgArray11[9]).setSize(28,50);Ah.appendChild(eu),eu.setHidden(!0),b+=70;var tu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(715,30).setSize(60,45).setText("");Nh.appendChild(tu);ee=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[10]).setSize(22,34);tu.appendChild(ee);Y=(new lime.Label).setText(houseUpgrades.upgrades[10].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");tu.appendChild(Y);O=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);tu.appendChild(O);var iu=(new lime.Sprite).setAnchorPoint(0).setPosition(59,25).setFill(imgArray11[10]).setSize(39,46);Ah.appendChild(iu);var ou=(new lime.Sprite).setAnchorPoint(0).setPosition(213,25).setFill(imgArray11[10]).setSize(39,46);Ah.appendChild(ou),iu.setHidden(!0),ou.setHidden(!0),b+=70;var su=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(785,30).setSize(60,45).setText("");Nh.appendChild(su);y=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[11]).setSize(22,34);su.appendChild(y);w=(new lime.Label).setText(houseUpgrades.upgrades[11].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");su.appendChild(w);E=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);su.appendChild(E);var nu=(new lime.Sprite).setAnchorPoint(0).setPosition(l.controlsLayer_w-70,48).setFill(imgArray11[11]).setSize(50,70);Ah.appendChild(nu),nu.setHidden(!0),b+=70;var ru=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(855,30).setSize(60,45).setText("");Nh.appendChild(ru);N=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[12]).setSize(22,34);ru.appendChild(N);o=(new lime.Label).setText(houseUpgrades.upgrades[12].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");ru.appendChild(o);ee=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);ru.appendChild(ee);var au=(new lime.Sprite).setAnchorPoint(0).setPosition(30,130).setFill(imgArray11[12]).setSize(18,24);Ah.appendChild(au),au.setHidden(!0),b+=70;var lu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(925,30).setSize(60,45).setText("");Nh.appendChild(lu);Y=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[13]).setSize(22,34);lu.appendChild(Y);O=(new lime.Label).setText(houseUpgrades.upgrades[13].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");lu.appendChild(O);y=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);lu.appendChild(y);var du=(new lime.Sprite).setAnchorPoint(0).setPosition(10,22).setFill(imgArray11[13]).setSize(30,56);Ah.appendChild(du),du.setHidden(!0),b+=70;var gu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(995,30).setSize(60,45).setText("");Nh.appendChild(gu);w=(new lime.Sprite).setAnchorPoint(0).setPosition(-24,-18).setFill(imgArray11[14]).setSize(40,24);gu.appendChild(w);E=(new lime.Label).setText(houseUpgrades.upgrades[14].cost).setPosition(-12,18).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");gu.appendChild(E);N=(new lime.Sprite).setPosition(15,14).setSize(20,20).setFill(imgArray11[0]);gu.appendChild(N);var cu=(new lime.Sprite).setAnchorPoint(0).setPosition(124,110).setFill(imgArray11[14]).setSize(59,29);Ah.appendChild(cu),cu.setHidden(!0),b+=70;var mu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1065,30).setSize(60,45).setText("");Nh.appendChild(mu);o=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[15]).setSize(22,37);mu.appendChild(o);ee=(new lime.Label).setText(houseUpgrades.upgrades[15].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");mu.appendChild(ee);Y=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);mu.appendChild(Y);var pu=(new lime.Sprite).setAnchorPoint(0).setPosition(98,20).setFill(imgArray11[15]).setSize(26,55);Ah.appendChild(pu);var hu=(new lime.Sprite).setAnchorPoint(0).setPosition(186,20).setFill(imgArray11[15]).setSize(26,55);Ah.appendChild(hu),pu.setHidden(!0),hu.setHidden(!0),b+=70;var uu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1135,30).setSize(60,45).setText("");Nh.appendChild(uu);O=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[16]).setSize(22,37);uu.appendChild(O);y=(new lime.Label).setText(houseUpgrades.upgrades[16].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");uu.appendChild(y);w=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);uu.appendChild(w);var yu=(new lime.Sprite).setAnchorPoint(0).setPosition(138,91).setFill(imgArray11[16]).setSize(32,18);Ah.appendChild(yu),yu.setHidden(!0),b+=70;var Su=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1205,30).setSize(60,45).setText("");Nh.appendChild(Su);E=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[17]).setSize(22,37);Su.appendChild(E);N=(new lime.Label).setText(houseUpgrades.upgrades[17].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Su.appendChild(N);o=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Su.appendChild(o);var fu=(new lime.Sprite).setAnchorPoint(0).setPosition(111,82).setFill("images/houseUpgrades/fancyChairSet2.png").setSize(90,29);Ah.appendChild(fu),fu.setHidden(!0),b+=70;var Au=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1275,30).setSize(60,45).setText("");Nh.appendChild(Au);ee=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[18]).setSize(22,37);Au.appendChild(ee);Y=(new lime.Label).setText(houseUpgrades.upgrades[18].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Au.appendChild(Y);O=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Au.appendChild(O);var wu=(new lime.Sprite).setAnchorPoint(0).setPosition(11,102).setFill(imgArray11[18]).setSize(52,37);Ah.appendChild(wu),wu.setHidden(!0),b+=70;var Fu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1345,30).setSize(60,45).setText("");Nh.appendChild(Fu);y=(new lime.Sprite).setAnchorPoint(0).setPosition(-20,-18).setFill(imgArray11[19]).setSize(36,21);Fu.appendChild(y);w=(new lime.Label).setText(houseUpgrades.upgrades[19].cost).setPosition(-10,17).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Fu.appendChild(w);E=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Fu.appendChild(E);var Pu=(new lime.Sprite).setAnchorPoint(0).setPosition(128,13).setFill(imgArray11[19]).setSize(55,16);Ah.appendChild(Pu),Pu.setHidden(!0),b+=70;var vu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1415,30).setSize(60,45).setText("");Nh.appendChild(vu);N=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[20]).setSize(22,37);vu.appendChild(N);o=(new lime.Label).setText(houseUpgrades.upgrades[20].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");vu.appendChild(o);ee=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);vu.appendChild(ee);var Cu=(new lime.Sprite).setAnchorPoint(0).setPosition(15,215).setFill(imgArray11[20]).setSize(32,56);Ah.appendChild(Cu),Cu.setHidden(!0),b+=70;var Iu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1485,30).setSize(60,45).setText("");Nh.appendChild(Iu);Y=(new lime.Sprite).setAnchorPoint(0).setPosition(-26,0).setFill(imgArray11[21]).setSize(26,18);Iu.appendChild(Y);O=(new lime.Label).setText(houseUpgrades.upgrades[21].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Iu.appendChild(O);y=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Iu.appendChild(y);var bu=(new lime.Sprite).setAnchorPoint(0).setPosition(l.controlsLayer_w-67,115).setFill(imgArray11[21]).setSize(44,18);Ah.appendChild(bu),bu.setHidden(!0),b+=70;var Tu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1555,30).setSize(60,45).setText("");Nh.appendChild(Tu);w=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[22]).setSize(22,37);Tu.appendChild(w);E=(new lime.Label).setText(houseUpgrades.upgrades[22].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Tu.appendChild(E);N=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Tu.appendChild(N),b+=70;var Hu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1625,30).setSize(60,45).setText("");Nh.appendChild(Hu);o=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[23]).setSize(22,37);Hu.appendChild(o);ee=(new lime.Label).setText(houseUpgrades.upgrades[23].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Hu.appendChild(ee);Y=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Hu.appendChild(Y),b+=70;var _u=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1695,30).setSize(60,45).setText("");Nh.appendChild(_u);O=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[24]).setSize(22,37);_u.appendChild(O);y=(new lime.Label).setText(houseUpgrades.upgrades[24].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");_u.appendChild(y);w=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);_u.appendChild(w),b+=70;var xu=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(1765,30).setSize(60,45).setText("");Nh.appendChild(xu);E=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[25]).setSize(22,37);xu.appendChild(E);N=(new lime.Label).setText(houseUpgrades.upgrades[25].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");xu.appendChild(N);o=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);xu.appendChild(o);var zu=Nh.getPosition(),ku=zu.x,Eu=ku;!async function(){for(var e=0;e<25;e++)1!=houseUpgrades.upgrades[e].owned&&0!=houseUpgrades.upgrades[e].owned&&(houseUpgrades.upgrades[e].owned=0);return 1}();var Mu=0;goog.events.listen(Oh,["mousedown","touchstart"],function(){Nu(Mu=1),Lu()}),goog.events.listen(Rh,["mousedown","touchstart"],function(){Nu(Mu=2),Lu()}),goog.events.listen(Uh,["mousedown","touchstart"],function(){Nu(Mu=3),Lu()}),goog.events.listen(Wh,["mousedown","touchstart"],function(){Nu(Mu=4),Lu()}),goog.events.listen(Jh,["mousedown","touchstart"],function(){Nu(Mu=5),Lu()}),goog.events.listen(qh,["mousedown","touchstart"],function(){Nu(Mu=6),Lu()}),goog.events.listen(Kh,["mousedown","touchstart"],function(){Nu(Mu=7),Lu()}),goog.events.listen(Xh,["mousedown","touchstart"],function(){Nu(Mu=8),Lu()}),goog.events.listen(Zh,["mousedown","touchstart"],function(){Nu(Mu=9),Lu()}),goog.events.listen(tu,["mousedown","touchstart"],function(){Nu(Mu=10),Lu()}),goog.events.listen(su,["mousedown","touchstart"],function(){Nu(Mu=11),Lu()}),goog.events.listen(ru,["mousedown","touchstart"],function(){Nu(Mu=12),Lu()}),goog.events.listen(lu,["mousedown","touchstart"],function(){Nu(Mu=13),Lu()}),goog.events.listen(gu,["mousedown","touchstart"],function(){Nu(Mu=14),Wu.setPosition(40,55).setSize(59,29)}),goog.events.listen(mu,["mousedown","touchstart"],function(){Nu(Mu=15),Lu()}),goog.events.listen(uu,["mousedown","touchstart"],function(){Nu(Mu=16),Lu()}),goog.events.listen(Su,["mousedown","touchstart"],function(){Nu(Mu=17),Lu()}),goog.events.listen(Au,["mousedown","touchstart"],function(){Nu(Mu=18),Wu.setPosition(40,55).setSize(56,38)}),goog.events.listen(Fu,["mousedown","touchstart"],function(){Nu(Mu=19),Wu.setPosition(40,55).setSize(56,32)}),goog.events.listen(vu,["mousedown","touchstart"],function(){Nu(Mu=20),Lu()}),goog.events.listen(Iu,["mousedown","touchstart"],function(){Nu(Mu=21),Wu.setPosition(42,55).setSize(50,28)}),goog.events.listen(Tu,["mousedown","touchstart"],function(){Nu(Mu=22),Lu()}),goog.events.listen(Hu,["mousedown","touchstart"],function(){Nu(Mu=23),Lu()}),goog.events.listen(_u,["mousedown","touchstart"],function(){Nu(Mu=24),Lu()}),goog.events.listen(xu,["mousedown","touchstart"],function(){Nu(Mu=25),Lu()});function Lu(){Wu.setPosition(50,45).setSize(34,55)}var Nu=function(e){Du.setHidden(!1),Wu.setFill(imgArray11[e]),Gu.setText(" - "+houseUpgrades.upgrades[e].cost),Uu.setText(houseUpgrades.upgrades[e].name)},Ou=(new lime.Sprite).setPosition(l.width-13,112).setSize(30,30).setFill(imgArray[104]);u.appendChild(Ou);var Bu=(new lime.Sprite).setPosition(13,112).setSize(30,30).setFill(imgArray[104]).setRotation(180);u.appendChild(Bu),Bu.setHidden(!0),goog.events.listen(Ou,["mousedown","touchstart"],function(){var t=Nh.getPosition().x-70;Bu.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){var e=Nh.getPosition();e.x-=10,Nh.setPosition(e.x,e.y),e.x<=t&&lime.scheduleManager.unschedule(this,Ou)},this,50,7)}),goog.events.listen(Bu,["mousedown","touchstart"],function(){Nh.getPosition().x;lime.scheduleManager.scheduleWithDelay(function(){var e=Nh.getPosition();e.x+=10,Nh.setPosition(e.x,e.y),25<=(e=Nh.getPosition()).x&&Bu.setHidden(!0)},this,100,7)});ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,l.height-50).setSize(l.controlsLayer_w,50).setFill(imgArray[69]);u.appendChild(ee),backBtnHouse=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(l.width/2,25).setSize(80,40),ee.appendChild(backBtnHouse),goog.events.listen(backBtnHouse,["mousedown","touchstart"],function(){d.replaceScene(g,lime.transitions.SlideInDown),scenebefore=1,r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,sceneActive="Home"});Y=(new lime.Sprite).setFill(imgArray[72]).setAnchorPoint(0,0).setPosition(50,498).setSize(35,35);u.appendChild(Y),goog.events.listen(Y,["mousedown","touchstart"],function(){0==globalModalBlock&&ay()});O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(215,492).setSize(45,45).setFill(imgArray[81]);u.appendChild(O),goog.events.listen(O,["mousedown","touchstart"],function(){0==globalModalBlock&&(scenebefore=7,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),sceneActive="Market",acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,1500))});var Ru=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,498).setSize(35,35).setFill(imgArray[15]);u.appendChild(Ru),goog.events.listen(Ru,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),themeSongNew.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),oy(2)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1)))});var Du=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-63,210).setSize(135,135).setFill(imgArray[78]);u.appendChild(Du),Du.setHidden(!0);var Uu=(new lime.Label).setText("Name of item").setPosition(67,35).setSize(130,50).setFontColor("#000000").setFontWeight(600).setFontSize(16).setFontFamily("Proxima Nova");Du.appendChild(Uu);var Gu=(new lime.Label).setText(" - 150").setPosition(75,53).setSize(130,50).setFontColor("#000000").setFontWeight(600).setFontSize(18).setFontFamily("Proxima Nova");Du.appendChild(Gu);var Wu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,45).setSize(34,55).setFill(imgArray11[1]);Du.appendChild(Wu);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,22).setSize(20,20).setFill(imgArray11[0]);Du.appendChild(y);w=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(35,128).setSize(32,32).setText("");Du.appendChild(w);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16,-15).setSize(32,32).setFill(imgArray[21]);w.appendChild(b);E=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(100,128).setSize(32,32).setText("");Du.appendChild(E);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16,-15).setSize(32,32).setFill(imgArray[107]);E.appendChild(N),goog.events.listen(w,["mousedown","touchstart"],function(e){Du.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(E,["mousedown","touchstart"],function(e){if(1==houseUpgrades.upgrades[Mu].owned&&(Mu<19||21<Mu))Uu.setText("Already Owned");else{if(player.money>=houseUpgrades.upgrades[Mu].cost)if(Mu<10||10<=Mu&&1==houseUpgrades.upgrades[0].owned){switch(player.money-=houseUpgrades.upgrades[Mu].cost,houseUpgrades.upgrades[Mu].owned=1,localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),Mu){case 1:Bh.setHidden(!1),Mu=0,Oh.setOpacity(.2);break;case 2:Dh.setHidden(!1),Mu=0,Rh.setOpacity(.2);break;case 3:Gh.setHidden(!1),Mu=0,Uh.setOpacity(.2);break;case 4:Vh.setHidden(!1),Mu=0,Wh.setOpacity(.2);break;case 5:Yh.setHidden(!1),Mu=0,Jh.setOpacity(.2);break;case 6:jh.setHidden(!1),Mu=0,qh.setOpacity(.2);break;case 7:$h.setHidden(!1),Mu=0,Kh.setOpacity(.2);break;case 8:Qh.setHidden(!1),Mu=0,Xh.setOpacity(.2);break;case 9:eu.setHidden(!1),Mu=0,Zh.setOpacity(.2);break;case 10:iu.setHidden(!1),ou.setHidden(!1),Mu=0,tu.setOpacity(.2);break;case 11:nu.setHidden(!1),Mu=0,su.setOpacity(.2);break;case 12:au.setHidden(!1),Mu=0,ru.setOpacity(.2);break;case 13:du.setHidden(!1),Mu=0,lu.setOpacity(.2);break;case 14:cu.setHidden(!1),Mu=0,gu.setOpacity(.2),Wu.setSize(34,55).setPosition(50,45);break;case 15:pu.setHidden(!1),hu.setHidden(!1),Mu=0,mu.setOpacity(.2);break;case 16:yu.setHidden(!1),Mu=0,uu.setOpacity(.2);break;case 17:fu.setHidden(!1),Mu=0,Su.setOpacity(.2);break;case 18:wu.setHidden(!1),Mu=0,Au.setOpacity(.2);break;case 19:Pu.setHidden(!1),Mu=0,Fu.setOpacity(.2);break;case 20:Cu.setHidden(!1),Mu=0,vu.setOpacity(.2);break;case 21:bu.setHidden(!1),Mu=0,Iu.setOpacity(.2);break;case 22:Ah.setFill(imgArray11[Mu]),Mu=0,Tu.setOpacity(.2),Hu.setOpacity(1),_u.setOpacity(1),xu.setOpacity(1),houseUpgrades.upgrades[23].owned=0,houseUpgrades.upgrades[24].owned=0,houseUpgrades.upgrades[25].owned=0;break;case 23:Ah.setFill(imgArray11[Mu]),Mu=0,Hu.setOpacity(.2),Tu.setOpacity(1),_u.setOpacity(1),xu.setOpacity(1),houseUpgrades.upgrades[22].owned=0,houseUpgrades.upgrades[24].owned=0,houseUpgrades.upgrades[25].owned=0;break;case 24:Ah.setFill(imgArray11[Mu]),Mu=0,_u.setOpacity(.2),Tu.setOpacity(1),Hu.setOpacity(1),xu.setOpacity(1),houseUpgrades.upgrades[22].owned=0,houseUpgrades.upgrades[23].owned=0,houseUpgrades.upgrades[25].owned=0;break;case 25:Ah.setFill(imgArray11[Mu]),Mu=0,xu.setOpacity(.2),Tu.setOpacity(1),Hu.setOpacity(1),_u.setOpacity(1),houseUpgrades.upgrades[22].owned=0,houseUpgrades.upgrades[23].owned=0,houseUpgrades.upgrades[24].owned=0;break;default:Mu=0}Du.setHidden(!0),purchaseSound.play()}else Uu.setText("Needs Room 2");else Uu.setText("Need More Coin");localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),Lh.setText(player.money),l.updateMoney(),vh(),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}});var Vu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,125).setSize(250,220).setFill(imgArray[79]);u.appendChild(Vu);o=(new lime.Label).setAnchorPoint(0,0).setPosition(90,19).setText("Denise").setFontFamily("Proxima Nova").setFontSize(24);Vu.appendChild(o);var Ju=(new lime.Label).setAnchorPoint(0,0).setPosition(20,135).setText("We need some more furniture if you expect me to live here").setFontFamily("Proxima Nova").setFontSize(16).setSize(200,l.height/2-50);Vu.appendChild(Ju);ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(75,26).setSize(100,100).setFill(imgArrayDenise[0].src);Vu.appendChild(ee);Y=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);Vu.appendChild(Y);var Yu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,125).setSize(260,220).setFill(imgArray[79]).setHidden(!0);u.appendChild(Yu);O=(new lime.Label).setAnchorPoint(0,0).setPosition(95,19).setText("Patricia").setFontFamily("Proxima Nova").setFontSize(24);Yu.appendChild(O);var qu=(new lime.Label).setAnchorPoint(0,0).setPosition(17,115).setText("Dibba Dabba....Dibba Dabba........waaaaaahhhhh").setFontFamily("Proxima Nova").setFontSize(16).setSize(225,l.height/2-50);Yu.appendChild(qu);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,12).setSize(100,100).setFill(imgArrayPatricia[0].src);Yu.appendChild(y);b=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);Yu.appendChild(b),Yu.setHidden(!0),goog.events.listen(b,["mousedown","touchstart"],function(){Yu.setHidden(!0),seen1stHouseNotif=1,localStorage.setItem("MedFarms_seen1stHouseNotif",1)}),goog.events.listen(Y,["mousedown","touchstart"],function(){Vu.setHidden(!0),seen1stHouseNotif=1,localStorage.setItem("MedFarms_seen1stHouseNotif",1)}),1==seen1stHouseNotif&&Vu.setHidden(!0);var ju=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,90).setSize(250,220).setFill(imgArray[79]);u.appendChild(ju);N=(new lime.Label).setAnchorPoint(0,0).setPosition(20,25).setText("Expand your house?").setFontFamily("Proxima Nova").setFontSize(22);ju.appendChild(N);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,75).setSize(64,64).setFill(imgArray[30]);ju.appendChild(w);E=(new lime.Label).setAnchorPoint(0,0).setPosition(5,70).setText("1000").setFontFamily("Proxima Nova").setFontSize(18).setSize(50,50);w.appendChild(E);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(140,75).setSize(64,64).setFill(imgArray[58]);ju.appendChild(o);ee=(new lime.Label).setAnchorPoint(0,0).setPosition(5,70).setText("200").setFontFamily("Proxima Nova").setFontSize(18).setSize(50,50);o.appendChild(ee);var Ku=(new lime.GlossyButton).setColor("#00ff00").setText("Build").setPosition(125,175).setSize(100,20);ju.appendChild(Ku);var $u=(new lime.Label).setAnchorPoint(0,0).setPosition(8,175).setText("You need more resources").setFontFamily("Proxima Nova").setFontSize(18).setSize(230,50);ju.appendChild($u),Ku.setHidden(!0),$u.setHidden(!1),ju.setHidden(!0);O=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);ju.appendChild(O),goog.events.listen(O,["mousedown","touchstart"],function(e){ju.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Ku,["mousedown","touchstart"],function(e){0==Ku.getHidden()&&(lime.scheduleManager.callAfter(function(){!function(){if(1e3<=player.tools&&0==Zu&&200<=parseInt(player.cropsStored[14].stored)){try{goog.events.removeAll(_h),goog.events.removeAll(Ku)}catch(e){console.log("remove failed")}Zu=1,player.tools-=1e3,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-200,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){l.updateTools(),l.updateStored(),l.updateMoney()},this,100),Mh.setText(player.tools),kh.setHidden(!1),xh.setHidden(!1),zh.setHidden(!1),Hh.setOpacity(.5);var e=200,t=-130,i=-100;lime.scheduleManager.scheduleWithDelay(function(){--Qu,upgradesInProgress.buildings[5].timeLeft=Qu,upgradesInProgress.buildings[5].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),Qu<=0&&(kh.setHidden(!0),xh.setHidden(!0),zh.setHidden(!0),Qu=90,Hh.setHidden(!0),houseUpgrades.upgrades[0].owned=1,localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),ge.setFill(imgArray[98]).setSize(71,91).setPosition(232,23),upgradesInProgress.buildings[5].timeLeft=0,upgradesInProgress.buildings[5].currentBarnLevel=2,Yf("House Upgraded",imgArray[30].src,"Home",3e3))},this,1e3,90),lime.scheduleManager.scheduleWithDelay(function(){zh.setPosition(t,i).setSize(e,200),e+=10,i-=5,(t-=5)<-140&&(t=-130,i=-100,e=200),35<(Xu+=10)&&(Xu=-10),Eh.setRotation(Xu),kh.setText(Qu)},this,250,360)}}()},this,100),ju.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),200<=parseInt(player.cropsStored[14].stored)&&1e3<=player.tools?(Ku.setHidden(!1),$u.setHidden(!0)):(Ku.setHidden(!0),$u.setHidden(!1));var Xu=-10,Qu=90,Zu=0;goog.events.listen(_h,["mousedown","touchstart"],function(e){0==Hh.getHidden()&&(200<=parseInt(player.cropsStored[14].stored)&&1e3<=player.tools?(Ku.setHidden(!1),$u.setHidden(!0)):(Ku.setHidden(!0),$u.setHidden(!1)),ju.setHidden(!1),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});lime.scheduleManager.callAfter(function(){!async function(){return 0==l.achievements[1]&&th.setHidden(!0),0==l.achievements[2]&&ih.setHidden(!0),0==l.achievements[3]&&oh.setHidden(!0),0==l.achievements[4]&&sh.setHidden(!0),0==l.achievements[5]&&nh.setHidden(!0),0==l.achievements[6]&&rh.setHidden(!0),0==l.achievements[7]&&ah.setHidden(!0),0==l.achievements[8]&&lh.setHidden(!0),0==l.achievements[9]&&dh.setHidden(!0),0==l.achievements[10]&&gh.setHidden(!0),0==l.achievements[11]&&ch.setHidden(!0),0==l.achievements[12]&&mh.setHidden(!0),0==l.achievements[13]&&ph.setHidden(!0),0==l.achievements[14]&&hh.setHidden(!0),0==l.achievements[15]&&uh.setHidden(!0),0==l.achievements[16]&&yh.setHidden(!0),1}()},this,2e3),goog.events.listen(eh,["mousedown","touchstart"],function(e){try{Gf()}catch(e){console.log(e)}1==sceneBefore?(sceneActive="Home",r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,r.currentCrop=Math.abs(r.currentCrop),(5<r.currentCrop||isNaN(r.currentCrop))&&(r.currentCrop=0,q.setText("Plant "+l.crops[r.currentCrop].name),j.setFill("images/"+l.crops[r.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,d.replaceScene(g,lime.transitions.SlideInUp),sceneBefore=1):2==sceneBefore?(d.replaceScene(mi,lime.transitions.SlideInUp),sceneBefore=2,r.currentCrop=6,sceneActive="Pasture",cowSound.play()):3==sceneBefore?(sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInUp),sceneBefore=3,r.currentCrop=8):4==sceneBefore?(d.replaceScene(Fm,lime.transitions.SlideInUp),sceneBefore=4,sceneActive="Vineyard"):5==sceneBefore?(d.replaceScene(ac,lime.transitions.SlideInUp),sceneBefore=5,sceneActive="LS"):6==sceneBefore?(d.replaceScene(uy,lime.transitions.SlideInUp),sceneBefore=6,sceneActive="Windmill"):(sceneActive="Home",r.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,r.currentCrop=Math.abs(r.currentCrop),(5<r.currentCrop||isNaN(r.currentCrop))&&(r.currentCrop=0,q.setText("Plant "+l.crops[r.currentCrop].name),j.setFill("images/"+l.crops[r.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,d.replaceScene(g,lime.transitions.SlideInUp),sceneBefore=1),ny(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});async function ey(){var e=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned);return starCash=parseInt(starCash),2==e&&Cr.setText("Land Owner"),3==e&&Cr.setText("Master Farmer"),4==e&&Cr.setText("Expert Farmer"),0==l.achievements[1]&&500<=parseInt(pickedEver)&&(l.achievements[1]=!0,th.setHidden(!1),starCash=parseInt(starCash)+3,ty(1)),0==l.achievements[2]&&5e3<=parseInt(pickedEver)&&(l.achievements[2]=!0,ih.setHidden(!1),starCash=parseInt(starCash)+5,ty(2)),0==l.achievements[3]&&2<=e&&(l.achievements[3]=!0,oh.setHidden(!1),starCash=parseInt(starCash)+3,ty(3)),0==l.achievements[4]&&5<=player.barnLevel&&(l.achievements[4]=!0,sh.setHidden(!1),starCash=parseInt(starCash)+5,ty(4)),0==l.achievements[5]&&500<=toolsEver&&(l.achievements[5]=!0,nh.setHidden(!1),starCash=parseInt(starCash)+3,ty(5)),0==l.achievements[6]&&5e3<=toolsEver&&(l.achievements[6]=!0,rh.setHidden(!1),starCash=parseInt(starCash)+5,ty(6)),0==l.achievements[7]&&2<=yearCount&&(l.achievements[7]=!0,ah.setHidden(!1),starCash=parseInt(starCash)+5,ty(7)),0==l.achievements[8]&&4<=e&&(l.achievements[8]=!0,lh.setHidden(!1),starCash=parseInt(starCash)+10,ty(8)),0==l.achievements[9]&&1<vinyardHouseLevel&&(l.achievements[9]=!0,dh.setHidden(!1),starCash=parseInt(starCash)+5,ty(9)),0==l.achievements[10]&&1<orchardTreeBlock&&1<vinyardBlocks&&1<vinyardBlocks2&&3<=player.fields&&(l.achievements[10]=!0,gh.setHidden(!1),starCash=parseInt(starCash)+10,ty(10)),0==l.achievements[11]&&100<=player.cropsStored[10].stored&&100<=player.cropsStored[11].stored&&(l.achievements[11]=!0,ch.setHidden(!1),starCash=parseInt(starCash)+5,ty(11)),0==l.achievements[12]&&1<=player.cropsStored[0].stored&&1<=player.cropsStored[1].stored&&1<=player.cropsStored[2].stored&&1<=player.cropsStored[3].stored&&1<=player.cropsStored[4].stored&&1<=player.cropsStored[5].stored&&1<=player.cropsStored[6].stored&&1<=player.cropsStored[7].stored&&1<=player.cropsStored[8].stored&&1<=player.cropsStored[9].stored&&1<=player.cropsStored[10].stored&&1<=player.cropsStored[11].stored&&1<=player.cropsStored[12].stored&&1<=player.cropsStored[13].stored&&(l.achievements[12]=!0,mh.setHidden(!1),starCash=parseInt(starCash)+5,ty(12)),0==l.achievements[13]&&3<=player.pastureLevel&&(l.achievements[13]=!0,ph.setHidden(!1),starCash=parseInt(starCash)+5,ty(13)),0==l.achievements[14]&&5e3<=moneyEver&&(l.achievements[14]=!0,hh.setHidden(!1),starCash=parseInt(starCash)+5,ty(14)),0==l.achievements[15]&&1==boughtStarCash&&(l.achievements[15]=!0,uh.setHidden(!1),starCash=parseInt(starCash)+3,ty(15)),0==l.achievements[16]&&10<=yearCount&&(l.achievements[16]=!0,yh.setHidden(!1),starCash=parseInt(starCash)+25,ty(16)),Sh.setText(parseInt(starCash)),localStorage.setItem("starCash",parseInt(starCash)),localStorage.setItem("GuiGhostFarms_achievements",JSON.stringify(l.achievements)),1}async function ty(e){return tt.setHidden(!1),go.setHidden(!1),Ds.setHidden(!1),om.setHidden(!1),zp.setHidden(!1),St.setHidden(!1),Po.setHidden(!1),on.setHidden(!1),sm.setHidden(!1),Lp.setHidden(!1),At.setText(" "+l.achieveText[e-1].sub),Co.setText(" "+l.achieveText[e-1].sub),nn.setText(" "+l.achieveText[e-1].sub),rm.setText(" "+l.achieveText[e-1].sub),Op.setText(" "+l.achieveText[e-1].sub),ft.setText(l.achieveText[e-1].title),vo.setText(l.achieveText[e-1].title),sn.setText(l.achieveText[e-1].title),nm.setText(l.achieveText[e-1].title),Np.setText(l.achieveText[e-1].title),wt.setText(" + "+l.achieveText[e-1].reward),Io.setText(" + "+l.achieveText[e-1].reward),rn.setText(" + "+l.achieveText[e-1].reward),am.setText(" + "+l.achieveText[e-1].reward),Bp.setText(" + "+l.achieveText[e-1].reward),1}function iy(){Gf(),d.replaceScene(Zp,lime.transitions.SlideInDown),sceneActive="Achieve"}async function oy(e){return playerMuted=1==e?(yi.setFill(imgArray[16]),F.setFill(imgArray[16]),Ns.setFill(imgArray[16]),xp.setFill(imgArray[16]),em.setFill(imgArray[16]),Yy.setFill(imgArray[16]),Ru.setFill(imgArray[16]),1):(yi.setFill(imgArray[15]),F.setFill(imgArray[15]),Ns.setFill(imgArray[15]),xp.setFill(imgArray[15]),em.setFill(imgArray[15]),Yy.setFill(imgArray[15]),Ru.setFill(imgArray[15]),0),1}lime.scheduleManager.callAfter(function(){!async function(){return 0==a[1].owned?(ne.setHidden(!1),oe.setHidden(!0)):(ne.setHidden(!0),oe.setHidden(!1)),0==a[2].owned?(re.setHidden(!1),se.setHidden(!0)):(re.setHidden(!0),se.setHidden(!1)),0==a[3].owned?(lo.setHidden(!1),hi.setHidden(!0)):(lo.setHidden(!0),hi.setHidden(!1)),0==a[4].owned?(Rs.setHidden(!1),roadRightO.setHidden(!0)):(Rs.setHidden(!0),roadRightO.setHidden(!1)),1}()},this,100);var sy=0;async function ny(){return jc.setHidden(!0),Tc.setHidden(!0),5==player.barnLevel&&Sm.setHidden(!0),Xc<=0?player.cropsStored[1].stored<=0?(jc.setHidden(!1).setFill(imgArray[23]).setPosition(45,50),Kc.setHidden(!0),$c.setHidden(!0)):1<=player.cropsStored[1].stored&&jc.setHidden(!0):1<=Xc&&(jc.setHidden(!1).setFill(imgArray[90]).setPosition(10,60),Kc.setHidden(!1),$c.setHidden(!1)),xc<=0?player.cropsStored[5].stored<=0?(Tc.setHidden(!1).setFill("images/UI/needCorn.png"),Hc.setHidden(!0),_c.setHidden(!0)):0<=player.cropsStored[5].stored&&Tc.setHidden(!0):1<=xc&&(Tc.setHidden(!1).setFill(imgArray[90]),Hc.setHidden(!1),_c.setHidden(!1),_c.setText("+ "+3*xc)),zp.setHidden(!0),globalModalBlock=0,player.cropsStored[12].stored<2&&1<vinyardHouseLevel&&(Jp.setHidden(!1),Om.setHidden(!0),Jm.setHidden(!0),zp.setHidden(!1),Yf("Jelly Making Halted","images/vinyard/jelly.png","vineyard",2500)),player.cropsStored[6].stored<3&&1==a[1].owned?(bo.setHidden(!1),0==sy&&(Yf("Cows are Hungry",imgArray[60].src,"pasture",2500),sy=1)):bo.setHidden(!0),1}var ry=0;function ay(){document.getElementById("starCashOuterLabel").innerHTML=starCash,1==ry?(globalModalBlock=ry=0,tt.setHidden(!0),go.setHidden(!0),om.setHidden(!0),Ds.setHidden(!0),zp.setHidden(!0)):(document.getElementById("fbshare").classList.remove("tilt-in-fwd-tr"),document.getElementById("fbshare").style.display="block",document.getElementById("fbshare").classList.add("tilt-in-fwd-tr"),globalModalBlock=ry=1,tt.setHidden(!1),go.setHidden(!1),om.setHidden(!1),Ds.setHidden(!1),zp.setHidden(!1),St.setHidden(!0),sm.setHidden(!0),Lp.setHidden(!0),on.setHidden(!0),Po.setHidden(!0))}lime.scheduleManager.scheduleWithDelay(function(){var e=document.getElementById("fbshare").style.display;"none"==e&&0==fsClicked?(globalModalBlock=0,tt.setHidden(!0)):"block"==e&&(globalModalBlock=1,tt.setHidden(!1)),starCash=parseInt(localStorage.getItem("starCash"))||0,document.getElementById("starCashOuterLabel").innerHTML=starCash;e=localStorage.getItem("rateMeNever")||0;(2==yearCount&&0==e&&230<dayCount&&dayCount<232||8==yearCount&&0==e&&120<dayCount&&dayCount<122)&&(document.getElementById("rateMe").style.display="block")},this,500),document.getElementById("starCashOuterLabel").innerHTML=starCash;zd=50,kd=50;function ly(e){11<=e&&e<=20?kd=zd=75:21<=e&&e<30?kd=zd=100:30<=e&&(kd=zd=150),e>questParamsHerald.crops.length-1&&(e=heraldOrderTop%10),heraldOrder1=questParamsHerald.crops[e].crop1,heraldOrder2=questParamsHerald.crops[e].crop2,18==heraldOrderTop?(heraldOrder1=22,heraldOrder2=23):19==heraldOrderTop&&(heraldOrder1=24,heraldOrder2=23),Cd.setFill("images/"+l.crops[heraldOrder1].harvest),bd.setFill("images/"+l.crops[heraldOrder2].harvest),Id.setText(player.cropsStored[heraldOrder1].stored+"/"+zd),Td.setText(player.cropsStored[heraldOrder2].stored+"/"+kd),player.cropsStored[heraldOrder1].stored>=zd&&player.cropsStored[heraldOrder2].stored>=kd?_d.setHidden(!1):_d.setHidden(!0)}lime.scheduleManager.callAfter(function(){ly(heraldOrderTop)},this,4e3);var dy=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),y=(new lime.Layer).setAnchorPoint(0,0),b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height).setFill("#0D0D0D");dy.appendChild(b),dy.appendChild(y);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-45).setSize(300,515).setFill(imgArray[14]);y.appendChild(Y);u=(new lime.Label).setFontColor("#E8FC08").setFontSize(15).setPosition(150,255).setSize(l.width-30,200).setText("Support Inquiries & Feedback");y.appendChild(u);N=(new lime.Label).setFontColor("#E8FC08").setFontSize(12).setPosition(150,275).setSize(l.width-30,200).setText("Email us at info@guighost.com");y.appendChild(N);w=(new lime.Label).setFontColor("#E8FC08").setFontSize(14).setPosition(150,295).setSize(l.width-40,200).setText("Art Assets by");y.appendChild(w),y.appendChild(w);E=(new lime.Label).setFontColor("#E8FC08").setFontSize(9).setPosition(150,315).setSize(l.width-30,200).setText("Tiles by Daneeklu  http://opengameart.org/content/lpc-farming-tilesets-magic-animations-and-ui-elements ");y.appendChild(E);o=(new lime.Label).setFontColor("#E8FC08").setFontSize(9).setPosition(150,338).setSize(l.width-30,200).setText("Buildings by Cilanna  https://pixanna.nl/");y.appendChild(o);ee=(new lime.Label).setFontColor("#E8FC08").setFontSize(9).setPosition(150,358).setSize(l.width-30,200).setText("Various CCO assets from http://OpenGameArt.org");y.appendChild(ee);O=(new lime.Label).setFontColor("#E8FC08").setFontSize(9).setPosition(150,378).setSize(l.width-30,200).setText("Music by Estudio Cafofo http://estudiocafofo.com");y.appendChild(O);u=(new lime.Label).setFontColor("#E8FC08").setFontSize(9).setPosition(150,394).setSize(l.width-30,200).setText("Creative Commons License https://creativecommons.org/licenses/by/3.0/legalcode");y.appendChild(u);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,340).setSize(l.width/2+40,30).setFill("#663300"),b=(new lime.GlossyButton).setColor("#6600ff").setText("Enter Reward Code").setPosition(150,340).setSize(l.width/2,30);y.appendChild(b);Y=(new lime.Label).setFontColor("#E8FC08").setFontSize(10).setPosition(150,465).setSize(l.width-30,200).setText("Reward codes are for special circumstances only");y.appendChild(Y);w=(new lime.Label).setFontColor("#E8FC08").setFontSize(14).setPosition(154,510).setSize(l.width-40,200).setText("");w.setText("Developed and Published by"),y.appendChild(w);E=(new lime.Sprite).setPosition(160,450).setSize(150,59).setFill("images/UI/footerImg.png");y.appendChild(E);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/4-23,400).setSize(l.width/2+10,40).setFill("#663300"),o=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(155,l.height-30).setSize(l.width/2+10,40);y.appendChild(o),goog.events.listen(N,"touchend",function(e){try{var t=getLocalStorage(),i="";try{i=device.version.toString()||" unknown"}catch(e){console.log(e)}window.plugins.socialsharing.shareViaEmail("Stored Data to Send to GuiGhost                                   DeviceAndroidVersion: "+i+"                                                    SavedDataArray = BEGIN: "+t+" END","Support Request for Medieval Farms",["info@guighost.com"],null,null,null,function(){},function(){alert("share to email failed")})}catch(e){console.log("email failed with "+e)}},!1);var gy=document.getElementById("rewardMe"),cy=document.getElementById("rewardInputCode"),my=document.getElementById("submitRewardCode"),py=document.getElementById("rewardClose"),hy="";goog.events.listen(b,["mousedown","touchstart"],function(e){gy.style.display="block";var t=document.querySelector("canvas").getBoundingClientRect();console.log(t.top,t.right,t.bottom,t.left),gy.style.position="absolute",gy.style.top=t.top+60+"px",cy.focus(),cy.addEventListener("touchend",function(e){cy.focus(),e.stopPropagation()},!1),my.addEventListener("touchend",function(e){hy=cy.value.toString(),console.log("code = "+hy),Wf(hy),e.stopPropagation()}),my.addEventListener("click",function(e){hy=cy.value.toString(),console.log("code = "+hy),Wf(hy),e.stopPropagation()}),py.addEventListener("click",function(e){document.getElementById("rewardMe").style.display="none",e.stopPropagation()},!1),py.addEventListener("touchend",function(e){document.getElementById("rewardMe").style.display="none",e.stopPropagation()},!1)}),goog.events.listen(o,["mousedown","touchstart"],function(e){Gf(),d.replaceScene(Sr,lime.transitions.SlideInUp),e.stopPropagation()});var uy=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),yy=(new lime.Layer).setAnchorPoint(0,0),ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-20).setSize(l.width,l.height-45).setFill(imgArrayWindmill[0]).setHidden(!1);uy.appendChild(ee),uy.appendChild(yy);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,20).setSize(l.controlsLayer_w,l.controlsLayer_h-30).setFill(imgArray[75]).setOpacity(.6);ee.appendChild(O);u=(new lime.Sprite).setPosition(l.controlsLayer_w/2-5,39).setSize(40,33).setFill(imgArrayItems[25].src).setRotation(5);ee.appendChild(u),goog.events.listen(u,["mousedown","touchstart"],function(e){scenebefore=10;try{xa()}catch(e){console.log(e)}ra.setText(starCash),Gf(),zr.setHidden(!1),la.setHidden(!0),itemsStoredBack.setHidden(!0),za.setHidden(!0),d.replaceScene(Fr,lime.transitions.SlideInUp),sceneActive="Inventory",br.setHidden(!1);try{Uf()}catch(e){console.log(e)}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Sy=(new lime.Label).setText(player.money).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(230,44).setFontSize(18);ee.appendChild(Sy);Y=(new lime.Sprite).setPosition(285,45).setSize(30,30).setFill(imgArray11[0]);ee.appendChild(Y);var w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(7,22).setSize(35,35).setFill(imgArray[30]),fy=(new lime.Label).setText(player.tools).setFontFamily("Proxima Nova").setFontColor("#ffffff").setPosition(60,44).setFontSize(18);for(ee.appendChild(w),ee.appendChild(fy),c=0;c<6;c++)for(Ce=0;Ce<3;Ce++){var Ay,wy,Fy,be=c*l.tile_size+76,Te=Ce*l.tile_size+42,Zi=Ce,eo=c,to="";Ly=(Ly="").concat((to="wheatTop1--").toString(),eo.toString(),Zi.toString()),0==c&&0==Ce?(Ay=new farming.Land(l,r,be,Te,10,"tlt",Ly).setPosition(c*l.tile_size+76,Ce*l.tile_size+42),yy.appendChild(Ay)):5==c&&0==Ce?(wy=new farming.Land(l,r,be,Te,10,"trt",Ly).setPosition(c*l.tile_size+76,Ce*l.tile_size+42),yy.appendChild(wy)):5==c&&2==Ce?(wy=new farming.Land(l,r,be,Te,10,"brt",Ly).setPosition(c*l.tile_size+76,Ce*l.tile_size+42),yy.appendChild(wy)):0==c&&2==Ce?(Fy=new farming.Land(l,r,be,Te,10,"blt",Ly).setPosition(c*l.tile_size+76,Ce*l.tile_size+42),yy.appendChild(Fy)):(Fy=new farming.Land(l,r,be,Te,10,"non",Ly).setPosition(c*l.tile_size+76,Ce*l.tile_size+42),yy.appendChild(Fy))}var Py=(new lime.Sprite).setAnchorPoint(0,0).setPosition(11,145).setSize(110,127).setFill(imgArrayWindmill[1]);yy.appendChild(Py);var vy=(new lime.Sprite).setPosition(44,59).setSize(110,110).setFill(imgArrayWindmill[4]).setHidden(!0);Py.appendChild(vy);var Cy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,40).setSize(38,35).setFill(imgArray[83]);Py.appendChild(Cy);var Iy=1,by=0;null===localStorage.getItem("wmUpgraded")&&localStorage.setItem("wmUpgraded",0),by=localStorage.getItem("wmUpgraded");var Ty=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,10).setSize(40,40).setFill(imgArray[31]);Py.appendChild(Ty),0==by&&Ty.setHidden(!0);var Hy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,-45).setSize(50,64).setFill(imgArray[90]);Py.appendChild(Hy);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,2).setSize(27,30).setFill("images/"+l.crops[23].harvest);Hy.appendChild(E);var _y=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,42).setSize(30,18).setFontFamily("Proxima Nova");Hy.appendChild(_y),Hy.setHidden(!0);function xy(){1==by?(Py.setFill(imgArrayWindmill[2]),vy.setHidden(!1),Cy.setHidden(!0),lime.scheduleManager.scheduleWithDelay(function(){"Windmill"==sceneActive&&3<=player.cropsStored[22].stored&&1==by?(Iy-=2.25,vy.setRotation(Iy),Ty.setHidden(!0)):Ty.setHidden(!1),1200==(flourticker+=1)&&3<=player.cropsStored[22].stored?(flourWaiting+=2,flourticker=0,player.cropsStored[22].stored=parseInt(player.cropsStored[22].stored)-3,Qr.setText(player.cropsStored[22].stored),Hy.setHidden(!1),_y.setText("+ "+flourWaiting),lime.scheduleManager.callAfter(function(){try{Uf()}catch(e){console.log(e)}},this,1e3)):player.cropsStored[22].stored<3&&Ty.setHidden(!1)},this,60)):lime.scheduleManager.callAfter(function(){lime.scheduleManager.scheduleWithDelay(function(){var e;"Windmill"==sceneActive&&1!=by&&(tS.setHidden(!0),sS.setHidden(!0),Ty.setHidden(!0),Hy.setHidden(!0),Py.setFill(imgArrayWindmill[1]),vy.setHidden(!0),(e=Cy.getPosition()).y-=6,e.y<34&&(e.y=40),Cy.setPosition(e))},this,500)},this,500)}goog.events.listen(Ty,["mousedown","touchstart"],function(){Ty.setHidden(!0),xy()}),goog.events.listen(Hy,["mousedown","touchstart"],function(){player.cropsStored[23].stored=parseInt(player.cropsStored[23].stored)+flourWaiting,Zr.setText(player.cropsStored[23].stored),flourWaiting=0,purchaseSound.play(),Hy.setHidden(!0),lime.scheduleManager.callAfter(function(){localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))},this,500)}),xy();var zy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(215,138).setSize(87,127).setFill(imgArrayWindmill[5]);yy.appendChild(zy),storeHouseUpgraded&&zy.setFill(imgArrayWindmill[6]);var ky=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,40).setSize(38,35).setFill(imgArray[83]).setHidden(!1);zy.appendChild(ky);var Ey=(new lime.Sprite).setAnchorPoint(0,0).setPosition(226,80).setSize(10,95).setFill(imgArray[24]);yy.appendChild(Ey);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(223,127).setSize(30,30).setFill(imgArray[24]);yy.appendChild(y);var My=(new lime.Sprite).setAnchorPoint(0,0).setPosition(28,15).setSize(32,32).setFill(imgArrayWindmill[8]);zy.appendChild(My),goog.events.listen(My,["mousedown","touchstart"],function(e){sceneActive="Bakery",d.replaceScene(US,lime.transitions.SlideInUp),gf.setText(player.cropsStored[23].stored+"/1"),cf.setText(waterStored+"/1"),pf.setText(player.cropsStored[23].stored+"/1"),hf.setText(player.cropsStored[8].stored+"/2"),uf.setText(waterStored+"/1"),Af.setText(player.cropsStored[23].stored+"/2"),wf.setText(player.cropsStored[11].stored+"/2"),Cf.setText(player.cropsStored[23].stored+"/2"),If.setText(player.cropsStored[7].stored+"/1"),bf.setText(player.cropsStored[11].stored+"/3"),xf.setText(player.cropsStored[23].stored+"/2"),zf.setText(player.cropsStored[13].stored+"/2"),kf.setText(player.cropsStored[7].stored+"/1"),qS.setHidden(!1),lime.scheduleManager.callAfter(function(){qS.setHidden(!0)},this,6e3)});N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,157).setSize(40,40).setFill(imgArray[106]).setHidden(!0);yy.appendChild(N);for(lime.scheduleManager.callAfter(function(){!function(){var t;1==storeHouseUpgraded?(sS.setHidden(!0),zy.setFill(imgArrayWindmill[6]),ky.setHidden(!0),My.setHidden(!1),t=1,lime.scheduleManager.scheduleWithDelay(function(){var e;"Windmill"==sceneActive&&(My.setHidden(!1),(e=Ey.getPosition()).y-=4,(t-=.1)<=0&&(t=0),Ey.setOpacity(t),e.y<30&&(e.y=80,t=1,Ey.setPosition(e).setOpacity(t)),Ey.setPosition(e))},this,250)):(zy.setFill(imgArrayWindmill[5]),My.setHidden(!0),lime.scheduleManager.scheduleWithDelay(function(){var e;"Windmill"==sceneActive&&((e=ky.getPosition()).y-=6,e.y<34&&(e.y=40),ky.setPosition(e))},this,500))}()},this,5e3),c=0;c<7;c++)for(Ce=0;Ce<5;Ce++){var Ly,Ny,Oy,By,be=c*l.tile_size+75,Te=Ce*l.tile_size+295,Zi=Ce,eo=c,to="";Ly=(Ly="").concat((to="wheat1--").toString(),eo.toString(),Zi.toString()),0==c&&0==Ce?(Ny=new farming.Land(l,r,be,Te,10,"tlt",Ly).setPosition(c*l.tile_size+75,Ce*l.tile_size+295),yy.appendChild(Ny)):6==c&&0==Ce?(Oy=new farming.Land(l,r,be,Te,10,"trt",Ly).setPosition(c*l.tile_size+75,Ce*l.tile_size+295),yy.appendChild(Oy)):6==c&&4==Ce?(Oy=new farming.Land(l,r,be,Te,10,"brt",Ly).setPosition(c*l.tile_size+75,Ce*l.tile_size+295),yy.appendChild(Oy)):0==c&&4==Ce?(By=new farming.Land(l,r,be,Te,10,"blt",Ly).setPosition(c*l.tile_size+75,Ce*l.tile_size+295),yy.appendChild(By)):(By=new farming.Land(l,r,be,Te,10,"non",Ly).setPosition(c*l.tile_size+75,Ce*l.tile_size+295),yy.appendChild(By))}var Ry=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-15,l.height/2+30).setFill("images/"+l.crops[22].harvest).setSize(26,21);yy.appendChild(Ry),Ry.setHidden(!0);var Dy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,295).setFill(imgArrayWindmill[7]).setSize(216,160).setHidden(!1);yy.appendChild(Dy);var Uy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(85,87).setFill(ImgArrayTools[3]).setSize(40,40);Dy.appendChild(Uy),goog.events.listen(Uy,["mousedown","touchstart"],function(e){player.tools<500&&(bS.setHidden(!0),TS.setHidden(!1)),IS.setHidden(!1),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Dy,["mousedown","touchstart"],function(e){e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),1==localStorage.getItem("wmFieldCleared")&&(Dy.setHidden(!0),Uy.setHidden(!0));var Gy=(new lime.Label).setPosition(75,180).setSize(50,25).setText("-50").setFontSize(14).setFontFamily("Proxima Nova").setFontColor("#e1f00e").setFontWeight(600);yy.appendChild(Gy);b=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);Gy.appendChild(b),Gy.setHidden(!0);var Wy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-30,-50).setSize(270,250).setFill(imgArray[24].src);Dy.appendChild(Wy);var Vy=(new lime.Label).setText("90").setPosition(105,75).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);Dy.appendChild(Vy);var Jy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,0).setSize(50,50).setFill(imgArray[61]);Dy.appendChild(Jy),Wy.setHidden(!0),Vy.setHidden(!0),Jy.setHidden(!0);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,l.height-l.controlsLayer_h-5).setSize(l.controlsLayer_w,l.controlsLayer_h+5).setFill(imgArray[69]);yy.appendChild(o);r.currentCrop;O=(new lime.Label).setText("Growing Wheat ").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setFontSize(12).setPosition(l.controlsLayer_w/2-5,l.height-l.controlsLayer_h/2-12);yy.appendChild(O);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w/2-22,l.height-l.controlsLayer_h/2-5).setFill("images/"+l.crops[22].harvest).setSize(30,30);yy.appendChild(u);Y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,l.height-67).setSize(56,56).setFill(imgArray[81]);uy.appendChild(Y);w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(28,427).setSize(35,33).setFill(imgArray[46]);uy.appendChild(w);ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,504).setSize(36,36).setFill(imgArray[70]);uy.appendChild(ee);var Yy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,467).setSize(36,36).setFill(imgArray[15]);uy.appendChild(Yy);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,467).setSize(36,36).setFill(imgArray[71]);uy.appendChild(E);y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.controlsLayer_w-47,504).setSize(36,36).setFill(imgArray[105]);uy.appendChild(y);N=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,l.height-67).setSize(56,56).setFill(imgArray[72]);uy.appendChild(N);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,448).setSize(38,38).setFill(imgArray[73]);uy.appendChild(b),goog.events.listen(E,["mousedown","touchstart"],function(e){0==globalModalBlock&&(sceneBefore=6,sceneThis=d.getCurrentScene(),iy()),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var qy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(11,200).setSize(110,80).setFill(imgArray[26]);uy.appendChild(qy);var jy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-70).setSize(120,200).setFill(imgArray[24].src);qy.appendChild(jy);var Ky=(new lime.Label).setText("90").setPosition(50,60).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);qy.appendChild(Ky);var $y=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,0).setSize(50,50).setFill(imgArray[29]);qy.appendChild($y),qy.setHidden(!0);var Xy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(214,179).setSize(90,80).setFill(imgArray[26]);uy.appendChild(Xy);var Qy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-50).setSize(120,200).setFill(imgArray[24].src);Xy.appendChild(Qy);var Zy=(new lime.Label).setText("90").setPosition(45,60).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontWeight(600).setFontSize(28).setFontFamily("Proxima Nova").setFill(imgArray[27]);Xy.appendChild(Zy);var eS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,0).setSize(50,50).setFill(imgArray[29]);Xy.appendChild(eS),Xy.setHidden(!0);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(153,185).setSize(36,36).setFill(imgArray[92]);yy.appendChild(o);O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,260).setSize(18,20).setFill(imgArrayItems[43]);yy.appendChild(O);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-40,83).setSize(18,20).setFill(imgArrayItems[44]);yy.appendChild(u);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width-23,435).setSize(18,20).setFill(imgArrayItems[43]);yy.appendChild(E),1==mapLocations.places[21].found?O.setHidden(!0):goog.events.listen(O,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[21].found=1,TA("w1"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[22].found||yearCount<2?u.setHidden(!0):goog.events.listen(u,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[22].found=1,TA("w2"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),1==mapLocations.places[23].found||yearCount<4?E.setHidden(!0):goog.events.listen(E,["mousedown","touchstart"],function(e){0==globalModalBlock&&(this.setHidden(!0),mapLocations.places[23].found=1,TA("w3"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var tS=(new lime.Sprite).setAnchorPoint(0,0).setSize(35,35).setPosition(120,255).setFill(imgArrayMiller[0]).setHidden(!0);yy.appendChild(tS);var iS=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(25,-4).setSize(25,23).setOpacity(.2);tS.appendChild(iS);var oS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-15).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);tS.appendChild(oS);var sS=(new lime.Sprite).setAnchorPoint(0,0).setSize(35,35).setPosition(265,250).setFill(imgArrayConnie[0]);yy.appendChild(sS);var nS=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(25,-4).setSize(25,23).setOpacity(.2);sS.appendChild(nS);var rS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-15).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);sS.appendChild(rS),1==by&&(tS.setHidden(!1),1==storeHouseUpgraded&&sS.setHidden(!0));var aS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill(imgArray[74]).setHidden(!0);yy.appendChild(aS);var lS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[48]);aS.appendChild(lS);var dS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,105).setSize(50,50).setFill(imgArray[49]);aS.appendChild(dS);var gS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,105).setSize(50,50).setFill(imgArray[46]);aS.appendChild(gS);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);aS.appendChild(u);var cS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);aS.appendChild(cS);var mS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[59]);aS.appendChild(mS);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[57]);aS.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);aS.appendChild(E),goog.events.listen(y,["mousedown","touchstart"],function(e){BS.getHidden()?BS.setHidden(!1):BS.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(ky,["mousedown","touchstart"],function(e){ES.setHidden(!1),player.tools<1e3||player.cropsStored[14].stored<250?(MS.setHidden(!0),LS.setHidden(!1)):(MS.setHidden(!1),LS.setHidden(!0)),_S.setText(player.tools+"/2000"),xS.setText(player.cropsStored[14].stored+"/250"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Cy,["mousedown","touchstart"],function(e){HS.setHidden(!1),player.tools<1e3||player.cropsStored[14].stored<250?(zS.setHidden(!0),kS.setHidden(!1)):(zS.setHidden(!1),kS.setHidden(!0)),_S.setText(player.tools+"/2500"),xS.setText(player.cropsStored[14].stored+"/250"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(w,["mousedown","touchstart"],function(e){Gf(),d.replaceScene(Fm,lime.transitions.SlideInDown),r.currentCrop=12,sceneActive="Vineyard",e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(N,["mousedown","touchstart"],function(e){0==globalModalBlock&&ay(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(ee,["mousedown","touchstart"],function(e){0==globalModalBlock&&(scenebefore=10,Gf(),d.replaceScene(Sr,lime.transitions.SlideInUp),sceneActive="Menu"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Y,["mousedown","touchstart"],function(e){0==globalModalBlock&&(scenebefore=10,townSceneActive=1,Gf(),d.replaceScene(Ol,lime.transitions.SlideInUp),sceneActive="Market",acresOwned3=parseInt(a[1].owned)+parseInt(a[2].owned)+parseInt(a[3].owned)+parseInt(a[4].owned),4<=acresOwned3?id.setHidden(!1):id.setHidden(!0),lime.scheduleManager.callAfter(function(){try{Ed()}catch(e){console.log(e)}},this,2e3)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Yy,["mousedown","touchstart"],function(e){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),themeSongNew.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),oy(2)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1))),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(b,["mousedown","touchstart"],function(e){0==globalModalBlock&&(aS.setHidden(!1),B(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(E,["mousedown","touchstart"],function(e){compassVisible&&(aS.setHidden(!0),R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(u,["mousedown","touchstart"],function(e){compassVisible&&(R(),scenebefore=1,oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,homeCrop=parseInt(oo),j.setFill("images/"+l.crops[homeCrop].harvest),q.setText("Plant "+l.crops[homeCrop].name),le.setFill("images/"+l.crops[homeCrop].harvest),Gf(),d.replaceScene(g,lime.transitions.SlideInRight),r.currentCrop=homeCrop,sceneActive="Home",globalModalBlock=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(cS,["mousedown","touchstart"],function(e){1==a[1].owned&&compassVisible&&(scenebefore=2,R(),cowSound.play(),r.currentCrop=6,globalModalBlock=0,tt.setHidden(!0),Gf(),d.replaceScene(mi,lime.transitions.SlideInLeft),sceneActive="Pasture",cowSound.play(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(lS,["mousedown","touchstart"],function(e){1==a[2].owned&&compassVisible&&(scenebefore=3,waterfallSound.play(),R(),r.currentCrop=8,Gf(),sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInRight),globalModalBlock=0,e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(gS,["mousedown","touchstart"],function(e){1==a[3].owned&&compassVisible&&(R(),scenebefore=4,Gf(),d.replaceScene(Fm,lime.transitions.SlideInLeft),r.currentCrop=12,sceneActive="Vineyard",oo=localStorage.getItem("MedFarms_selectedHomeCrop")||0,r.currentCrop=12,lime.scheduleManager.callAfter(function(){ny()},this,500),globalModalBlock=0,tt.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(dS,["mousedown","touchstart"],function(e){1==a[4].owned&&compassVisible&&(R(),scenebefore=5,Gf(),d.replaceScene(ac,lime.transitions.SlideInRight),sceneActive="LS",waterfallSound.stop(),chickenSound.play(),pig1Sound.play(),lime.scheduleManager.callAfter(function(){pig2Sound.play()},this,5e3),ny(),globalModalBlock=0,tt.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(mS,["mousedown","touchstart"],function(e){compassVisible&&(R(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var pS=hammerSound;function hS(e,t,i){qy.setHidden(!1);var o=-10,s=100,n=0,r=-70,a=0,l=e,e=4*l;Cy.setHidden(!0),player.tools=player.tools-i,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-t,fy.setText(player.tools),qr.setText(player.cropsStored[14].stored),countTools.setText(player.tools),lime.scheduleManager.scheduleWithDelay(function(){4<=(a+=1)&&(a=0,"Windmill"==sceneActive&&pS.play(),--l,Ky.setText(l),upgradesInProgress.buildings[6].timeLeft=l,upgradesInProgress.buildings[6].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress))),jy.setPosition(n,r).setSize(s,200),s+=10,r-=5,(n-=5)<-20&&(n=0,r=-70,s=120),35<(o+=10)&&(o=-10),$y.setRotation(o),l<=0&&(qy.setHidden(!0),by=1,Yf("WindMill Upgraded",imgArray[30].src,"windmill",3e3),pS.stop(),localStorage.setItem("wmUpgraded",1),Py.setFill(imgArrayWindmill[2]),vy.setHidden(!1),Cy.setHidden(!0),xy(),upgradesInProgress.buildings[6].timeLeft=0,upgradesInProgress.buildings[6].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)))},this,250,e)}function uS(e,t,i){Xy.setHidden(!1);var o=-10,s=100,n=0,r=-70,a=0,l=e,e=4*l;ky.setHidden(!0),player.tools=player.tools-i,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-t,fy.setText(player.tools),qr.setText(player.cropsStored[14].stored),countTools.setText(player.tools);var d=0,g=hammerSound;lime.scheduleManager.scheduleWithDelay(function(){if(20<=++d&&"Windmill"==sceneActive&&g.play(),4<=(a+=1)&&(a=0,--l,Zy.setText(l),upgradesInProgress.buildings[7].timeLeft=l,upgradesInProgress.buildings[7].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress))),Qy.setPosition(n,r).setSize(s,200),s+=10,r-=5,(n-=5)<-20&&(n=0,r=-70,s=120),35<(o+=10)&&(o=-10),eS.setRotation(o),l<=0){Xy.setHidden(!0),My.setHidden(!1),storeHouseUpgraded=1,localStorage.setItem("storeHouseUpgraded",1),zy.setFill(imgArrayWindmill[6]),ky.setHidden(!0);try{goog.events.removeAll(MS)}catch(e){console.log("failed remove")}g.stop(),upgradesInProgress.buildings[6].timeLeft=0,upgradesInProgress.buildings[6].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),Yf("Unlocked Bakery",imgArray[30].src,"bakery",3e3)}},this,250,e)}var yS=(new lime.Sprite).setPosition(l.width/2+10,160).setSize(60,60).setFill(imgArray[119]).setHidden(!0);yy.appendChild(yS),goog.events.listen(yS,["mousedown","touchstart"],function(e){0==yS.getHidden()&&(IA("windmill"),successSound.play()),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1);var SS=0,fS=0;lime.scheduleManager.scheduleWithDelay(function(){if("Windmill"==sceneActive&&1==by){switch(tS.setHidden(!1),1==storeHouseUpgraded&&sS.setHidden(!0),66<SS&&(SS=0),SS){case 0:tS.setPosition(115,255).setFill(imgArrayMiller[5]),sS.setPosition(265,250).setFill(imgArrayConnie[1]);break;case 1:tS.setPosition(110,255).setFill(imgArrayMiller[6]);break;case 2:tS.setPosition(105,255).setFill(imgArrayMiller[7]);break;case 3:tS.setPosition(100,255).setFill(imgArrayMiller[8]),sS.setPosition(260,250).setFill(imgArrayConnie[7]);break;case 4:tS.setPosition(95,255).setFill(imgArrayMiller[9]),sS.setPosition(255,250).setFill(imgArrayConnie[8]);break;case 5:tS.setPosition(90,255).setFill(imgArrayMiller[5]),sS.setPosition(250,250).setFill(imgArrayConnie[9]);break;case 6:tS.setPosition(85,255).setFill(imgArrayMiller[6]),sS.setPosition(245,250).setFill(imgArrayConnie[10]);break;case 7:tS.setPosition(80,255).setFill(imgArrayMiller[7]),sS.setPosition(240,250).setFill(imgArrayConnie[11]);break;case 8:tS.setPosition(75,255).setFill(imgArrayMiller[8]),sS.setPosition(235,250).setFill(imgArrayConnie[7]);break;case 9:tS.setPosition(70,255).setFill(imgArrayMiller[9]),sS.setPosition(230,250).setFill(imgArrayConnie[8]);break;case 10:tS.setPosition(65,255).setFill(imgArrayMiller[8]),sS.setPosition(225,250).setFill(imgArrayConnie[9]);break;case 11:tS.setPosition(65,255).setFill(imgArrayMiller[0]),sS.setPosition(220,250).setFill(imgArrayConnie[10]);break;case 12:tS.setPosition(65,255).setFill(imgArrayMiller[10]),sS.setPosition(215,250).setFill(imgArrayConnie[11]);break;case 13:tS.setPosition(70,255).setFill(imgArrayMiller[11]),sS.setPosition(210,250).setFill(imgArrayConnie[7]);break;case 14:tS.setPosition(75,255).setFill(imgArrayMiller[12]),sS.setPosition(205,250).setFill(imgArrayConnie[8]);break;case 15:tS.setPosition(80,255).setFill(imgArrayMiller[13]),sS.setPosition(200,250).setFill(imgArrayConnie[9]);break;case 16:tS.setPosition(85,255).setFill(imgArrayMiller[14]),sS.setPosition(195,250).setFill(imgArrayConnie[10]);break;case 17:tS.setPosition(85,250).setFill(imgArrayMiller[15]),sS.setPosition(190,250).setFill(imgArrayConnie[11]);break;case 18:tS.setPosition(85,245).setFill(imgArrayMiller[16]),sS.setPosition(185,250).setFill(imgArrayConnie[7]);break;case 19:tS.setPosition(85,240).setFill(imgArrayMiller[17]),sS.setPosition(180,250).setFill(imgArrayConnie[8]);break;case 20:tS.setPosition(85,238).setFill(imgArrayMiller[18]),sS.setPosition(175,250).setFill(imgArrayConnie[9]);break;case 21:sS.setPosition(170,250).setFill(imgArrayConnie[10]);break;case 22:sS.setPosition(165,250).setFill(imgArrayConnie[11]);break;case 25:sS.setFill(imgArrayConnie[1]);break;case 29:case 30:sS.setFill(imgArrayConnie[7]);break;case 31:sS.setFill(imgArrayConnie[18]);break;case 36:sS.setFill(imgArrayConnie[12]);break;case 38:sS.setFill(imgArrayConnie[1]);break;case 39:tS.setPosition(85,238).setFill(imgArrayMiller[18]);break;case 40:tS.setPosition(85,238).setFill(imgArrayMiller[10]),sS.setFill(imgArrayConnie[1]);break;case 41:tS.setPosition(85,241).setFill(imgArrayMiller[0]),sS.setFill(imgArrayConnie[12]);break;case 42:tS.setPosition(85,245).setFill(imgArrayMiller[1]),sS.setPosition(170,250).setFill(imgArrayConnie[13]);break;case 43:tS.setPosition(85,249).setFill(imgArrayMiller[2]),sS.setPosition(175,250).setFill(imgArrayConnie[14]);break;case 44:tS.setPosition(85,253).setFill(imgArrayMiller[3]),sS.setPosition(180,250).setFill(imgArrayConnie[15]);break;case 45:tS.setPosition(85,255).setFill(imgArrayMiller[4]),sS.setPosition(185,250).setFill(imgArrayConnie[16]);break;case 46:tS.setPosition(90,255).setFill(imgArrayMiller[10]),sS.setPosition(190,250).setFill(imgArrayConnie[17]);break;case 47:tS.setPosition(95,255).setFill(imgArrayMiller[11]),sS.setPosition(195,250).setFill(imgArrayConnie[12]);break;case 48:tS.setPosition(100,255).setFill(imgArrayMiller[12]),sS.setPosition(200,250).setFill(imgArrayConnie[13]);break;case 49:tS.setPosition(105,255).setFill(imgArrayMiller[13]),sS.setPosition(205,250).setFill(imgArrayConnie[14]);break;case 50:tS.setPosition(110,255).setFill(imgArrayMiller[14]),sS.setPosition(210,250).setFill(imgArrayConnie[15]);break;case 51:tS.setPosition(115,255).setFill(imgArrayMiller[10]),sS.setPosition(215,250).setFill(imgArrayConnie[16]);break;case 52:tS.setPosition(120,255).setFill(imgArrayMiller[11]),sS.setPosition(220,250).setFill(imgArrayConnie[17]);break;case 53:tS.setPosition(120,255).setFill(imgArrayMiller[0]),sS.setPosition(225,250).setFill(imgArrayConnie[12]);break;case 54:sS.setPosition(230,250).setFill(imgArrayConnie[13]);break;case 55:sS.setPosition(235,250).setFill(imgArrayConnie[14]);break;case 56:sS.setPosition(240,250).setFill(imgArrayConnie[15]);break;case 57:sS.setPosition(245,250).setFill(imgArrayConnie[16]);break;case 58:sS.setPosition(250,250).setFill(imgArrayConnie[17]);break;case 59:sS.setPosition(255,250).setFill(imgArrayConnie[12]);break;case 60:sS.setPosition(260,250).setFill(imgArrayConnie[13]);break;case 61:tS.setFill(imgArrayMiller[1]),sS.setPosition(260,250).setFill(imgArrayConnie[14]);break;case 62:tS.setFill(imgArrayMiller[0]),sS.setPosition(265,250).setFill(imgArrayConnie[15]);break;case 63:tS.setFill(imgArrayMiller[1]),sS.setFill(imgArrayConnie[19]);break;case 64:tS.setFill(imgArrayMiller[0]);break;case 65:tS.setFill(imgArrayMiller[1]),sS.setFill(imgArrayConnie[12]);break;case 66:tS.setFill(imgArrayMiller[0]);break;default:console.log("defaulted")}SS=parseInt(SS)+1}fS++,0==yS.getHidden()&&5<=fS&&(fS=0,lime.scheduleManager.scheduleWithDelay(function(){"Windmill"==sceneActive&&(yS.setRotation(0),lime.scheduleManager.callAfter(function(){yS.setRotation(90)},this,250),lime.scheduleManager.callAfter(function(){yS.setRotation(180)},this,500),lime.scheduleManager.callAfter(function(){yS.setRotation(270)},this,750))},this,1e3))},this,250),goog.events.listen(iS,["mousedown","touchstart"],function(e){iS.setHidden(!0),oS.setHidden(!0),FS()}),goog.events.listen(tS,["mousedown","touchstart"],function(e){iS.setHidden(!0),oS.setHidden(!0),FS()}),goog.events.listen(nS,["mousedown","touchstart"],function(e){nS.setHidden(!0),rS.setHidden(!0),CS()}),goog.events.listen(sS,["mousedown","touchstart"],function(e){nS.setHidden(!0),rS.setHidden(!0),CS()});var AS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]).setHidden(!0),b=(new lime.Label).setAnchorPoint(0,0).setPosition(75,25).setText("Miller Ulric").setFontFamily("Proxima Nova").setFontSize(24);AS.appendChild(b);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,38).setSize(75,75).setFill(imgArrayMiller[0]);AS.appendChild(E);var wS=(new lime.Label).setAnchorPoint(0,0).setPosition(20,135).setText("As we we have wheat, I can make flour").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);AS.appendChild(wS);u=(new lime.Label).setAnchorPoint(0,0).setPosition(25,205).setText("").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50).setFontColor("#FF0000");AS.appendChild(u),u.setHidden(!0);b=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);function FS(){AS.setHidden(!1);var e=Math.round(5*Math.random());0==e&&(e=4),wS.setText(questParamsMiller.speech[e].Text),millerSound.play(),lime.scheduleManager.callAfter(function(){iS.setHidden(!1),oS.setHidden(!1)},this,1e4)}AS.appendChild(b),uy.appendChild(AS),goog.events.listen(b,["mousedown","touchstart"],function(e){0==AS.getHidden()&&(AS.setHidden(!0),e.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var PS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]).setHidden(!0),E=(new lime.Label).setAnchorPoint(0,0).setPosition(105,25).setText("Connie").setFontFamily("Proxima Nova").setFontSize(24);PS.appendChild(E);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,38).setSize(75,75).setFill(imgArrayConnie[0]);PS.appendChild(u);var vS=(new lime.Label).setAnchorPoint(0,0).setPosition(20,135).setText("With Floud I can make bread").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);PS.appendChild(vS);b=(new lime.Label).setAnchorPoint(0,0).setPosition(25,205).setText("").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50).setFontColor("#FF0000");PS.appendChild(b),b.setHidden(!0);E=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);function CS(){PS.setHidden(!1);var e=Math.round(5*Math.random());0==e&&(e=4),vS.setText(questParamsConnie.speech[e].Text),lime.scheduleManager.callAfter(function(){nS.setHidden(!1),rS.setHidden(!1)},this,1e4)}PS.appendChild(E),uy.appendChild(PS),goog.events.listen(E,["mousedown","touchstart"],function(e){0==PS.getHidden()&&(PS.setHidden(!0),e.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var IS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]).setHidden(!0),u=(new lime.Label).setAnchorPoint(0,0).setPosition(45,25).setText("Overgrown Field").setFontFamily("Proxima Nova").setFontSize(24);IS.appendChild(u);b=(new lime.Label).setAnchorPoint(0,0).setPosition(20,135).setText("This overgrown field needs lots of work to grow crops again. Shall we clear it?").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);IS.appendChild(b);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(110,68).setSize(50,50).setFill(ImgArrayTools[3]);IS.appendChild(E);var bS=(new lime.GlossyButton).setColor("#00ff00").setText("Clear It!").setPosition(140,205).setSize(100,20);IS.appendChild(bS);var TS=(new lime.Label).setAnchorPoint(0,0).setPosition(25,205).setText("Need More Resources").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50).setFontColor("#FF0000");IS.appendChild(TS),TS.setHidden(!0);u=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);IS.appendChild(u),uy.appendChild(IS),goog.events.listen(bS,["mousedown","touchstart"],function(e){if(0==IS.getHidden()){IS.setHidden(!0),function(){IS.setHidden(!0),Uy.setHidden(!0),Wy.setHidden(!1),Vy.setHidden(!1),Jy.setHidden(!1);var e=270,t=-30,i=-50,o=-10,s=60,n=0;lime.scheduleManager.scheduleWithDelay(function(){Wy.setPosition(t,i).setSize(e,200),e+=10,i-=5,(t-=5)<-55&&(t=-30,i=-50,e=270),35<(o+=10)&&(o=-10),Jy.setRotation(o),4==(n+=1)&&(n=0,--s,Vy.setText(s))},this,250,240),lime.scheduleManager.callAfter(function(){Dy.setHidden(!0),Wy.setHidden(!0),Vy.setHidden(!0),Jy.setHidden(!0),localStorage.setItem("wmFieldCleared",1),player.cropsStored[14].stored=player.cropsStored[14].stored+500,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){try{Uf()}catch(e){console.log(e)}},this,1e3);try{goog.events.removeAll(Dy)}catch(e){console.log(e)}},this,6e4)}();try{goog.events.removeAll(bS)}catch(e){console.log(e)}e.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),goog.events.listen(u,["mousedown","touchstart"],function(e){0==IS.getHidden()&&(IS.setHidden(!0),e.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var HS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]),b=(new lime.Label).setAnchorPoint(0,0).setPosition(25,25).setText("Overgrown Windmill").setFontFamily("Proxima Nova").setFontSize(24);HS.appendChild(b);E=(new lime.Label).setAnchorPoint(0,0).setPosition(20,135).setText("This old Windmill needs work. Repair it to unlock FLOUR").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);HS.appendChild(E);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,48).setSize(50,50).setFill(imgArray[30]);HS.appendChild(u);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,48).setSize(50,50).setFill(imgArray[58]);HS.appendChild(b);var _S=(new lime.Label).setAnchorPoint(0,0).setPosition(-40,110).setText(player.tools+"/2500").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);HS.appendChild(_S);var xS=(new lime.Label).setAnchorPoint(0,0).setPosition(75,110).setText(player.cropsStored[14].stored+"/250").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);HS.appendChild(xS);var zS=(new lime.GlossyButton).setColor("#00ff00").setText("Repair It!").setPosition(140,205).setSize(100,20);HS.appendChild(zS);var kS=(new lime.Label).setAnchorPoint(0,0).setPosition(25,205).setText("Need More Resources").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50).setFontColor("#FF0000");HS.appendChild(kS);E=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,240).setSize(100,20);HS.appendChild(E),uy.appendChild(HS),HS.setHidden(!0);var ES=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]),u=(new lime.Label).setAnchorPoint(0,0).setPosition(25,25).setText("Run Down StoreHouse").setFontFamily("Proxima Nova").setFontSize(24);ES.appendChild(u);b=(new lime.Label).setAnchorPoint(0,0).setPosition(20,135).setText("This old Storehouse is in dire need of repair before we can store more Wheat & Flour").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);ES.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,48).setSize(50,50).setFill(imgArray[30]);ES.appendChild(u);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,48).setSize(50,50).setFill(imgArray[58]);ES.appendChild(b);u=(new lime.Label).setAnchorPoint(0,0).setPosition(-40,110).setText(player.tools+"/2000").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);ES.appendChild(u);b=(new lime.Label).setAnchorPoint(0,0).setPosition(75,110).setText(player.cropsStored[14].stored+"/250").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);ES.appendChild(b);var MS=(new lime.GlossyButton).setColor("#00ff00").setText("Repair It!").setPosition(140,205).setSize(100,20);ES.appendChild(MS);var LS=(new lime.Label).setAnchorPoint(0,0).setPosition(25,205).setText("Need More Resources").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50).setFontColor("#FF0000");ES.appendChild(LS);u=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,240).setSize(100,20);ES.appendChild(u),uy.appendChild(ES),ES.setHidden(!0),goog.events.listen(E,["mousedown","touchstart"],function(e){0==HS.getHidden()&&(HS.setHidden(!0),e.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(u,["mousedown","touchstart"],function(e){0==ES.getHidden()&&(ES.setHidden(!0),e.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var NS=0;goog.events.listen(zS,["mousedown","touchstart"],function(e){if(0==HS.getHidden()&&0==NS){NS=1,HS.setHidden(!0),hS(90,250,1e3);try{goog.events.removeAll(zS)}catch(e){console.log(e)}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}});var OS=0;goog.events.listen(MS,["mousedown","touchstart"],function(e){if(0==ES.getHidden()&&0==OS){OS=1,uS(90,250,1e3);try{goog.events.removeAll(MS)}catch(e){console.log(e)}ES.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}});var BS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(l.width-30,l.height/2).setFill(imgArray[78]).setHidden(!0),b=(new lime.Label).setAnchorPoint(0,0).setPosition(75,25).setText("Grain Fields").setFontFamily("Proxima Nova").setFontSize(24);BS.appendChild(b);E=(new lime.Label).setAnchorPoint(0,0).setPosition(20,65).setText("This farm has soil best suited to WHEAT").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);BS.appendChild(E);u=(new lime.Label).setAnchorPoint(0,0).setPosition(20,110).setText("Repair the windmill to unlock the ability to make FLOUR ").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);BS.appendChild(u);b=(new lime.Label).setAnchorPoint(0,0).setPosition(20,160).setText("Repairing the Storehouse will convert it to a Bakery where you can make BREAD").setFontFamily("Proxima Nova").setFontSize(16).setSize(l.width-80,l.height/2-50);BS.appendChild(b);E=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);BS.appendChild(E),uy.appendChild(BS),goog.events.listen(E,["mousedown","touchstart"],function(e){0==BS.getHidden()&&(BS.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))});var RS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(40,120).setSize(230,280).setFill("images/UI/cropBoostBack2.png");yy.appendChild(RS),RS.setHidden(!0);var DS=(new lime.Label).setText(starCash).setPosition(121,31).setSize(40,25).setFontFamily("Proxima Nova").setFontColor("#000F00").setFontWeight(600).setFontSize(20).setFontFamily("Proxima Nova");RS.appendChild(DS);u=(new lime.GlossyButton).setColor("#00FF00").setText("-       ").setPosition(115,180).setSize(50,32);RS.appendChild(u);b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-10,-17).setSize(35,35).setFill(imgArray[37]);u.appendChild(b);E=(new lime.Label).setAnchorPoint(0,0).setPosition(-10,20).setText("or").setFontFamily("Proxima Nova").setFontSize(18);te.appendChild(E);b=(new lime.Sprite).setFill(imgArray[108]).setPosition(113,232).setSize(90,38);RS.appendChild(b);te=(new lime.GlossyButton).setColor("#8B0000").setText("").setPosition(117,288).setSize(36,36);RS.appendChild(te);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-20).setSize(40,40).setFill(imgArray[21]);te.appendChild(E);goog.events.listen(b,["mousedown","touchstart"],function(e){if(0==RS.getHidden()){_A(),localStorage.setItem("MedFarm_LoadAd",1),localStorage.setItem("MedFarm_StarCashBoost",0);try{Enhance.logEvent("adView_CropBoostWM")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){localStorage.setItem("adWatched",1)},this,5e3),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),goog.events.listen(u,["mousedown","touchstart"],function(e){0==RS.getHidden()&&(3<=starCash&&(adWatched2=1,localStorage.setItem("adWatched",1),localStorage.setItem("MedFarm_StarCashBoost",0),starCash-=3,RS.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(te,["mousedown","touchstart"],function(e){0==RS.getHidden()&&(1==(parseInt(localStorage.getItem("GuiGhostFarms_muted"))||0)?(lime.audio.setMute(!0),oy(1)):(lime.audio.setMute(!1),themeSongNew.play(!0),smithSound.play(),oy(2)),RS.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))},!1),goog.events.listen(o,["mousedown","touchstart"],function(){var e=BS.getHidden(),t=IS.getHidden(),i=HS.getHidden();1==e&&1==t&&1==i&&(RS.setHidden(!1),DS.setText(starCash))});var US=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),E=(new lime.Layer).setAnchorPoint(0,0),b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-19.5,-20).setSize(l.width+10,l.height).setFill(imgArrayWindmill[9]).setHidden(!1).setScale(1.1);US.appendChild(E),US.appendChild(b);var GS=(new lime.Sprite).setAnchorPoint(0).setPosition(51,55).setFill(imgArray12[4]).setSize(16,12);b.appendChild(GS);var WS=(new lime.Sprite).setAnchorPoint(0).setPosition(94,55).setFill(imgArray12[5]).setSize(16,12);b.appendChild(WS);var VS=(new lime.Sprite).setAnchorPoint(0).setPosition(209,55).setFill(imgArray12[6]).setSize(16,12);b.appendChild(VS);var JS=(new lime.Sprite).setAnchorPoint(0).setPosition(252,55).setFill(imgArray12[4]).setSize(16,12);b.appendChild(JS);var YS=(new lime.Sprite).setAnchorPoint(0,0).setSize(43,43).setPosition(110,50).setFill(imgArrayConnie[0]);b.appendChild(YS);var qS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-30,-30).setSize(200,50).setFill(imgArray[116]);YS.appendChild(qS);u=(new lime.Label).setText("Hit the recipe below to load an oven").setFontFamily("Proxima Nova").setFontColor("#000000").setPosition(100,30).setFontSize(14).setSize(160,45);qS.appendChild(u),qS.setHidden(!0);var jS=4,KS=0;lime.scheduleManager.scheduleWithDelay(function(){if("Bakery"==sceneActive){switch(GS.setFill(imgArray12[jS]),WS.setFill(imgArray12[jS]),VS.setFill(imgArray12[jS]),JS.setFill(imgArray12[jS]),6<++jS&&(jS=4),KS){case 0:YS.setPosition(110,50).setFill(imgArrayConnie[0]);break;case 1:YS.setPosition(105,50).setFill(imgArrayConnie[6]);break;case 2:YS.setPosition(100,50).setFill(imgArrayConnie[7]);break;case 3:YS.setPosition(95,50).setFill(imgArrayConnie[8]);break;case 4:YS.setPosition(90,50).setFill(imgArrayConnie[9]);break;case 5:YS.setFill(imgArrayConnie[0]);break;case 6:YS.setPosition(95,50).setFill(imgArrayConnie[12]);break;case 7:YS.setPosition(100,50).setFill(imgArrayConnie[13]);break;case 8:YS.setPosition(105,50).setFill(imgArrayConnie[14]);break;case 9:YS.setPosition(110,50).setFill(imgArrayConnie[15]);break;case 10:YS.setPosition(110,50).setFill(imgArrayConnie[0]);break;case 21:YS.setPosition(115,50).setFill(imgArrayConnie[12]);break;case 22:YS.setPosition(120,50).setFill(imgArrayConnie[13]);break;case 23:YS.setPosition(125,50).setFill(imgArrayConnie[14]);break;case 24:YS.setPosition(130,50).setFill(imgArrayConnie[15]);break;case 25:YS.setPosition(130,50).setFill(imgArrayConnie[0]);break;case 36:YS.setPosition(135,50).setFill(imgArrayConnie[12]);break;case 37:YS.setPosition(140,50).setFill(imgArrayConnie[13]);break;case 38:YS.setPosition(145,50).setFill(imgArrayConnie[14]);break;case 39:YS.setPosition(150,50).setFill(imgArrayConnie[15]);break;case 40:YS.setPosition(155,50).setFill(imgArrayConnie[12]);break;case 41:YS.setFill(imgArrayConnie[0]);break;case 54:YS.setPosition(150,50).setFill(imgArrayConnie[6]);break;case 55:YS.setPosition(145,50).setFill(imgArrayConnie[7]);break;case 56:YS.setPosition(140,50).setFill(imgArrayConnie[8]);break;case 57:YS.setPosition(135,50).setFill(imgArrayConnie[9]);break;case 58:YS.setPosition(130,50).setFill(imgArrayConnie[6]);break;case 59:YS.setPosition(125,50).setFill(imgArrayConnie[7]);break;case 60:YS.setPosition(120,50).setFill(imgArrayConnie[8]);break;case 61:YS.setPosition(115,50).setFill(imgArrayConnie[9]);break;case 62:YS.setPosition(110,50);break;case 63:YS.setFill(imgArrayConnie[0]);break;case 75:KS=0}KS=parseInt(KS)+1}},this,300);te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(28,260).setSize(260,230);b.appendChild(te);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(64,160).setSize(40,40).setFill(imgArrayBakery[5]);b.appendChild(o);var $S=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,5).setSize(30,30).setFill(imgArray[56]);o.appendChild($S);var XS=(new lime.Label).setText("Idle").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(20,38).setFontSize(10);o.appendChild(XS);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(120,160).setSize(40,40).setFill(imgArrayBakery[5]);b.appendChild(E);var QS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,5).setSize(30,30).setFill(imgArray[56]);E.appendChild(QS);var ZS=(new lime.Label).setText("Idle").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(20,38).setFontSize(10);E.appendChild(ZS);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,160).setSize(40,40).setFill(imgArrayBakery[5]);b.appendChild(u);var ef=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,5).setSize(30,30).setFill(imgArray[56]);u.appendChild(ef);var tf=(new lime.Label).setText("Idle").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(20,38).setFontSize(10);u.appendChild(tf);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(220,160).setSize(40,40).setFill(imgArrayBakery[5]);b.appendChild(o);var of=(new lime.Sprite).setAnchorPoint(0,0).setPosition(6,5).setSize(30,30).setFill(imgArray[56]);o.appendChild(of);var sf=(new lime.Label).setText("Idle").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(20,38).setFontSize(10);o.appendChild(sf);var nf=(new lime.Label).setText("Place Your Order").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(130,18).setFontSize(14);te.appendChild(nf);var rf=(new lime.Label).setText("Time: 1 minute per").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(130,207).setFontSize(14);te.appendChild(rf);var af=(new lime.Sprite).setPosition(4,105).setSize(28,28).setFill(imgArray[83]).setRotation(90).setOpacity(.4);te.appendChild(af);var lf=(new lime.Sprite).setPosition(257,105).setSize(28,28).setFill(imgArray[83]).setRotation(270);te.appendChild(lf);var df=(new lime.Sprite).setAnchorPoint(0,0).setPosition(21,32).setSize(220,160).setFill(imgArrayTown[18]);te.appendChild(df);E=(new lime.Label).setText("Simple Bread").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,26).setFontSize(22);df.appendChild(E);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,45).setSize(55,55).setFill(imgArrayBakery[0]);df.appendChild(u);o=(new lime.Label).setText("Requires").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(55,127).setFontSize(16);df.appendChild(o);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,107).setSize(25,25).setFill("images/flour.png");df.appendChild(E);var gf=(new lime.Label).setText(player.cropsStored[23].stored+"/1").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(115,142).setFontSize(12);df.appendChild(gf);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(143,107).setSize(18,25).setFill(imgArray[110]);df.appendChild(u);var cf=(new lime.Label).setText(waterStored+"/1").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(158,142).setFontSize(12);df.appendChild(cf);var mf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width+21,32).setSize(220,160).setFill(imgArrayTown[18]);te.appendChild(mf);o=(new lime.Label).setText("Apple Pie").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,26).setFontSize(22);mf.appendChild(o);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,45).setSize(55,55).setFill(imgArrayBakery[1]);mf.appendChild(E);u=(new lime.Label).setText("Requires").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(55,127).setFontSize(16);mf.appendChild(u);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,107).setSize(25,25).setFill("images/flour.png");mf.appendChild(o);var pf=(new lime.Label).setText(player.cropsStored[23].stored+"/1").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,142).setFontSize(12);mf.appendChild(pf);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,108).setSize(25,25).setFill("images/apple.png");mf.appendChild(E);var hf=(new lime.Label).setText(player.cropsStored[8].stored+"/2").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(145,142).setFontSize(12);mf.appendChild(hf);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,108).setSize(18,25).setFill(imgArray[110]);mf.appendChild(u);var uf=(new lime.Label).setText(waterStored+"/1").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(180,142).setFontSize(12);mf.appendChild(uf);var yf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(220,160).setFill(imgArrayTown[18]);mf.appendChild(yf);o=(new lime.Label).setText("Apple Pie").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(65,18).setFontSize(22);yf.appendChild(o);E=(new lime.Label).setText("Unlock now?").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(65,130).setFontSize(16);yf.appendChild(E);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(85,40).setSize(50,50).setFill(imgArrayBakery[1]);yf.appendChild(u);var Sf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,85).setSize(90,35).setFill(imgArray[108]);yf.appendChild(Sf),1==localStorage.getItem("pieUnlocked")&&yf.setHidden(!0).setPosition(-1e3,-1e3);var ff=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2*l.width+21,32).setSize(220,160).setFill(imgArrayTown[18]);te.appendChild(ff);o=(new lime.Label).setText("Manchet Loaf").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,26).setFontSize(22);ff.appendChild(o);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,45).setSize(55,55).setFill(imgArrayBakery[2]);ff.appendChild(E);u=(new lime.Label).setText("Requires").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(55,127).setFontSize(16);ff.appendChild(u);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,108).setSize(25,25).setFill("images/flour.png");ff.appendChild(o);var Af=(new lime.Label).setText(player.cropsStored[23].stored+"/2").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,142).setFontSize(12);ff.appendChild(Af);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(132,108).setSize(22,25).setFill(imgArray3[19]);ff.appendChild(E);var wf=(new lime.Label).setText(player.cropsStored[11].stored+"/2").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(145,142).setFontSize(12);ff.appendChild(wf);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,108).setSize(18,25).setFill(imgArray[110]);ff.appendChild(u);o=(new lime.Label).setText(waterStored+"/2").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(180,142).setFontSize(12);ff.appendChild(o);var Ff=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(220,160).setFill(imgArrayTown[18]);ff.appendChild(Ff);E=(new lime.Label).setText("Manchet Loaf").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(50,25).setFontSize(22);Ff.appendChild(E);u=(new lime.Label).setText("Unlock now?").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(65,130).setFontSize(16);Ff.appendChild(u);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(85,40).setSize(50,50).setFill(imgArrayBakery[2]);Ff.appendChild(o);var Pf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,85).setSize(90,35).setFill(imgArray[108]);Ff.appendChild(Pf),1==localStorage.getItem("manchetUnlocked")&&Ff.setHidden(!0).setPosition(-1e3,-1e3);var vf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(3*l.width+21,32).setSize(220,160).setFill(imgArrayTown[18]);te.appendChild(vf);E=(new lime.Label).setText("Cream Filled Eclair").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,26).setFontSize(22);vf.appendChild(E);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,45).setSize(55,55).setFill(imgArrayBakery[3]);vf.appendChild(u);o=(new lime.Label).setText("Requires").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(55,127).setFontSize(16);vf.appendChild(o);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,108).setSize(25,25).setFill("images/flour.png");vf.appendChild(E);var Cf=(new lime.Label).setText(player.cropsStored[23].stored+"/2").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,142).setFontSize(12);vf.appendChild(Cf);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,108).setSize(25,25).setFill(imgArray[89]);vf.appendChild(u);var If=(new lime.Label).setText(player.cropsStored[7].stored+"/1").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(145,142).setFontSize(12);vf.appendChild(If);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,108).setSize(22,25).setFill(imgArray3[19]);vf.appendChild(o);var bf=(new lime.Label).setText(player.cropsStored[11].stored+"/3").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(180,142).setFontSize(12);vf.appendChild(bf);var Tf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(220,160).setFill(imgArrayTown[18]);vf.appendChild(Tf);E=(new lime.Label).setText("Cream Filled Eclair").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(20,25).setFontSize(22);Tf.appendChild(E);u=(new lime.Label).setText("Unlock now?").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(65,130).setFontSize(16);Tf.appendChild(u);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(85,40).setSize(50,50).setFill(imgArrayBakery[3]);Tf.appendChild(o);var Hf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,85).setSize(90,35).setFill(imgArray[108]);Tf.appendChild(Hf),1==localStorage.getItem("eclairUnlocked")&&Tf.setHidden(!0).setPosition(-1e3,-1e3);var _f=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4*l.width+21,32).setSize(220,160).setFill(imgArrayTown[18]);te.appendChild(_f);E=(new lime.Label).setText("Jelly Donuts").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,26).setFontSize(22);_f.appendChild(E);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,45).setSize(55,55).setFill(imgArrayBakery[4]);_f.appendChild(u);o=(new lime.Label).setText("Requires").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(55,127).setFontSize(16);_f.appendChild(o);te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,108).setSize(25,25).setFill("images/flour.png");_f.appendChild(te);var xf=(new lime.Label).setText(player.cropsStored[23].stored+"/2").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(110,142).setFontSize(12);_f.appendChild(xf);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,108).setSize(25,25).setFill("images/vinyard/jelly.png");_f.appendChild(E);var zf=(new lime.Label).setText(player.cropsStored[13].stored+"/2").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(145,142).setFontSize(12);_f.appendChild(zf);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,108).setSize(25,25).setFill(imgArray[89]);_f.appendChild(u);var kf=(new lime.Label).setText(player.cropsStored[7].stored+"/1").setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(180,142).setFontSize(12);_f.appendChild(kf);var Ef=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(220,160).setFill(imgArrayTown[18]);_f.appendChild(Ef);o=(new lime.Label).setText("Jelly Donuts").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(50,25).setFontSize(22);Ef.appendChild(o);te=(new lime.Label).setText("Unlock now?").setAnchorPoint(0,0).setFontFamily("Proxima Nova").setFontColor("#FFFFFF").setPosition(65,130).setFontSize(16);Ef.appendChild(te);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(85,40).setSize(50,50).setFill(imgArrayBakery[4]);Ef.appendChild(E);var Mf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,85).setSize(90,35).setFill(imgArray[108]);Ef.appendChild(Mf),bakeryOptionSelected=localStorage.getItem("bakeryOptionSelected")||0;let Lf=0;function Nf(){if(localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),console.log("oven  props"+JSON.stringify(ovenState.ovens)+" bakery option "+bakeryOptionSelected),Lf<3)if(ovenState.ovens[0].filled+ovenState.ovens[1].filled+ovenState.ovens[2].filled+ovenState.ovens[3].filled!=4){var e=-1;for(Ce=0;Ce<=ovenState.ovens.length;Ce++){if(0==ovenState.ovens[Ce].filled){e=Ce,console.log("firstOpenOven = "+e);break}console.log(" filled oven "+Ce+" - "+ovenState.ovens[Ce].filled)}let t=3!=bakeryOptionSelected&&4!=bakeryOptionSelected?1!=bakeryOptionSelected&&2!=bakeryOptionSelected?60:90:120;switch(e){case 0:return ovenState.ovens[0].time=t,console.log("oven 0 props"+JSON.stringify(ovenState.ovens)+" bakery option "+bakeryOptionSelected),$S.setFill(imgArrayBakery[bakeryOptionSelected]),XS.setText(t),ovenState.ovens[0].content=bakeryOptionSelected,ovenState.ovens[0].filled=1,tickerReady1=0,void lime.scheduleManager.scheduleWithDelay(function(){t<=0?("Bakery"==sceneActive&&(XS.setText("Ready"),tickerReady1=0==tickerReady1?($S.setPosition(6,5).setSize(36,36),1):($S.setPosition(8,5).setSize(30,30),0)),t=0):(t=parseInt(t)-1,ovenState.ovens[0].time=t,"Bakery"==sceneActive&&XS.setText(t)),localStorage.setItem("ovenState",JSON.stringify(ovenState))},this,1e3,t+10);case 1:return ovenState.ovens[1].time=t,QS.setFill(imgArrayBakery[bakeryOptionSelected]),ZS.setText(t),ovenState.ovens[1].content=bakeryOptionSelected,ovenState.ovens[1].filled=1,tickerReady2=0,void lime.scheduleManager.scheduleWithDelay(function(){t<=0?("Bakery"==sceneActive&&(ZS.setText("Ready"),tickerReady2=0==tickerReady2?(QS.setPosition(6,5).setSize(36,36),1):(QS.setPosition(8,5).setSize(30,30),0)),t=0):(t=parseInt(t)-1,ovenState.ovens[1].time=t,"Bakery"==sceneActive&&ZS.setText(t)),localStorage.setItem("ovenState",JSON.stringify(ovenState))},this,1e3,t+10);case 2:return ovenState.ovens[2].time=t,ef.setFill(imgArrayBakery[bakeryOptionSelected]),tf.setText(t),ovenState.ovens[2].content=bakeryOptionSelected,ovenState.ovens[2].filled=1,tickerReady3=0,void lime.scheduleManager.scheduleWithDelay(function(){t<=0?("Bakery"==sceneActive&&(tf.setText("Ready"),tickerReady3=0==tickerReady3?(ef.setPosition(6,5).setSize(36,36),1):(ef.setPosition(8,5).setSize(30,30),0)),t=0):(t=parseInt(t)-1,ovenState.ovens[2].time=t,"Bakery"==sceneActive&&tf.setText(t)),localStorage.setItem("ovenState",JSON.stringify(ovenState))},this,1e3,t+10);case 3:{ovenState.ovens[3].time=t,ovenState.ovens[3].content=bakeryOptionSelected,ovenState.ovens[3].filled=1,of.setFill(imgArrayBakery[bakeryOptionSelected]),sf.setText(t);let e=0;return void lime.scheduleManager.scheduleWithDelay(function(){localStorage.setItem("ovenState",JSON.stringify(ovenState)),t<=0?"Bakery"==sceneActive&&(sf.setText("Ready"),e=0==e?(of.setPosition(6,5).setSize(36,36),1):(of.setPosition(8,5).setSize(30,30),0)):(t=parseInt(t)-1,ovenState.ovens[3].time=t,"Bakery"==sceneActive&&sf.setText(t))},this,1e3,t+10)}default:return void console.log("default")}}else nf.setText("Ovens Full");else incorrectSound.play(),nf.setText("Ovens Full")}function Of(e){switch(e){case 0:return player.cropsStored[24].stored=parseInt(player.cropsStored[24].stored)+1,void Yf("+ 1","images/"+l.crops[24].harvest,"bakery",2e3,"left","bottom");case 1:return Bf(0),player.cropsStored[26].stored=parseInt(player.cropsStored[26].stored)+1,void Yf("+ 1","images/"+l.crops[26].harvest,"bakery",1e3,"right","bottom");case 2:return Bf(1),player.cropsStored[27].stored=parseInt(player.cropsStored[27].stored)+1,void Yf("+ 1","images/"+l.crops[27].harvest,"bakery",1e3,"left","bottom");case 3:return Bf(2),player.cropsStored[28].stored=parseInt(player.cropsStored[28].stored)+1,void Yf("+ 1","images/"+l.crops[28].harvest,"bakery",1e3,"left","bottom");case 4:return Bf(3),player.cropsStored[29].stored=parseInt(player.cropsStored[29].stored)+1,void Yf("+ 1","images/"+l.crops[29].harvest,"bakery",1e3,"left");default:return}}function Bf(e){ovenState.ovens[e].filled=0,ovenState.ovens[e].time=60,ovenState.ovens[e].content=-1}function Rf(){incorrectSound.play(),nf.setText("Lacking Ingredients").setFontColor("red"),lime.scheduleManager.callAfter(function(){nf.setText("Select a Recipe").setFontColor("#FFFFFF")},this,2500)}if(goog.events.listen($S,["mousedown","touchstart"],function(){-1<ovenState.ovens[0].content&&ovenState.ovens[0].time<=0&&(Of(ovenState.ovens[0].content),ovenState.ovens[0].content=-1,ovenState.ovens[0].time=60,ovenState.ovens[0].filled=0,localStorage.setItem("ovenState",JSON.stringify(ovenState)),$S.setFill(imgArray[56]),XS.setText("Idle"),Lf=parseInt(Lf)-1)}),goog.events.listen(QS,["mousedown","touchstart"],function(){-1<ovenState.ovens[1].content&&ovenState.ovens[1].time<=0&&(Of(ovenState.ovens[1].content),ovenState.ovens[1].content=-1,ovenState.ovens[1].time=60,ovenState.ovens[1].filled=0,localStorage.setItem("ovenState",JSON.stringify(ovenState)),QS.setFill(imgArray[56]),ZS.setText("Idle"),Lf=parseInt(Lf)-1)}),goog.events.listen(ef,["mousedown","touchstart"],function(){-1<ovenState.ovens[2].content&&ovenState.ovens[2].time<=0&&(Of(ovenState.ovens[2].content),ovenState.ovens[2].content=-1,ovenState.ovens[2].time=60,ovenState.ovens[2].filled=0,localStorage.setItem("ovenState",JSON.stringify(ovenState)),ef.setFill(imgArray[56]),tf.setText("Idle"),Lf=parseInt(Lf)-1)}),goog.events.listen(of,["mousedown","touchstart"],function(){-1<ovenState.ovens[3].content&&ovenState.ovens[3].time<=0&&(Of(ovenState.ovens[3].content),ovenState.ovens[3].content=-1,ovenState.ovens[3].time=60,ovenState.ovens[3].filled=0,localStorage.setItem("ovenState",JSON.stringify(ovenState)),of.setFill(imgArray[56]),sf.setText("Idle"),Lf=parseInt(Lf)-1)}),goog.events.listen(df,["mousedown","touchstart"],function(){Lf<3?1<=player.cropsStored[23].stored&&1<=waterStored?(player.cropsStored[23].stored=parseInt(player.cropsStored[23].stored)-1,waterStored=parseInt(waterStored)-1,gf.setText(player.cropsStored[23].stored+"/1"),cf.setText(waterStored+"/1"),bakeryOptionSelected=0,localStorage.setItem("bakeryOptionSelected",0),rf.setText("Time: 1 minute per"),nf.setText("Making Simple Bread"),Nf()):Rf():incorrectSound.play()}),goog.events.listen(mf,["mousedown","touchstart"],function(){Lf<3?1<=player.cropsStored[23].stored&&2<=player.cropsStored[8].stored&&1<=waterStored?(player.cropsStored[23].stored=parseInt(player.cropsStored[23].stored)-1,player.cropsStored[8].stored=parseInt(player.cropsStored[8].stored)-1,pf.setText(player.cropsStored[23].stored+"/1"),hf.setText(player.cropsStored[8].stored+"/2"),uf.setText(waterStored+"/1"),waterStored=parseInt(waterStored)-1,bakeryOptionSelected=1,localStorage.setItem("bakeryOptionSelected",1),rf.setText("Time: 1.5 minutes per"),nf.setText("Making Apple Pie"),Nf()):Rf():incorrectSound.play()}),goog.events.listen(ff,["mousedown","touchstart"],function(){Lf<3?2<=player.cropsStored[23].stored&&2<=player.cropsStored[11].stored&&2<=waterStored&&Lf<=3?(waterStored=parseInt(waterStored)-2,player.cropsStored[23].stored=parseInt(player.cropsStored[23].stored)-2,player.cropsStored[11].stored=parseInt(player.cropsStored[11].stored)-2,Af.setText(player.cropsStored[23].stored+"/2"),wf.setText(player.cropsStored[11].stored+"/2"),bakeryOptionSelected=2,localStorage.setItem("bakeryOptionSelected",2),rf.setText("Time: 1.5 minutes per"),nf.setText("Making Manchet Loaf"),Nf()):Rf():incorrectSound.play()}),goog.events.listen(vf,["mousedown","touchstart"],function(){Lf<3?2<=player.cropsStored[23].stored&&1<=player.cropsStored[7].stored&&3<=player.cropsStored[11].stored&&Lf<=3?(player.cropsStored[23].stored=parseInt(player.cropsStored[23].stored)-2,player.cropsStored[7].stored=parseInt(player.cropsStored[7].stored)-1,player.cropsStored[11].stored=parseInt(player.cropsStored[11].stored)-3,Cf.setText(player.cropsStored[23].stored+"/2"),If.setText(player.cropsStored[7].stored+"/1"),bf.setText(player.cropsStored[11].stored+"/3"),bakeryOptionSelected=3,localStorage.setItem("bakeryOptionSelected",3),rf.setText("Time: 2 minutes per"),nf.setText("Making Cream Eclair"),Nf()):Rf():incorrectSound.play()}),goog.events.listen(_f,["mousedown","touchstart"],function(){Lf<3?2<=player.cropsStored[23].stored&&2<=player.cropsStored[13].stored&&1<=player.cropsStored[7].stored?(bakeryOptionSelected=4,localStorage.setItem("bakeryOptionSelected",4),player.cropsStored[23].stored=parseInt(player.cropsStored[23].stored)-2,player.cropsStored[13].stored=parseInt(player.cropsStored[13].stored)-2,player.cropsStored[7].stored=parseInt(player.cropsStored[7].stored)-1,xf.setText(player.cropsStored[23].stored+"/2"),zf.setText(player.cropsStored[13].stored+"/2"),kf.setText(player.cropsStored[7].stored+"/1"),rf.setText("Time: 2 minutes per batch"),nf.setText("Making Jelly Donuts"),Nf()):Rf():incorrectSound.play()}),goog.events.listen(Sf,["mousedown","touchstart"],function(e){if(0==yf.getHidden()){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Bakery")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){yf.setHidden(!0),Sf.setHidden(!0).setPosition(-1e3,-1e3),localStorage.setItem("pieUnlocked",1)},this,3e3),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),1==parseInt(localStorage.getItem("pieUnlocked"))){yf.setHidden(!0).setPosition(-1e3,-1e3);try{goog.events.removeAll(Sf)}catch(e){console.log("failedremovelistener")}}if(goog.events.listen(Pf,["mousedown","touchstart"],function(e){if(0==Ff.getHidden()){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Bakery")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){Ff.setHidden(!0),Pf.setHidden(!0).setPosition(-1e3,-1e3),localStorage.setItem("manchetUnlocked",1)},this,3e3),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),1==parseInt(localStorage.getItem("manchetUnlocked"))){Ff.setHidden(!0).setPosition(-1e3,-1e3);try{goog.events.removeAll(Pf)}catch(e){console.log("failedremovelistener")}}if(goog.events.listen(Hf,["mousedown","touchstart"],function(e){if(0==Tf.getHidden()){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Bakery")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){Tf.setHidden(!0),Hf.setHidden(!0).setPosition(-1e3,-1e3),localStorage.setItem("eclairUnlocked",1)},this,3e3),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),1==parseInt(localStorage.getItem("eclairUnlocked"))){Tf.setHidden(!0).setPosition(-1e3,-1e3);try{goog.events.removeAll(Hf)}catch(e){console.log("failedremovelistener")}}if(goog.events.listen(Mf,["mousedown","touchstart"],function(e){if(0==Ef.getHidden()){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_Bakery")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){Ef.setHidden(!0),Mf.setHidden(!0).setPosition(-1e3,-1e3),localStorage.setItem("donutsUnlocked",1)},this,3e3),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}}),1==parseInt(localStorage.getItem("donutsUnlocked"))){Ef.setHidden(!0).setPosition(-1e3,-1e3);try{goog.events.removeAll(Mf)}catch(e){console.log("failedremovelistener")}}goog.events.listen(lf,["mousedown","touchstart"],function(){!function(){af.setOpacity(1);var e=df.getPosition(),t=mf.getPosition(),i=ff.getPosition(),o=vf.getPosition(),s=_f.getPosition();0<=bakeryOptionVisible&&bakeryOptionVisible<4&&(df.setPosition(e.x-l.width,32),mf.setPosition(t.x-l.width,32),ff.setPosition(i.x-l.width,32),vf.setPosition(o.x-l.width,32),_f.setPosition(s.x-l.width,32),bakeryOptionVisible+=1),Df(bakeryOptionVisible),4==bakeryOptionVisible?lf.setOpacity(.4):lf.setOpacity(1)}()}),goog.events.listen(af,["mousedown","touchstart"],function(){var e,t,i,o,s;e=df.getPosition(),t=mf.getPosition(),i=ff.getPosition(),o=vf.getPosition(),s=_f.getPosition(),bakeryOptionVisible<=0&&(af.setOpacity(.5),lf.setOpacity(1),df.setPosition(21,32),mf.setPosition(l.width+21,32),ff.setPosition(2*l.width+21,32),vf.setPosition(3*l.width+21,32),_f.setPosition(4*l.width+21,32),bakeryOptionVisible=0),0<bakeryOptionVisible&&(af.setOpacity(1),lf.setOpacity(1),df.setPosition(e.x+l.width,32),mf.setPosition(t.x+l.width,32),ff.setPosition(i.x+l.width,32),vf.setPosition(o.x+l.width,32),_f.setPosition(s.x+l.width,32),--bakeryOptionVisible),console.log(bakeryOptionVisible),0==bakeryOptionVisible&&(lf.setOpacity(1),af.setOpacity(.4)),Df(bakeryOptionVisible)});async function Df(e){switch(e){case 0:return void rf.setText("Time: 1 minute per");case 1:case 2:return void rf.setText("Time: 1.5 minutes per");case 3:return void rf.setText("Time: 2 minutes per");case 4:return void rf.setText("Time: 2 minutes per batch");default:return}return 1}if(0<storeHouseUpgraded)try{!async function(){return-1<(ovenState=JSON.parse(localStorage.getItem("ovenState"))).ovens[0].content?(console.log(" inside loadsaved bakery1"),$S.setFill(imgArrayBakery[ovenState.ovens[0].content]),XS.setText("Ready"),ovenState.ovens[0].filled=1,ovenState.ovens[0].time=0):(ovenState.ovens[0].filled=0,ovenState.ovens[0].time=60),-1<ovenState.ovens[1].content?(console.log(" inside loadsaved bakery2"),QS.setFill(imgArrayBakery[ovenState.ovens[1].content]),ZS.setText("Ready"),ovenState.ovens[1].filled=1,ovenState.ovens[1].time=0):(ovenState.ovens[1].filled=0,ovenState.ovens[1].time=60),-1<ovenState.ovens[2].content?(ovenState.time3,ef.setFill(imgArrayBakery[ovenState.ovens[2].content]),tf.setText("Ready"),ovenState.ovens[2].filled=1,ovenState.ovens[2].time=0):(ovenState.ovens[2].filled=0,ovenState.ovens[2].time=60),-1<ovenState.ovens[3].content?(of.setFill(imgArrayBakery[ovenState.ovens[3].content]),sf.setText("Ready"),ovenState.ovens[3].filled=1,ovenState.ovens[3].time=0):(ovenState.ovens[3].filled=0,ovenState.ovens[3].time=60),1}()}catch(e){console.log(e)}u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(145,479).setSize(30,30).setFill(imgArray[21].src);b.appendChild(u),goog.events.listen(u,["mousedown","touchstart"],function(){sceneActive="Windmill",d.replaceScene(uy,lime.transitions.SlideInDown)}),upgradesInProgress=JSON.parse(localStorage.getItem("MedFarm_upgradesInProgress"));lime.scheduleManager.callAfter(function(){!async function(){return 0<parseInt(upgradesInProgress.buildings[0].timeLeft)&&(zt=kt=0,xt=10,lime.scheduleManager.callAfter(function(){Dt(zt,kt)},this,100)),0<parseInt(upgradesInProgress.buildings[1].timeLeft)&&(toolCostP=0,woodCostP=0,Lo=parseInt(upgradesInProgress.buildings[1].timeLeft),lime.scheduleManager.callAfter(function(){No(toolCostP,woodCostP)},this,150)),0<parseInt(upgradesInProgress.buildings[2].timeLeft)&&(Zo=10,lime.scheduleManager.callAfter(function(){qs(0)},this,200)),0<parseInt(upgradesInProgress.buildings[3].timeLeft)&&((vinyardHouseLevel=parseInt(localStorage.getItem("GuiGhostFarms_vinyardHouseLevel"))||1)<2?(mp=cp=0,Sp=parseInt(upgradesInProgress.buildings[3].timeLeft),lime.scheduleManager.callAfter(function(){wp(cp,mp)},this,300)):(console.log("vineyardOverride"),jm.setHidden(!0),qm.setFill(imgArrayVin[6]),jm.setHidden(!0),vinyardHouseLevel=2,questParams.terric[0].highestCompleted<1&&(questParams.terric[0].highestCompleted=1),questParams.terric[1].completed=1,player.cropsStored[16].stored<=0?jp.setText(questParams.terric[2].text):jp.setText("Now we are making Jelly! Keeps the grapes coming"),gp.setHidden(!1),dp.setHidden(!1),lime.scheduleManager.callAfter(function(){l.makeJelly()},this,500),upgradesInProgress.buildings[3].timeLeft=0,upgradesInProgress.buildings[3].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)))),0<parseInt(upgradesInProgress.buildings[4].timeLeft)&&(yc=10,lime.scheduleManager.callAfter(function(){Ac(1)},this,700)),0<parseInt(upgradesInProgress.buildings[5].timeLeft)&&(upgradesInProgress.buildings[5].timeLeft=0,upgradesInProgress.buildings[5].currentBarnLevel=2,houseUpgrades.upgrades[0].owned=1,ge.setFill(imgArray[98]).setSize(75,100).setPosition(229,22),Hh.setHidden(!0),Ch.setHidden(!1),localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress))),0<parseInt(upgradesInProgress.buildings[6].timeLeft)&&lime.scheduleManager.callAfter(function(){hS(10,0,0)},this,900),0<parseInt(upgradesInProgress.buildings[7].timeLeft)&&lime.scheduleManager.callAfter(function(){uS(10,0,0)},this,1200),1}()},this,1e3);async function Uf(){return kr.setText(player.cropsStored[0].stored),Er.setText(player.cropsStored[1].stored),Mr.setText(player.cropsStored[2].stored),Lr.setText(player.cropsStored[3].stored),Nr.setText(player.cropsStored[4].stored),Or.setText(player.cropsStored[5].stored),Br.setText(player.cropsStored[6].stored),Rr.setText(player.cropsStored[7].stored),Dr.setText(player.cropsStored[8].stored),Ur.setText(player.cropsStored[9].stored),Gr.setText(player.cropsStored[10].stored),Wr.setText(player.cropsStored[11].stored),Vr.setText(player.cropsStored[12].stored),Jr.setText(player.cropsStored[13].stored),qr.setText(player.cropsStored[14].stored),jr.setText(player.cropsStored[15].stored),Kr.setText(player.cropsStored[16].stored),$r.setText(player.cropsStored[17].stored),Xr.setText(player.cropsStored[18].stored),Yr.setText(waterStored),Qr.setText(player.cropsStored[22].stored),Zr.setText(player.cropsStored[23].stored),ea.setText(player.cropsStored[24].stored),ta.setText(player.cropsStored[25].stored),ia.setText(player.cropsStored[26].stored),oa.setText(player.cropsStored[27].stored),sa.setText(player.cropsStored[28].stored),na.setText(player.cropsStored[29].stored),lime.scheduleManager.callAfter(function(){validCropsStored()},this,100),1}function Gf(){try{oe.setHidden(!0),se.setHidden(!0),ce.setHidden(!0),backBtnHouse.setHidden(!0),cg.setHidden(!0),eh.setHidden(!0),Hr.setHidden(!0),rd.setHidden(!0),sd.setHidden(!0),ui.setHidden(!0),hi.setHidden(!0),roadRightV.setHidden(!0),roadRightO.setHidden(!0),vs.setHidden(!0),roadLeftLS.setHidden(!0),lime.scheduleManager.callAfter(function(){ce.setHidden(!1),backBtnHouse.setHidden(!1),eh.setHidden(!1),Hr.setHidden(!1),rd.setHidden(!1),sd.setHidden(!1),cg.setHidden(!1),1==a[1].owned&&(oe.setHidden(!1),ui.setHidden(!1),hi.setHidden(!1)),1==a[2].owned&&(se.setHidden(!1),roadRightO.setHidden(!1),vs.setHidden(!1)),1==a[3].owned&&roadRightV.setHidden(!1),1==a[4].owned&&roadLeftLS.setHidden(!1),1==a[5].owned&&Km.setHidden(!1)},this,1250)}catch(e){console.log(e)}}async function Wf(e){var t,i="YOU GET + 100 STARS!";if(console.log("code tried is "+e),"resetQuake"==e.toString()&&(localStorage.setItem("landSlideDone",0),landSlideDone=0),"resetStory"==e.toString()&&(localStorage.setItem("showStory",1),showStory=1),"ShowMeTheMoney"==e.toString()&&(starCash+=1e3,localStorage.setItem("starCash",starCash)),"resetMaps"==e.toString()){for(mapsComplete=0,localStorage.setItem("mapsComplete",0),mapPieces=0,localStorage.setItem("mapPieces",0),chests_Complete=0,localStorage.setItem("chests_Complete",0),showStory=1,k=0;k<31;k++)mapLocations.places[k].found=0;for(localStorage.setItem("mapLocations",JSON.stringify(mapLocations)),di=0;di<8;di++)collectItems.digUpCollect[di].owned=0;localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems))}if("resetOvens"==e.toString()&&(ovenState={ovens:[{index:0,content:-1,time:60,filled:0},{index:1,content:-1,time:60,filled:0},{index:2,content:-1,time:60,filled:0},{index:3,content:-1,time:60,filled:0}]},localStorage.setItem("ovenState",JSON.stringify(ovenState))),"resetLantern"==e.toString()&&(collectItems.storeItems[7].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems))),"resetPrize"==e.toString()&&(document.getElementById("currentStarCashBackPrize").style.display="block",t=localStorage.getItem("lastLoginDay"),--t,localStorage.setItem("lastLoginDay",t)),-1!==myRewards.indexOf(e.toString()))if(-1==usedCodesArray.indexOf(e.toString())){if("StarBoost"==e.toString()){starCash+=25,i="YOU GET + 25 STARS!";try{Enhance.logEvent("used_shared_rewardCode")}catch(e){console.log("logging failed")}}else if(starCash+=100,purchaseSound.play(),"GuiCoinz3d"==(e=e.toString())||"BetaUser123"==e||"BetaUser456"==e||"BetaUser789"==e||"GuiTools3d"==e||"GuiStars3d"==e)try{Enhance.logEvent("used_GuiGhost_rewardCode")}catch(e){console.log("logging failed")}else try{Enhance.logEvent("used_LootBoy_rewardCode")}catch(e){console.log("logging failed")}st.setText(starCash),ra.setText(starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,localStorage.setItem("starCash",starCash),cy.style.color="Green",cy.style.fontSize="16px",cy.value=i,usedCodesArray.push(e),localStorage.setItem("usedCodes",JSON.stringify(usedCodesArray)),lime.scheduleManager.callAfter(function(){cy.value="",cy.style.color="Black"},this,1e3)}else cy.value="Code already used",cy.style.color="RED",lime.scheduleManager.callAfter(function(){cy.value=" ",cy.style.color="Black"},this,1e3);else"FixTheHouse"==e.toString()?(houseUpgrades={upgrades:[{name:"expansion",cost:0,owned:0},{name:"Single Bed",cost:200,owned:0},{name:"Chest",cost:250,owned:0},{name:"Sink",cost:300,owned:0},{name:"Table",cost:250,owned:0},{name:"Wood Chairs",cost:150,owned:0},{name:"Dressing Table",cost:500,owned:0},{name:"Bedside Table",cost:250,owned:0},{name:"Potted Plant",cost:150,owned:0},{name:"Couch",cost:500,owned:0},{name:"Curtains",cost:125,owned:0},{name:"Double Bed",cost:600,owned:0},{name:"Stool",cost:150,owned:0},{name:"Wardrobe",cost:750,owned:0},{name:"Fancy Couch",cost:750,owned:0},{name:"Bookshelves",cost:1e3,owned:0},{name:"Fancy Table",cost:800,owned:0},{name:"Fancy Chairs",cost:850,owned:0},{name:"Desk",cost:750,owned:0},{name:"Painting",cost:1e3,owned:0},{name:"Dish Cabinet",cost:800,owned:0},{name:"Trunk",cost:700,owned:0},{name:"Paint Walls Green",cost:1500,owned:0},{name:"Paint Walls Blue",cost:1500,owned:0},{name:"Paint Walls Pink",cost:1500,owned:0},{name:"Paint Walls Tan",cost:1500,owned:1}]},localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),seen1stHouseNotif=0,localStorage.setItem("MedFarms_seen1stHouseNotif",0),upgradesInProgress.buildings[5].timeLeft=0,upgradesInProgress.buildings[5].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress))):"Herald10"==e.toString()?(heraldOrderTop=10,aa.setText(heraldOrderTop),localStorage.setItem("MedFarms_heraldOrdersFilled",heraldOrderTop)):"OpenHouse"==e.toString()?(d.replaceScene(fh),lime.scheduleManager.callAfter(function(){sceneActive="House"},this,3500)):"TestDaily"==e.toString()?(t=localStorage.getItem("lastLoginDay"),--t,localStorage.setItem("lastLoginDay",t),localStorage.setItem("daysInRow",ai+1),i="Testing Daily",cy.value=i,lime.scheduleManager.callAfter(function(){window.location.reload()},this,1550)):(cy.value="Invalid Code",cy.style.color="RED",lime.scheduleManager.callAfter(function(){cy.value=" ",cy.style.color="Black"},this,1e3));return 1}var Vf=document.getElementById("wheelRewardImg"),Jf=document.getElementById("wheelReward");window.onload=function(){console.log("loading ww"),setTimeout(function(){let e=new Winwheel({canvasId:"canvasWheel",numSegments:9,outerRadius:150,drawText:!1,textFontSize:16,textOrientation:"curved",textAlignment:"inner",textMargin:10,textFontFamily:"monospace",textStrokeStyle:"black",textLineWidth:3,textFillStyle:"white",drawMode:"segmentImage",segments:[{image:imgArrayWheel[0].src,text:"Nothing!"},{image:imgArrayWheel[1].src,text:"5 Stars"},{image:imgArrayWheel[2].src,text:"50 Tools"},{image:imgArrayWheel[3].src,text:"50 Coins"},{image:imgArrayWheel[4].src,text:"25 Stars"},{image:imgArrayWheel[0].src,text:"Nothing!"},{image:imgArrayWheel[5].src,text:"250 Coins"},{image:imgArrayWheel[6].src,text:"100 Tools"},{image:imgArrayWheel[7].src,text:"100 Coins"}],animation:{type:"spinToStop",duration:5,spins:8,callbackSound:function(){i.pause(),i.currentTime=0;var e=parseInt(localStorage.getItem("GuiGhostFarms_muted"))||0;e||i.play()},callbackFinished:function(e){console.log(e.text),"Nothing!"==e.text?(document.getElementById("rays").style.display="none",incorrectSound.play()):(document.getElementById("rays").style.display="block",successSound.play());Jf.style.display="block",Vf.src=e.image,document.getElementById("wheelRewardTxt2").innerHTML=e.text,function(e){switch(console.log("which1 reward= "+e),starCash=localStorage.getItem("starCash")||0,player=JSON.parse(localStorage.getItem("GuiGhostFarms_player")),e){case"5 Stars":return starCash=parseInt(starCash)+5,localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,purchaseSound.play();case"50 Tools":return player.tools=parseInt(player.tools)+50,purchaseSound.play();case"50 Coins":return player.money=parseInt(player.money)+50,m.setText(player.money),l.updateMoney(),purchaseSound.play();case"25 Stars":return starCash=parseInt(starCash)+25,localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,purchaseSound.play();case"250 Coins":return player.money=parseInt(player.money)+250,m.setText(player.money),l.updateMoney(),purchaseSound.play();case"100 Tools":return player.tools=parseInt(player.tools)+100,purchaseSound.play();case"100 Coins":return player.money=parseInt(player.money)+100,m.setText(player.money),l.updateMoney(),purchaseSound.play();case"Nothing":default:;}}(e.text),l.updateMoney(),l.updateTools(),localStorage.setItem("starCash",starCash),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))}}});let t=!1,i=new Audio("audio/tick.mp3");var o=document.getElementById("viewAdWheel");function s(){0==t&&(e.animation.spins=8,document.getElementById("spin_button").className="",document.getElementById("spin_button").style.display="none",e.startAnimation(),t=!0)}function n(){e.stopAnimation(!1),e.rotationAngle=0,e.draw(),_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("adView_RewardWheel")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){document.getElementById("spin_button").src="images/spin_on.png",document.getElementById("spin_button").style="width: 300px; height: 130px; margin-left: 50%; margin-top:-65px; transform:translateX(-135px);",document.getElementById("spin_button").className="clickable",document.getElementById("rewardAdHider").style.display="none",document.getElementById("canvasWheel").style.opacity=1},this,5e3),t=!1}o.addEventListener("click",function(e){return n(),e.stopPropagation(),!1}),o.addEventListener("touchend",function(e){return n(),e.stopPropagation(),!1}),document.getElementById("spin_button").addEventListener("click",function(e){s(),document.getElementById("spin_button").style.display="none",e.stopPropagation()}),document.getElementById("spin_button").addEventListener("touchend",function(e){s(),document.getElementById("spin_button").style.display="none",e.stopPropagation()}),Jf.style.display="none",document.getElementById("rewardAdHider").style.display="none"},600);var t=document.getElementById("viewAdImgT"),i=document.getElementById("viewAdImgG");function o(e){if(_A(),localStorage.setItem("MedFarm_LoadAd",0),localStorage.setItem("MedFarm_StarCashBoost",1),player=JSON.parse(localStorage.getItem("GuiGhostFarms_player")),"tools"==e){player.tools=player.tools+150,t.style.display="none";try{Enhance.logEvent("adView_tools")}catch(e){console.log("logging failed")}setTimeout(function(){t.style.display="block"},6e4)}if("money"==e){player.money=player.money+250,i.style.display="none";try{Enhance.logEvent("adView_money")}catch(e){console.log("logging failed")}setTimeout(function(){i.style.display="block"},6e4)}localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),setTimeout(function(){try{l.updateMoney(),l.updateTools()}catch(e){console.log("failed to update tools and money")}},5e3)}function e(){Jf.style.display="none",document.getElementById("anotherSpin").style.display="block",viewAdWheel.style.display="block",document.getElementById("rewardAdHider").style.display="block",document.getElementById("canvasWheel").style.opacity=.3,event.stopPropagation()}t.addEventListener("click",function(e){"block"==document.getElementById("fbshare").style.display&&(o("tools"),t.style.display="none",e.stopPropagation())}),t.addEventListener("touchstart",function(e){"block"==document.getElementById("fbshare").style.display&&(o("tools"),t.style.display="none",e.stopPropagation())}),i.addEventListener("touchstart",function(e){"block"==document.getElementById("fbshare").style.display&&(o("money"),e.stopPropagation(),i.style.display="none")},!1),i.addEventListener("click",function(e){"block"==document.getElementById("fbshare").style.display&&(o("money"),e.stopPropagation(),i.style.display="none")},!1),goog.events.listen(Vf,["mousedown","touchstart"],function(){e()}),goog.events.listen(Jf,["mousedown","touchstart"],function(){e()});window.screen.width;document.getElementById("rewardCloseBtn").addEventListener("click",function(e){try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}document.getElementById("wheelDiv").style.left="5000px",lime.scheduleManager.callAfter(function(){globalModalBlock=0},this,500),lime.scheduleManager.callAfter(function(){Yf("Get Loot!",imgArrayItems[25].src,"luckyWheel",2e4)},this,15e4),e.stopPropagation()}),document.getElementById("rewardCloseBtn").addEventListener("touchend",function(e){try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}document.getElementById("wheelDiv").style.left="5000px",lime.scheduleManager.callAfter(function(){globalModalBlock=0},this,500),lime.scheduleManager.callAfter(function(){Yf("Get Loot!",imgArrayItems[25].src,"luckyWheel",2e4)},this,15e4),e.stopPropagation()}),document.getElementById("rewardAdHider").addEventListener("click",function(e){e.stopPropagation()}),document.getElementById("rewardAdHider").addEventListener("touchend",function(e){e.stopPropagation()}),document.getElementById("wheelDiv").addEventListener("click",function(e){e.stopPropagation()}),document.getElementById("wheelDiv").addEventListener("touchend",function(e){e.stopPropagation()})}();async function Yf(e,t,i,o,s,n){try{"neediron"!=i&&purchaseSound.play(),Toastify({text:e,avatar:t,duration:o||4e3,close:!1,gravity:n||"top",position:s||"right",style:{background:"linear-gradient(to right, #00b06d, #1f2c07, #86ef6f)"},stopOnFocus:!0,onClick:function(){!function(e){if(waterfallSound.stop(),"luckyWheel"==e){globalModalBlock=1;try{AppLovinMAX.showBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}try{Enhance.logEvent("bannerAd_shown")}catch(e){console.log(e)}document.getElementById("wheelDiv").style.display="block",document.getElementById("wheelDiv").style.left="0px",document.getElementById("canvasWheel").style.display="block",globalModalBlock=1}else"neediron"==e?"Home"!=sceneActive?(d.replaceScene(g),sceneActive="Home",homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))||0,r.currentCrop=homeCrop):it.setHidden(!1):"cows"==e?"Pasture"!=sceneActive&&(d.replaceScene(mi,lime.transitions.SlideInRight),sceneActive="Pasture",cowSound.play(),r.currentCrop=6):"bakery"==e||"windmill"==e?"windmill"!=sceneActive&&(d.replaceScene(uy,lime.transitions.SlideInRight),sceneActive="Windmill",r.currentCrop=22):"vineyard"==e?"Vineyard"!=sceneActive&&(d.replaceScene(Fm,lime.transitions.SlideInRight),sceneActive="Vineyard",r.currentCrop=12):"orchard"==e?"Orchard"!=sceneActive&&(sceneActive="Orchard",d.replaceScene(Bo,lime.transitions.SlideInRight),r.currentCrop=8):"livestock"==e?"LS"!=sceneActive&&(d.replaceScene(ac,lime.transitions.SlideInRight),sceneActive="LS",pig1Sound.play(),chickenSound.play(),ny()):console.log("no action on toast click")}(i)}}).showToast(),document.getElementsByClassName("toastify")[0].classList.add("blazingStar")}catch(e){console.log(e)}return 1}lime.scheduleManager.callAfter(function(){Yf("Get Loot!",imgArrayItems[25].src,"luckyWheel",1e4)},this,15e4);var qf=(new lime.Scene).setRenderer(lime.Renderer.DOM),o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,30).setFill(imgArray[75]).setOpacity(.9);qf.appendChild(o);te=(new lime.Label).setAnchorPoint(0,0).setPosition(25,9).setSize(l.width/2,25).setText("Our Story Begins").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16);qf.appendChild(te);var jf=(new lime.Label).setAnchorPoint(0,0).setPosition(-5,5).setSize(l.width,25).setText("").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16),E=(new lime.Layer).setAnchorPoint(0,0).setPosition(0,30).setSize(l.width,l.height-30),b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-30).setFill("#000000");qf.appendChild(E),E.appendChild(b);u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-80).setFill("#1E90FF");b.appendChild(u);te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-80).setFill(imgArray[84]);u.appendChild(te);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(125,0).setSize(25,25).setFill(imgArrayGround[2]);u.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,0).setSize(25,25).setFill(imgArrayGround[1]);u.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(125,25).setSize(25,25).setFill(imgArrayGround[4]);u.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,25).setSize(25,25).setFill(imgArrayGround[3]);u.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,8).setSize(64,32).setFill(imgArrayPasture[8]);u.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(1,10).setSize(308,374).setFill("images/storyScene/homePlace.png");u.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,350).setSize(64,32).setFill(imgArrayPasture[8]);u.appendChild(E);E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(250,10).setSize(57,76).setFill(imgArrayPasture[3]);u.appendChild(E);var Kf=(new lime.Label).setText("Tap to Continue").setPosition(l.width/2-10,l.height-90).setSize(180,115).setFontColor("azure").setFontSize(15).setOpacity(.8);b.appendChild(Kf),te.appendChild(jf);var $f=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,240).setSize(65,65).setFill(imgArrayPlayer[0]);u.appendChild($f);var Xf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-12,-15).setSize(200,75).setFill(imgArray[116]);$f.appendChild(Xf);var Qf=(new lime.Label).setText("Hi - I am Fordwin and I am 18 years old").setPosition(100,0).setSize(180,115).setFontColor("black").setFontSize(15);Xf.appendChild(Qf);var Zf=0,eA=(lime.scheduleManager.scheduleWithDelay(function(){5==++Zf&&$f.setFill(imgArrayPlayer[1].src),6==Zf&&$f.setFill(imgArrayPlayer[2].src),7==Zf&&$f.setFill(imgArrayPlayer[0].src),8==Zf&&$f.setFill(imgArrayPlayer[1].src),10==Zf&&$f.setFill(imgArrayPlayer[0].src),19==Zf&&$f.setFill(imgArrayPlayer[2].src),20==Zf&&$f.setFill(imgArrayPlayer[0].src),25==Zf&&(Zf=0)},this,200,1e3),(new lime.Sprite).setAnchorPoint(0,0).setPosition(260,380).setSize(65,65).setFill(imgArrayDenise[8]));u.appendChild(eA);var tA=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-125,-75).setSize(175,75).setFill(imgArray[117]);eA.appendChild(tA);var iA=(new lime.Label).setText("Fordwin.... WAIT!").setPosition(87,75).setSize(180,100).setFontColor("black").setFontSize(18);tA.appendChild(iA);var oA=(new lime.Sprite).setAnchorPoint(0,0).setPosition(140,80).setSize(36,48).setFill("images/UI/oldMan.png");u.appendChild(oA);var sA=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-9,-75).setSize(175,85).setFill(imgArray[116]);oA.appendChild(sA);var nA=(new lime.Label).setText("Son - take these supplies to help you get started").setPosition(87,52).setSize(160,100).setFontColor("black").setFontSize(16);sA.appendChild(nA),oA.setHidden(!0);var rA=(new lime.Layer).setAnchorPoint(0,0).setPosition(0,30).setSize(l.width,l.height-30),te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-30).setFill("#000000");qf.appendChild(rA),rA.appendChild(te);var aA=(new lime.Label).setText("Medieval Farms").setPosition(l.width/2,l.height/2-140).setSize(180,215).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(30);te.appendChild(aA);var lA=(new lime.Label).setText("Our Story Begins").setPosition(l.width/2,l.height/2+30).setSize(200,315).setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(24);te.appendChild(lA);var dA=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-960,0).setSize(l.width,l.height-30).setFill("images/UI/introBackNew2.png");rA.appendChild(dA);var gA=(new lime.Label).setFill("#2a342d").setText("Skip").setPosition(l.width-60,15).setSize(90,22).setFontColor("azure").setFontSize(18);qf.appendChild(gA),goog.events.listen(gA,["mousedown","touchstart"],function(e){localStorage.setItem("seenIntroStory",1),localStorage.setItem("showStory",0);try{AppLovinMAX.hideBanner(BANNER_AD_UNIT_ID)}catch(e){console.log(e)}d.replaceScene(g,lime.transitions.SlideInUp),sceneActive="Home",(sceneBefore=1)==showAdCountry&&lime.scheduleManager.callAfter(function(){_A(),localStorage.setItem("MedFarm_LoadAd",1),localStorage.setItem("MedFarm_StarCashBoost",0);try{Enhance.logEvent("adView_CloseStory")}catch(e){console.log("logging failed")}},this,1800),themeSongNew.play(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1),goog.events.listen(Xf,["mousedown","touchstart"],function(e){rc("intro"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1),goog.events.listen(u,["mousedown","touchstart"],function(e){rc("intro"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1);var cA=(new lime.Scene).setRenderer(lime.Renderer.DOM),o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,30).setFill(imgArray[75]).setOpacity(.8);cA.appendChild(o);u=(new lime.Layer).setAnchorPoint(0,0).setPosition(0,30).setSize(l.width,l.height-30),o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(l.width,l.height-30).setFill("#000000");cA.appendChild(u),u.appendChild(o);o=(new lime.Label).setAnchorPoint(0,0).setPosition(-5,9).setSize(l.width,25).setText("Treasure Map Complete!").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(20);u.appendChild(o);o=(new lime.Label).setAnchorPoint(0,0).setPosition(-5,45).setSize(l.width,25).setText("X marks the ACRE to locate the treasure.").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(12);u.appendChild(o);o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(l.width/2-145,l.height/2-180).setSize(300,250).setFill("images/UI/map1_treasureText.png").setQuality(.5);u.appendChild(o);var mA=(new lime.Sprite).setPosition(245,157).setSize(45,45).setFill("images/stars1.png");o.appendChild(mA);var pA=(new lime.Label).setPosition(246,160).setSize(l.width,25).setText("X").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16);o.appendChild(pA);var hA=(new lime.Sprite).setPosition(245,157).setSize(45,45).setFill("images/stars1.png");o.appendChild(hA);var uA=(new lime.Label).setPosition(246,160).setSize(l.width,25).setText("X").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16);o.appendChild(uA);var yA=(new lime.Sprite).setPosition(245,157).setSize(45,45).setFill("images/stars1.png");o.appendChild(yA);var SA=(new lime.Label).setPosition(246,160).setSize(l.width,25).setText("X").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16);o.appendChild(SA);var fA=(new lime.Sprite).setPosition(245,157).setSize(45,45).setFill("images/stars1.png");o.appendChild(fA);var AA=(new lime.Label).setPosition(246,160).setSize(l.width,25).setText("X").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16);o.appendChild(AA);var wA=(new lime.Sprite).setPosition(245,157).setSize(45,45).setFill("images/stars1.png");o.appendChild(wA);var FA=(new lime.Label).setPosition(246,160).setSize(l.width,25).setText("X").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16);o.appendChild(FA);var PA=(new lime.Sprite).setPosition(245,157).setSize(45,45).setFill("images/stars1.png");o.appendChild(PA);var vA=(new lime.Label).setPosition(246,160).setSize(l.width,25).setText("X").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(16);o.appendChild(vA);var CA=(new lime.Label).setAnchorPoint(0,0).setPosition(-5,385).setSize(l.width,25).setText("Head to the "+treasurePendingLocation+" to find it!").setFontFamily("Proxima Nova").setFontColor("#ffffff").setFontSize(12);u.appendChild(CA);o=(new lime.Sprite).setPosition(l.width/2,l.height-100).setSize(40,40).setFill(imgArray[21]);function IA(e){foundHeir.style.display="block",foundHeirImage.style.backgroundImage="url('"+imgArrayItems[42].src+"')",heirImgParent.style.display="block",heirStars.style.display="block",viewAdImgHeir.style.display="block",foundHeirSubText.innerHTML="Open it now?",foundHeirTitle.innerHTML="Heirloom Chest",heirChestDelayText.style.display="block",goog.events.listen(heirStars,["mousedown","touchstart"],function(){5<starCash&&(bA(e),"orchard"==e&&_n.setHidden(!0))},!1),goog.events.listen(viewAdImgHeir,["mousedown","touchstart"],function(){_A(),localStorage.setItem("MedFarm_StarCashBoost",1);try{Enhance.logEvent("AdView_Heirloom")}catch(e){console.log("logging failed")}lime.scheduleManager.callAfter(function(){bA(e),"orchard"==e&&_n.setHidden(!0)},this,5e3)},!1)}function bA(e){console.log("openHeirloom = "+e),foundHeirSubText.innerHTML="See the Inventory Heirloom tab for your set",heirChestDelayText.style.display="none",heirImgParent.style.display="none",foundHeirClose.style.display="block",8<(chests_Complete=parseInt(localStorage.getItem("chests_Complete"))+1)&&(chests_Complete=8),localStorage.setItem("chests_Complete",chests_Complete),Va.setText(chests_Complete+"/8");let t=0;switch(e){case"home":t=1,Na.setFill(collectItems.digUpCollect[1].src);break;case"pasture":t=2,Gi.setHidden(!0),Oa.setFill(collectItems.digUpCollect[2].src);break;case"orchard":t=6,Ra.setFill(collectItems.digUpCollect[6].src);break;case"vineyard":t=4,Qm.setHidden(!0),Ma.setFill(collectItems.digUpCollect[4].src);break;case"stockpens":t=5,wc.setHidden(!0),Da.setFill(collectItems.digUpCollect[5].src);break;case"cavern":t=0,xn.setHidden(!0),Ba.setFill(collectItems.digUpCollect[0].src);break;case"windmill":t=3,yS.setHidden(!0),La.setFill(collectItems.digUpCollect[3].src);break;case"town":t=7,od.setHidden(!0),Ua.setFill(collectItems.digUpCollect[7].src)}itemReceivedHeir=collectItems.digUpCollect[t].name,collectItems.digUpCollect[t].owned=1,foundHeirTitle.innerHTML=itemReceivedHeir,foundHeirImage.style.backgroundImage="url('"+collectItems.digUpCollect[t].src+"')",console.log("heirloom recvieved = "+itemReceivedHeir),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),Ja()}u.appendChild(o),goog.events.listen(o,["mousedown","touchstart"],function(e){switch(sceneActive){case"Home":d.replaceScene(g);break;case"Pasture":d.replaceScene(mi);break;case"LS":d.replaceScene(ac),ny();break;case"Vineyard":d.replaceScene(Fm);break;case"Orchard":d.replaceScene(Bo);break;case"Windmill":d.replaceScene(uy);break;case"Market":d.replaceScene(Ol);break;case"Inventory":d.replaceScene(Fr);break;default:d.replaceScene(g)}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1),goog.events.listen(wc,["mousedown","touchstart"],function(e){0==wc.getHidden()&&(IA("stockpens"),successSound.play()),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!1),goog.events.listen(foundHeirClose,["mousedown","touchstart"],function(){foundHeir.style.display="none",heirChestDelayText.style.display="block",1==(parseInt(localStorage.getItem("GuiGhostFarms_muted"))||0)?(lime.audio.setMute(!0),oy(1)):(lime.audio.setMute(!1),"Hidden"!=Zn?(themeSongNew.stop(),caveLoop.play(!0)):(themeSongNew.play(!0),oy(2)))},!1);async function TA(e){return localStorage.setItem("mapLocations",JSON.stringify(mapLocations)),Yf("+ 1 Map Fragment",imgArray[114].src,"cave",2e3),mapPieces=localStorage.getItem("mapPieces")||0,mapPieces=parseInt(mapPieces)+1,localStorage.setItem("mapPieces",mapPieces),mapPieces<5?(successSound2.play(),Ga.setText(mapPieces+"/5"),1==mapPieces&&0==mapsComplete&&("h1"!=e&&"h2"!=e&&"h3"!=e&&"h4"!=e||h.setHidden(!1))):Ya(),1}async function HA(){return console.log("soundCheck in IF"),0==(localStorage.getItem("GuiGhostFarms_muted")||0)?(lime.audio.setMute(!1),themeSongNew.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),oy(2)):(lime.audio.setMute(!0),oy(1),localStorage.setItem("GuiGhostFarms_muted",1)),1}function _A(){var e=playerMuted||0;playerMuted=1,themeSongNew.stop(),lime.audio.setMute(!0),hammerSound.stop(),lime.scheduleManager.callAfter(function(){playerMuted=e||0,HA()},this,3e4)}};async function openCodes(){var e=new XMLHttpRequest;return e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(myRewards=JSON.parse(this.responseText))},e.open("GET","json_code_array.txt",!0),e.send(),1}function getRandomInt(e){return Math.floor(Math.random()*e)}function getLocalStorage(){return JSON.stringify(localStorage)}