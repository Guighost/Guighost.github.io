var COMPILED = !0, goog = goog || {}; goog.global = this, goog.DEBUG = !1, goog.LOCALE = "en", goog.provide = function (e) { if (!COMPILED) { if (goog.isProvided_(e)) throw Error('Namespace "' + e + '" already declared.'); delete goog.implicitNamespaces_[e]; for (var t = e; (t = t.substring(0, t.lastIndexOf("."))) && !goog.getObjectByName(t);)goog.implicitNamespaces_[t] = !0 } goog.exportPath_(e) }, goog.setTestOnly = function (e) { if (COMPILED && !goog.DEBUG) throw e = e || "", Error(": " + e) }, COMPILED || (goog.isProvided_ = function (e) { return !goog.implicitNamespaces_[e] && !!goog.getObjectByName(e) }, goog.implicitNamespaces_ = {}), goog.exportPath_ = function (e, t, o) { e = e.split("."), o = o || goog.global, !(e[0] in o) && o.execScript && o.execScript("var " + e[0]); for (var i; e.length && (i = e.shift());)!e.length && goog.isDef(t) ? o[i] = t : o = o[i] ? o[i] : o[i] = {} }, goog.getObjectByName = function (e, t) { for (var o, i = e.split("."), n = t || goog.global; o = i.shift();) { if (!goog.isDefAndNotNull(n[o])) return null; n = n[o] } return n }, goog.globalize = function (e, t) { var o, i = t || goog.global; for (o in e) i[o] = e[o] }, goog.addDependency = function (e, t, o) { if (!COMPILED) { e = e.replace(/\\/g, "/"); for (var i, n = goog.dependencies_, s = 0; i = t[s]; s++)n.nameToPath[i] = e, e in n.pathToNames || (n.pathToNames[e] = {}), n.pathToNames[e][i] = !0; for (i = 0; t = o[i]; i++)e in n.requires || (n.requires[e] = {}), n.requires[e][t] = !0 } }, goog.ENABLE_DEBUG_LOADER = !0, goog.require = function (e) { if (!COMPILED && !goog.isProvided_(e)) { if (goog.ENABLE_DEBUG_LOADER) { var t = goog.getPathFromDeps_(e); if (t) return goog.included_[t] = !0, void goog.writeScripts_() } throw e = "goog.require could not find: " + e, goog.global.console && goog.global.console.error(e), Error(e) } }, goog.basePath = "", goog.nullFunction = function () { }, goog.identityFunction = function (e) { return e }, goog.abstractMethod = function () { throw Error("unimplemented abstract method") }, goog.addSingletonGetter = function (e) { e.getInstance = function () { return e.instance_ ? e.instance_ : (goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = e), e.instance_ = new e) } }, goog.instantiatedSingletons_ = [], !COMPILED && goog.ENABLE_DEBUG_LOADER && (goog.included_ = {}, goog.dependencies_ = { pathToNames: {}, nameToPath: {}, requires: {}, visited: {}, written: {} }, goog.inHtmlDocument_ = function () { var e = goog.global.document; return void 0 !== e && "write" in e }, goog.findBasePath_ = function () { if (goog.global.CLOSURE_BASE_PATH) goog.basePath = goog.global.CLOSURE_BASE_PATH; else if (goog.inHtmlDocument_()) for (var e = goog.global.document.getElementsByTagName("script"), t = e.length - 1; t >= 0; --t) { var o = e[t].src, i = -1 == (i = o.lastIndexOf("?")) ? o.length : i; if ("base.js" == o.substr(i - 7, 7)) { goog.basePath = o.substr(0, i - 7); break } } }, goog.importScript_ = function (e) { var t = goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_; !goog.dependencies_.written[e] && t(e) && (goog.dependencies_.written[e] = !0) }, goog.writeScriptTag_ = function (e) { return !!goog.inHtmlDocument_() && (goog.global.document.write('<script type="text/javascript" src="' + e + '"><\/script>'), !0) }, goog.writeScripts_ = function () { function e(t) { if (!(t in n.written)) { if (!(t in n.visited) && (n.visited[t] = !0, t in n.requires)) for (var s in n.requires[t]) if (!goog.isProvided_(s)) { if (!(s in n.nameToPath)) throw Error("Undefined nameToPath for " + s); e(n.nameToPath[s]) } t in i || (i[t] = !0, o.push(t)) } } var t, o = [], i = {}, n = goog.dependencies_; for (t in goog.included_) n.written[t] || e(t); for (t = 0; t < o.length; t++) { if (!o[t]) throw Error("Undefined script input"); goog.importScript_(goog.basePath + o[t]) } }, goog.getPathFromDeps_ = function (e) { return e in goog.dependencies_.nameToPath ? goog.dependencies_.nameToPath[e] : null }, goog.findBasePath_(), goog.global.CLOSURE_NO_DEPS || goog.importScript_(goog.basePath + "deps.js")), goog.typeOf = function (e) { var t = typeof e; if ("object" == t) { if (!e) return "null"; if (e instanceof Array) return "array"; if (e instanceof Object) return t; var o = Object.prototype.toString.call(e); if ("[object Window]" == o) return "object"; if ("[object Array]" == o || "number" == typeof e.length && void 0 !== e.splice && void 0 !== e.propertyIsEnumerable && !e.propertyIsEnumerable("splice")) return "array"; if ("[object Function]" == o || void 0 !== e.call && void 0 !== e.propertyIsEnumerable && !e.propertyIsEnumerable("call")) return "function" } else if ("function" == t && void 0 === e.call) return "object"; return t }, goog.isDef = function (e) { return void 0 !== e }, goog.isNull = function (e) { return null === e }, goog.isDefAndNotNull = function (e) { return null != e }, goog.isArray = function (e) { return "array" == goog.typeOf(e) }, goog.isArrayLike = function (e) { var t = goog.typeOf(e); return "array" == t || "object" == t && "number" == typeof e.length }, goog.isDateLike = function (e) { return goog.isObject(e) && "function" == typeof e.getFullYear }, goog.isString = function (e) { return "string" == typeof e }, goog.isBoolean = function (e) { return "boolean" == typeof e }, goog.isNumber = function (e) { return "number" == typeof e }, goog.isFunction = function (e) { return "function" == goog.typeOf(e) }, goog.isObject = function (e) { var t = typeof e; return "object" == t && null != e || "function" == t }, goog.getUid = function (e) { return e[goog.UID_PROPERTY_] || (e[goog.UID_PROPERTY_] = ++goog.uidCounter_) }, goog.removeUid = function (e) { "removeAttribute" in e && e.removeAttribute(goog.UID_PROPERTY_); try { delete e[goog.UID_PROPERTY_] } catch (e) { } }, goog.UID_PROPERTY_ = "closure_uid_" + Math.floor(2147483648 * Math.random()).toString(36), goog.uidCounter_ = 0, goog.getHashCode = goog.getUid, goog.removeHashCode = goog.removeUid, goog.cloneObject = function (e) { if ("object" == (o = goog.typeOf(e)) || "array" == o) { if (e.clone) return e.clone(); var t, o = "array" == o ? [] : {}; for (t in e) o[t] = goog.cloneObject(e[t]); return o } return e }, goog.bindNative_ = function (e, t, o) { return e.call.apply(e.bind, arguments) }, goog.bindJs_ = function (e, t, o) { if (!e) throw Error(); if (arguments.length > 2) { var i = Array.prototype.slice.call(arguments, 2); return function () { var o = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(o, i), e.apply(t, o) } } return function () { return e.apply(t, arguments) } }, goog.bind = function (e, t, o) { return goog.bind = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? goog.bindNative_ : goog.bindJs_, goog.bind.apply(null, arguments) }, goog.partial = function (e, t) { var o = Array.prototype.slice.call(arguments, 1); return function () { var t = Array.prototype.slice.call(arguments); return t.unshift.apply(t, o), e.apply(this, t) } }, goog.mixin = function (e, t) { for (var o in t) e[o] = t[o] }, goog.now = Date.now || function () { return +new Date }, goog.globalEval = function (e) { if (goog.global.execScript) goog.global.execScript(e, "JavaScript"); else { if (!goog.global.eval) throw Error("goog.globalEval not available"); if (null == goog.evalWorksForGlobals_ && (goog.global.eval("var _et_ = 1;"), void 0 !== goog.global._et_ ? (delete goog.global._et_, goog.evalWorksForGlobals_ = !0) : goog.evalWorksForGlobals_ = !1), goog.evalWorksForGlobals_) goog.global.eval(e); else { var t = goog.global.document, o = t.createElement("script"); o.type = "text/javascript", o.defer = !1, o.appendChild(t.createTextNode(e)), t.body.appendChild(o), t.body.removeChild(o) } } }, goog.evalWorksForGlobals_ = null, goog.getCssName = function (e, t) { var o = function (e) { return goog.cssNameMapping_[e] || e }, i = function (e) { e = e.split("-"); for (var t = [], i = 0; i < e.length; i++)t.push(o(e[i])); return t.join("-") }; i = goog.cssNameMapping_ ? "BY_WHOLE" == goog.cssNameMappingStyle_ ? o : i : function (e) { return e }; return t ? e + "-" + i(t) : i(e) }, goog.setCssNameMapping = function (e, t) { goog.cssNameMapping_ = e, goog.cssNameMappingStyle_ = t }, !COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING && (goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING), goog.getMsg = function (e, t) { var o, i = t || {}; for (o in i) { var n = ("" + i[o]).replace(/\$/g, "$$$$"); e = e.replace(RegExp("\\{\\$" + o + "\\}", "gi"), n) } return e }, goog.exportSymbol = function (e, t, o) { goog.exportPath_(e, t, o) }, goog.exportProperty = function (e, t, o) { e[t] = o }, goog.inherits = function (e, t) { function o() { } o.prototype = t.prototype, e.superClass_ = t.prototype, e.prototype = new o, e.prototype.constructor = e }, goog.base = function (e, t, o) { var i = arguments.callee.caller; if (i.superClass_) return i.superClass_.constructor.apply(e, Array.prototype.slice.call(arguments, 1)); for (var n = Array.prototype.slice.call(arguments, 2), s = !1, r = e.constructor; r; r = r.superClass_ && r.superClass_.constructor)if (r.prototype[t] === i) s = !0; else if (s) return r.prototype[t].apply(e, n); if (e[t] === i) return e.constructor.prototype[t].apply(e, n); throw Error("goog.base called from a method of one name to a method of a different name") }, goog.scope = function (e) { e.call(goog.global) }; var lime = { DirtyObject: function () { } }; lime.DirtyObject.prototype.update = function () { }, goog.math = {}, goog.math.Coordinate = function (e, t) { this.x = goog.isDef(e) ? e : 0, this.y = goog.isDef(t) ? t : 0 }, goog.math.Coordinate.prototype.clone = function () { return new goog.math.Coordinate(this.x, this.y) }, goog.DEBUG && (goog.math.Coordinate.prototype.toString = function () { return "(" + this.x + ", " + this.y + ")" }), goog.math.Coordinate.equals = function (e, t) { return e == t || !(!e || !t) && (e.x == t.x && e.y == t.y) }, goog.math.Coordinate.distance = function (e, t) { var o = e.x - t.x, i = e.y - t.y; return Math.sqrt(o * o + i * i) }, goog.math.Coordinate.squaredDistance = function (e, t) { var o = e.x - t.x, i = e.y - t.y; return o * o + i * i }, goog.math.Coordinate.difference = function (e, t) { return new goog.math.Coordinate(e.x - t.x, e.y - t.y) }, goog.math.Coordinate.sum = function (e, t) { return new goog.math.Coordinate(e.x + t.x, e.y + t.y) }, goog.math.Box = function (e, t, o, i) { this.top = e, this.right = t, this.bottom = o, this.left = i }, goog.math.Box.boundingBox = function (e) { for (var t = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x), o = 1; o < arguments.length; o++) { var i = arguments[o]; t.top = Math.min(t.top, i.y), t.right = Math.max(t.right, i.x), t.bottom = Math.max(t.bottom, i.y), t.left = Math.min(t.left, i.x) } return t }, goog.math.Box.prototype.clone = function () { return new goog.math.Box(this.top, this.right, this.bottom, this.left) }, goog.DEBUG && (goog.math.Box.prototype.toString = function () { return "(" + this.top + "t, " + this.right + "r, " + this.bottom + "b, " + this.left + "l)" }), goog.math.Box.prototype.contains = function (e) { return goog.math.Box.contains(this, e) }, goog.math.Box.prototype.expand = function (e, t, o, i) { return goog.isObject(e) ? (this.top = this.top - e.top, this.right = this.right + e.right, this.bottom = this.bottom + e.bottom, this.left = this.left - e.left) : (this.top = this.top - e, this.right = this.right + t, this.bottom = this.bottom + o, this.left = this.left - i), this }, goog.math.Box.prototype.expandToInclude = function (e) { this.left = Math.min(this.left, e.left), this.top = Math.min(this.top, e.top), this.right = Math.max(this.right, e.right), this.bottom = Math.max(this.bottom, e.bottom) }, goog.math.Box.equals = function (e, t) { return e == t || !(!e || !t) && (e.top == t.top && e.right == t.right && e.bottom == t.bottom && e.left == t.left) }, goog.math.Box.contains = function (e, t) { return !(!e || !t) && (t instanceof goog.math.Box ? t.left >= e.left && t.right <= e.right && t.top >= e.top && t.bottom <= e.bottom : t.x >= e.left && t.x <= e.right && t.y >= e.top && t.y <= e.bottom) }, goog.math.Box.relativePositionX = function (e, t) { return t.x < e.left ? t.x - e.left : t.x > e.right ? t.x - e.right : 0 }, goog.math.Box.relativePositionY = function (e, t) { return t.y < e.top ? t.y - e.top : t.y > e.bottom ? t.y - e.bottom : 0 }, goog.math.Box.distance = function (e, t) { var o = goog.math.Box.relativePositionX(e, t), i = goog.math.Box.relativePositionY(e, t); return Math.sqrt(o * o + i * i) }, goog.math.Box.intersects = function (e, t) { return e.left <= t.right && t.left <= e.right && e.top <= t.bottom && t.top <= e.bottom }, goog.math.Box.intersectsWithPadding = function (e, t, o) { return e.left <= t.right + o && t.left <= e.right + o && e.top <= t.bottom + o && t.top <= e.bottom + o }, goog.math.Size = function (e, t) { this.width = e, this.height = t }, goog.math.Size.equals = function (e, t) { return e == t || !(!e || !t) && (e.width == t.width && e.height == t.height) }, goog.math.Size.prototype.clone = function () { return new goog.math.Size(this.width, this.height) }, goog.DEBUG && (goog.math.Size.prototype.toString = function () { return "(" + this.width + " x " + this.height + ")" }), goog.math.Size.prototype.getLongest = function () { return Math.max(this.width, this.height) }, goog.math.Size.prototype.getShortest = function () { return Math.min(this.width, this.height) }, goog.math.Size.prototype.area = function () { return this.width * this.height }, goog.math.Size.prototype.perimeter = function () { return 2 * (this.width + this.height) }, goog.math.Size.prototype.aspectRatio = function () { return this.width / this.height }, goog.math.Size.prototype.isEmpty = function () { return !this.area() }, goog.math.Size.prototype.ceil = function () { return this.width = Math.ceil(this.width), this.height = Math.ceil(this.height), this }, goog.math.Size.prototype.fitsInside = function (e) { return this.width <= e.width && this.height <= e.height }, goog.math.Size.prototype.floor = function () { return this.width = Math.floor(this.width), this.height = Math.floor(this.height), this }, goog.math.Size.prototype.round = function () { return this.width = Math.round(this.width), this.height = Math.round(this.height), this }, goog.math.Size.prototype.scale = function (e) { return this.width = this.width * e, this.height = this.height * e, this }, goog.math.Size.prototype.scaleToFit = function (e) { return this.scale(this.aspectRatio() > e.aspectRatio() ? e.width / this.width : e.height / this.height) }, goog.math.Box.size = {}, goog.math.Size.scaleVec2 = {}, goog.math.Box.prototype.size = function () { return new goog.math.Size(this.right - this.left, this.bottom - this.top) }, goog.math.Size.prototype.scaleVec2 = function (e) { return this.width *= e.x, this.height *= e.y, this }, lime.Renderer = function () { }, lime.Renderer.prototype.draw = goog.nullFunction, lime.Renderer.prototype.getType = function () { return this.base ? this.base : this }, lime.Renderer.prototype.makeSubRenderer = function (e) { return goog.object.extend(e, this), e.base = this.getType(), e }, lime.Renderer.CANVAS = new lime.Renderer, lime.Renderer.CANVAS.updateLayout = function () { }, lime.Renderer.CANVAS.drawCanvas = function () { var e, t = this.getQuality(), o = this.measureContents(), i = this.relativeQuality_ || 1, n = i / t; if (this.domElement) { this.boundsCache && this.boundsCache.contains(o) && (e = this.boundsCache.size().area() / o.size().area()) && 1.6 > e && .5 < e ? o = this.boundsCache : 1 != this.staticCanvas && 0 != this.children_.length && (this instanceof lime.Scene || o.expand(12, 12, 12, 12)), this.boundsCache = o; var s = o.size(); e = s.clone().scale(i).ceil(), this.domElement.width == e.width && this.domElement.height == e.height || (this.domElement.width = e.width, this.domElement.height = e.height, this.redraw_ = 1); var r = this.getScale().clone(); this.transitionsActive_[lime.Transition.SCALE] && (r = this.transitionsActive_[lime.Transition.SCALE]), 0 != e.width ? r.scale(s.width * n / e.width) : r.scale(1 / t), t = this.getFrame(), this.ax = (t.left - o.left) * i, this.ay = (t.top - o.top) * i, o = this.getSize().clone().scaleVec2(this.getAnchorPoint()).scale(i), i = this.getPosition().clone(), this.transitionsActive_[lime.Transition.POSITION] && (i = this.transitionsActive_[lime.Transition.POSITION]), i.x *= n, i.y *= n, i.x -= o.width + this.ax, i.y -= o.height + this.ay, lime.style.setTransformOrigin(this.domElement, (this.ax + o.width) / e.width * 100, (this.ay + o.height) / e.height * 100, !0), !this.transitionsActiveSet_[lime.Transition.POSITION] && !this.transitionsActiveSet_[lime.Transition.SCALE] && !this.transitionsActiveSet_[lime.Transition.ROTATION] && (n = -this.getRotation(), goog.isDef(this.transitionsActive_[lime.Transition.ROTATION]) && (n = -this.transitionsActive_[lime.Transition.ROTATION]), lime.style.setTransform(this.domElement, (new lime.style.Transform).setPrecision(.1).translate(i.x, i.y).scale(r.x, r.y).rotate(n))), this.redraw_ && (n = this.domElement.getContext("2d"), i = this.relativeQuality_ || 1, n.clearRect(0, 0, e.width, e.height), n.save(), n.translate(this.ax, this.ay), n.scale(i, i), e = this.getSize(), r = this.getAnchorPoint(), n.translate(e.width * r.x, e.height * r.y), this.renderer.drawCanvasObject.call(this, n), n.restore(), this.redraw_ = 0) } }, lime.Renderer.CANVAS.update = function () { }, lime.Renderer.CANVAS.drawCanvasObject = function (e) { if (this.inTree_ && (this.mask_ != this.activeMask_ && (this.activeMask_ && lime.Renderer.DOM.removeMask.call(this), this.mask_ && lime.Renderer.DOM.addMask.call(this)), !this.maskTarget_ && !this.hidden_ && 0 != this.opacity_ && 1 != this.isMask)) { if (1 != this.opacity_ && (e.globalAlpha *= this.opacity_), this.mask_) { lime.Renderer.DOM.calculateMaskPosition.call(this.mask_); var t = this.activeMask_, o = this.scale_; e.save(), e.save(), e.translate(t.mPos.x, t.mPos.y), e.rotate(-t.mRot), this.needsDomElement && e.rotate(this.getRotation() * Math.PI / 180), e.beginPath(), e.moveTo(0, 0), e.lineTo(t.mWidth / o.x, 0), e.lineTo(t.mWidth / o.x, t.mHeight / o.y), e.lineTo(0, t.mHeight / o.y), e.closePath(), e.restore(), e.clip() } t = new goog.math.Coordinate(0, 0), this.renderer.draw.call(this, e); for (var i, n = 0; i = this.children_[n]; n++) { var s = i.localToParent(t).clone(), r = i.getRotation(); o = i.getScale(); e.save(), e.translate(s.x, s.y), e.scale(o.x, o.y), 0 != r && e.rotate(-r * Math.PI / 180), this.renderer.drawCanvasObject.call(i, e), e.restore() } 1 != this.opacity_ && (e.globalAlpha /= this.opacity_), this.activeMask_ && e.restore() } }, goog.debug = {}, goog.debug.Error = function (e) { Error.captureStackTrace ? Error.captureStackTrace(this, goog.debug.Error) : this.stack = Error().stack || "", e && (this.message = "" + e) }, goog.inherits(goog.debug.Error, Error), goog.debug.Error.prototype.name = "CustomError", goog.string = {}, goog.string.Unicode = { NBSP: " " }, goog.string.startsWith = function (e, t) { return 0 == e.lastIndexOf(t, 0) }, goog.string.endsWith = function (e, t) { var o = e.length - t.length; return 0 <= o && e.indexOf(t, o) == o }, goog.string.caseInsensitiveStartsWith = function (e, t) { return 0 == goog.string.caseInsensitiveCompare(t, e.substr(0, t.length)) }, goog.string.caseInsensitiveEndsWith = function (e, t) { return 0 == goog.string.caseInsensitiveCompare(t, e.substr(e.length - t.length, t.length)) }, goog.string.subs = function (e, t) { for (var o = 1; o < arguments.length; o++) { var i = ("" + arguments[o]).replace(/\$/g, "$$$$"); e = e.replace(/\%s/, i) } return e }, goog.string.collapseWhitespace = function (e) { return e.replace(/[\s\xa0]+/g, " ").replace(/^\s+|\s+$/g, "") }, goog.string.isEmpty = function (e) { return /^[\s\xa0]*$/.test(e) }, goog.string.isEmptySafe = function (e) { return goog.string.isEmpty(goog.string.makeSafe(e)) }, goog.string.isBreakingWhitespace = function (e) { return !/[^\t\n\r ]/.test(e) }, goog.string.isAlpha = function (e) { return !/[^a-zA-Z]/.test(e) }, goog.string.isNumeric = function (e) { return !/[^0-9]/.test(e) }, goog.string.isAlphaNumeric = function (e) { return !/[^a-zA-Z0-9]/.test(e) }, goog.string.isSpace = function (e) { return " " == e }, goog.string.isUnicodeChar = function (e) { return 1 == e.length && " " <= e && "~" >= e || "" <= e && "�" >= e }, goog.string.stripNewlines = function (e) { return e.replace(/(\r\n|\r|\n)+/g, " ") }, goog.string.canonicalizeNewlines = function (e) { return e.replace(/(\r\n|\r|\n)/g, "\n") }, goog.string.normalizeWhitespace = function (e) { return e.replace(/\xa0|\s/g, " ") }, goog.string.normalizeSpaces = function (e) { return e.replace(/\xa0|[ \t]+/g, " ") }, goog.string.collapseBreakingSpaces = function (e) { return e.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "") }, goog.string.trim = function (e) { return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "") }, goog.string.trimLeft = function (e) { return e.replace(/^[\s\xa0]+/, "") }, goog.string.trimRight = function (e) { return e.replace(/[\s\xa0]+$/, "") }, goog.string.caseInsensitiveCompare = function (e, t) { var o = ("" + e).toLowerCase(), i = ("" + t).toLowerCase(); return o < i ? -1 : o == i ? 0 : 1 }, goog.string.numerateCompareRegExp_ = /(\.\d+)|(\d+)|(\D+)/g, goog.string.numerateCompare = function (e, t) { if (e == t) return 0; if (!e) return -1; if (!t) return 1; for (var o = e.toLowerCase().match(goog.string.numerateCompareRegExp_), i = t.toLowerCase().match(goog.string.numerateCompareRegExp_), n = Math.min(o.length, i.length), s = 0; s < n; s++) { var r = o[s], a = i[s]; if (r != a) return o = parseInt(r, 10), !isNaN(o) && (i = parseInt(a, 10), !isNaN(i) && o - i) ? o - i : r < a ? -1 : 1 } return o.length != i.length ? o.length - i.length : e < t ? -1 : 1 }, goog.string.urlEncode = function (e) { return encodeURIComponent("" + e) }, goog.string.urlDecode = function (e) { return decodeURIComponent(e.replace(/\+/g, " ")) }, goog.string.newLineToBr = function (e, t) { return e.replace(/(\r\n|\r|\n)/g, t ? "<br />" : "<br>") }, goog.string.htmlEscape = function (e, t) { return t ? e.replace(goog.string.amperRe_, "&amp;").replace(goog.string.ltRe_, "&lt;").replace(goog.string.gtRe_, "&gt;").replace(goog.string.quotRe_, "&quot;") : goog.string.allRe_.test(e) ? (-1 != e.indexOf("&") && (e = e.replace(goog.string.amperRe_, "&amp;")), -1 != e.indexOf("<") && (e = e.replace(goog.string.ltRe_, "&lt;")), -1 != e.indexOf(">") && (e = e.replace(goog.string.gtRe_, "&gt;")), -1 != e.indexOf('"') && (e = e.replace(goog.string.quotRe_, "&quot;")), e) : e }, goog.string.amperRe_ = /&/g, goog.string.ltRe_ = /</g, goog.string.gtRe_ = />/g, goog.string.quotRe_ = /\"/g, goog.string.allRe_ = /[&<>\"]/, goog.string.unescapeEntities = function (e) { return goog.string.contains(e, "&") ? "document" in goog.global ? goog.string.unescapeEntitiesUsingDom_(e) : goog.string.unescapePureXmlEntities_(e) : e }, goog.string.unescapeEntitiesUsingDom_ = function (e) { var t = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"' }, o = document.createElement("div"); return e.replace(goog.string.HTML_ENTITY_PATTERN_, function (e, i) { var n = t[e]; if (n) return n; if ("#" == i.charAt(0)) { var s = Number("0" + i.substr(1)); isNaN(s) || (n = String.fromCharCode(s)) } return n || (o.innerHTML = e + " ", n = o.firstChild.nodeValue.slice(0, -1)), t[e] = n }) }, goog.string.unescapePureXmlEntities_ = function (e) { return e.replace(/&([^;]+);/g, function (e, t) { switch (t) { case "amp": return "&"; case "lt": return "<"; case "gt": return ">"; case "quot": return '"'; default: if ("#" == t.charAt(0)) { var o = Number("0" + t.substr(1)); if (!isNaN(o)) return String.fromCharCode(o) } return e } }) }, goog.string.HTML_ENTITY_PATTERN_ = /&([^;\s<&]+);?/g, goog.string.whitespaceEscape = function (e, t) { return goog.string.newLineToBr(e.replace(/  /g, " &#160;"), t) }, goog.string.stripQuotes = function (e, t) { for (var o = t.length, i = 0; i < o; i++) { var n = 1 == o ? t : t.charAt(i); if (e.charAt(0) == n && e.charAt(e.length - 1) == n) return e.substring(1, e.length - 1) } return e }, goog.string.truncate = function (e, t, o) { return o && (e = goog.string.unescapeEntities(e)), e.length > t && (e = e.substring(0, t - 3) + "..."), o && (e = goog.string.htmlEscape(e)), e }, goog.string.truncateMiddle = function (e, t, o, i) { if (o && (e = goog.string.unescapeEntities(e)), i && e.length > t) { i > t && (i = t); var n = e.length - i; e = e.substring(0, t - i) + "..." + e.substring(n) } else e.length > t && (i = Math.floor(t / 2), n = e.length - i, e = e.substring(0, i + t % 2) + "..." + e.substring(n)); return o && (e = goog.string.htmlEscape(e)), e }, goog.string.specialEscapeChars_ = { "\0": "\\0", "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "\t": "\\t", "\v": "\\x0B", '"': '\\"', "\\": "\\\\" }, goog.string.jsEscapeCache_ = { "'": "\\'" }, goog.string.quote = function (e) { if ((e = "" + e).quote) return e.quote(); for (var t = ['"'], o = 0; o < e.length; o++) { var i = e.charAt(o), n = i.charCodeAt(0); t[o + 1] = goog.string.specialEscapeChars_[i] || (31 < n && 127 > n ? i : goog.string.escapeChar(i)) } return t.push('"'), t.join("") }, goog.string.escapeString = function (e) { for (var t = [], o = 0; o < e.length; o++)t[o] = goog.string.escapeChar(e.charAt(o)); return t.join("") }, goog.string.escapeChar = function (e) { if (e in goog.string.jsEscapeCache_) return goog.string.jsEscapeCache_[e]; if (e in goog.string.specialEscapeChars_) return goog.string.jsEscapeCache_[e] = goog.string.specialEscapeChars_[e]; var t = e, o = e.charCodeAt(0); return 31 < o && 127 > o ? t = e : (256 > o ? (t = "\\x", (16 > o || 256 < o) && (t += "0")) : (t = "\\u", 4096 > o && (t += "0")), t += o.toString(16).toUpperCase()), goog.string.jsEscapeCache_[e] = t }, goog.string.toMap = function (e) { for (var t = {}, o = 0; o < e.length; o++)t[e.charAt(o)] = !0; return t }, goog.string.contains = function (e, t) { return -1 != e.indexOf(t) }, goog.string.countOf = function (e, t) { return e && t ? e.split(t).length - 1 : 0 }, goog.string.removeAt = function (e, t, o) { var i = e; return 0 <= t && t < e.length && 0 < o && (i = e.substr(0, t) + e.substr(t + o, e.length - t - o)), i }, goog.string.remove = function (e, t) { var o = RegExp(goog.string.regExpEscape(t), ""); return e.replace(o, "") }, goog.string.removeAll = function (e, t) { var o = RegExp(goog.string.regExpEscape(t), "g"); return e.replace(o, "") }, goog.string.regExpEscape = function (e) { return ("" + e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08") }, goog.string.repeat = function (e, t) { return Array(t + 1).join(e) }, goog.string.padNumber = function (e, t, o) { return -1 == (o = (e = goog.isDef(o) ? e.toFixed(o) : "" + e).indexOf(".")) && (o = e.length), goog.string.repeat("0", Math.max(0, t - o)) + e }, goog.string.makeSafe = function (e) { return null == e ? "" : "" + e }, goog.string.buildString = function (e) { return Array.prototype.join.call(arguments, "") }, goog.string.getRandomString = function () { return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36) }, goog.string.compareVersions = function (e, t) { for (var o = 0, i = goog.string.trim("" + e).split("."), n = goog.string.trim("" + t).split("."), s = Math.max(i.length, n.length), r = 0; 0 == o && r < s; r++) { var a = i[r] || "", g = n[r] || "", l = RegExp("(\\d*)(\\D*)", "g"), d = RegExp("(\\d*)(\\D*)", "g"); do { var p = l.exec(a) || ["", "", ""], c = d.exec(g) || ["", "", ""]; if (0 == p[0].length && 0 == c[0].length) break; o = 0 == p[1].length ? 0 : parseInt(p[1], 10); var h = 0 == c[1].length ? 0 : parseInt(c[1], 10); o = goog.string.compareElements_(o, h) || goog.string.compareElements_(0 == p[2].length, 0 == c[2].length) || goog.string.compareElements_(p[2], c[2]) } while (0 == o) } return o }, goog.string.compareElements_ = function (e, t) { return e < t ? -1 : e > t ? 1 : 0 }, goog.string.HASHCODE_MAX_ = 4294967296, goog.string.hashCode = function (e) { for (var t = 0, o = 0; o < e.length; ++o)t = 31 * t + e.charCodeAt(o), t %= goog.string.HASHCODE_MAX_; return t }, goog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0, goog.string.createUniqueString = function () { return "goog_" + goog.string.uniqueStringCounter_++ }, goog.string.toNumber = function (e) { var t = Number(e); return 0 == t && goog.string.isEmpty(e) ? NaN : t }, goog.string.toCamelCase = function (e) { return ("" + e).replace(/\-([a-z])/g, function (e, t) { return t.toUpperCase() }) }, goog.string.toSelectorCase = function (e) { return ("" + e).replace(/([A-Z])/g, "-$1").toLowerCase() }, goog.string.toTitleCase = function (e, t) { var o = goog.isString(t) ? goog.string.regExpEscape(t) : "\\s"; return e.replace(RegExp("(^" + (o ? "|[" + o + "]+" : "") + ")([a-z])", "g"), function (e, t, o) { return t + o.toUpperCase() }) }, goog.asserts = {}, goog.asserts.ENABLE_ASSERTS = goog.DEBUG, goog.asserts.AssertionError = function (e, t) { t.unshift(e), goog.debug.Error.call(this, goog.string.subs.apply(null, t)), t.shift(), this.messagePattern = e }, goog.inherits(goog.asserts.AssertionError, goog.debug.Error), goog.asserts.AssertionError.prototype.name = "AssertionError", goog.asserts.doAssertFailure_ = function (e, t, o, i) { var n = "Assertion failed"; if (o) { n = n + ": " + o; var s = i } else e && (n += ": " + e, s = t); throw new goog.asserts.AssertionError("" + n, s || []) }, goog.asserts.assert = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !e && goog.asserts.doAssertFailure_("", null, t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.fail = function (e, t) { if (goog.asserts.ENABLE_ASSERTS) throw new goog.asserts.AssertionError("Failure" + (e ? ": " + e : ""), Array.prototype.slice.call(arguments, 1)) }, goog.asserts.assertNumber = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isNumber(e) && goog.asserts.doAssertFailure_("Expected number but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertString = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isString(e) && goog.asserts.doAssertFailure_("Expected string but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertFunction = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isFunction(e) && goog.asserts.doAssertFailure_("Expected function but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertObject = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isObject(e) && goog.asserts.doAssertFailure_("Expected object but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertArray = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isArray(e) && goog.asserts.doAssertFailure_("Expected array but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertBoolean = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(e) && goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertInstanceof = function (e, t, o, i) { goog.asserts.ENABLE_ASSERTS && !(e instanceof t) && goog.asserts.doAssertFailure_("instanceof check failed.", null, o, Array.prototype.slice.call(arguments, 3)) }, goog.array = {}, goog.NATIVE_ARRAY_PROTOTYPES = !0, goog.array.peek = function (e) { return e[e.length - 1] }, goog.array.ARRAY_PROTOTYPE_ = Array.prototype, goog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.indexOf ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.indexOf.call(e, t, o) } : function (e, t, o) { if (o = null == o ? 0 : 0 > o ? Math.max(0, e.length + o) : o, goog.isString(e)) return goog.isString(t) && 1 == t.length ? e.indexOf(t, o) : -1; for (; o < e.length; o++)if (o in e && e[o] === t) return o; return -1 }, goog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.lastIndexOf ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e, t, null == o ? e.length - 1 : o) } : function (e, t, o) { if (0 > (o = null == o ? e.length - 1 : o) && (o = Math.max(0, e.length + o)), goog.isString(e)) return goog.isString(t) && 1 == t.length ? e.lastIndexOf(t, o) : -1; for (; 0 <= o; o--)if (o in e && e[o] === t) return o; return -1 }, goog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.forEach ? function (e, t, o) { goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.forEach.call(e, t, o) } : function (e, t, o) { for (var i = e.length, n = goog.isString(e) ? e.split("") : e, s = 0; s < i; s++)s in n && t.call(o, n[s], s, e) }, goog.array.forEachRight = function (e, t, o) { var i = e.length, n = goog.isString(e) ? e.split("") : e; for (i = i - 1; 0 <= i; --i)i in n && t.call(o, n[i], i, e) }, goog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.filter ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.filter.call(e, t, o) } : function (e, t, o) { for (var i = e.length, n = [], s = 0, r = goog.isString(e) ? e.split("") : e, a = 0; a < i; a++)if (a in r) { var g = r[a]; t.call(o, g, a, e) && (n[s++] = g) } return n }, goog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.map ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.map.call(e, t, o) } : function (e, t, o) { for (var i = e.length, n = Array(i), s = goog.isString(e) ? e.split("") : e, r = 0; r < i; r++)r in s && (n[r] = t.call(o, s[r], r, e)); return n }, goog.array.reduce = function (e, t, o, i) { if (e.reduce) return i ? e.reduce(goog.bind(t, i), o) : e.reduce(t, o); var n = o; return goog.array.forEach(e, function (o, s) { n = t.call(i, n, o, s, e) }), n }, goog.array.reduceRight = function (e, t, o, i) { if (e.reduceRight) return i ? e.reduceRight(goog.bind(t, i), o) : e.reduceRight(t, o); var n = o; return goog.array.forEachRight(e, function (o, s) { n = t.call(i, n, o, s, e) }), n }, goog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.some ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.some.call(e, t, o) } : function (e, t, o) { for (var i = e.length, n = goog.isString(e) ? e.split("") : e, s = 0; s < i; s++)if (s in n && t.call(o, n[s], s, e)) return !0; return !1 }, goog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.every ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.every.call(e, t, o) } : function (e, t, o) { for (var i = e.length, n = goog.isString(e) ? e.split("") : e, s = 0; s < i; s++)if (s in n && !t.call(o, n[s], s, e)) return !1; return !0 }, goog.array.find = function (e, t, o) { return 0 > (t = goog.array.findIndex(e, t, o)) ? null : goog.isString(e) ? e.charAt(t) : e[t] }, goog.array.findIndex = function (e, t, o) { for (var i = e.length, n = goog.isString(e) ? e.split("") : e, s = 0; s < i; s++)if (s in n && t.call(o, n[s], s, e)) return s; return -1 }, goog.array.findRight = function (e, t, o) { return 0 > (t = goog.array.findIndexRight(e, t, o)) ? null : goog.isString(e) ? e.charAt(t) : e[t] }, goog.array.findIndexRight = function (e, t, o) { var i = e.length, n = goog.isString(e) ? e.split("") : e; for (i = i - 1; 0 <= i; i--)if (i in n && t.call(o, n[i], i, e)) return i; return -1 }, goog.array.contains = function (e, t) { return 0 <= goog.array.indexOf(e, t) }, goog.array.isEmpty = function (e) { return 0 == e.length }, goog.array.clear = function (e) { if (!goog.isArray(e)) for (var t = e.length - 1; 0 <= t; t--)delete e[t]; e.length = 0 }, goog.array.insert = function (e, t) { goog.array.contains(e, t) || e.push(t) }, goog.array.insertAt = function (e, t, o) { goog.array.splice(e, o, 0, t) }, goog.array.insertArrayAt = function (e, t, o) { goog.partial(goog.array.splice, e, o, 0).apply(null, t) }, goog.array.insertBefore = function (e, t, o) { var i; 2 == arguments.length || 0 > (i = goog.array.indexOf(e, o)) ? e.push(t) : goog.array.insertAt(e, t, i) }, goog.array.remove = function (e, t) { var o, i = goog.array.indexOf(e, t); return (o = 0 <= i) && goog.array.removeAt(e, i), o }, goog.array.removeAt = function (e, t) { return goog.asserts.assert(null != e.length), 1 == goog.array.ARRAY_PROTOTYPE_.splice.call(e, t, 1).length }, goog.array.removeIf = function (e, t, o) { return 0 <= (t = goog.array.findIndex(e, t, o)) && (goog.array.removeAt(e, t), !0) }, goog.array.concat = function (e) { return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_, arguments) }, goog.array.toArray = function (e) { var t = e.length; if (0 < t) { for (var o = Array(t), i = 0; i < t; i++)o[i] = e[i]; return o } return [] }, goog.array.clone = goog.array.toArray, goog.array.extend = function (e, t) { for (var o = 1; o < arguments.length; o++) { var i, n = arguments[o]; if (goog.isArray(n) || (i = goog.isArrayLike(n)) && n.hasOwnProperty("callee")) e.push.apply(e, n); else if (i) for (var s = e.length, r = n.length, a = 0; a < r; a++)e[s + a] = n[a]; else e.push(n) } }, goog.array.splice = function (e, t, o, i) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.splice.apply(e, goog.array.slice(arguments, 1)) }, goog.array.slice = function (e, t, o) { return goog.asserts.assert(null != e.length), 2 >= arguments.length ? goog.array.ARRAY_PROTOTYPE_.slice.call(e, t) : goog.array.ARRAY_PROTOTYPE_.slice.call(e, t, o) }, goog.array.removeDuplicates = function (e, t) { for (var o = t || e, i = {}, n = 0, s = 0; s < e.length;) { var r = e[s++], a = goog.isObject(r) ? "o" + goog.getUid(r) : (typeof r).charAt(0) + r; Object.prototype.hasOwnProperty.call(i, a) || (i[a] = !0, o[n++] = r) } o.length = n }, goog.array.binarySearch = function (e, t, o) { return goog.array.binarySearch_(e, o || goog.array.defaultCompare, !1, t) }, goog.array.binarySelect = function (e, t, o) { return goog.array.binarySearch_(e, t, !0, void 0, o) }, goog.array.binarySearch_ = function (e, t, o, i, n) { for (var s, r = 0, a = e.length; r < a;) { var g, l = r + a >> 1; 0 < (g = o ? t.call(n, e[l], l, e) : t(i, e[l])) ? r = l + 1 : (a = l, s = !g) } return s ? r : ~r }, goog.array.sort = function (e, t) { goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.sort.call(e, t || goog.array.defaultCompare) }, goog.array.stableSort = function (e, t) { for (var o = 0; o < e.length; o++)e[o] = { index: o, value: e[o] }; var i = t || goog.array.defaultCompare; for (goog.array.sort(e, function (e, t) { return i(e.value, t.value) || e.index - t.index }), o = 0; o < e.length; o++)e[o] = e[o].value }, goog.array.sortObjectsByKey = function (e, t, o) { var i = o || goog.array.defaultCompare; goog.array.sort(e, function (e, o) { return i(e[t], o[t]) }) }, goog.array.isSorted = function (e, t, o) { t = t || goog.array.defaultCompare; for (var i = 1; i < e.length; i++) { var n = t(e[i - 1], e[i]); if (0 < n || 0 == n && o) return !1 } return !0 }, goog.array.equals = function (e, t, o) { if (!goog.isArrayLike(e) || !goog.isArrayLike(t) || e.length != t.length) return !1; for (var i = e.length, n = (o = o || goog.array.defaultCompareEquality, 0); n < i; n++)if (!o(e[n], t[n])) return !1; return !0 }, goog.array.compare = function (e, t, o) { return goog.array.equals(e, t, o) }, goog.array.compare3 = function (e, t, o) { o = o || goog.array.defaultCompare; for (var i = Math.min(e.length, t.length), n = 0; n < i; n++) { var s = o(e[n], t[n]); if (0 != s) return s } return goog.array.defaultCompare(e.length, t.length) }, goog.array.defaultCompare = function (e, t) { return e > t ? 1 : e < t ? -1 : 0 }, goog.array.defaultCompareEquality = function (e, t) { return e === t }, goog.array.binaryInsert = function (e, t, o) { return 0 > (o = goog.array.binarySearch(e, t, o)) && (goog.array.insertAt(e, t, -(o + 1)), !0) }, goog.array.binaryRemove = function (e, t, o) { return 0 <= (t = goog.array.binarySearch(e, t, o)) && goog.array.removeAt(e, t) }, goog.array.bucket = function (e, t) { for (var o = {}, i = 0; i < e.length; i++) { var n = e[i], s = t(n, i, e); goog.isDef(s) && (o[s] || (o[s] = [])).push(n) } return o }, goog.array.repeat = function (e, t) { for (var o = [], i = 0; i < t; i++)o[i] = e; return o }, goog.array.flatten = function (e) { for (var t = [], o = 0; o < arguments.length; o++) { var i = arguments[o]; goog.isArray(i) ? t.push.apply(t, goog.array.flatten.apply(null, i)) : t.push(i) } return t }, goog.array.rotate = function (e, t) { return goog.asserts.assert(null != e.length), e.length && (0 < (t %= e.length) ? goog.array.ARRAY_PROTOTYPE_.unshift.apply(e, e.splice(-t, t)) : 0 > t && goog.array.ARRAY_PROTOTYPE_.push.apply(e, e.splice(0, -t))), e }, goog.array.zip = function (e) { if (!arguments.length) return []; for (var t = [], o = 0; ; o++) { for (var i = [], n = 0; n < arguments.length; n++) { var s = arguments[n]; if (o >= s.length) return t; i.push(s[o]) } t.push(i) } }, goog.array.shuffle = function (e, t) { for (var o = t || Math.random, i = e.length - 1; 0 < i; i--) { var n = Math.floor(o() * (i + 1)), s = e[i]; e[i] = e[n], e[n] = s } }, goog.math.randomInt = function (e) { return Math.floor(Math.random() * e) }, goog.math.uniformRandom = function (e, t) { return e + Math.random() * (t - e) }, goog.math.clamp = function (e, t, o) { return Math.min(Math.max(e, t), o) }, goog.math.modulo = function (e, t) { var o = e % t; return 0 > o * t ? o + t : o }, goog.math.lerp = function (e, t, o) { return e + o * (t - e) }, goog.math.nearlyEquals = function (e, t, o) { return Math.abs(e - t) <= (o || 1e-6) }, goog.math.standardAngle = function (e) { return goog.math.modulo(e, 360) }, goog.math.toRadians = function (e) { return e * Math.PI / 180 }, goog.math.toDegrees = function (e) { return 180 * e / Math.PI }, goog.math.angleDx = function (e, t) { return t * Math.cos(goog.math.toRadians(e)) }, goog.math.angleDy = function (e, t) { return t * Math.sin(goog.math.toRadians(e)) }, goog.math.angle = function (e, t, o, i) { return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(i - t, o - e))) }, goog.math.angleDifference = function (e, t) { var o = goog.math.standardAngle(t) - goog.math.standardAngle(e); return 180 < o ? o -= 360 : -180 >= o && (o = 360 + o), o }, goog.math.sign = function (e) { return 0 == e ? 0 : 0 > e ? -1 : 1 }, goog.math.longestCommonSubsequence = function (e, t, o, i) { o = o || function (e, t) { return e == t }, i = i || function (t) { return e[t] }; for (var n = e.length, s = t.length, r = [], a = 0; a < n + 1; a++)r[a] = [], r[a][0] = 0; for (var g = 0; g < s + 1; g++)r[0][g] = 0; for (a = 1; a <= n; a++)for (g = 1; g <= n; g++)r[a][g] = o(e[a - 1], t[g - 1]) ? r[a - 1][g - 1] + 1 : Math.max(r[a - 1][g], r[a][g - 1]); var l = []; for (a = n, g = s; 0 < a && 0 < g;)o(e[a - 1], t[g - 1]) ? (l.unshift(i(a - 1, g - 1)), a-- , g--) : r[a - 1][g] > r[a][g - 1] ? a-- : g--; return l }, goog.math.sum = function (e) { return goog.array.reduce(arguments, function (e, t) { return e + t }, 0) }, goog.math.average = function (e) { return goog.math.sum.apply(null, arguments) / arguments.length }, goog.math.standardDeviation = function (e) { if (2 > (o = arguments.length)) return 0; var t = goog.math.average.apply(null, arguments), o = goog.math.sum.apply(null, goog.array.map(arguments, function (e) { return Math.pow(e - t, 2) })) / (o - 1); return Math.sqrt(o) }, goog.math.isInt = function (e) { return isFinite(e) && 0 == e % 1 }, goog.math.isFiniteNumber = function (e) { return isFinite(e) && !isNaN(e) }, goog.math.Vec2 = function (e, t) { this.x = e, this.y = t }, goog.inherits(goog.math.Vec2, goog.math.Coordinate), goog.math.Vec2.randomUnit = function () { var e = 2 * Math.random() * Math.PI; return new goog.math.Vec2(Math.cos(e), Math.sin(e)) }, goog.math.Vec2.random = function () { var e = Math.sqrt(Math.random()), t = 2 * Math.random() * Math.PI; return new goog.math.Vec2(Math.cos(t) * e, Math.sin(t) * e) }, goog.math.Vec2.fromCoordinate = function (e) { return new goog.math.Vec2(e.x, e.y) }, goog.math.Vec2.prototype.clone = function () { return new goog.math.Vec2(this.x, this.y) }, goog.math.Vec2.prototype.magnitude = function () { return Math.sqrt(this.x * this.x + this.y * this.y) }, goog.math.Vec2.prototype.squaredMagnitude = function () { return this.x * this.x + this.y * this.y }, goog.math.Vec2.prototype.scale = function (e) { return this.x *= e, this.y *= e, this }, goog.math.Vec2.prototype.invert = function () { return this.x = -this.x, this.y = -this.y, this }, goog.math.Vec2.prototype.normalize = function () { return this.scale(1 / this.magnitude()) }, goog.math.Vec2.prototype.add = function (e) { return this.x += e.x, this.y += e.y, this }, goog.math.Vec2.prototype.subtract = function (e) { return this.x -= e.x, this.y -= e.y, this }, goog.math.Vec2.prototype.rotate = function (e) { var t = Math.cos(e), o = (e = Math.sin(e), this.y * t + this.x * e); return this.x = this.x * t - this.y * e, this.y = o, this }, goog.math.Vec2.rotateAroundPoint = function (e, t, o) { return e.clone().subtract(t).rotate(o).add(t) }, goog.math.Vec2.prototype.equals = function (e) { return this == e || !!e && this.x == e.x && this.y == e.y }, goog.math.Vec2.distance = goog.math.Coordinate.distance, goog.math.Vec2.squaredDistance = goog.math.Coordinate.squaredDistance, goog.math.Vec2.equals = goog.math.Coordinate.equals, goog.math.Vec2.sum = function (e, t) { return new goog.math.Vec2(e.x + t.x, e.y + t.y) }, goog.math.Vec2.difference = function (e, t) { return new goog.math.Vec2(e.x - t.x, e.y - t.y) }, goog.math.Vec2.dot = function (e, t) { return e.x * t.x + e.y * t.y }, goog.math.Vec2.lerp = function (e, t, o) { return new goog.math.Vec2(goog.math.lerp(e.x, t.x, o), goog.math.lerp(e.y, t.y, o)) }, goog.debug.errorHandlerWeakDep = { protectEntryPoint: function (e) { return e } }, goog.userAgent = {}, goog.userAgent.ASSUME_IE = !1, goog.userAgent.ASSUME_GECKO = !1, goog.userAgent.ASSUME_WEBKIT = !1, goog.userAgent.ASSUME_MOBILE_WEBKIT = !1, goog.userAgent.ASSUME_OPERA = !1, goog.userAgent.ASSUME_ANY_VERSION = !1, goog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA, goog.userAgent.getUserAgentString = function () { return goog.global.navigator ? goog.global.navigator.userAgent : null }, goog.userAgent.getNavigator = function () { return goog.global.navigator }, goog.userAgent.init_ = function () { var e; if (goog.userAgent.detectedOpera_ = !1, goog.userAgent.detectedIe_ = !1, goog.userAgent.detectedWebkit_ = !1, goog.userAgent.detectedMobile_ = !1, goog.userAgent.detectedGecko_ = !1, !goog.userAgent.BROWSER_KNOWN_ && (e = goog.userAgent.getUserAgentString())) { var t = goog.userAgent.getNavigator(); goog.userAgent.detectedOpera_ = 0 == e.indexOf("Opera"), goog.userAgent.detectedIe_ = !goog.userAgent.detectedOpera_ && -1 != e.indexOf("MSIE"), goog.userAgent.detectedWebkit_ = !goog.userAgent.detectedOpera_ && -1 != e.indexOf("WebKit"), goog.userAgent.detectedMobile_ = goog.userAgent.detectedWebkit_ && -1 != e.indexOf("Mobile"), goog.userAgent.detectedGecko_ = !goog.userAgent.detectedOpera_ && !goog.userAgent.detectedWebkit_ && "Gecko" == t.product } }, goog.userAgent.BROWSER_KNOWN_ || goog.userAgent.init_(), goog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.userAgent.detectedOpera_, goog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.userAgent.detectedIe_, goog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.userAgent.detectedGecko_, goog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.userAgent.detectedWebkit_, goog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.detectedMobile_, goog.userAgent.SAFARI = goog.userAgent.WEBKIT, goog.userAgent.determinePlatform_ = function () { var e = goog.userAgent.getNavigator(); return e && e.platform || "" }, goog.userAgent.PLATFORM = goog.userAgent.determinePlatform_(), goog.userAgent.ASSUME_MAC = !1, goog.userAgent.ASSUME_WINDOWS = !1, goog.userAgent.ASSUME_LINUX = !1, goog.userAgent.ASSUME_X11 = !1, goog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11, goog.userAgent.initPlatform_ = function () { goog.userAgent.detectedMac_ = goog.string.contains(goog.userAgent.PLATFORM, "Mac"), goog.userAgent.detectedWindows_ = goog.string.contains(goog.userAgent.PLATFORM, "Win"), goog.userAgent.detectedLinux_ = goog.string.contains(goog.userAgent.PLATFORM, "Linux"), goog.userAgent.detectedX11_ = !!goog.userAgent.getNavigator() && goog.string.contains(goog.userAgent.getNavigator().appVersion || "", "X11") }, goog.userAgent.PLATFORM_KNOWN_ || goog.userAgent.initPlatform_(), goog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.userAgent.detectedMac_, goog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.userAgent.detectedWindows_, goog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.detectedLinux_, goog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.detectedX11_, goog.userAgent.determineVersion_ = function () { var e, t = ""; return goog.userAgent.OPERA && goog.global.opera ? t = "function" == typeof (t = goog.global.opera.version) ? t() : t : (goog.userAgent.GECKO ? e = /rv\:([^\);]+)(\)|;)/ : goog.userAgent.IE ? e = /MSIE\s+([^\);]+)(\)|;)/ : goog.userAgent.WEBKIT && (e = /WebKit\/(\S+)/), e && (t = (t = e.exec(goog.userAgent.getUserAgentString())) ? t[1] : "")), goog.userAgent.IE && (e = goog.userAgent.getDocumentMode_()) > parseFloat(t) ? "" + e : t }, goog.userAgent.getDocumentMode_ = function () { var e = goog.global.document; return e ? e.documentMode : void 0 }, goog.userAgent.VERSION = goog.userAgent.determineVersion_(), goog.userAgent.compare = function (e, t) { return goog.string.compareVersions(e, t) }, goog.userAgent.isVersionCache_ = {}, goog.userAgent.isVersion = function (e) { return goog.userAgent.ASSUME_ANY_VERSION || goog.userAgent.isVersionCache_[e] || (goog.userAgent.isVersionCache_[e] = 0 <= goog.string.compareVersions(goog.userAgent.VERSION, e)) }, goog.userAgent.isDocumentModeCache_ = {}, goog.userAgent.isDocumentMode = function (e) { return goog.userAgent.isDocumentModeCache_[e] || (goog.userAgent.isDocumentModeCache_[e] = goog.userAgent.IE && !!document.documentMode && document.documentMode >= e) }, goog.events = {}, goog.events.Listener = function () { }, goog.events.Listener.counter_ = 0, goog.events.Listener.prototype.key = 0, goog.events.Listener.prototype.removed = !1, goog.events.Listener.prototype.callOnce = !1, goog.events.Listener.prototype.init = function (e, t, o, i, n, s) { if (goog.isFunction(e)) this.isFunctionListener_ = !0; else { if (!(e && e.handleEvent && goog.isFunction(e.handleEvent))) throw Error("Invalid listener argument"); this.isFunctionListener_ = !1 } this.listener = e, this.proxy = t, this.src = o, this.type = i, this.capture = !!n, this.handler = s, this.callOnce = !1, this.key = ++goog.events.Listener.counter_, this.removed = !1 }, goog.events.Listener.prototype.handleEvent = function (e) { return this.isFunctionListener_ ? this.listener.call(this.handler || this.src, e) : this.listener.handleEvent.call(this.listener, e) }, goog.object = {}, goog.object.forEach = function (e, t, o) { for (var i in e) t.call(o, e[i], i, e) }, goog.object.filter = function (e, t, o) { var i, n = {}; for (i in e) t.call(o, e[i], i, e) && (n[i] = e[i]); return n }, goog.object.map = function (e, t, o) { var i, n = {}; for (i in e) n[i] = t.call(o, e[i], i, e); return n }, goog.object.some = function (e, t, o) { for (var i in e) if (t.call(o, e[i], i, e)) return !0; return !1 }, goog.object.every = function (e, t, o) { for (var i in e) if (!t.call(o, e[i], i, e)) return !1; return !0 }, goog.object.getCount = function (e) { var t, o = 0; for (t in e) o++; return o }, goog.object.getAnyKey = function (e) { for (var t in e) return t }, goog.object.getAnyValue = function (e) { for (var t in e) return e[t] }, goog.object.contains = function (e, t) { return goog.object.containsValue(e, t) }, goog.object.getValues = function (e) { var t, o = [], i = 0; for (t in e) o[i++] = e[t]; return o }, goog.object.getKeys = function (e) { var t, o = [], i = 0; for (t in e) o[i++] = t; return o }, goog.object.getValueByKeys = function (e, t) { for (var o = (i = goog.isArrayLike(t)) ? t : arguments, i = i ? 0 : 1; i < o.length && (e = e[o[i]], goog.isDef(e)); i++); return e }, goog.object.containsKey = function (e, t) { return t in e }, goog.object.containsValue = function (e, t) { for (var o in e) if (e[o] == t) return !0; return !1 }, goog.object.findKey = function (e, t, o) { for (var i in e) if (t.call(o, e[i], i, e)) return i }, goog.object.findValue = function (e, t, o) { return (t = goog.object.findKey(e, t, o)) && e[t] }, goog.object.isEmpty = function (e) { for (var t in e) return !1; return !0 }, goog.object.clear = function (e) { for (var t in e) delete e[t] }, goog.object.remove = function (e, t) { var o; return (o = t in e) && delete e[t], o }, goog.object.add = function (e, t, o) { if (t in e) throw Error('The object already contains the key "' + t + '"'); goog.object.set(e, t, o) }, goog.object.get = function (e, t, o) { return t in e ? e[t] : o }, goog.object.set = function (e, t, o) { e[t] = o }, goog.object.setIfUndefined = function (e, t, o) { return t in e ? e[t] : e[t] = o }, goog.object.clone = function (e) { var t, o = {}; for (t in e) o[t] = e[t]; return o }, goog.object.unsafeClone = function (e) { if ("object" == (o = goog.typeOf(e)) || "array" == o) { if (e.clone) return e.clone(); var t, o = "array" == o ? [] : {}; for (t in e) o[t] = goog.object.unsafeClone(e[t]); return o } return e }, goog.object.transpose = function (e) { var t, o = {}; for (t in e) o[e[t]] = t; return o }, goog.object.PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "), goog.object.extend = function (e, t) { for (var o, i, n = 1; n < arguments.length; n++) { for (o in i = arguments[n]) e[o] = i[o]; for (var s = 0; s < goog.object.PROTOTYPE_FIELDS_.length; s++)o = goog.object.PROTOTYPE_FIELDS_[s], Object.prototype.hasOwnProperty.call(i, o) && (e[o] = i[o]) } }, goog.object.create = function (e) { var t = arguments.length; if (1 == t && goog.isArray(arguments[0])) return goog.object.create.apply(null, arguments[0]); if (t % 2) throw Error("Uneven number of arguments"); for (var o = {}, i = 0; i < t; i += 2)o[arguments[i]] = arguments[i + 1]; return o }, goog.object.createSet = function (e) { var t = arguments.length; if (1 == t && goog.isArray(arguments[0])) return goog.object.createSet.apply(null, arguments[0]); for (var o = {}, i = 0; i < t; i++)o[arguments[i]] = !0; return o }, goog.events.BrowserFeature = { HAS_W3C_BUTTON: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9), HAS_W3C_EVENT_SUPPORT: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9), SET_KEY_CODE_TO_PREVENT_DEFAULT: goog.userAgent.IE && !goog.userAgent.isVersion("8"), HAS_NAVIGATOR_ONLINE_PROPERTY: !goog.userAgent.WEBKIT || goog.userAgent.isVersion("528"), HAS_HTML5_NETWORK_EVENT_SUPPORT: goog.userAgent.GECKO && goog.userAgent.isVersion("1.9b") || goog.userAgent.IE && goog.userAgent.isVersion("8") || goog.userAgent.OPERA && goog.userAgent.isVersion("9.5") || goog.userAgent.WEBKIT && goog.userAgent.isVersion("528"), HTML5_NETWORK_EVENTS_FIRE_ON_BODY: goog.userAgent.GECKO && !goog.userAgent.isVersion("8") || goog.userAgent.IE && !goog.userAgent.isVersion("9") }, goog.debug.entryPointRegistry = {}, goog.debug.EntryPointMonitor = function () { }, goog.debug.entryPointRegistry.refList_ = [], goog.debug.entryPointRegistry.monitors_ = [], goog.debug.entryPointRegistry.monitorsMayExist_ = !1, goog.debug.entryPointRegistry.register = function (e) { if (goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = e, goog.debug.entryPointRegistry.monitorsMayExist_) for (var t = goog.debug.entryPointRegistry.monitors_, o = 0; o < t.length; o++)e(goog.bind(t[o].wrap, t[o])) }, goog.debug.entryPointRegistry.monitorAll = function (e) { goog.debug.entryPointRegistry.monitorsMayExist_ = !0; for (var t = goog.bind(e.wrap, e), o = 0; o < goog.debug.entryPointRegistry.refList_.length; o++)goog.debug.entryPointRegistry.refList_[o](t); goog.debug.entryPointRegistry.monitors_.push(e) }, goog.debug.entryPointRegistry.unmonitorAllIfPossible = function (e) { var t = goog.debug.entryPointRegistry.monitors_; goog.asserts.assert(e == t[t.length - 1], "Only the most recent monitor can be unwrapped."); e = goog.bind(e.unwrap, e); for (var o = 0; o < goog.debug.entryPointRegistry.refList_.length; o++)goog.debug.entryPointRegistry.refList_[o](e); t.length-- }, goog.events.EventWrapper = function () { }, goog.events.EventWrapper.prototype.listen = function () { }, goog.events.EventWrapper.prototype.unlisten = function () { }, goog.events.EventType = { CLICK: "click", DBLCLICK: "dblclick", MOUSEDOWN: "mousedown", MOUSEUP: "mouseup", MOUSEOVER: "mouseover", MOUSEOUT: "mouseout", MOUSEMOVE: "mousemove", SELECTSTART: "selectstart", KEYPRESS: "keypress", KEYDOWN: "keydown", KEYUP: "keyup", BLUR: "blur", FOCUS: "focus", DEACTIVATE: "deactivate", FOCUSIN: goog.userAgent.IE ? "focusin" : "DOMFocusIn", FOCUSOUT: goog.userAgent.IE ? "focusout" : "DOMFocusOut", CHANGE: "change", SELECT: "select", SUBMIT: "submit", INPUT: "input", PROPERTYCHANGE: "propertychange", DRAGSTART: "dragstart", DRAGENTER: "dragenter", DRAGOVER: "dragover", DRAGLEAVE: "dragleave", DROP: "drop", TOUCHSTART: "touchstart", TOUCHMOVE: "touchmove", TOUCHEND: "touchend", TOUCHCANCEL: "touchcancel", CONTEXTMENU: "contextmenu", ERROR: "error", HELP: "help", LOAD: "load", LOSECAPTURE: "losecapture", READYSTATECHANGE: "readystatechange", RESIZE: "resize", SCROLL: "scroll", UNLOAD: "unload", HASHCHANGE: "hashchange", PAGEHIDE: "pagehide", PAGESHOW: "pageshow", POPSTATE: "popstate", COPY: "copy", PASTE: "paste", CUT: "cut", BEFORECOPY: "beforecopy", BEFORECUT: "beforecut", BEFOREPASTE: "beforepaste", ONLINE: "online", OFFLINE: "offline", MESSAGE: "message", CONNECT: "connect", TRANSITIONEND: goog.userAgent.WEBKIT ? "webkitTransitionEnd" : goog.userAgent.OPERA ? "oTransitionEnd" : "transitionend" }, goog.disposable = {}, goog.disposable.IDisposable = function () { }, goog.Disposable = function () { goog.Disposable.ENABLE_MONITORING && (this.creationStack = Error().stack, goog.Disposable.instances_[goog.getUid(this)] = this) }, goog.Disposable.ENABLE_MONITORING = !1, goog.Disposable.instances_ = {}, goog.Disposable.getUndisposedObjects = function () { var e, t = []; for (e in goog.Disposable.instances_) goog.Disposable.instances_.hasOwnProperty(e) && t.push(goog.Disposable.instances_[Number(e)]); return t }, goog.Disposable.clearUndisposedObjects = function () { goog.Disposable.instances_ = {} }, goog.Disposable.prototype.disposed_ = !1, goog.Disposable.prototype.isDisposed = function () { return this.disposed_ }, goog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed, goog.Disposable.prototype.dispose = function () { if (!this.disposed_ && (this.disposed_ = !0, this.disposeInternal(), goog.Disposable.ENABLE_MONITORING)) { var e = goog.getUid(this); if (!goog.Disposable.instances_.hasOwnProperty(e)) throw Error(this + " did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"); delete goog.Disposable.instances_[e] } }, goog.Disposable.prototype.registerDisposable = function (e) { this.dependentDisposables_ || (this.dependentDisposables_ = []), this.dependentDisposables_.push(e) }, goog.Disposable.prototype.disposeInternal = function () { this.dependentDisposables_ && goog.disposeAll.apply(null, this.dependentDisposables_) }, goog.dispose = function (e) { e && "function" == typeof e.dispose && e.dispose() }, goog.disposeAll = function (e) { for (var t = 0, o = arguments.length; t < o; ++t) { var i = arguments[t]; goog.isArrayLike(i) ? goog.disposeAll.apply(null, i) : goog.dispose(i) } }, goog.events.Event = function (e, t) { goog.Disposable.call(this), this.type = e, this.currentTarget = this.target = t }, goog.inherits(goog.events.Event, goog.Disposable), goog.events.Event.prototype.disposeInternal = function () { delete this.type, delete this.target, delete this.currentTarget }, goog.events.Event.prototype.propagationStopped_ = !1, goog.events.Event.prototype.defaultPrevented = !1, goog.events.Event.prototype.returnValue_ = !0, goog.events.Event.prototype.stopPropagation = function () { this.propagationStopped_ = !0 }, goog.events.Event.prototype.preventDefault = function () { this.defaultPrevented = !0, this.returnValue_ = !1 }, goog.events.Event.stopPropagation = function (e) { e.stopPropagation() }, goog.events.Event.preventDefault = function (e) { e.preventDefault() }, goog.reflect = {}, goog.reflect.object = function (e, t) { return t }, goog.reflect.sinkValue = function (e) { return goog.reflect.sinkValue[" "](e), e }, goog.reflect.sinkValue[" "] = goog.nullFunction, goog.reflect.canAccessProperty = function (e, t) { try { return goog.reflect.sinkValue(e[t]), !0 } catch (e) { } return !1 }, goog.events.BrowserEvent = function (e, t) { e && this.init(e, t) }, goog.inherits(goog.events.BrowserEvent, goog.events.Event), goog.events.BrowserEvent.MouseButton = { LEFT: 0, MIDDLE: 1, RIGHT: 2 }, goog.events.BrowserEvent.IEButtonMap = [1, 4, 2], goog.events.BrowserEvent.prototype.target = null, goog.events.BrowserEvent.prototype.relatedTarget = null, goog.events.BrowserEvent.prototype.offsetX = 0, goog.events.BrowserEvent.prototype.offsetY = 0, goog.events.BrowserEvent.prototype.clientX = 0, goog.events.BrowserEvent.prototype.clientY = 0, goog.events.BrowserEvent.prototype.screenX = 0, goog.events.BrowserEvent.prototype.screenY = 0, goog.events.BrowserEvent.prototype.button = 0, goog.events.BrowserEvent.prototype.keyCode = 0, goog.events.BrowserEvent.prototype.charCode = 0, goog.events.BrowserEvent.prototype.ctrlKey = !1, goog.events.BrowserEvent.prototype.altKey = !1, goog.events.BrowserEvent.prototype.shiftKey = !1, goog.events.BrowserEvent.prototype.metaKey = !1, goog.events.BrowserEvent.prototype.platformModifierKey = !1, goog.events.BrowserEvent.prototype.event_ = null, goog.events.BrowserEvent.prototype.init = function (e, t) { var o = this.type = e.type; goog.events.Event.call(this, o), this.target = e.target || e.srcElement, this.currentTarget = t; var i = e.relatedTarget; i ? goog.userAgent.GECKO && (goog.reflect.canAccessProperty(i, "nodeName") || (i = null)) : o == goog.events.EventType.MOUSEOVER ? i = e.fromElement : o == goog.events.EventType.MOUSEOUT && (i = e.toElement), this.relatedTarget = i, this.offsetX = goog.userAgent.WEBKIT || void 0 !== e.offsetX ? e.offsetX : e.layerX, this.offsetY = goog.userAgent.WEBKIT || void 0 !== e.offsetY ? e.offsetY : e.layerY, this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0, this.button = e.button, this.keyCode = e.keyCode || 0, this.charCode = e.charCode || ("keypress" == o ? e.keyCode : 0), this.ctrlKey = e.ctrlKey, this.altKey = e.altKey, this.shiftKey = e.shiftKey, this.metaKey = e.metaKey, this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey, this.state = e.state, this.event_ = e, e.defaultPrevented && this.preventDefault(), delete this.propagationStopped_ }, goog.events.BrowserEvent.prototype.isButton = function (e) { return goog.events.BrowserFeature.HAS_W3C_BUTTON ? this.event_.button == e : "click" == this.type ? e == goog.events.BrowserEvent.MouseButton.LEFT : !!(this.event_.button & goog.events.BrowserEvent.IEButtonMap[e]) }, goog.events.BrowserEvent.prototype.isMouseActionButton = function () { return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.WEBKIT && goog.userAgent.MAC && this.ctrlKey) }, goog.events.BrowserEvent.prototype.stopPropagation = function () { goog.events.BrowserEvent.superClass_.stopPropagation.call(this), this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0 }, goog.events.BrowserEvent.prototype.preventDefault = function () { goog.events.BrowserEvent.superClass_.preventDefault.call(this); var e = this.event_; if (e.preventDefault) e.preventDefault(); else if (e.returnValue = !1, goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT) try { (e.ctrlKey || 112 <= e.keyCode && 123 >= e.keyCode) && (e.keyCode = -1) } catch (e) { } }, goog.events.BrowserEvent.prototype.getBrowserEvent = function () { return this.event_ }, goog.events.BrowserEvent.prototype.disposeInternal = function () { goog.events.BrowserEvent.superClass_.disposeInternal.call(this), this.relatedTarget = this.currentTarget = this.target = this.event_ = null }, goog.events.listeners_ = {}, goog.events.listenerTree_ = {}, goog.events.sources_ = {}, goog.events.onString_ = "on", goog.events.onStringMap_ = {}, goog.events.keySeparator_ = "_", goog.events.listen = function (e, t, o, i, n) { if (t) { if (goog.isArray(t)) { for (var s = 0; s < t.length; s++)goog.events.listen(e, t[s], o, i, n); return null } i = !!i; t in (a = goog.events.listenerTree_) || (a[t] = { count_: 0, remaining_: 0 }), i in (a = a[t]) || (a[i] = { count_: 0, remaining_: 0 }, a.count_++); var r, a = a[i], g = goog.getUid(e); if (a.remaining_++ , a[g]) { for (r = a[g], s = 0; s < r.length; s++)if ((a = r[s]).listener == o && a.handler == n) { if (a.removed) break; return r[s].key } } else r = a[g] = [], a.count_++; return (s = goog.events.getProxy()).src = e, (a = new goog.events.Listener).init(o, s, e, t, i, n), o = a.key, s.key = o, r.push(a), goog.events.listeners_[o] = a, goog.events.sources_[g] || (goog.events.sources_[g] = []), goog.events.sources_[g].push(a), e.addEventListener ? (e == goog.global || !e.customEvent_) && e.addEventListener(t, s, i) : e.attachEvent(goog.events.getOnString_(t), s), o } throw Error("Invalid event type") }, goog.events.getProxy = function () { var e = goog.events.handleBrowserEvent_, t = goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ? function (o) { return e.call(t.src, t.key, o) } : function (o) { if (!(o = e.call(t.src, t.key, o))) return o }; return t }, goog.events.listenOnce = function (e, t, o, i, n) { if (goog.isArray(t)) { for (var s = 0; s < t.length; s++)goog.events.listenOnce(e, t[s], o, i, n); return null } return e = goog.events.listen(e, t, o, i, n), goog.events.listeners_[e].callOnce = !0, e }, goog.events.listenWithWrapper = function (e, t, o, i, n) { t.listen(e, o, i, n) }, goog.events.unlisten = function (e, t, o, i, n) { if (goog.isArray(t)) { for (var s = 0; s < t.length; s++)goog.events.unlisten(e, t[s], o, i, n); return null } if (i = !!i, !(e = goog.events.getListeners_(e, t, i))) return !1; for (s = 0; s < e.length; s++)if (e[s].listener == o && e[s].capture == i && e[s].handler == n) return goog.events.unlistenByKey(e[s].key); return !1 }, goog.events.unlistenByKey = function (e) { if (!goog.events.listeners_[e]) return !1; var t = goog.events.listeners_[e]; if (t.removed) return !1; var o = t.src, i = t.type, n = t.proxy, s = t.capture; if (o.removeEventListener ? (o == goog.global || !o.customEvent_) && o.removeEventListener(i, n, s) : o.detachEvent && o.detachEvent(goog.events.getOnString_(i), n), o = goog.getUid(o), n = goog.events.listenerTree_[i][s][o], goog.events.sources_[o]) { var r = goog.events.sources_[o]; goog.array.remove(r, t), 0 == r.length && delete goog.events.sources_[o] } return t.removed = !0, n.needsCleanup_ = !0, goog.events.cleanUp_(i, s, o, n), delete goog.events.listeners_[e], !0 }, goog.events.unlistenWithWrapper = function (e, t, o, i, n) { t.unlisten(e, o, i, n) }, goog.events.cleanUp_ = function (e, t, o, i) { if (!i.locked_ && i.needsCleanup_) { for (var n = 0, s = 0; n < i.length; n++)i[n].removed ? i[n].proxy.src = null : (n != s && (i[s] = i[n]), s++); i.length = s, i.needsCleanup_ = !1, 0 == s && (delete goog.events.listenerTree_[e][t][o], goog.events.listenerTree_[e][t].count_-- , 0 == goog.events.listenerTree_[e][t].count_ && (delete goog.events.listenerTree_[e][t], goog.events.listenerTree_[e].count_--), 0 == goog.events.listenerTree_[e].count_ && delete goog.events.listenerTree_[e]) } }, goog.events.removeAll = function (e, t, o) { var i = 0, n = null == t, s = null == o; o = !!o; if (null == e) goog.object.forEach(goog.events.sources_, function (e) { for (var r = e.length - 1; 0 <= r; r--) { var a = e[r]; !n && t != a.type || !s && o != a.capture || (goog.events.unlistenByKey(a.key), i++) } }); else if (e = goog.getUid(e), goog.events.sources_[e]) for (var r = (e = goog.events.sources_[e]).length - 1; 0 <= r; r--) { var a = e[r]; !n && t != a.type || !s && o != a.capture || (goog.events.unlistenByKey(a.key), i++) } return i }, goog.events.getListeners = function (e, t, o) { return goog.events.getListeners_(e, t, o) || [] }, goog.events.getListeners_ = function (e, t, o) { var i = goog.events.listenerTree_; return t in i && (o in (i = i[t]) && (i = i[o])[e = goog.getUid(e)]) ? i[e] : null }, goog.events.getListener = function (e, t, o, i, n) { if (i = !!i, e = goog.events.getListeners_(e, t, i)) for (t = 0; t < e.length; t++)if (!e[t].removed && e[t].listener == o && e[t].capture == i && e[t].handler == n) return e[t]; return null }, goog.events.hasListener = function (e, t, o) { e = goog.getUid(e); var i = goog.events.sources_[e]; if (i) { var n = goog.isDef(t), s = goog.isDef(o); return n && s ? !!(i = goog.events.listenerTree_[t]) && !!i[o] && e in i[o] : !n && !s || goog.array.some(i, function (e) { return n && e.type == t || s && e.capture == o }) } return !1 }, goog.events.expose = function (e) { var t, o = []; for (t in e) e[t] && e[t].id ? o.push(t + " = " + e[t] + " (" + e[t].id + ")") : o.push(t + " = " + e[t]); return o.join("\n") }, goog.events.getOnString_ = function (e) { return e in goog.events.onStringMap_ ? goog.events.onStringMap_[e] : goog.events.onStringMap_[e] = goog.events.onString_ + e }, goog.events.fireListeners = function (e, t, o, i) { var n = goog.events.listenerTree_; return !(t in n && (n = n[t], o in n)) || goog.events.fireListeners_(n[o], e, t, o, i) }, goog.events.fireListeners_ = function (e, t, o, i, n) { var s = 1; if (e[t = goog.getUid(t)]) { e.remaining_-- , (e = e[t]).locked_ ? e.locked_++ : e.locked_ = 1; try { for (var r = e.length, a = 0; a < r; a++) { var g = e[a]; g && !g.removed && (s &= !1 !== goog.events.fireListener(g, n)) } } finally { e.locked_-- , goog.events.cleanUp_(o, i, t, e) } } return Boolean(s) }, goog.events.fireListener = function (e, t) { var o = e.handleEvent(t); return e.callOnce && goog.events.unlistenByKey(e.key), o }, goog.events.getTotalListenerCount = function () { return goog.object.getCount(goog.events.listeners_) }, goog.events.dispatchEvent = function (e, t) { if (!((s = t.type || t) in (n = goog.events.listenerTree_))) return !0; if (goog.isString(t)) t = new goog.events.Event(t, e); else if (t instanceof goog.events.Event) t.target = t.target || e; else { var o = t; t = new goog.events.Event(s, e); goog.object.extend(t, o) } var i, n, s, r; o = 1; if (s = !0 in (n = n[s])) { for (i = [], r = e; r; r = r.getParentEventTarget())i.push(r); (r = n[!0]).remaining_ = r.count_; for (var a = i.length - 1; !t.propagationStopped_ && 0 <= a && r.remaining_; a--)t.currentTarget = i[a], o &= goog.events.fireListeners_(r, i[a], t.type, !0, t) && 0 != t.returnValue_ } if (!1 in n) if ((r = n[!1]).remaining_ = r.count_, s) for (a = 0; !t.propagationStopped_ && a < i.length && r.remaining_; a++)t.currentTarget = i[a], o &= goog.events.fireListeners_(r, i[a], t.type, !1, t) && 0 != t.returnValue_; else for (n = e; !t.propagationStopped_ && n && r.remaining_; n = n.getParentEventTarget())t.currentTarget = n, o &= goog.events.fireListeners_(r, n, t.type, !1, t) && 0 != t.returnValue_; return Boolean(o) }, goog.events.protectBrowserEventEntryPoint = function (e) { goog.events.handleBrowserEvent_ = e.protectEntryPoint(goog.events.handleBrowserEvent_) }, goog.events.handleBrowserEvent_ = function (e, t) { if (!goog.events.listeners_[e]) return !0; var o = goog.events.listeners_[e], i = o.type; if (!(i in (r = goog.events.listenerTree_))) return !0; var n, s, r = r[i]; if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) { n = t || goog.getObjectByName("window.event"); var a = !0 in r, g = !1 in r; if (a) { if (goog.events.isMarkedIeEvent_(n)) return !0; goog.events.markIeEvent_(n) } var l = new goog.events.BrowserEvent; l.init(n, this), n = !0; try { if (a) { for (var d = [], p = l.currentTarget; p; p = p.parentNode)d.push(p); (s = r[!0]).remaining_ = s.count_; for (var c = d.length - 1; !l.propagationStopped_ && 0 <= c && s.remaining_; c--)l.currentTarget = d[c], n &= goog.events.fireListeners_(s, d[c], i, !0, l); if (g) for ((s = r[!1]).remaining_ = s.count_, c = 0; !l.propagationStopped_ && c < d.length && s.remaining_; c++)l.currentTarget = d[c], n &= goog.events.fireListeners_(s, d[c], i, !1, l) } else n = goog.events.fireListener(o, l) } finally { d && (d.length = 0), l.dispose() } return n } i = new goog.events.BrowserEvent(t, this); try { n = goog.events.fireListener(o, i) } finally { i.dispose() } return n }, goog.events.markIeEvent_ = function (e) { var t = !1; if (0 == e.keyCode) try { return void (e.keyCode = -1) } catch (e) { t = !0 } (t || null == e.returnValue) && (e.returnValue = !0) }, goog.events.isMarkedIeEvent_ = function (e) { return 0 > e.keyCode || null != e.returnValue }, goog.events.uniqueIdCounter_ = 0, goog.events.getUniqueId = function (e) { return e + "_" + goog.events.uniqueIdCounter_++ }, goog.debug.entryPointRegistry.register(function (e) { goog.events.handleBrowserEvent_ = e(goog.events.handleBrowserEvent_) }), goog.events.EventTarget = function () { goog.Disposable.call(this) }, goog.inherits(goog.events.EventTarget, goog.Disposable), goog.events.EventTarget.prototype.customEvent_ = !0, goog.events.EventTarget.prototype.parentEventTarget_ = null, goog.events.EventTarget.prototype.getParentEventTarget = function () { return this.parentEventTarget_ }, goog.events.EventTarget.prototype.setParentEventTarget = function (e) { this.parentEventTarget_ = e }, goog.events.EventTarget.prototype.addEventListener = function (e, t, o, i) { goog.events.listen(this, e, t, o, i) }, goog.events.EventTarget.prototype.removeEventListener = function (e, t, o, i) { goog.events.unlisten(this, e, t, o, i) }, goog.events.EventTarget.prototype.dispatchEvent = function (e) { return goog.events.dispatchEvent(this, e) }, goog.events.EventTarget.prototype.disposeInternal = function () { goog.events.EventTarget.superClass_.disposeInternal.call(this), goog.events.removeAll(this), this.parentEventTarget_ = null }, lime.userAgent = {}, function () { var e = goog.userAgent.getUserAgentString(); lime.userAgent.IOS = goog.userAgent.WEBKIT && goog.userAgent.MOBILE && /(ipod|iphone|ipad)/i.test(e), lime.userAgent.IOS5 = lime.userAgent.IOS && goog.isFunction(Object.freeze), lime.userAgent.ANDROID = goog.userAgent.WEBKIT && goog.userAgent.MOBILE && /(android)/i.test(e), lime.userAgent.IPAD = lime.userAgent.IOS && /(ipad)/i.test(e), lime.userAgent.IPHONE4 = lime.userAgent.IOS && 2 <= goog.global.devicePixelRatio, lime.userAgent.PLAYBOOK = goog.userAgent.WEBKIT && /playbook/i.test(e), lime.userAgent.SUPPORTS_TOUCH = goog.isDef(document.ontouchmove) }(), goog.math.Rect = function (e, t, o, i) { this.left = e, this.top = t, this.width = o, this.height = i }, goog.math.Rect.prototype.clone = function () { return new goog.math.Rect(this.left, this.top, this.width, this.height) }, goog.math.Rect.prototype.toBox = function () { return new goog.math.Box(this.top, this.left + this.width, this.top + this.height, this.left) }, goog.math.Rect.createFromBox = function (e) { return new goog.math.Rect(e.left, e.top, e.right - e.left, e.bottom - e.top) }, goog.DEBUG && (goog.math.Rect.prototype.toString = function () { return "(" + this.left + ", " + this.top + " - " + this.width + "w x " + this.height + "h)" }), goog.math.Rect.equals = function (e, t) { return e == t || !(!e || !t) && (e.left == t.left && e.width == t.width && e.top == t.top && e.height == t.height) }, goog.math.Rect.prototype.intersection = function (e) { var t = Math.max(this.left, e.left), o = Math.min(this.left + this.width, e.left + e.width); if (t <= o) { var i = Math.max(this.top, e.top); if (i <= (e = Math.min(this.top + this.height, e.top + e.height))) return this.left = t, this.top = i, this.width = o - t, this.height = e - i, !0 } return !1 }, goog.math.Rect.intersection = function (e, t) { var o = Math.max(e.left, t.left), i = Math.min(e.left + e.width, t.left + t.width); if (o <= i) { var n = Math.max(e.top, t.top), s = Math.min(e.top + e.height, t.top + t.height); if (n <= s) return new goog.math.Rect(o, n, i - o, s - n) } return null }, goog.math.Rect.intersects = function (e, t) { return e.left <= t.left + t.width && t.left <= e.left + e.width && e.top <= t.top + t.height && t.top <= e.top + e.height }, goog.math.Rect.prototype.intersects = function (e) { return goog.math.Rect.intersects(this, e) }, goog.math.Rect.difference = function (e, t) { if (!(o = goog.math.Rect.intersection(e, t)) || !o.height || !o.width) return [e.clone()]; var o = [], i = e.top, n = e.height, s = e.left + e.width, r = e.top + e.height, a = t.left + t.width, g = t.top + t.height; return t.top > e.top && (o.push(new goog.math.Rect(e.left, e.top, e.width, t.top - e.top)), i = t.top, n -= t.top - e.top), g < r && (o.push(new goog.math.Rect(e.left, g, e.width, r - g)), n = g - i), t.left > e.left && o.push(new goog.math.Rect(e.left, i, t.left - e.left, n)), a < s && o.push(new goog.math.Rect(a, i, s - a, n)), o }, goog.math.Rect.prototype.difference = function (e) { return goog.math.Rect.difference(this, e) }, goog.math.Rect.prototype.boundingRect = function (e) { var t = Math.max(this.left + this.width, e.left + e.width), o = Math.max(this.top + this.height, e.top + e.height); this.left = Math.min(this.left, e.left), this.top = Math.min(this.top, e.top), this.width = t - this.left, this.height = o - this.top }, goog.math.Rect.boundingRect = function (e, t) { if (!e || !t) return null; var o = e.clone(); return o.boundingRect(t), o }, goog.math.Rect.prototype.contains = function (e) { return e instanceof goog.math.Rect ? this.left <= e.left && this.left + this.width >= e.left + e.width && this.top <= e.top && this.top + this.height >= e.top + e.height : e.x >= this.left && e.x <= this.left + this.width && e.y >= this.top && e.y <= this.top + this.height }, goog.math.Rect.prototype.getSize = function () { return new goog.math.Size(this.width, this.height) }, goog.dom = {}, goog.dom.classes = {}, goog.dom.classes.set = function (e, t) { e.className = t }, goog.dom.classes.get = function (e) { return e = e.className, goog.isString(e) && e.match(/\S+/g) || [] }, goog.dom.classes.add = function (e, t) { var o = goog.dom.classes.get(e), i = goog.array.slice(arguments, 1), n = o.length + i.length; return goog.dom.classes.add_(o, i), e.className = o.join(" "), o.length == n }, goog.dom.classes.remove = function (e, t) { var o = goog.dom.classes.get(e), i = goog.array.slice(arguments, 1), n = goog.dom.classes.getDifference_(o, i); return e.className = n.join(" "), n.length == o.length - i.length }, goog.dom.classes.add_ = function (e, t) { for (var o = 0; o < t.length; o++)goog.array.contains(e, t[o]) || e.push(t[o]) }, goog.dom.classes.getDifference_ = function (e, t) { return goog.array.filter(e, function (e) { return !goog.array.contains(t, e) }) }, goog.dom.classes.swap = function (e, t, o) { for (var i = goog.dom.classes.get(e), n = !1, s = 0; s < i.length; s++)i[s] == t && (goog.array.splice(i, s--, 1), n = !0); return n && (i.push(o), e.className = i.join(" ")), n }, goog.dom.classes.addRemove = function (e, t, o) { var i = goog.dom.classes.get(e); goog.isString(t) ? goog.array.remove(i, t) : goog.isArray(t) && (i = goog.dom.classes.getDifference_(i, t)), goog.isString(o) && !goog.array.contains(i, o) ? i.push(o) : goog.isArray(o) && goog.dom.classes.add_(i, o), e.className = i.join(" ") }, goog.dom.classes.has = function (e, t) { return goog.array.contains(goog.dom.classes.get(e), t) }, goog.dom.classes.enable = function (e, t, o) { o ? goog.dom.classes.add(e, t) : goog.dom.classes.remove(e, t) }, goog.dom.classes.toggle = function (e, t) { var o = !goog.dom.classes.has(e, t); return goog.dom.classes.enable(e, t, o), o }, goog.dom.TagName = { A: "A", ABBR: "ABBR", ACRONYM: "ACRONYM", ADDRESS: "ADDRESS", APPLET: "APPLET", AREA: "AREA", AUDIO: "AUDIO", B: "B", BASE: "BASE", BASEFONT: "BASEFONT", BDO: "BDO", BIG: "BIG", BLOCKQUOTE: "BLOCKQUOTE", BODY: "BODY", BR: "BR", BUTTON: "BUTTON", CANVAS: "CANVAS", CAPTION: "CAPTION", CENTER: "CENTER", CITE: "CITE", CODE: "CODE", COL: "COL", COLGROUP: "COLGROUP", DD: "DD", DEL: "DEL", DFN: "DFN", DIR: "DIR", DIV: "DIV", DL: "DL", DT: "DT", EM: "EM", FIELDSET: "FIELDSET", FONT: "FONT", FORM: "FORM", FRAME: "FRAME", FRAMESET: "FRAMESET", H1: "H1", H2: "H2", H3: "H3", H4: "H4", H5: "H5", H6: "H6", HEAD: "HEAD", HR: "HR", HTML: "HTML", I: "I", IFRAME: "IFRAME", IMG: "IMG", INPUT: "INPUT", INS: "INS", ISINDEX: "ISINDEX", KBD: "KBD", LABEL: "LABEL", LEGEND: "LEGEND", LI: "LI", LINK: "LINK", MAP: "MAP", MENU: "MENU", META: "META", NOFRAMES: "NOFRAMES", NOSCRIPT: "NOSCRIPT", OBJECT: "OBJECT", OL: "OL", OPTGROUP: "OPTGROUP", OPTION: "OPTION", P: "P", PARAM: "PARAM", PRE: "PRE", Q: "Q", S: "S", SAMP: "SAMP", SCRIPT: "SCRIPT", SELECT: "SELECT", SMALL: "SMALL", SPAN: "SPAN", STRIKE: "STRIKE", STRONG: "STRONG", STYLE: "STYLE", SUB: "SUB", SUP: "SUP", TABLE: "TABLE", TBODY: "TBODY", TD: "TD", TEXTAREA: "TEXTAREA", TFOOT: "TFOOT", TH: "TH", THEAD: "THEAD", TITLE: "TITLE", TR: "TR", TT: "TT", U: "U", UL: "UL", VAR: "VAR", VIDEO: "VIDEO" }, goog.dom.BrowserFeature = { CAN_ADD_NAME_OR_TYPE_ATTRIBUTES: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9), CAN_USE_CHILDREN_ATTRIBUTE: !goog.userAgent.GECKO && !goog.userAgent.IE || goog.userAgent.IE && goog.userAgent.isDocumentMode(9) || goog.userAgent.GECKO && goog.userAgent.isVersion("1.9.1"), CAN_USE_INNER_TEXT: goog.userAgent.IE && !goog.userAgent.isVersion("9"), CAN_USE_PARENT_ELEMENT_PROPERTY: goog.userAgent.IE || goog.userAgent.OPERA || goog.userAgent.WEBKIT, INNER_HTML_NEEDS_SCOPED_ELEMENT: goog.userAgent.IE }, goog.dom.ASSUME_QUIRKS_MODE = !1, goog.dom.ASSUME_STANDARDS_MODE = !1, goog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE, goog.dom.NodeType = { ELEMENT: 1, ATTRIBUTE: 2, TEXT: 3, CDATA_SECTION: 4, ENTITY_REFERENCE: 5, ENTITY: 6, PROCESSING_INSTRUCTION: 7, COMMENT: 8, DOCUMENT: 9, DOCUMENT_TYPE: 10, DOCUMENT_FRAGMENT: 11, NOTATION: 12 }, goog.dom.getDomHelper = function (e) { return e ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper) }, goog.dom.getDocument = function () { return document }, goog.dom.getElement = function (e) { return goog.isString(e) ? document.getElementById(e) : e }, goog.dom.$ = goog.dom.getElement, goog.dom.getElementsByTagNameAndClass = function (e, t, o) { return goog.dom.getElementsByTagNameAndClass_(document, e, t, o) }, goog.dom.getElementsByClass = function (e, t) { var o = t || document; return goog.dom.canUseQuerySelector_(o) ? o.querySelectorAll("." + e) : o.getElementsByClassName ? o.getElementsByClassName(e) : goog.dom.getElementsByTagNameAndClass_(document, "*", e, t) }, goog.dom.getElementByClass = function (e, t) { var o = t || document; return (goog.dom.canUseQuerySelector_(o) ? o.querySelector("." + e) : goog.dom.getElementsByClass(e, t)[0]) || null }, goog.dom.canUseQuerySelector_ = function (e) { return !(!e.querySelectorAll || !e.querySelector) }, goog.dom.getElementsByTagNameAndClass_ = function (e, t, o, i) { if (e = i || e, t = t && "*" != t ? t.toUpperCase() : "", goog.dom.canUseQuerySelector_(e) && (t || o)) return e.querySelectorAll(t + (o ? "." + o : "")); if (o && e.getElementsByClassName) { if (e = e.getElementsByClassName(o), t) { i = {}; for (var n, s = 0, r = 0; n = e[r]; r++)t == n.nodeName && (i[s++] = n); return i.length = s, i } return e } if (e = e.getElementsByTagName(t || "*"), o) { for (i = {}, r = s = 0; n = e[r]; r++)"function" == typeof (t = n.className).split && goog.array.contains(t.split(/\s+/), o) && (i[s++] = n); return i.length = s, i } return e }, goog.dom.$$ = goog.dom.getElementsByTagNameAndClass, goog.dom.setProperties = function (e, t) { goog.object.forEach(t, function (t, o) { "style" == o ? e.style.cssText = t : "class" == o ? e.className = t : "for" == o ? e.htmlFor = t : o in goog.dom.DIRECT_ATTRIBUTE_MAP_ ? e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o], t) : goog.string.startsWith(o, "aria-") ? e.setAttribute(o, t) : e[o] = t }) }, goog.dom.DIRECT_ATTRIBUTE_MAP_ = { cellpadding: "cellPadding", cellspacing: "cellSpacing", colspan: "colSpan", rowspan: "rowSpan", valign: "vAlign", height: "height", width: "width", usemap: "useMap", frameborder: "frameBorder", maxlength: "maxLength", type: "type" }, goog.dom.getViewportSize = function (e) { return goog.dom.getViewportSize_(e || window) }, goog.dom.getViewportSize_ = function (e) { return e = e.document, e = goog.dom.isCss1CompatMode_(e) ? e.documentElement : e.body, new goog.math.Size(e.clientWidth, e.clientHeight) }, goog.dom.getDocumentHeight = function () { return goog.dom.getDocumentHeight_(window) }, goog.dom.getDocumentHeight_ = function (e) { var t = 0; if (i = e.document) { e = goog.dom.getViewportSize_(e).height, t = i.body; var o = i.documentElement; if (goog.dom.isCss1CompatMode_(i) && o.scrollHeight) t = o.scrollHeight != e ? o.scrollHeight : o.offsetHeight; else { var i = o.scrollHeight, n = o.offsetHeight; o.clientHeight != n && (i = t.scrollHeight, n = t.offsetHeight), t = i > e ? i > n ? i : n : i < n ? i : n } } return t }, goog.dom.getPageScroll = function (e) { return goog.dom.getDomHelper((e || goog.global || window).document).getDocumentScroll() }, goog.dom.getDocumentScroll = function () { return goog.dom.getDocumentScroll_(document) }, goog.dom.getDocumentScroll_ = function (e) { var t = goog.dom.getDocumentScrollElement_(e); e = goog.dom.getWindow_(e); return new goog.math.Coordinate(e.pageXOffset || t.scrollLeft, e.pageYOffset || t.scrollTop) }, goog.dom.getDocumentScrollElement = function () { return goog.dom.getDocumentScrollElement_(document) }, goog.dom.getDocumentScrollElement_ = function (e) { return !goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(e) ? e.documentElement : e.body }, goog.dom.getWindow = function (e) { return e ? goog.dom.getWindow_(e) : window }, goog.dom.getWindow_ = function (e) { return e.parentWindow || e.defaultView }, goog.dom.createDom = function (e, t, o) { return goog.dom.createDom_(document, arguments) }, goog.dom.createDom_ = function (e, t) { var o = t[0], i = t[1]; if (!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES && i && (i.name || i.type)) { if (o = ["<", o], i.name && o.push(' name="', goog.string.htmlEscape(i.name), '"'), i.type) { o.push(' type="', goog.string.htmlEscape(i.type), '"'); var n = {}; goog.object.extend(n, i), delete (i = n).type } o.push(">"), o = o.join("") } return o = e.createElement(o), i && (goog.isString(i) ? o.className = i : goog.isArray(i) ? goog.dom.classes.add.apply(null, [o].concat(i)) : goog.dom.setProperties(o, i)), 2 < t.length && goog.dom.append_(e, o, t, 2), o }, goog.dom.append_ = function (e, t, o, i) { function n(o) { o && t.appendChild(goog.isString(o) ? e.createTextNode(o) : o) } for (; i < o.length; i++) { var s = o[i]; goog.isArrayLike(s) && !goog.dom.isNodeLike(s) ? goog.array.forEach(goog.dom.isNodeList(s) ? goog.array.toArray(s) : s, n) : n(s) } }, goog.dom.$dom = goog.dom.createDom, goog.dom.createElement = function (e) { return document.createElement(e) }, goog.dom.createTextNode = function (e) { return document.createTextNode(e) }, goog.dom.createTable = function (e, t, o) { return goog.dom.createTable_(document, e, t, !!o) }, goog.dom.createTable_ = function (e, t, o, i) { for (var n = ["<tr>"], s = 0; s < o; s++)n.push(i ? "<td>&nbsp;</td>" : "<td></td>"); for (n.push("</tr>"), n = n.join(""), o = ["<table>"], s = 0; s < t; s++)o.push(n); return o.push("</table>"), (e = e.createElement(goog.dom.TagName.DIV)).innerHTML = o.join(""), e.removeChild(e.firstChild) }, goog.dom.htmlToDocumentFragment = function (e) { return goog.dom.htmlToDocumentFragment_(document, e) }, goog.dom.htmlToDocumentFragment_ = function (e, t) { var o = e.createElement("div"); if (goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT ? (o.innerHTML = "<br>" + t, o.removeChild(o.firstChild)) : o.innerHTML = t, 1 == o.childNodes.length) return o.removeChild(o.firstChild); for (var i = e.createDocumentFragment(); o.firstChild;)i.appendChild(o.firstChild); return i }, goog.dom.getCompatMode = function () { return goog.dom.isCss1CompatMode() ? "CSS1Compat" : "BackCompat" }, goog.dom.isCss1CompatMode = function () { return goog.dom.isCss1CompatMode_(document) }, goog.dom.isCss1CompatMode_ = function (e) { return goog.dom.COMPAT_MODE_KNOWN_ ? goog.dom.ASSUME_STANDARDS_MODE : "CSS1Compat" == e.compatMode }, goog.dom.canHaveChildren = function (e) { if (e.nodeType != goog.dom.NodeType.ELEMENT) return !1; switch (e.tagName) { case goog.dom.TagName.APPLET: case goog.dom.TagName.AREA: case goog.dom.TagName.BASE: case goog.dom.TagName.BR: case goog.dom.TagName.COL: case goog.dom.TagName.FRAME: case goog.dom.TagName.HR: case goog.dom.TagName.IMG: case goog.dom.TagName.INPUT: case goog.dom.TagName.IFRAME: case goog.dom.TagName.ISINDEX: case goog.dom.TagName.LINK: case goog.dom.TagName.NOFRAMES: case goog.dom.TagName.NOSCRIPT: case goog.dom.TagName.META: case goog.dom.TagName.OBJECT: case goog.dom.TagName.PARAM: case goog.dom.TagName.SCRIPT: case goog.dom.TagName.STYLE: return !1 }return !0 }, goog.dom.appendChild = function (e, t) { e.appendChild(t) }, goog.dom.append = function (e, t) { goog.dom.append_(goog.dom.getOwnerDocument(e), e, arguments, 1) }, goog.dom.removeChildren = function (e) { for (var t; t = e.firstChild;)e.removeChild(t) }, goog.dom.insertSiblingBefore = function (e, t) { t.parentNode && t.parentNode.insertBefore(e, t) }, goog.dom.insertSiblingAfter = function (e, t) { t.parentNode && t.parentNode.insertBefore(e, t.nextSibling) }, goog.dom.insertChildAt = function (e, t, o) { e.insertBefore(t, e.childNodes[o] || null) }, goog.dom.removeNode = function (e) { return e && e.parentNode ? e.parentNode.removeChild(e) : null }, goog.dom.replaceNode = function (e, t) { var o = t.parentNode; o && o.replaceChild(e, t) }, goog.dom.flattenElement = function (e) { var t, o = e.parentNode; if (o && o.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) { if (e.removeNode) return e.removeNode(!1); for (; t = e.firstChild;)o.insertBefore(t, e); return goog.dom.removeNode(e) } }, goog.dom.getChildren = function (e) { return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE && null != e.children ? e.children : goog.array.filter(e.childNodes, function (e) { return e.nodeType == goog.dom.NodeType.ELEMENT }) }, goog.dom.getFirstElementChild = function (e) { return null != e.firstElementChild ? e.firstElementChild : goog.dom.getNextElementNode_(e.firstChild, !0) }, goog.dom.getLastElementChild = function (e) { return null != e.lastElementChild ? e.lastElementChild : goog.dom.getNextElementNode_(e.lastChild, !1) }, goog.dom.getNextElementSibling = function (e) { return null != e.nextElementSibling ? e.nextElementSibling : goog.dom.getNextElementNode_(e.nextSibling, !0) }, goog.dom.getPreviousElementSibling = function (e) { return null != e.previousElementSibling ? e.previousElementSibling : goog.dom.getNextElementNode_(e.previousSibling, !1) }, goog.dom.getNextElementNode_ = function (e, t) { for (; e && e.nodeType != goog.dom.NodeType.ELEMENT;)e = t ? e.nextSibling : e.previousSibling; return e }, goog.dom.getNextNode = function (e) { if (!e) return null; if (e.firstChild) return e.firstChild; for (; e && !e.nextSibling;)e = e.parentNode; return e ? e.nextSibling : null }, goog.dom.getPreviousNode = function (e) { if (!e) return null; if (!e.previousSibling) return e.parentNode; for (e = e.previousSibling; e && e.lastChild;)e = e.lastChild; return e }, goog.dom.isNodeLike = function (e) { return goog.isObject(e) && 0 < e.nodeType }, goog.dom.isElement = function (e) { return goog.isObject(e) && e.nodeType == goog.dom.NodeType.ELEMENT }, goog.dom.isWindow = function (e) { return goog.isObject(e) && e.window == e }, goog.dom.getParentElement = function (e) { return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY ? e.parentElement : (e = e.parentNode, goog.dom.isElement(e) ? e : null) }, goog.dom.contains = function (e, t) { if (e.contains && t.nodeType == goog.dom.NodeType.ELEMENT) return e == t || e.contains(t); if (void 0 !== e.compareDocumentPosition) return e == t || Boolean(16 & e.compareDocumentPosition(t)); for (; t && e != t;)t = t.parentNode; return t == e }, goog.dom.compareNodeOrder = function (e, t) { if (e == t) return 0; if (e.compareDocumentPosition) return 2 & e.compareDocumentPosition(t) ? 1 : -1; if ("sourceIndex" in e || e.parentNode && "sourceIndex" in e.parentNode) { var o = e.nodeType == goog.dom.NodeType.ELEMENT, i = t.nodeType == goog.dom.NodeType.ELEMENT; if (o && i) return e.sourceIndex - t.sourceIndex; var n = e.parentNode, s = t.parentNode; return n == s ? goog.dom.compareSiblingOrder_(e, t) : !o && goog.dom.contains(n, t) ? -1 * goog.dom.compareParentsDescendantNodeIe_(e, t) : !i && goog.dom.contains(s, e) ? goog.dom.compareParentsDescendantNodeIe_(t, e) : (o ? e.sourceIndex : n.sourceIndex) - (i ? t.sourceIndex : s.sourceIndex) } return (o = (i = goog.dom.getOwnerDocument(e)).createRange()).selectNode(e), o.collapse(!0), (i = i.createRange()).selectNode(t), i.collapse(!0), o.compareBoundaryPoints(goog.global.Range.START_TO_END, i) }, goog.dom.compareParentsDescendantNodeIe_ = function (e, t) { var o = e.parentNode; if (o == t) return -1; for (var i = t; i.parentNode != o;)i = i.parentNode; return goog.dom.compareSiblingOrder_(i, e) }, goog.dom.compareSiblingOrder_ = function (e, t) { for (var o = t; o = o.previousSibling;)if (o == e) return -1; return 1 }, goog.dom.findCommonAncestor = function (e) { var t, o = arguments.length; if (!o) return null; if (1 == o) return arguments[0]; var i = [], n = 1 / 0; for (t = 0; t < o; t++) { for (var s = [], r = arguments[t]; r;)s.unshift(r), r = r.parentNode; i.push(s), n = Math.min(n, s.length) } for (s = null, t = 0; t < n; t++) { r = i[0][t]; for (var a = 1; a < o; a++)if (r != i[a][t]) return s; s = r } return s }, goog.dom.getOwnerDocument = function (e) { return e.nodeType == goog.dom.NodeType.DOCUMENT ? e : e.ownerDocument || e.document }, goog.dom.getFrameContentDocument = function (e) { return e.contentDocument || e.contentWindow.document }, goog.dom.getFrameContentWindow = function (e) { return e.contentWindow || goog.dom.getWindow_(goog.dom.getFrameContentDocument(e)) }, goog.dom.setTextContent = function (e, t) { if ("textContent" in e) e.textContent = t; else if (e.firstChild && e.firstChild.nodeType == goog.dom.NodeType.TEXT) { for (; e.lastChild != e.firstChild;)e.removeChild(e.lastChild); e.firstChild.data = t } else { goog.dom.removeChildren(e); var o = goog.dom.getOwnerDocument(e); e.appendChild(o.createTextNode(t)) } }, goog.dom.getOuterHtml = function (e) { if ("outerHTML" in e) return e.outerHTML; var t = goog.dom.getOwnerDocument(e).createElement("div"); return t.appendChild(e.cloneNode(!0)), t.innerHTML }, goog.dom.findNode = function (e, t) { var o = []; return goog.dom.findNodes_(e, t, o, !0) ? o[0] : void 0 }, goog.dom.findNodes = function (e, t) { var o = []; return goog.dom.findNodes_(e, t, o, !1), o }, goog.dom.findNodes_ = function (e, t, o, i) { if (null != e) for (e = e.firstChild; e;) { if (t(e) && (o.push(e), i) || goog.dom.findNodes_(e, t, o, i)) return !0; e = e.nextSibling } return !1 }, goog.dom.TAGS_TO_IGNORE_ = { SCRIPT: 1, STYLE: 1, HEAD: 1, IFRAME: 1, OBJECT: 1 }, goog.dom.PREDEFINED_TAG_VALUES_ = { IMG: " ", BR: "\n" }, goog.dom.isFocusableTabIndex = function (e) { var t = e.getAttributeNode("tabindex"); return !(!t || !t.specified) && (e = e.tabIndex, goog.isNumber(e) && 0 <= e && 32768 > e) }, goog.dom.setFocusableTabIndex = function (e, t) { t ? e.tabIndex = 0 : (e.tabIndex = -1, e.removeAttribute("tabIndex")) }, goog.dom.getTextContent = function (e) { if (goog.dom.BrowserFeature.CAN_USE_INNER_TEXT && "innerText" in e) e = goog.string.canonicalizeNewlines(e.innerText); else { var t = []; goog.dom.getTextContent_(e, t, !0), e = t.join("") } return e = (e = e.replace(/ \xAD /g, " ").replace(/\xAD/g, "")).replace(/\u200B/g, ""), goog.dom.BrowserFeature.CAN_USE_INNER_TEXT || (e = e.replace(/ +/g, " ")), " " != e && (e = e.replace(/^\s*/, "")), e }, goog.dom.getRawTextContent = function (e) { var t = []; return goog.dom.getTextContent_(e, t, !1), t.join("") }, goog.dom.getTextContent_ = function (e, t, o) { if (!(e.nodeName in goog.dom.TAGS_TO_IGNORE_)) if (e.nodeType == goog.dom.NodeType.TEXT) o ? t.push(("" + e.nodeValue).replace(/(\r\n|\r|\n)/g, "")) : t.push(e.nodeValue); else if (e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]); else for (e = e.firstChild; e;)goog.dom.getTextContent_(e, t, o), e = e.nextSibling }, goog.dom.getNodeTextLength = function (e) { return goog.dom.getTextContent(e).length }, goog.dom.getNodeTextOffset = function (e, t) { for (var o = t || goog.dom.getOwnerDocument(e).body, i = []; e && e != o;) { for (var n = e; n = n.previousSibling;)i.unshift(goog.dom.getTextContent(n)); e = e.parentNode } return goog.string.trimLeft(i.join("")).replace(/ +/g, " ").length }, goog.dom.getNodeAtOffset = function (e, t, o) { e = [e]; for (var i, n = 0; 0 < e.length && n < t;)if (!((i = e.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_)) if (i.nodeType == goog.dom.NodeType.TEXT) { var s = i.nodeValue.replace(/(\r\n|\r|\n)/g, "").replace(/ +/g, " "); n = n + s.length } else if (i.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) n += goog.dom.PREDEFINED_TAG_VALUES_[i.nodeName].length; else for (s = i.childNodes.length - 1; 0 <= s; s--)e.push(i.childNodes[s]); return goog.isObject(o) && (o.remainder = i ? i.nodeValue.length + t - n - 1 : 0, o.node = i), i }, goog.dom.isNodeList = function (e) { if (e && "number" == typeof e.length) { if (goog.isObject(e)) return "function" == typeof e.item || "string" == typeof e.item; if (goog.isFunction(e)) return "function" == typeof e.item } return !1 }, goog.dom.getAncestorByTagNameAndClass = function (e, t, o) { if (!t && !o) return null; var i = t ? t.toUpperCase() : null; return goog.dom.getAncestor(e, function (e) { return (!i || e.nodeName == i) && (!o || goog.dom.classes.has(e, o)) }, !0) }, goog.dom.getAncestorByClass = function (e, t) { return goog.dom.getAncestorByTagNameAndClass(e, null, t) }, goog.dom.getAncestor = function (e, t, o, i) { o || (e = e.parentNode); o = null == i; for (var n = 0; e && (o || n <= i);) { if (t(e)) return e; e = e.parentNode, n++ } return null }, goog.dom.getActiveElement = function (e) { try { return e && e.activeElement } catch (e) { } return null }, goog.dom.DomHelper = function (e) { this.document_ = e || goog.global.document || document }, goog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper, goog.dom.DomHelper.prototype.setDocument = function (e) { this.document_ = e }, goog.dom.DomHelper.prototype.getDocument = function () { return this.document_ }, goog.dom.DomHelper.prototype.getElement = function (e) { return goog.isString(e) ? this.document_.getElementById(e) : e }, goog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement, goog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function (e, t, o) { return goog.dom.getElementsByTagNameAndClass_(this.document_, e, t, o) }, goog.dom.DomHelper.prototype.getElementsByClass = function (e, t) { return goog.dom.getElementsByClass(e, t || this.document_) }, goog.dom.DomHelper.prototype.getElementByClass = function (e, t) { return goog.dom.getElementByClass(e, t || this.document_) }, goog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass, goog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties, goog.dom.DomHelper.prototype.getViewportSize = function (e) { return goog.dom.getViewportSize(e || this.getWindow()) }, goog.dom.DomHelper.prototype.getDocumentHeight = function () { return goog.dom.getDocumentHeight_(this.getWindow()) }, goog.dom.DomHelper.prototype.createDom = function (e, t, o) { return goog.dom.createDom_(this.document_, arguments) }, goog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom, goog.dom.DomHelper.prototype.createElement = function (e) { return this.document_.createElement(e) }, goog.dom.DomHelper.prototype.createTextNode = function (e) { return this.document_.createTextNode(e) }, goog.dom.DomHelper.prototype.createTable = function (e, t, o) { return goog.dom.createTable_(this.document_, e, t, !!o) }, goog.dom.DomHelper.prototype.htmlToDocumentFragment = function (e) { return goog.dom.htmlToDocumentFragment_(this.document_, e) }, goog.dom.DomHelper.prototype.getCompatMode = function () { return this.isCss1CompatMode() ? "CSS1Compat" : "BackCompat" }, goog.dom.DomHelper.prototype.isCss1CompatMode = function () { return goog.dom.isCss1CompatMode_(this.document_) }, goog.dom.DomHelper.prototype.getWindow = function () { return goog.dom.getWindow_(this.document_) }, goog.dom.DomHelper.prototype.getDocumentScrollElement = function () { return goog.dom.getDocumentScrollElement_(this.document_) }, goog.dom.DomHelper.prototype.getDocumentScroll = function () { return goog.dom.getDocumentScroll_(this.document_) }, goog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild, goog.dom.DomHelper.prototype.append = goog.dom.append, goog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren, goog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore, goog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter, goog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode, goog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode, goog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement, goog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild, goog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild, goog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling, goog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling, goog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode, goog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode, goog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike, goog.dom.DomHelper.prototype.contains = goog.dom.contains, goog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument, goog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument, goog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow, goog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent, goog.dom.DomHelper.prototype.findNode = goog.dom.findNode, goog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes, goog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent, goog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength, goog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset, goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass, goog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass, goog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor, goog.style = {}, goog.style.setStyle = function (e, t, o) { goog.isString(t) ? goog.style.setStyle_(e, o, t) : goog.object.forEach(t, goog.partial(goog.style.setStyle_, e)) }, goog.style.setStyle_ = function (e, t, o) { e.style[goog.string.toCamelCase(o)] = t }, goog.style.getStyle = function (e, t) { return e.style[goog.string.toCamelCase(t)] || "" }, goog.style.getComputedStyle = function (e, t) { var o = goog.dom.getOwnerDocument(e); return o.defaultView && o.defaultView.getComputedStyle && (o = o.defaultView.getComputedStyle(e, null)) && (o[t] || o.getPropertyValue(t)) || "" }, goog.style.getCascadedStyle = function (e, t) { return e.currentStyle ? e.currentStyle[t] : null }, goog.style.getStyle_ = function (e, t) { return goog.style.getComputedStyle(e, t) || goog.style.getCascadedStyle(e, t) || e.style && e.style[t] }, goog.style.getComputedPosition = function (e) { return goog.style.getStyle_(e, "position") }, goog.style.getBackgroundColor = function (e) { return goog.style.getStyle_(e, "backgroundColor") }, goog.style.getComputedOverflowX = function (e) { return goog.style.getStyle_(e, "overflowX") }, goog.style.getComputedOverflowY = function (e) { return goog.style.getStyle_(e, "overflowY") }, goog.style.getComputedZIndex = function (e) { return goog.style.getStyle_(e, "zIndex") }, goog.style.getComputedTextAlign = function (e) { return goog.style.getStyle_(e, "textAlign") }, goog.style.getComputedCursor = function (e) { return goog.style.getStyle_(e, "cursor") }, goog.style.setPosition = function (e, t, o) { var i, n = goog.userAgent.GECKO && (goog.userAgent.MAC || goog.userAgent.X11) && goog.userAgent.isVersion("1.9"); t instanceof goog.math.Coordinate ? (i = t.x, t = t.y) : (i = t, t = o), e.style.left = goog.style.getPixelStyleValue_(i, n), e.style.top = goog.style.getPixelStyleValue_(t, n) }, goog.style.getPosition = function (e) { return new goog.math.Coordinate(e.offsetLeft, e.offsetTop) }, goog.style.getClientViewportElement = function (e) { return e = e ? e.nodeType == goog.dom.NodeType.DOCUMENT ? e : goog.dom.getOwnerDocument(e) : goog.dom.getDocument(), !goog.userAgent.IE || goog.userAgent.isDocumentMode(9) || goog.dom.getDomHelper(e).isCss1CompatMode() ? e.documentElement : e.body }, goog.style.getBoundingClientRect_ = function (e) { var t = e.getBoundingClientRect(); return goog.userAgent.IE && (e = e.ownerDocument, t.left -= e.documentElement.clientLeft + e.body.clientLeft, t.top -= e.documentElement.clientTop + e.body.clientTop), t }, goog.style.getOffsetParent = function (e) { if (goog.userAgent.IE && !goog.userAgent.isDocumentMode(8)) return e.offsetParent; var t = goog.dom.getOwnerDocument(e), o = goog.style.getStyle_(e, "position"), i = "fixed" == o || "absolute" == o; for (e = e.parentNode; e && e != t; e = e.parentNode)if (o = goog.style.getStyle_(e, "position"), !(i = i && "static" == o && e != t.documentElement && e != t.body) && (e.scrollWidth > e.clientWidth || e.scrollHeight > e.clientHeight || "fixed" == o || "absolute" == o || "relative" == o)) return e; return null }, goog.style.getVisibleRectForElement = function (e) { for (var t = new goog.math.Box(0, 1 / 0, 1 / 0, 0), o = goog.dom.getDomHelper(e), i = o.getDocument().body, n = o.getDocument().documentElement, s = o.getDocumentScrollElement(); e = goog.style.getOffsetParent(e);)if (!(goog.userAgent.IE && 0 == e.clientWidth || goog.userAgent.WEBKIT && 0 == e.clientHeight && e == i || e == i || e == n || "visible" == goog.style.getStyle_(e, "overflow"))) { var r = goog.style.getPageOffset(e), a = goog.style.getClientLeftTop(e); r.x += a.x, r.y += a.y, t.top = Math.max(t.top, r.y), t.right = Math.min(t.right, r.x + e.clientWidth), t.bottom = Math.min(t.bottom, r.y + e.clientHeight), t.left = Math.max(t.left, r.x) } return i = s.scrollLeft, s = s.scrollTop, t.left = Math.max(t.left, i), t.top = Math.max(t.top, s), o = o.getViewportSize(), t.right = Math.min(t.right, i + o.width), t.bottom = Math.min(t.bottom, s + o.height), 0 <= t.top && 0 <= t.left && t.bottom > t.top && t.right > t.left ? t : null }, goog.style.getContainerOffsetToScrollInto = function (e, t, o) { var i = goog.style.getPageOffset(e), n = goog.style.getPageOffset(t), s = goog.style.getBorderBox(t), r = i.x - n.x - s.left; i = i.y - n.y - s.top, n = t.clientWidth - e.offsetWidth, e = t.clientHeight - e.offsetHeight, s = t.scrollLeft, t = t.scrollTop; return o ? (s += r - n / 2, t += i - e / 2) : (s += Math.min(r, Math.max(r - n, 0)), t += Math.min(i, Math.max(i - e, 0))), new goog.math.Coordinate(s, t) }, goog.style.scrollIntoContainerView = function (e, t, o) { e = goog.style.getContainerOffsetToScrollInto(e, t, o), t.scrollLeft = e.x, t.scrollTop = e.y }, goog.style.getClientLeftTop = function (e) { if (goog.userAgent.GECKO && !goog.userAgent.isVersion("1.9")) { var t = parseFloat(goog.style.getComputedStyle(e, "borderLeftWidth")); if (goog.style.isRightToLeft(e)) t = t + (e.offsetWidth - e.clientWidth - t - parseFloat(goog.style.getComputedStyle(e, "borderRightWidth"))); return new goog.math.Coordinate(t, parseFloat(goog.style.getComputedStyle(e, "borderTopWidth"))) } return new goog.math.Coordinate(e.clientLeft, e.clientTop) }, goog.style.getPageOffset = function (e) { var t, o = goog.dom.getOwnerDocument(e), i = goog.style.getStyle_(e, "position"), n = goog.userAgent.GECKO && o.getBoxObjectFor && !e.getBoundingClientRect && "absolute" == i && (t = o.getBoxObjectFor(e)) && (0 > t.screenX || 0 > t.screenY), s = new goog.math.Coordinate(0, 0), r = goog.style.getClientViewportElement(o); if (e == r) return s; if (e.getBoundingClientRect) t = goog.style.getBoundingClientRect_(e), e = goog.dom.getDomHelper(o).getDocumentScroll(), s.x = t.left + e.x, s.y = t.top + e.y; else if (o.getBoxObjectFor && !n) t = o.getBoxObjectFor(e), e = o.getBoxObjectFor(r), s.x = t.screenX - e.screenX, s.y = t.screenY - e.screenY; else { t = e; do { if (s.x += t.offsetLeft, s.y += t.offsetTop, t != e && (s.x += t.clientLeft || 0, s.y += t.clientTop || 0), goog.userAgent.WEBKIT && "fixed" == goog.style.getComputedPosition(t)) { s.x += o.body.scrollLeft, s.y += o.body.scrollTop; break } t = t.offsetParent } while (t && t != e); for ((goog.userAgent.OPERA || goog.userAgent.WEBKIT && "absolute" == i) && (s.y -= o.body.offsetTop), t = e; (t = goog.style.getOffsetParent(t)) && t != o.body && t != r;)s.x -= t.scrollLeft, goog.userAgent.OPERA && "TR" == t.tagName || (s.y -= t.scrollTop) } return s }, goog.style.getPageOffsetLeft = function (e) { return goog.style.getPageOffset(e).x }, goog.style.getPageOffsetTop = function (e) { return goog.style.getPageOffset(e).y }, goog.style.getFramedPageOffset = function (e, t) { var o = new goog.math.Coordinate(0, 0), i = goog.dom.getWindow(goog.dom.getOwnerDocument(e)), n = e; do { var s = i == t ? goog.style.getPageOffset(n) : goog.style.getClientPosition(n); o.x += s.x, o.y += s.y } while (i && i != t && (n = i.frameElement) && (i = i.parent)); return o }, goog.style.translateRectForAnotherFrame = function (e, t, o) { if (t.getDocument() != o.getDocument()) { var i = t.getDocument().body; o = goog.style.getFramedPageOffset(i, o.getWindow()), o = goog.math.Coordinate.difference(o, goog.style.getPageOffset(i)); goog.userAgent.IE && !t.isCss1CompatMode() && (o = goog.math.Coordinate.difference(o, t.getDocumentScroll())), e.left += o.x, e.top += o.y } }, goog.style.getRelativePosition = function (e, t) { var o = goog.style.getClientPosition(e), i = goog.style.getClientPosition(t); return new goog.math.Coordinate(o.x - i.x, o.y - i.y) }, goog.style.getClientPosition = function (e) { var t = new goog.math.Coordinate; if (e.nodeType == goog.dom.NodeType.ELEMENT) if (e.getBoundingClientRect) e = goog.style.getBoundingClientRect_(e), t.x = e.left, t.y = e.top; else { var o = goog.dom.getDomHelper(e).getDocumentScroll(); e = goog.style.getPageOffset(e); t.x = e.x - o.x, t.y = e.y - o.y } else { o = goog.isFunction(e.getBrowserEvent); var i = e; e.targetTouches ? i = e.targetTouches[0] : o && e.getBrowserEvent().targetTouches && (i = e.getBrowserEvent().targetTouches[0]), t.x = i.clientX, t.y = i.clientY } return t }, goog.style.setPageOffset = function (e, t, o) { var i = goog.style.getPageOffset(e); t instanceof goog.math.Coordinate && (o = t.y, t = t.x), goog.style.setPosition(e, e.offsetLeft + (t - i.x), e.offsetTop + (o - i.y)) }, goog.style.setSize = function (e, t, o) { if (t instanceof goog.math.Size) o = t.height, t = t.width; else if (null == o) throw Error("missing height argument"); goog.style.setWidth(e, t), goog.style.setHeight(e, o) }, goog.style.getPixelStyleValue_ = function (e, t) { return "number" == typeof e && (e = (t ? Math.round(e) : e) + "px"), e }, goog.style.setHeight = function (e, t) { e.style.height = goog.style.getPixelStyleValue_(t, !0) }, goog.style.setWidth = function (e, t) { e.style.width = goog.style.getPixelStyleValue_(t, !0) }, goog.style.getSize = function (e) { if ("none" != goog.style.getStyle_(e, "display")) return goog.style.getSizeWithDisplay_(e); var t = e.style, o = t.display, i = t.visibility, n = t.position; return t.visibility = "hidden", t.position = "absolute", t.display = "inline", e = goog.style.getSizeWithDisplay_(e), t.display = o, t.position = n, t.visibility = i, e }, goog.style.getSizeWithDisplay_ = function (e) { var t = e.offsetWidth, o = e.offsetHeight, i = goog.userAgent.WEBKIT && !t && !o; return goog.isDef(t) && !i || !e.getBoundingClientRect ? new goog.math.Size(t, o) : (e = goog.style.getBoundingClientRect_(e), new goog.math.Size(e.right - e.left, e.bottom - e.top)) }, goog.style.getBounds = function (e) { var t = goog.style.getPageOffset(e); e = goog.style.getSize(e); return new goog.math.Rect(t.x, t.y, e.width, e.height) }, goog.style.toCamelCase = function (e) { return goog.string.toCamelCase("" + e) }, goog.style.toSelectorCase = function (e) { return goog.string.toSelectorCase(e) }, goog.style.getOpacity = function (e) { var t = e.style; e = ""; return "opacity" in t ? e = t.opacity : "MozOpacity" in t ? e = t.MozOpacity : "filter" in t && (t = t.filter.match(/alpha\(opacity=([\d.]+)\)/)) && (e = "" + t[1] / 100), "" == e ? e : Number(e) }, goog.style.setOpacity = function (e, t) { var o = e.style; "opacity" in o ? o.opacity = t : "MozOpacity" in o ? o.MozOpacity = t : "filter" in o && (o.filter = "" === t ? "" : "alpha(opacity=" + 100 * t + ")") }, goog.style.setTransparentBackgroundImage = function (e, t) { var o = e.style; goog.userAgent.IE && !goog.userAgent.isVersion("8") ? o.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + t + '", sizingMethod="crop")' : (o.backgroundImage = "url(" + t + ")", o.backgroundPosition = "top left", o.backgroundRepeat = "no-repeat") }, goog.style.clearTransparentBackgroundImage = function (e) { "filter" in (e = e.style) ? e.filter = "" : e.backgroundImage = "none" }, goog.style.showElement = function (e, t) { e.style.display = t ? "" : "none" }, goog.style.isElementShown = function (e) { return "none" != e.style.display }, goog.style.installStyles = function (e, t) { var o = goog.dom.getDomHelper(t), i = null; if (goog.userAgent.IE) i = o.getDocument().createStyleSheet(), goog.style.setStyles(i, e); else { var n = o.getElementsByTagNameAndClass("head")[0]; n || (i = o.getElementsByTagNameAndClass("body")[0], n = o.createDom("head"), i.parentNode.insertBefore(n, i)), i = o.createDom("style"), goog.style.setStyles(i, e), o.appendChild(n, i) } return i }, goog.style.uninstallStyles = function (e) { goog.dom.removeNode(e.ownerNode || e.owningElement || e) }, goog.style.setStyles = function (e, t) { goog.userAgent.IE ? e.cssText = t : e[goog.userAgent.WEBKIT ? "innerText" : "innerHTML"] = t }, goog.style.setPreWrap = function (e) { e = e.style, goog.userAgent.IE && !goog.userAgent.isVersion("8") ? (e.whiteSpace = "pre", e.wordWrap = "break-word") : e.whiteSpace = goog.userAgent.GECKO ? "-moz-pre-wrap" : "pre-wrap" }, goog.style.setInlineBlock = function (e) { (e = e.style).position = "relative", goog.userAgent.IE && !goog.userAgent.isVersion("8") ? (e.zoom = "1", e.display = "inline") : e.display = goog.userAgent.GECKO ? goog.userAgent.isVersion("1.9a") ? "inline-block" : "-moz-inline-box" : "inline-block" }, goog.style.isRightToLeft = function (e) { return "rtl" == goog.style.getStyle_(e, "direction") }, goog.style.unselectableStyle_ = goog.userAgent.GECKO ? "MozUserSelect" : goog.userAgent.WEBKIT ? "WebkitUserSelect" : null, goog.style.isUnselectable = function (e) { return goog.style.unselectableStyle_ ? "none" == e.style[goog.style.unselectableStyle_].toLowerCase() : !(!goog.userAgent.IE && !goog.userAgent.OPERA) && "on" == e.getAttribute("unselectable") }, goog.style.setUnselectable = function (e, t, o) { o = o ? null : e.getElementsByTagName("*"); var i = goog.style.unselectableStyle_; if (i) { if (t = t ? "none" : "", e.style[i] = t, o) { var n; for (e = 0; n = o[e]; e++)n.style[i] = t } } else if ((goog.userAgent.IE || goog.userAgent.OPERA) && (t = t ? "on" : "", e.setAttribute("unselectable", t), o)) for (e = 0; n = o[e]; e++)n.setAttribute("unselectable", t) }, goog.style.getBorderBoxSize = function (e) { return new goog.math.Size(e.offsetWidth, e.offsetHeight) }, goog.style.setBorderBoxSize = function (e, t) { var o = goog.dom.getOwnerDocument(e), i = goog.dom.getDomHelper(o).isCss1CompatMode(); if (!goog.userAgent.IE || i && goog.userAgent.isVersion("8")) goog.style.setBoxSizingSize_(e, t, "border-box"); else if (o = e.style, i) { i = goog.style.getPaddingBox(e); var n = goog.style.getBorderBox(e); o.pixelWidth = t.width - n.left - i.left - i.right - n.right, o.pixelHeight = t.height - n.top - i.top - i.bottom - n.bottom } else o.pixelWidth = t.width, o.pixelHeight = t.height }, goog.style.getContentBoxSize = function (e) { var t = goog.dom.getOwnerDocument(e), o = goog.userAgent.IE && e.currentStyle; return o && goog.dom.getDomHelper(t).isCss1CompatMode() && "auto" != o.width && "auto" != o.height && !o.boxSizing ? (t = goog.style.getIePixelValue_(e, o.width, "width", "pixelWidth"), e = goog.style.getIePixelValue_(e, o.height, "height", "pixelHeight"), new goog.math.Size(t, e)) : (o = goog.style.getBorderBoxSize(e), t = goog.style.getPaddingBox(e), e = goog.style.getBorderBox(e), new goog.math.Size(o.width - e.left - t.left - t.right - e.right, o.height - e.top - t.top - t.bottom - e.bottom)) }, goog.style.setContentBoxSize = function (e, t) { var o = goog.dom.getOwnerDocument(e), i = goog.dom.getDomHelper(o).isCss1CompatMode(); if (!goog.userAgent.IE || i && goog.userAgent.isVersion("8")) goog.style.setBoxSizingSize_(e, t, "content-box"); else if (o = e.style, i) o.pixelWidth = t.width, o.pixelHeight = t.height; else { i = goog.style.getPaddingBox(e); var n = goog.style.getBorderBox(e); o.pixelWidth = t.width + n.left + i.left + i.right + n.right, o.pixelHeight = t.height + n.top + i.top + i.bottom + n.bottom } }, goog.style.setBoxSizingSize_ = function (e, t, o) { e = e.style, goog.userAgent.GECKO ? e.MozBoxSizing = o : goog.userAgent.WEBKIT ? e.WebkitBoxSizing = o : e.boxSizing = o, e.width = Math.max(t.width, 0) + "px", e.height = Math.max(t.height, 0) + "px" }, goog.style.getIePixelValue_ = function (e, t, o, i) { if (/^\d+px?$/.test(t)) return parseInt(t, 10); var n = e.style[o], s = e.runtimeStyle[o]; return e.runtimeStyle[o] = e.currentStyle[o], e.style[o] = t, t = e.style[i], e.style[o] = n, e.runtimeStyle[o] = s, t }, goog.style.getIePixelDistance_ = function (e, t) { return goog.style.getIePixelValue_(e, goog.style.getCascadedStyle(e, t), "left", "pixelLeft") }, goog.style.getBox_ = function (e, t) { if (goog.userAgent.IE) { var o = goog.style.getIePixelDistance_(e, t + "Left"), i = goog.style.getIePixelDistance_(e, t + "Right"), n = goog.style.getIePixelDistance_(e, t + "Top"), s = goog.style.getIePixelDistance_(e, t + "Bottom"); return new goog.math.Box(n, i, s, o) } return o = goog.style.getComputedStyle(e, t + "Left"), i = goog.style.getComputedStyle(e, t + "Right"), n = goog.style.getComputedStyle(e, t + "Top"), s = goog.style.getComputedStyle(e, t + "Bottom"), new goog.math.Box(parseFloat(n), parseFloat(i), parseFloat(s), parseFloat(o)) }, goog.style.getPaddingBox = function (e) { return goog.style.getBox_(e, "padding") }, goog.style.getMarginBox = function (e) { return goog.style.getBox_(e, "margin") }, goog.style.ieBorderWidthKeywords_ = { thin: 2, medium: 4, thick: 6 }, goog.style.getIePixelBorder_ = function (e, t) { if ("none" == goog.style.getCascadedStyle(e, t + "Style")) return 0; var o = goog.style.getCascadedStyle(e, t + "Width"); return o in goog.style.ieBorderWidthKeywords_ ? goog.style.ieBorderWidthKeywords_[o] : goog.style.getIePixelValue_(e, o, "left", "pixelLeft") }, goog.style.getBorderBox = function (e) { if (goog.userAgent.IE) { var t = goog.style.getIePixelBorder_(e, "borderLeft"), o = goog.style.getIePixelBorder_(e, "borderRight"), i = goog.style.getIePixelBorder_(e, "borderTop"); e = goog.style.getIePixelBorder_(e, "borderBottom"); return new goog.math.Box(i, o, e, t) } return t = goog.style.getComputedStyle(e, "borderLeftWidth"), o = goog.style.getComputedStyle(e, "borderRightWidth"), i = goog.style.getComputedStyle(e, "borderTopWidth"), e = goog.style.getComputedStyle(e, "borderBottomWidth"), new goog.math.Box(parseFloat(i), parseFloat(o), parseFloat(e), parseFloat(t)) }, goog.style.getFontFamily = function (e) { var t = goog.dom.getOwnerDocument(e), o = ""; if (t.body.createTextRange) { (t = t.body.createTextRange()).moveToElementText(e); try { o = t.queryCommandValue("FontName") } catch (e) { o = "" } } return o || (o = goog.style.getStyle_(e, "fontFamily")), 1 < (e = o.split(",")).length && (o = e[0]), goog.string.stripQuotes(o, "\"'") }, goog.style.lengthUnitRegex_ = /[^\d]+$/, goog.style.getLengthUnits = function (e) { return (e = e.match(goog.style.lengthUnitRegex_)) && e[0] || null }, goog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = { cm: 1, in: 1, mm: 1, pc: 1, pt: 1 }, goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = { em: 1, ex: 1 }, goog.style.getFontSize = function (e) { var t = goog.style.getStyle_(e, "fontSize"), o = goog.style.getLengthUnits(t); if (t && "px" == o) return parseInt(t, 10); if (goog.userAgent.IE) { if (o in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) return goog.style.getIePixelValue_(e, t, "left", "pixelLeft"); if (e.parentNode && e.parentNode.nodeType == goog.dom.NodeType.ELEMENT && o in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) return e = e.parentNode, o = goog.style.getStyle_(e, "fontSize"), goog.style.getIePixelValue_(e, t == o ? "1em" : t, "left", "pixelLeft") } return o = goog.dom.createDom("span", { style: "visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;" }), goog.dom.appendChild(e, o), t = o.offsetHeight, goog.dom.removeNode(o), t }, goog.style.parseStyleAttribute = function (e) { var t = {}; return goog.array.forEach(e.split(/\s*;\s*/), function (e) { 2 == (e = e.split(/\s*:\s*/)).length && (t[goog.string.toCamelCase(e[0].toLowerCase())] = e[1]) }), t }, goog.style.toStyleAttribute = function (e) { var t = []; return goog.object.forEach(e, function (e, o) { t.push(goog.string.toSelectorCase(o), ":", e, ";") }), t.join("") }, goog.style.setFloat = function (e, t) { e.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] = t }, goog.style.getFloat = function (e) { return e.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] || "" }, goog.style.getScrollbarWidth = function (e) { var t = goog.dom.createElement("div"); return e && (t.className = e), t.style.cssText = "overflow:auto;position:absolute;top:0;width:100px;height:100px", e = goog.dom.createElement("div"), goog.style.setSize(e, "200px", "200px"), t.appendChild(e), goog.dom.appendChild(goog.dom.getDocument().body, t), e = t.offsetWidth - t.clientWidth, goog.dom.removeNode(t), e }, lime.style = {}, function () { var e = goog.userAgent.WEBKIT ? "Webkit" : goog.userAgent.GECKO ? "Moz" : goog.userAgent.OPERA ? "O" : goog.userAgent.IE ? "ms" : "", t = goog.dom.createDom("div").style; lime.style.transformProperty = "-" + e.toLowerCase() + "-transform", lime.style.tryProperty = function (e) { return void 0 !== t[e] && e }, lime.style.getCSSproperty = function (t) { var o = t.charAt(0).toLowerCase() + t.substr(1), i = e + t; return lime.style.tryProperty(t) ? t : lime.style.tryProperty(o) ? o : lime.style.tryProperty(i) ? i : void 0 } }(), lime.style.setBorderRadius = function () { var e = lime.style.getCSSproperty("BorderRadius"); return function (t, o, i, n) { n = n ? "%" : "px", i = goog.isDef(i) ? i : o, (o = (goog.isArray(o) ? o.join(n + " ") : o) + n + "/" + ((goog.isArray(i) ? i.join(n + " ") : i) + n)) != t.border_radius_cache_ && (t.style[e] = t.border_radius_cache_ = o) } }(), lime.style.Transform = function (e) { this.values = [], this.precision = 1, this.enable3D_ = !0, this.opt_precision && this.setPrecision(e) }, lime.style.Transform.prototype.set3DAllowed = function (e) { return this.enable3D_ = e, this }, lime.style.Transform.prototype.scale = function (e, t) { return this.values.push("scale(" + e + "," + t + ")"), this }, lime.style.Transform.prototype.rotate = function (e, t) { return 0 != e && this.values.push("rotate(" + e + (t || "deg") + ")"), this }, lime.style.Transform.prototype.translate = function (e, t, o) { var i = 1 / this.precision, n = "translate"; return this.enable3D_ && (lime.userAgent.IOS || lime.userAgent.PLAYBOOK) && (n += "3d"), n += "(" + e * i + "px," + t * i + "px", this.enable3D_ && (lime.userAgent.IOS || lime.userAgent.PLAYBOOK) && (n += "," + (o || 0) * i + "px"), this.values.push(n + ")"), this }, lime.style.Transform.prototype.setPrecision = function (e) { if (1 != this.precision) { var t = 1 / this.precision; this.scale(t, t), this.precision = 1 } return 1 != e && (this.scale(e, e), this.precision = e), this }, lime.style.Transform.prototype.toString = function () { return 1 != this.precision && this.setPrecision(1), this.values.join(" ") }, lime.style.setTransform = function () { var e = lime.style.getCSSproperty("Transform"); return function (t, o) { var i = o.toString(); i != t.transform_cache_ && (t.style[e] = t.transform_cache_ = i), lime.transformSet_ = 1 } }(), lime.style.setTransformOrigin = function () { var e = lime.style.getCSSproperty("TransformOrigin"); return function (t, o, i, n) { (o = o + (n = n ? "%" : "px") + " " + i + n) != t.transform_origin_cache_ && (t.style[e] = t.transform_origin_cache_ = o) } }(), function () { var e = lime.style.getCSSproperty("Transition"); lime.style.isTransitionsSupported = !!e && !goog.userAgent.OPERA; var t = function (e, t) { if (!e.length) return e; for (var o = e.split("),"), i = 0; i < o.length - 1; i++)o[i] += ")"; return (o = goog.array.filter(o, function (e) { return -1 == e.indexOf(t) })).join(",") }; lime.style.setTransition = function (o, i, n, s) { if (e) { var r = t(o.style[e], i); r.length && (r += ", "), r += i + " " + n + "s cubic-bezier(" + s[1] + "," + s[2] + "," + s[3] + "," + s[4] + ")", o.style[e] = r } }, lime.style.clearTransition = function (o, i) { e && o && (o.style[e] = t(o.style[e], i)) }, lime.style.setSize = function (e, t, o) { if (e.width_cache_ != t || e.height_cache_ != o) return e.width_cache_ = t, e.height_cache_ = o, goog.style.setSize(e, t, o) } }(), lime.Renderer.DOM = new lime.Renderer, lime.Renderer.DOM.updateLayout = function () { for (var e, t = 0, o = 0; e = this.children_[o]; o++)(e = e instanceof lime.Node ? e.rootElement : e) == this.domElement.childNodes[t] ? t++ : (goog.dom.contains(this.containerElement, e) && goog.dom.removeNode(e), lime.Renderer.DOM.appendAt_(this.containerElement, e, t++)) }, lime.Renderer.DOM.drawSizePosition = function () { var e = this.getSize(), t = this.getQuality(), o = this.getPosition(), i = this.relativeQuality_ || 1, n = this.getCSS3DTransformsAllowed(); this.transitionsActive_[lime.Transition.POSITION] && (o = this.transitionsActive_[lime.Transition.POSITION]); var s = Math.round(e.width * i), r = Math.round(e.height * i), a = this.getScale().clone(); this.transitionsActive_[lime.Transition.SCALE] && (a = this.transitionsActive_[lime.Transition.SCALE].clone()), 0 != s ? a.scale(e.width / (s * t / i)) : a.scale(1 / t), lime.style.setSize(this.domElement, s, r), lime.style.setTransformOrigin(this.domElement, 100 * this.anchorPoint_.x, 100 * this.anchorPoint_.y, !0), s = this.anchorPoint_.x * e.width * i, r = this.anchorPoint_.y * e.height * i, e = o.x * i / t - s, t = o.y * i / t - r, (0 != s - (o = this.stroke_ ? this.stroke_.width_ : 0) || 0 != r - o) && this.domElement == this.containerElement && this.children_.length && lime.Renderer.DOM.makeContainer.call(this), this.domElement != this.containerElement && !this.transitionsActiveSet_[lime.Transition.POSITION] && !this.transitionsActiveSet_[lime.Transition.SCALE] && !this.transitionsActiveSet_[lime.Transition.ROTATION] && lime.style.setTransform(this.containerElement, (new lime.style.Transform).set3DAllowed(n).translate(s - o, r - o)), this.mask_ != this.activeMask_ && (this.activeMask_ && lime.Renderer.DOM.removeMask.call(this), this.mask_ && lime.Renderer.DOM.addMask.call(this)), n = (new lime.style.Transform).setPrecision(.1).set3DAllowed(n), this.mask_ && (lime.Renderer.DOM.calculateMaskPosition.call(this.mask_), n.setPrecision(.1).translate(-this.mask_.mX - s, -this.mask_.mY - r).rotate(this.mask_.mRot, "rad").translate(s, r).setPrecision(1)), s = -this.getRotation(), goog.isDef(this.transitionsActive_[lime.Transition.ROTATION]) && (s = -this.transitionsActive_[lime.Transition.ROTATION]), n.translate(e, t).scale(a.x, a.y).rotate(s), !this.transitionsActiveSet_[lime.Transition.POSITION] && !this.transitionsActiveSet_[lime.Transition.SCALE] && !this.transitionsActiveSet_[lime.Transition.ROTATION] && lime.style.setTransform(this.domElement, n) }, lime.Renderer.DOM.update = function () { if (this.domElement) { if (lime.Renderer.DOM.drawSizePosition.call(this), !this.transitionsActiveSet_[lime.Transition.OPACITY]) { var e = this.opacity_; goog.isDef(this.transitionsActive_[lime.Transition.OPACITY]) && (e = this.transitionsActive_[lime.Transition.OPACITY]), this.getDirty() & lime.Dirty.ALPHA && goog.style.setOpacity(this.domElement, e) } this.getDirty() & lime.Dirty.VISIBILITY && (this.domElement.style.display = this.hidden_ ? "none" : "block"), this.maskTarget_ || this.renderer.draw.call(this, this.domElement) } }, lime.Renderer.DOM.calculateMaskPosition = function () { if (goog.isDef(this.targetNode) && this.targetNode.inTree_) { var e = this.targetNode, t = this.getFrame(), o = new goog.math.Coordinate(t.left, t.top), i = new goog.math.Coordinate(t.right, t.top), n = new goog.math.Coordinate(t.right, t.bottom), s = (t = e.getParent(), o = this.localToNode(o, t), i = this.localToNode(i, t), n = this.localToNode(n, t), t = Math.atan2(o.y - i.y, i.x - o.x), i.x - o.x), r = o.y - i.y, a = n.x - i.x, g = n.y - i.y; i = Math.cos(t), n = Math.sin(t); this.mWidth = Math.round(Math.sqrt(s * s + r * r)), this.mHeight = Math.round(Math.sqrt(a * a + g * g)), e.renderer.getType() == lime.Renderer.DOM && (s = e.rootElement, goog.style.setSize(s, this.mWidth, this.mHeight), lime.style.setTransform(s, (new lime.style.Transform).setPrecision(.1).set3DAllowed(this.getCSS3DTransformsAllowed()).translate(o.x, o.y).rotate(-t, "rad"))), this.renderer.getType() == lime.Renderer.DOM && (this.domElement.style.display = "none"), this.mPos = e.parentToLocal(o.clone()), this.mSet = !0, this.mX = i * o.x - n * o.y, this.mY = i * o.y + n * o.x, this.mRot = t } }, lime.Renderer.DOM.appendAt_ = function (e, t, o) { null == o || e.childNodes.length <= o ? e.appendChild(t) : e.insertBefore(t, e.childNodes[o]) }, lime.Renderer.DOM.makeContainer = function () { this.containerElement = goog.dom.createDom("div"); for (var e, t = document.createDocumentFragment(); e = this.domElement.firstChild;)this.domElement.removeChild(e), t.appendChild(e); this.containerElement.appendChild(t), this.domElement.appendChild(this.containerElement) }, lime.Renderer.DOM.removeMask = function () { this.domElement != this.rootElement && (this.renderer.getType() == lime.Renderer.DOM && (goog.dom.removeNode(this.domElement), goog.dom.replaceNode(this.domElement, this.rootElement), this.rootElement = this.domElement), this.activeMask_.isMask = 0, this.activeMask_ = null) }, lime.Renderer.DOM.addMask = function () { this.renderer.getType() == lime.Renderer.DOM && (this.rootElement = goog.dom.createDom("div"), this.rootElement.style.cssText = "position:absolute;overflow:hidden;", lime.style.setTransformOrigin(this.rootElement, 0, 0), goog.dom.replaceNode(this.rootElement, this.domElement), this.rootElement.appendChild(this.domElement)), this.mask_.isMask = 1, this.mask_.targetNode = this, this.activeMask_ = this.mask_, this.mask_.setDirty(lime.Dirty.POSITION) }, goog.string.StringBuffer = function (e, t) { null != e && this.append.apply(this, arguments) }, goog.string.StringBuffer.prototype.buffer_ = "", goog.string.StringBuffer.prototype.set = function (e) { this.buffer_ = "" + e }, goog.string.StringBuffer.prototype.append = function (e, t, o) { if (this.buffer_ += e, null != t) for (var i = 1; i < arguments.length; i++)this.buffer_ += arguments[i]; return this }, goog.string.StringBuffer.prototype.clear = function () { this.buffer_ = "" }, goog.string.StringBuffer.prototype.getLength = function () { return this.buffer_.length }, goog.string.StringBuffer.prototype.toString = function () { return this.buffer_ }, goog.structs = {}, goog.structs.InversionMap = function (e, t, o) { if (e.length != t.length) return null; this.storeInversion_(e, o), this.values = t }, goog.structs.InversionMap.prototype.storeInversion_ = function (e, t) { this.rangeArray = e; for (var o = 1; o < e.length; o++)null == e[o] ? e[o] = e[o - 1] + 1 : t && (e[o] += e[o - 1]) }, goog.structs.InversionMap.prototype.spliceInversion = function (e, t, o) { o = (e = new goog.structs.InversionMap(e, t, o)).rangeArray[0]; var i = goog.array.peek(e.rangeArray); t = this.getLeast(o), i = this.getLeast(i); o != this.rangeArray[t] && t++ , o = i - t + 1, goog.partial(goog.array.splice, this.rangeArray, t, o).apply(null, e.rangeArray), goog.partial(goog.array.splice, this.values, t, o).apply(null, e.values) }, goog.structs.InversionMap.prototype.at = function (e) { return 0 > (e = this.getLeast(e)) ? null : this.values[e] }, goog.structs.InversionMap.prototype.getLeast = function (e) { for (var t = this.rangeArray, o = 0, i = t.length; 8 < i - o;) { var n = i + o >> 1; t[n] <= e ? o = n : i = n } for (; o < i && !(e < t[o]); ++o); return o - 1 }, goog.i18n = {}, goog.i18n.GraphemeBreak = {}, goog.i18n.GraphemeBreak.property = { ANY: 0, CONTROL: 1, EXTEND: 2, PREPEND: 3, SPACING_MARK: 4, L: 5, V: 6, T: 7, LV: 8, LVT: 9, CR: 10, LF: 11 }, goog.i18n.GraphemeBreak.inversions_ = null, goog.i18n.GraphemeBreak.applyLegacyBreakRules_ = function (e, t) { var o = goog.i18n.GraphemeBreak.property; return (e != o.CR || t != o.LF) && (e == o.CONTROL || e == o.CR || e == o.LF || t == o.CONTROL || t == o.CR || t == o.LF || (e != o.L || t != o.L && t != o.V && t != o.LV && t != o.LVT) && (e != o.LV && e != o.V || t != o.V && t != o.T) && (e != o.LVT && e != o.T || t != o.T) && t != o.EXTEND) }, goog.i18n.GraphemeBreak.getBreakProp_ = function (e) { if (44032 <= e && 55203 >= e) { var t = goog.i18n.GraphemeBreak.property; return 16 == e % 28 ? t.LV : t.LVT } return goog.i18n.GraphemeBreak.inversions_ || (goog.i18n.GraphemeBreak.inversions_ = new goog.structs.InversionMap([0, 10, 1, 2, 1, 18, 95, 33, 13, 1, 594, 112, 275, 7, 263, 45, 1, 1, 1, 2, 1, 2, 1, 1, 56, 4, 12, 11, 48, 20, 17, 1, 101, 7, 1, 7, 2, 2, 1, 4, 33, 1, 1, 1, 30, 27, 91, 11, 58, 9, 269, 2, 1, 56, 1, 1, 3, 8, 4, 1, 3, 4, 13, 2, 29, 1, 2, 56, 1, 1, 1, 2, 6, 6, 1, 9, 1, 10, 2, 29, 2, 1, 56, 2, 3, 17, 30, 2, 3, 14, 1, 56, 1, 1, 3, 8, 4, 1, 20, 2, 29, 1, 2, 56, 1, 1, 2, 1, 6, 6, 11, 10, 2, 30, 1, 59, 1, 1, 1, 12, 1, 9, 1, 41, 3, 58, 3, 5, 17, 11, 2, 30, 2, 56, 1, 1, 1, 1, 2, 1, 3, 1, 5, 11, 11, 2, 30, 2, 58, 1, 2, 5, 7, 11, 10, 2, 30, 2, 70, 6, 2, 6, 7, 19, 2, 60, 11, 5, 5, 1, 1, 8, 97, 13, 3, 5, 3, 6, 74, 2, 27, 1, 1, 1, 1, 1, 4, 2, 49, 14, 1, 5, 1, 2, 8, 45, 9, 1, 100, 2, 4, 1, 6, 1, 2, 2, 2, 23, 2, 2, 4, 3, 1, 3, 2, 7, 3, 4, 13, 1, 2, 2, 6, 1, 1, 1, 112, 96, 72, 82, 357, 1, 946, 3, 29, 3, 29, 2, 30, 2, 64, 2, 1, 7, 8, 1, 2, 11, 9, 1, 45, 3, 155, 1, 118, 3, 4, 2, 9, 1, 6, 3, 116, 17, 7, 2, 77, 2, 3, 228, 4, 1, 47, 1, 1, 5, 1, 1, 5, 1, 2, 38, 9, 12, 2, 1, 30, 1, 4, 2, 2, 1, 121, 8, 8, 2, 2, 392, 64, 523, 1, 2, 2, 24, 7, 49, 16, 96, 33, 3311, 32, 554, 6, 105, 2, 30164, 4, 9, 2, 388, 1, 3, 1, 4, 1, 23, 2, 2, 1, 88, 2, 50, 16, 1, 97, 8, 25, 11, 2, 213, 6, 2, 2, 2, 2, 12, 1, 8, 1, 1, 434, 11172, 1116, 1024, 6942, 1, 737, 16, 16, 7, 216, 1, 158, 2, 89, 3, 513, 1, 2051, 15, 40, 8, 50981, 1, 1, 3, 3, 1, 5, 8, 8, 2, 7, 30, 4, 148, 3, 798140, 255], [1, 11, 1, 10, 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 2, 0, 2, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 4, 0, 2, 0, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 4, 0, 2, 0, 2, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 4, 0, 2, 4, 2, 0, 2, 0, 2, 4, 0, 2, 0, 4, 2, 4, 2, 0, 2, 0, 2, 4, 0, 2, 0, 2, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 4, 2, 4, 2, 0, 2, 0, 4, 0, 2, 4, 2, 0, 2, 0, 4, 0, 2, 0, 4, 2, 4, 2, 4, 2, 4, 2, 0, 2, 0, 4, 0, 2, 4, 2, 4, 2, 0, 2, 0, 4, 0, 2, 4, 2, 4, 2, 4, 0, 2, 0, 3, 2, 0, 2, 0, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 4, 0, 2, 4, 2, 0, 2, 0, 2, 0, 2, 0, 4, 2, 4, 2, 4, 2, 4, 2, 0, 4, 2, 0, 2, 0, 4, 0, 4, 0, 2, 0, 2, 4, 2, 4, 2, 0, 4, 0, 5, 6, 7, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 1, 4, 2, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 0, 2, 4, 2, 4, 2, 4, 2, 0, 4, 0, 4, 0, 2, 4, 0, 2, 4, 0, 2, 4, 2, 4, 2, 4, 2, 4, 0, 2, 0, 2, 4, 0, 4, 2, 4, 2, 4, 0, 4, 2, 4, 2, 0, 2, 0, 1, 2, 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 4, 2, 4, 0, 4, 0, 4, 2, 0, 2, 0, 2, 4, 0, 2, 4, 2, 4, 2, 0, 2, 0, 2, 4, 0, 9, 0, 2, 0, 2, 0, 2, 0, 2, 0, 1, 0, 2, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 4, 2, 0, 4, 2, 1, 2, 0, 2, 0, 2, 0, 2, 0, 1, 2], !0)), goog.i18n.GraphemeBreak.inversions_.at(e) }, goog.i18n.GraphemeBreak.hasGraphemeBreak = function (e, t, o) { e = goog.i18n.GraphemeBreak.getBreakProp_(e), t = goog.i18n.GraphemeBreak.getBreakProp_(t); var i = goog.i18n.GraphemeBreak.property; return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(e, t) && !(o && (e == i.PREPEND || t == i.SPACING_MARK)) }, goog.format = {}, goog.format.fileSize = function (e, t) { return goog.format.numBytesToString(e, t, !1) }, goog.format.isConvertableScaledNumber = function (e) { return goog.format.SCALED_NUMERIC_RE_.test(e) }, goog.format.stringToNumericValue = function (e) { return goog.string.endsWith(e, "B") ? goog.format.stringToNumericValue_(e, goog.format.NUMERIC_SCALES_BINARY_) : goog.format.stringToNumericValue_(e, goog.format.NUMERIC_SCALES_SI_) }, goog.format.stringToNumBytes = function (e) { return goog.format.stringToNumericValue_(e, goog.format.NUMERIC_SCALES_BINARY_) }, goog.format.numericValueToString = function (e, t) { return goog.format.numericValueToString_(e, goog.format.NUMERIC_SCALES_SI_, t) }, goog.format.numBytesToString = function (e, t, o) { var i = ""; return goog.isDef(o) && !o || (i = "B"), goog.format.numericValueToString_(e, goog.format.NUMERIC_SCALES_BINARY_, t, i) }, goog.format.stringToNumericValue_ = function (e, t) { var o = e.match(goog.format.SCALED_NUMERIC_RE_); return o ? o[1] * t[o[2]] : NaN }, goog.format.numericValueToString_ = function (e, t, o, i) { var n = goog.format.NUMERIC_SCALE_PREFIXES_, s = e, r = "", a = 1; 0 > e && (e = -e); for (var g = 0; g < n.length; g++) { var l = n[g]; if (e >= (a = t[l]) || 1 >= a && e > .1 * a) { r = l; break } } return r ? i && (r += i) : a = 1, e = Math.pow(10, goog.isDef(o) ? o : 2), Math.round(s / a * e) / e + r }, goog.format.SCALED_NUMERIC_RE_ = /^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/, goog.format.NUMERIC_SCALE_PREFIXES_ = "P T G M K  m u n".split(" "), goog.format.NUMERIC_SCALES_SI_ = { "": 1, n: 1e-9, u: 1e-6, m: .001, k: 1e3, K: 1e3, M: 1e6, G: 1e9, T: 1e12, P: 1e15 }, goog.format.NUMERIC_SCALES_BINARY_ = { "": 1, n: Math.pow(1024, -3), u: Math.pow(1024, -2), m: 1 / 1024, k: 1024, K: 1024, M: Math.pow(1024, 2), G: Math.pow(1024, 3), T: Math.pow(1024, 4), P: Math.pow(1024, 5) }, goog.format.FIRST_GRAPHEME_EXTEND_ = 768, goog.format.insertWordBreaksGeneric_ = function (e, t, o) { if ((o = o || 10) > e.length) return e; for (var i = [], n = 0, s = 0, r = 0, a = 0, g = 0; g < e.length; g++) { var l = a; l = (a = e.charCodeAt(g)) >= goog.format.FIRST_GRAPHEME_EXTEND_ && !t(l, a, !0); n >= o && a > goog.format.WbrToken_.SPACE && !l && (i.push(e.substring(r, g), goog.format.WORD_BREAK_HTML), r = g, n = 0), s ? a == goog.format.WbrToken_.GT && s == goog.format.WbrToken_.LT ? s = 0 : a == goog.format.WbrToken_.SEMI_COLON && s == goog.format.WbrToken_.AMP && (s = 0, n++) : a == goog.format.WbrToken_.LT || a == goog.format.WbrToken_.AMP ? s = a : a <= goog.format.WbrToken_.SPACE ? n = 0 : n++ } return i.push(e.substr(r)), i.join("") }, goog.format.insertWordBreaks = function (e, t) { return goog.format.insertWordBreaksGeneric_(e, goog.i18n.GraphemeBreak.hasGraphemeBreak, t) }, goog.format.conservativelyHasGraphemeBreak_ = function (e, t) { return 1024 <= t && 1315 > t }, goog.format.insertWordBreaksBasic = function (e, t) { return goog.format.insertWordBreaksGeneric_(e, goog.format.conservativelyHasGraphemeBreak_, t) }, goog.format.IS_IE8_OR_ABOVE_ = goog.userAgent.IE && goog.userAgent.isVersion(8), goog.format.WORD_BREAK_HTML = goog.userAgent.WEBKIT ? "<wbr></wbr>" : goog.userAgent.OPERA ? "&shy;" : goog.format.IS_IE8_OR_ABOVE_ ? "&#8203;" : "<wbr>", goog.format.WbrToken_ = { LT: 60, GT: 62, AMP: 38, SEMI_COLON: 59, SPACE: 32 }, goog.i18n.bidi = {}, goog.i18n.bidi.FORCE_RTL = !1, goog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || ("ar" == goog.LOCALE.substring(0, 2).toLowerCase() || "fa" == goog.LOCALE.substring(0, 2).toLowerCase() || "he" == goog.LOCALE.substring(0, 2).toLowerCase() || "iw" == goog.LOCALE.substring(0, 2).toLowerCase() || "ur" == goog.LOCALE.substring(0, 2).toLowerCase() || "yi" == goog.LOCALE.substring(0, 2).toLowerCase()) && (2 == goog.LOCALE.length || "-" == goog.LOCALE.substring(2, 3) || "_" == goog.LOCALE.substring(2, 3)), goog.i18n.bidi.Format = { LRE: "‪", RLE: "‫", PDF: "‬", LRM: "‎", RLM: "‏" }, goog.i18n.bidi.Dir = { RTL: -1, UNKNOWN: 0, LTR: 1 }, goog.i18n.bidi.RIGHT = "right", goog.i18n.bidi.LEFT = "left", goog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT, goog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT, goog.i18n.bidi.toDir = function (e) { return "number" == typeof e ? 0 < e ? goog.i18n.bidi.Dir.LTR : 0 > e ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.UNKNOWN : e ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR }, goog.i18n.bidi.ltrChars_ = "A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜︀-﹯﻽-￿", goog.i18n.bidi.rtlChars_ = "֑-߿יִ-﷿ﹰ-ﻼ", goog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g, goog.i18n.bidi.stripHtmlIfNeeded_ = function (e, t) { return t ? e.replace(goog.i18n.bidi.htmlSkipReg_, " ") : e }, goog.i18n.bidi.rtlCharReg_ = RegExp("[" + goog.i18n.bidi.rtlChars_ + "]"), goog.i18n.bidi.ltrCharReg_ = RegExp("[" + goog.i18n.bidi.ltrChars_ + "]"), goog.i18n.bidi.hasAnyRtl = function (e, t) { return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl, goog.i18n.bidi.hasAnyLtr = function (e, t) { return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.ltrRe_ = RegExp("^[" + goog.i18n.bidi.ltrChars_ + "]"), goog.i18n.bidi.rtlRe_ = RegExp("^[" + goog.i18n.bidi.rtlChars_ + "]"), goog.i18n.bidi.isRtlChar = function (e) { return goog.i18n.bidi.rtlRe_.test(e) }, goog.i18n.bidi.isLtrChar = function (e) { return goog.i18n.bidi.ltrRe_.test(e) }, goog.i18n.bidi.isNeutralChar = function (e) { return !goog.i18n.bidi.isLtrChar(e) && !goog.i18n.bidi.isRtlChar(e) }, goog.i18n.bidi.ltrDirCheckRe_ = RegExp("^[^" + goog.i18n.bidi.rtlChars_ + "]*[" + goog.i18n.bidi.ltrChars_ + "]"), goog.i18n.bidi.rtlDirCheckRe_ = RegExp("^[^" + goog.i18n.bidi.ltrChars_ + "]*[" + goog.i18n.bidi.rtlChars_ + "]"), goog.i18n.bidi.startsWithRtl = function (e, t) { return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl, goog.i18n.bidi.startsWithLtr = function (e, t) { return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr, goog.i18n.bidi.isRequiredLtrRe_ = /^http:\/\/.*/, goog.i18n.bidi.isNeutralText = function (e, t) { return e = goog.i18n.bidi.stripHtmlIfNeeded_(e, t), goog.i18n.bidi.isRequiredLtrRe_.test(e) || !goog.i18n.bidi.hasAnyLtr(e) && !goog.i18n.bidi.hasAnyRtl(e) }, goog.i18n.bidi.ltrExitDirCheckRe_ = RegExp("[" + goog.i18n.bidi.ltrChars_ + "][^" + goog.i18n.bidi.rtlChars_ + "]*$"), goog.i18n.bidi.rtlExitDirCheckRe_ = RegExp("[" + goog.i18n.bidi.rtlChars_ + "][^" + goog.i18n.bidi.ltrChars_ + "]*$"), goog.i18n.bidi.endsWithLtr = function (e, t) { return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr, goog.i18n.bidi.endsWithRtl = function (e, t) { return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl, goog.i18n.bidi.rtlLocalesRe_ = RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)", "i"), goog.i18n.bidi.isRtlLanguage = function (e) { return goog.i18n.bidi.rtlLocalesRe_.test(e) }, goog.i18n.bidi.bracketGuardHtmlRe_ = /(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g, goog.i18n.bidi.bracketGuardTextRe_ = /(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g, goog.i18n.bidi.guardBracketInHtml = function (e, t) { return (void 0 === t ? goog.i18n.bidi.hasAnyRtl(e) : t) ? e.replace(goog.i18n.bidi.bracketGuardHtmlRe_, "<span dir=rtl>$&</span>") : e.replace(goog.i18n.bidi.bracketGuardHtmlRe_, "<span dir=ltr>$&</span>") }, goog.i18n.bidi.guardBracketInText = function (e, t) { var o = (void 0 === t ? goog.i18n.bidi.hasAnyRtl(e) : t) ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM; return e.replace(goog.i18n.bidi.bracketGuardTextRe_, o + "$&" + o) }, goog.i18n.bidi.enforceRtlInHtml = function (e) { return "<" == e.charAt(0) ? e.replace(/<\w+/, "$& dir=rtl") : "\n<span dir=rtl>" + e + "</span>" }, goog.i18n.bidi.enforceRtlInText = function (e) { return goog.i18n.bidi.Format.RLE + e + goog.i18n.bidi.Format.PDF }, goog.i18n.bidi.enforceLtrInHtml = function (e) { return "<" == e.charAt(0) ? e.replace(/<\w+/, "$& dir=ltr") : "\n<span dir=ltr>" + e + "</span>" }, goog.i18n.bidi.enforceLtrInText = function (e) { return goog.i18n.bidi.Format.LRE + e + goog.i18n.bidi.Format.PDF }, goog.i18n.bidi.dimensionsRe_ = /:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g; goog.i18n.bidi.leftRe_ = /left/gi, goog.i18n.bidi.rightRe_ = /right/gi, goog.i18n.bidi.tempRe_ = /%%%%/g, goog.i18n.bidi.mirrorCSS = function (e) { return e.replace(goog.i18n.bidi.dimensionsRe_, ":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_, "%%%%").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT) }, goog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\u0591-\u05f2])"/g, goog.i18n.bidi.singleQuoteSubstituteRe_ = /([\u0591-\u05f2])'/g, goog.i18n.bidi.normalizeHebrewQuote = function (e) { return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, "$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, "$1׳") }, goog.i18n.bidi.wordSeparatorRe_ = /\s+/, goog.i18n.bidi.hasNumeralsRe_ = /\d/, goog.i18n.bidi.rtlDetectionThreshold_ = .4, goog.i18n.bidi.estimateDirection = function (e, t) { for (var o = 0, i = 0, n = !1, s = goog.i18n.bidi.stripHtmlIfNeeded_(e, t).split(goog.i18n.bidi.wordSeparatorRe_), r = 0; r < s.length; r++) { var a = s[r]; goog.i18n.bidi.startsWithRtl(a) ? (o++ , i++) : goog.i18n.bidi.isRequiredLtrRe_.test(a) ? n = !0 : goog.i18n.bidi.hasAnyLtr(a) ? i++ : goog.i18n.bidi.hasNumeralsRe_.test(a) && (n = !0) } return 0 == i ? n ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.UNKNOWN : o / i > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR }, goog.i18n.bidi.detectRtlDirectionality = function (e, t) { return goog.i18n.bidi.estimateDirection(e, t) == goog.i18n.bidi.Dir.RTL }, goog.i18n.bidi.setElementDirAndAlign = function (e, t) { e && (t = goog.i18n.bidi.toDir(t)) != goog.i18n.bidi.Dir.UNKNOWN && (e.style.textAlign = t == goog.i18n.bidi.Dir.RTL ? "right" : "left", e.dir = t == goog.i18n.bidi.Dir.RTL ? "rtl" : "ltr") }, goog.i18n.BidiFormatter = function (e, t) { this.contextDir_ = goog.i18n.bidi.toDir(e), this.alwaysSpan_ = !!t }, goog.i18n.BidiFormatter.prototype.getContextDir = function () { return this.contextDir_ }, goog.i18n.BidiFormatter.prototype.getAlwaysSpan = function () { return this.alwaysSpan_ }, goog.i18n.BidiFormatter.prototype.setContextDir = function (e) { this.contextDir_ = goog.i18n.bidi.toDir(e) }, goog.i18n.BidiFormatter.prototype.setAlwaysSpan = function (e) { this.alwaysSpan_ = e }, goog.i18n.BidiFormatter.prototype.estimateDirection = goog.i18n.bidi.estimateDirection, goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_ = function (e, t) { return 0 > e * t }, goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_ = function (e, t, o, i) { return i && (this.areDirectionalitiesOpposite_(t, this.contextDir_) || this.contextDir_ == goog.i18n.bidi.Dir.LTR && goog.i18n.bidi.endsWithRtl(e, o) || this.contextDir_ == goog.i18n.bidi.Dir.RTL && goog.i18n.bidi.endsWithLtr(e, o)) ? this.contextDir_ == goog.i18n.bidi.Dir.LTR ? goog.i18n.bidi.Format.LRM : goog.i18n.bidi.Format.RLM : "" }, goog.i18n.BidiFormatter.prototype.dirAttrValue = function (e, t) { return this.knownDirAttrValue(this.estimateDirection(e, t)) }, goog.i18n.BidiFormatter.prototype.knownDirAttrValue = function (e) { return e == goog.i18n.bidi.Dir.UNKNOWN && (e = this.contextDir_), e == goog.i18n.bidi.Dir.RTL ? "rtl" : "ltr" }, goog.i18n.BidiFormatter.prototype.dirAttr = function (e, t) { return this.knownDirAttr(this.estimateDirection(e, t)) }, goog.i18n.BidiFormatter.prototype.knownDirAttr = function (e) { return e != this.contextDir_ ? e == goog.i18n.bidi.Dir.RTL ? "dir=rtl" : e == goog.i18n.bidi.Dir.LTR ? "dir=ltr" : "" : "" }, goog.i18n.BidiFormatter.prototype.spanWrap = function (e, t, o) { return this.spanWrapWithKnownDir(this.estimateDirection(e, t), e, t, o) }, goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir = function (e, t, o, i) { i = i || null == i; var n = e != goog.i18n.bidi.Dir.UNKNOWN && e != this.contextDir_; return o || (t = goog.string.htmlEscape(t)), o = [], this.alwaysSpan_ || n ? (o.push("<span"), n && o.push(e == goog.i18n.bidi.Dir.RTL ? " dir=rtl" : " dir=ltr"), o.push(">" + t + "</span>")) : o.push(t), o.push(this.dirResetIfNeeded_(t, e, !0, i)), o.join("") }, goog.i18n.BidiFormatter.prototype.unicodeWrap = function (e, t, o) { return this.unicodeWrapWithKnownDir(this.estimateDirection(e, t), e, t, o) }, goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir = function (e, t, o, i) { i = i || null == i; var n = []; return e != goog.i18n.bidi.Dir.UNKNOWN && e != this.contextDir_ ? (n.push(e == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.Format.RLE : goog.i18n.bidi.Format.LRE), n.push(t), n.push(goog.i18n.bidi.Format.PDF)) : n.push(t), n.push(this.dirResetIfNeeded_(t, e, o, i)), n.join("") }, goog.i18n.BidiFormatter.prototype.markAfter = function (e, t) { return this.dirResetIfNeeded_(e, this.estimateDirection(e, t), t, !0) }, goog.i18n.BidiFormatter.prototype.mark = function () { switch (this.contextDir_) { case goog.i18n.bidi.Dir.LTR: return goog.i18n.bidi.Format.LRM; case goog.i18n.bidi.Dir.RTL: return goog.i18n.bidi.Format.RLM; default: return "" } }, goog.i18n.BidiFormatter.prototype.startEdge = function () { return this.contextDir_ == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT }, goog.i18n.BidiFormatter.prototype.endEdge = function () { return this.contextDir_ == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT }; var soy = {}; soy.StringBuilder = goog.string.StringBuffer, soy.renderElement = function (e, t, o) { e.innerHTML = t(o) }, soy.renderAsFragment = function (e, t) { return goog.dom.htmlToDocumentFragment(e(t)) }, soy.$$augmentData = function (e, t) { function o() { } o.prototype = e; var i, n = new o; for (i in t) n[i] = t[i]; return n }, soy.$$escapeHtml = function (e) { return goog.string.htmlEscape("" + e) }, soy.$$escapeJs = function (e) { e = "" + e; for (var t = [], o = 0; o < e.length; o++)t[o] = goog.string.escapeChar(e.charAt(o)); return t.join("") }, soy.$$escapeUri = function (e) { return goog.string.urlEncode("" + e) }, soy.$$insertWordBreaks = function (e, t) { return goog.format.insertWordBreaks("" + e, t) }, soy.$$changeNewlineToBr = function (e) { return goog.string.newLineToBr("" + e, !1) }, soy.$$bidiFormatterCache_ = {}, soy.$$bidiFormatterInstance_ = function (e) { return soy.$$bidiFormatterCache_[e] || (soy.$$bidiFormatterCache_[e] = new goog.i18n.BidiFormatter(e)) }, soy.$$bidiTextDir = function (e, t) { return e ? goog.i18n.bidi.detectRtlDirectionality(e, t) ? -1 : 1 : 0 }, soy.$$bidiDirAttr = function (e, t, o) { return soy.$$bidiFormatterInstance_(e).dirAttr(t, o) }, soy.$$bidiMarkAfter = function (e, t, o) { return soy.$$bidiFormatterInstance_(e).markAfter(t, o) }, soy.$$bidiSpanWrap = function (e, t) { return soy.$$bidiFormatterInstance_(e).spanWrap(t + "", !0) }, soy.$$bidiUnicodeWrap = function (e, t) { return soy.$$bidiFormatterInstance_(e).unicodeWrap(t + "", !0) }, lime.css = {}, lime.css.css = function (e, t) { var o = t || new soy.StringBuilder; if (o.append(".", "lime-director", " {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.", "lime-director", " div, .", "lime-director", " img, .", "lime-director", " canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.", "lime-scene", " {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.", "lime-fps", " {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.", "lime-layer", " {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.", "lime-cover", " {position: absolute; left: 0px; top: 0px;}.", "lime-button", " {cursor: pointer;}"), !t) return o.toString() }, function () { var e = [[], []], t = [[], []]; lime.setObjectDirty = function (o, i, n) { goog.array.insert((n ? t : e)[i || 0], o) }, lime.clearObjectDirty = function () { }, lime.updateDirtyObjects = function () { for (var o, i = 0; 2 > i; i++) { for (; e[i].length;)(o = e[i][0]).update(i), o.dirty_ = 0, o == e[i][0] && e[i].shift(); e[i] = [] } t = [[], []] } }(), lime.Dirty = { POSITION: 1, SCALE: 2, CONTENT: 4, FONT: 8, ALPHA: 16, VISIBILITY: 32, LAYOUT: 64, ROTATION: 128, ALL: 7 }, lime.AutoResize = { NONE: 0, LEFT: 1, WIDTH: 2, RIGHT: 4, TOP: 8, HEIGHT: 16, BOTTOM: 32, ALL: 63 }, lime.Transition = { POSITION: 1, SCALE: 2, SIZE: 3, ROTATION: 4, OPACITY: 5 }, goog.style.installStyles(lime.css.css(null, null)), lime.Node = function () { goog.events.EventTarget.call(this), this.children_ = [], this.parent_ = null, this.transitionsAdd_ = {}, this.transitionsActive_ = {}, this.transitionsActiveSet_ = {}, this.transitionsClear_ = {}, this.allow3DCSSTransform_ = !0, this.inTree_ = !1, this.scene_ = this.director_ = null, this.eventHandlers_ = {}, this.setScale(1), this.setPosition(0, 0), this.setSize(0, 0), this.quality_ = 1, this.setAnchorPoint(.5, .5), this.setRotation(0), this.setAutoResize(lime.AutoResize.NONE), this.opacity_ = 1, this.setMask(null), this.setRenderer(this.supportedRenderers[0].getType()), this.setDirty(lime.Dirty.LAYOUT) }, goog.inherits(lime.Node, goog.events.EventTarget), lime.Node.prototype.supportedRenderers = [lime.Renderer.DOM, lime.Renderer.CANVAS], lime.Node.prototype.setRenderer = function (e) { if (!this.renderer || this.renderer.getType() != e) { for (var t = -1, o = 0; o < this.supportedRenderers.length; o++)if (this.supportedRenderers[o].getType() == e) { t = o; break } if (-1 == t) return this; for (this.renderer = this.supportedRenderers[o], this.setDirty(lime.Dirty.LAYOUT), o = 0; t = this.children_[o]; o++)t.setRenderer(e) } return this }, lime.Node.prototype.needsDomElement = function () { return !(this.parent_ && this.parent_.renderer.getType() == lime.Renderer.CANVAS) }, lime.Node.prototype.getDeepestDomElement = function () { return this.getDeepestParentWithDom().domElement }, lime.Node.prototype.getDeepestParentWithDom = function () { return this.needsDomElement() ? (this.updateDomElement(), this) : this.parent_ ? this.parent_.getDeepestParentWithDom() : null }, lime.Node.prototype.getParentStack_ = function () { if (!this.parent_ || this instanceof lime.Scene) return []; var e = this.parent_.children_.indexOf(this), t = this.parent_.getParentStack_(); return t.push(e), t }, lime.Node.compareNode = function (e, t) { if (e == t) return 0; for (var o = e.getParentStack_(), i = t.getParentStack_(), n = 0; ;) { if (o.length <= n) return 1; if (i.length <= n) return -1; if (o[n] != i[n]) return o[n] > i[n] ? -1 : 1; n++ } }, lime.Node.prototype.customEvent_ = !1, lime.Node.prototype.getDirty = function () { return this.dirty_ }, lime.Node.prototype.setDirty = function (e, t, o) { if (e && !this.dirty_ && lime.setObjectDirty(this, t, o), this.dirty_ |= e, e == lime.Dirty.LAYOUT) for (var i, n = 0; i = this.children_[n]; n++)i instanceof lime.Node && i.setDirty(lime.Dirty.LAYOUT); return goog.isDef(this.dirty_) && e || (this.dirty_ = 0, lime.clearObjectDirty(this, t, o)), e && this.maskTarget_ && (this.mSet = !1, this.maskTarget_.setDirty(-1)), this }, lime.Node.prototype.getScale = function () { return this.scale_ }, lime.Node.prototype.setScale = function (e, t) { return this.scale_ = 1 == arguments.length && goog.isNumber(e) ? new goog.math.Vec2(e, e) : 2 == arguments.length ? new goog.math.Vec2(arguments[0], arguments[1]) : e, this.transitionsActive_[lime.Transition.SCALE] ? this : this.setDirty(lime.Dirty.SCALE) }, lime.Node.prototype.getPosition = function () { return this.position_ }, lime.Node.prototype.setPosition = function (e, t) { return this.position_ = 2 == arguments.length ? new goog.math.Coordinate(arguments[0], arguments[1]) : e, this.transitionsActive_[lime.Transition.POSITION] ? this : this.setDirty(lime.Dirty.POSITION) }, lime.Node.prototype.getMask = function () { return this.mask_ }, lime.Node.prototype.setMask = function (e) { return e == this.mask_ ? this : (this.mask_ && (this.mask_.releaseDependencies(), delete this.mask_.maskTarget_), (this.mask_ = e) && (this.mask_.setupDependencies(), this.mask_.maskTarget_ = this), this.setDirty(lime.Dirty.CONTENT)) }, lime.Node.prototype.getAnchorPoint = function () { return this.anchorPoint_ }, lime.Node.prototype.setAnchorPoint = function (e, t) { return this.anchorPoint_ = 2 == arguments.length ? new goog.math.Vec2(arguments[0], arguments[1]) : e, this.setDirty(lime.Dirty.POSITION) }, lime.Node.prototype.getRotation = function () { return this.rotation_ %= 360 }, lime.Node.prototype.setRotation = function (e) { return this.rotation_ = e, this.transitionsActive_[lime.Transition.ROTATION] ? this : this.setDirty(lime.Dirty.POSITION) }, lime.Node.prototype.getHidden = function () { return this.hidden_ }, lime.Node.prototype.setHidden = function (e) { return this.hidden_ = e, this.setDirty(lime.Dirty.VISIBILITY), this.autoHide_ = 0, this }, lime.Node.prototype.getSize = function () { return this.size_ }, lime.Node.prototype.setSize = function (e, t) { var o, i, n = this.size_; o = 2 == arguments.length ? new goog.math.Size(arguments[0], arguments[1]) : e; var s = this.getAnchorPoint(); if (n && this.children_.length) for (var r = 0; r < this.children_.length; r++) { var a = this.children_[r]; if (a.getAutoResize) { var g = a.getAutoResize(); if (g != lime.AutoResize.NONE) { var l = a.getBoundingBox(); i = n.width; var d = l.left + s.x * n.width, p = l.right - l.left, c = i - l.right - s.x * n.width; g & lime.AutoResize.LEFT && (i -= d), g & lime.AutoResize.WIDTH && (i -= p), g & lime.AutoResize.RIGHT && (i -= c), i != n.width && (i = (o.width - i) / (n.width - i), g & lime.AutoResize.LEFT && (d *= i), g & lime.AutoResize.WIDTH && (p *= i)), i = n.height; c = l.top + s.y * n.height; var h = l.bottom - l.top; l = i - l.bottom - s.y * n.height; g & lime.AutoResize.TOP && (i -= c), g & lime.AutoResize.HEIGHT && (i -= h), g & lime.AutoResize.BOTTOM && (i -= l), i != n.height && (i = (o.height - i) / (n.height - i), g & lime.AutoResize.TOP && (c *= i), g & lime.AutoResize.HEIGHT && (h *= i)), g = a.getAnchorPoint(), a.setSize(p, h), a.setPosition(d + g.x * p - s.x * o.width, c + g.y * h - s.y * o.height) } } } return this.size_ = o, this.setDirty(lime.Dirty.SCALE) }, lime.Node.prototype.getQuality = function () { return this.quality_ }, lime.Node.prototype.setQuality = function (e) { return this.quality_ != e && (this.quality_ = e, this.setDirty(lime.Dirty.SCALE), this.calcRelativeQuality()), this }, lime.Node.prototype.getRelativeQuality = function () { return this.relativeQuality_ || this.calcRelativeQuality(), this.relativeQuality_ }, lime.Node.prototype.calcRelativeQuality = function () { var e = goog.isDef(this.relativeQuality_) ? this.relativeQuality_ : this.quality_; if (this.parent_ && this.parent_.relativeQuality_ && (e = this.quality_ * this.parent_.relativeQuality_), e != this.relativeQuality_) { this.relativeQuality_ = e; var t; for (e = 0; t = this.children_[e]; e++)t instanceof lime.Node && t.calcRelativeQuality(); this.setDirty(lime.Dirty.SCALE) } }, lime.Node.prototype.getAutoResize = function () { return this.autoResize_ }, lime.Node.prototype.setAutoResize = function (e) { return this.autoResize_ = e, this.setDirty(lime.Dirty.ALL) }, lime.Node.prototype.setAllow3DCSSTransforms = function (e) { return this.allow3DCSSTransform_ = e, this }, lime.Node.prototype.getCSS3DTransformsAllowed = function () { return this.allow3DCSSTransform_ }, lime.Node.prototype.screenToLocal = function (e) { return this.inTree_ ? this.parentToLocal(this.getParent().screenToLocal(e)) : e }, lime.Node.prototype.parentToLocal = function (e) { if (!this.getParent()) return null; if (e.x -= this.position_.x, e.y -= this.position_.y, e.x /= this.scale_.x, e.y /= this.scale_.y, 0 != this.rotation_) { var t = e.clone(), o = this.rotation_ * Math.PI / 180, i = Math.cos(o); o = Math.sin(o); e.x = i * t.x - o * t.y, e.y = i * t.y + o * t.x } return e }, lime.Node.prototype.localToScreen = function (e) { return this.inTree_ ? this.getParent().localToScreen(this.localToParent(e)) : e }, lime.Node.prototype.localToParent = function (e) { if (!this.getParent()) return e; var t = e.clone(); if (0 != this.rotation_) { var o = -this.rotation_ * Math.PI / 180, i = Math.cos(o); o = Math.sin(o); t.x = i * e.x - o * e.y, t.y = i * e.y + o * e.x } return t.x *= this.scale_.x, t.y *= this.scale_.y, t.x += this.position_.x, t.y += this.position_.y, t }, lime.Node.prototype.localToNode = function (e, t) { return this.inTree_ ? t.screenToLocal(this.localToScreen(e)) : e }, lime.Node.prototype.getOpacity = function () { return this.opacity_ }, lime.Node.prototype.setOpacity = function (e) { return this.opacity_ = e, e = this.getHidden(), 0 != this.opacity_ || e ? 0 != this.opacity_ && e && this.autoHide_ && this.setHidden(!1) : (this.setHidden(!0), this.autoHide_ = 1), goog.isDef(this.transitionsActive_[lime.Transition.OPACITY]) ? this : (this.setDirty(lime.Dirty.ALPHA), this) }, lime.Node.prototype.createDomElement = function () { var e = this.renderer.getType() == lime.Renderer.CANVAS ? "canvas" : "div", t = function () { this.domElement = this.rootElement = this.containerElement = goog.dom.createDom(e), this.domClassName && goog.dom.classes.add(this.domElement, this.domClassName), this.dirty_ |= -1 }; if (this.domElement) { if (this.domElement.tagName.toLowerCase() != e) { var o = this.rootElement; t.call(this), o.parentNode && o.parentNode.replaceChild(this.rootElement, o) } } else t.call(this) }, lime.Node.prototype.updateDomElement = function () { this.needsDomElement() ? this.createDomElement() : this.removeDomElement() }, lime.Node.prototype.removeDomElement = function () { this.rootElement && (goog.dom.removeNode(this.rootElement), delete this.domElement, delete this.rootElement, delete this.containerElement) }, lime.Node.prototype.updateLayout = function () { if (this.dirty_ &= ~lime.Dirty.LAYOUT, this.updateDomElement(), this.parent_ && this.parent_.dirty_ & lime.Dirty.LAYOUT) this.parent_.updateLayout(); else if (this.needsDomElement()) { for (var e, t = 0; e = this.children_[t]; t++)e instanceof lime.Node && e.updateLayout(); this.renderer.updateLayout.call(this) } }, lime.Node.prototype.update = function (e) { var t, o; e = e || 0; goog.getUid(this), this.dirty_ & lime.Dirty.LAYOUT && this.updateLayout(); var i = this.renderer.getType() == lime.Renderer.DOM || e; if (i) { for (var n in this.transitionsClear_) delete this.transitionsActive_[n], delete this.transitionsActiveSet_[n], t = lime.Node.getPropertyForTransition(parseInt(n, 10)), lime.style.clearTransition(this.domElement, t), this.domElement != this.containerElement && lime.style.clearTransition(this.continerElement, t); for (n in t = 0, this.transitionsAdd_) (o = this.transitionsAdd_[n])[3] || (o[3] = 1, n == lime.Transition.POSITION && this.positionDrawn_ != this.position_ && (this.setDirty(lime.Dirty.POSITION, 0, !0), t = 1), n == lime.Transition.SCALE && this.scaleDrawn_ != this.scale_ && (this.setDirty(lime.Dirty.SCALE, 0, !0), t = 1), n == lime.Transition.OPACITY && this.opacityDrawn_ != this.opacity_ && (this.setDirty(lime.Dirty.ALPHA, 0, !0), t = 1), n == lime.Transition.ROTATION && this.rotationDrawn_ != this.rotation_ && (this.setDirty(lime.Dirty.ROTATION, 0, !0), t = 1)); if (!t) for (n in this.transitionsAdd_) o = this.transitionsAdd_[n], t = lime.Node.getPropertyForTransition(parseInt(n, 10)), this.renderer.getType() != lime.Renderer.DOM && "opacity" == t || (this.transitionsActive_[n] = o[0], lime.style.setTransition(this.domElement, t, o[1], o[2]), this.domElement != this.containerElement && t == lime.style.transformProperty && lime.style.setTransition(this.containerElement, t, o[1], o[2])), delete this.transitionsAdd_[n]; this.positionDrawn_ = this.position_, this.scaleDrawn_ = this.scale_, this.opacityDrawn_ = this.opacity_, this.rotationDrawn_ = this.rotation_, this.transitionsClear_ = {} } if (e ? this.renderer.drawCanvas.call(this) : (this.renderer.getType() == lime.Renderer.CANVAS && ((o = this.getDeepestParentWithDom()).redraw_ = 1, o == this && this.dirty_ == lime.Dirty.POSITION && !this.mask_ && (o.redraw_ = 0), lime.setObjectDirty(this.getDeepestParentWithDom(), 1)), this.renderer.update.call(this)), i) for (n in this.transitionsActive_) this.transitionsActive_[n] && (this.transitionsActiveSet_[n] = !0); if (this.dependencies_) for (n = 0; n < this.dependencies_.length; n++)this.dependencies_[n].setDirty(lime.Dirty.ALL); this.setDirty(0, e) }, lime.Node.getPropertyForTransition = function (e) { return e == lime.Transition.OPACITY ? "opacity" : lime.style.transformProperty }, lime.Node.prototype.getParent = function () { return this.parent_ ? this.parent_ : null }, lime.Node.prototype.appendChild = function (e, t) { return e instanceof lime.Node && e.getParent() ? e.getParent().removeChild(e) : e.parentNode && goog.dom.removeNode(e), e.parent_ = this, null == t ? this.children_.push(e) : goog.array.insertAt(this.children_, e, t), this.renderer.getType() != lime.Renderer.DOM && e.setRenderer(this.renderer.getType()), e instanceof lime.Node && (e.calcRelativeQuality(), this.inTree_ && e.wasAddedToTree()), this.setDirty(lime.Dirty.LAYOUT) }, lime.Node.prototype.getNumberOfChildren = function () { return this.children_.length }, lime.Node.prototype.getChildAt = function (e) { return 0 <= e && this.getNumberOfChildren() > e ? this.children_[e] : null }, lime.Node.prototype.getChildIndex = function (e) { return this.children_.indexOf(e) }, lime.Node.prototype.removeChild = function (e) { return this.removeChildAt(this.getChildIndex(e)) }, lime.Node.prototype.removeChildAt = function (e) { if (0 <= e && this.getNumberOfChildren() > e) { var t = this.getChildAt(e); return t.maskTarget_ && t.maskTarget_.setMask(null), t instanceof lime.Node ? (this.inTree_ && t.wasRemovedFromTree(), t.removeDomElement(), t.parent_ = null) : goog.dom.removeNode(t), this.children_.splice(e, 1), this.setDirty(lime.Dirty.LAYOUT) } return this }, lime.Node.prototype.removeAllChildren = function () { for (; this.getNumberOfChildren();)this.removeChildAt(0); return this }, lime.Node.prototype.setChildIndex = function (e, t) { var o = this.getChildIndex(e); return -1 != o && o != t ? (this.children_.splice(o, 1), goog.array.insertAt(this.children_, e, t), this.getDirector() && this.getDirector().eventDispatcher.updateDispatchOrder(e), this.setDirty(lime.Dirty.LAYOUT)) : this }, lime.Node.prototype.addEventListener = function (e) { lime.userAgent.SUPPORTS_TOUCH && "mouse" == e.substring(0, 5) || (goog.isDef(this.eventHandlers_[e]) || (this.eventHandlers_[e] = [0, 0]), this.inTree_ && 0 == this.eventHandlers_[e][0] && (this.eventHandlers_[e][0] = 1, this.getDirector().eventDispatcher.register(this, e)), this.eventHandlers_[e][1]++) }, lime.Node.prototype.removeEventListener = function (e) { lime.userAgent.SUPPORTS_TOUCH && "mouse" == e.substring(0, 5) || (this.inTree_ && 1 == this.eventHandlers_[e][1] && (this.eventHandlers_[e][0] = 0, this.getDirector().eventDispatcher.release(this, e)), this.eventHandlers_[e][1]-- , this.eventHandlers_[e][1] || delete this.eventHandlers_[e]) }, lime.Node.prototype.getDirector = function () { return this.inTree_ ? this.director_ : null }, lime.Node.prototype.getScene = function () { return this.inTree_ ? this.scene_ : null }, lime.Node.prototype.wasRemovedFromTree = function () { var e; this.dependencySet_ || this.removeDependency(this.getParent()); for (var t = 0; e = this.children_[t]; t++)e instanceof lime.Node && e.wasRemovedFromTree(); for (var o in this.eventHandlers_) this.eventHandlers_[o][0] = 0, this.getDirector(), this.getDirector().eventDispatcher.release(this, o); this.getDirector().eventDispatcher.updateDispatchOrder(this), this.inTree_ = !1, this.scene_ = this.director_ = null }, lime.Node.prototype.wasAddedToTree = function () { this.inTree_ = !0, this.director_ = this.parent_.getDirector(), this.scene_ = this.parent_.getScene(); for (var e, t = 0; e = this.children_[t]; t++)e instanceof lime.Node && e.wasAddedToTree(); for (var o in this.eventHandlers_) this.eventHandlers_[o][0] = 1, this.getDirector().eventDispatcher.register(this, o); this.dependencySet_ && this.setupDependencies(), this.getDirector().eventDispatcher.updateDispatchOrder(this) }, lime.Node.prototype.setupDependencies = function () { this.dependencySet_ = !0, this.inTree_ && this.addDependency(this.getParent()) }, lime.Node.prototype.addDependency = function (e) { e.dependencies_ || (e.dependencies_ = []), goog.array.insert(e.dependencies_, this), !e && !(e.getParent() instanceof lime.Scene) && this.addDependency(e.getParent()) }, lime.Node.prototype.removeDependency = function (e) { e && e.dependencies_ && (goog.array.remove(e.dependencies_, this), this.removeDependency(e.getParent())) }, lime.Node.prototype.releaseDependencies = function () { delete this.dependencySet_, this.removeDependency(this.getParent()) }, lime.Node.prototype.getFrame = function () { var e = this.getSize(), t = this.getAnchorPoint(); return new goog.math.Box(-e.height * t.y, e.width * (1 - t.x), e.height * (1 - t.y), -e.width * t.x) }, lime.Node.prototype.getBoundingBox = function (e) { var t = e || this.getFrame(), o = (e = new goog.math.Coordinate(t.left, t.top), new goog.math.Coordinate(t.right, t.top)), i = new goog.math.Coordinate(t.left, t.bottom); t = new goog.math.Coordinate(t.right, t.bottom), e = this.localToParent(e), o = this.localToParent(o), i = this.localToParent(i), t = this.localToParent(t); return new goog.math.Box(Math.floor(Math.min(e.y, o.y, i.y, t.y)), Math.ceil(Math.max(e.x, o.x, i.x, t.x)), Math.ceil(Math.max(e.y, o.y, i.y, t.y)), Math.floor(Math.min(e.x, o.x, i.x, t.x))) }, lime.Node.prototype.measureContents = function () { var e = this.getFrame(); e.left == e.right && this.children_.length && (e = this.children_[0].getBoundingBox(this.children_[0].measureContents())); for (var t, o = 0; t = this.children_[o]; o++)1 != t.isMask && e.expandToInclude(t.getBoundingBox(t.measureContents())); return e }, lime.Node.prototype.addTransition = function (e, t, o, i) { this.transitionsAdd_[e] = [t, o, i, 0] }, lime.Node.prototype.clearTransition = function (e) { this.transitionsClear_[e] = 1 }, lime.Node.prototype.hitTest = function (e) { var t = this.screenToLocal(e.screenPosition); return !!this.getFrame().contains(t) && (e.position = t, !0) }, lime.Node.prototype.runAction = function (e) { e.addTarget(this), e.play() }, lime.Layer = function () { lime.Node.call(this), this.domClassName = "lime-layer" }, goog.inherits(lime.Layer, lime.Node), lime.Layer.prototype.hitTest = function (e) { for (var t, o = 0; t = this.children_[o]; o++)if (t.hitTest(e)) return e.position = this.screenToLocal(e.screenPosition), !0; return !1 }, goog.color = {}, goog.color.names = { aliceblue: "#f0f8ff", antiquewhite: "#faebd7", aqua: "#00ffff", aquamarine: "#7fffd4", azure: "#f0ffff", beige: "#f5f5dc", bisque: "#ffe4c4", black: "#000000", blanchedalmond: "#ffebcd", blue: "#0000ff", blueviolet: "#8a2be2", brown: "#a52a2a", burlywood: "#deb887", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", darkkhaki: "#bdb76b", darkmagenta: "#8b008b", darkolivegreen: "#556b2f", darkorange: "#ff8c00", darkorchid: "#9932cc", darkred: "#8b0000", darksalmon: "#e9967a", darkseagreen: "#8fbc8f", darkslateblue: "#483d8b", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", darkturquoise: "#00ced1", darkviolet: "#9400d3", deeppink: "#ff1493", deepskyblue: "#00bfff", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1e90ff", firebrick: "#b22222", floralwhite: "#fffaf0", forestgreen: "#228b22", fuchsia: "#ff00ff", gainsboro: "#dcdcdc", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gray: "#808080", green: "#008000", greenyellow: "#adff2f", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", indianred: "#cd5c5c", indigo: "#4b0082", ivory: "#fffff0", khaki: "#f0e68c", lavender: "#e6e6fa", lavenderblush: "#fff0f5", lawngreen: "#7cfc00", lemonchiffon: "#fffacd", lightblue: "#add8e6", lightcoral: "#f08080", lightcyan: "#e0ffff", lightgoldenrodyellow: "#fafad2", lightgray: "#d3d3d3", lightgreen: "#90ee90", lightgrey: "#d3d3d3", lightpink: "#ffb6c1", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", lightskyblue: "#87cefa", lightslategray: "#778899", lightslategrey: "#778899", lightsteelblue: "#b0c4de", lightyellow: "#ffffe0", lime: "#00ff00", limegreen: "#32cd32", linen: "#faf0e6", magenta: "#ff00ff", maroon: "#800000", mediumaquamarine: "#66cdaa", mediumblue: "#0000cd", mediumorchid: "#ba55d3", mediumpurple: "#9370d8", mediumseagreen: "#3cb371", mediumslateblue: "#7b68ee", mediumspringgreen: "#00fa9a", mediumturquoise: "#48d1cc", mediumvioletred: "#c71585", midnightblue: "#191970", mintcream: "#f5fffa", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", navajowhite: "#ffdead", navy: "#000080", oldlace: "#fdf5e6", olive: "#808000", olivedrab: "#6b8e23", orange: "#ffa500", orangered: "#ff4500", orchid: "#da70d6", palegoldenrod: "#eee8aa", palegreen: "#98fb98", paleturquoise: "#afeeee", palevioletred: "#d87093", papayawhip: "#ffefd5", peachpuff: "#ffdab9", peru: "#cd853f", pink: "#ffc0cb", plum: "#dda0dd", powderblue: "#b0e0e6", purple: "#800080", red: "#ff0000", rosybrown: "#bc8f8f", royalblue: "#4169e1", saddlebrown: "#8b4513", salmon: "#fa8072", sandybrown: "#f4a460", seagreen: "#2e8b57", seashell: "#fff5ee", sienna: "#a0522d", silver: "#c0c0c0", skyblue: "#87ceeb", slateblue: "#6a5acd", slategray: "#708090", slategrey: "#708090", snow: "#fffafa", springgreen: "#00ff7f", steelblue: "#4682b4", tan: "#d2b48c", teal: "#008080", thistle: "#d8bfd8", tomato: "#ff6347", turquoise: "#40e0d0", violet: "#ee82ee", wheat: "#f5deb3", white: "#ffffff", whitesmoke: "#f5f5f5", yellow: "#ffff00", yellowgreen: "#9acd32" }, goog.color.parse = function (e) { var t = {}, o = (e = "" + e, goog.color.prependHashIfNecessaryHelper(e)); if (goog.color.isValidHexColor_(o)) return t.hex = goog.color.normalizeHex(o), t.type = "hex", t; if ((o = goog.color.isValidRgbColor_(e)).length) return t.hex = goog.color.rgbArrayToHex(o), t.type = "rgb", t; if (goog.color.names && (o = goog.color.names[e.toLowerCase()])) return t.hex = o, t.type = "named", t; throw Error(e + " is not a valid color string") }, goog.color.isValidColor = function (e) { var t = goog.color.prependHashIfNecessaryHelper(e); return !(!goog.color.isValidHexColor_(t) && !(goog.color.isValidRgbColor_(e).length || goog.color.names && goog.color.names[e.toLowerCase()])) }, goog.color.parseRgb = function (e) { var t = goog.color.isValidRgbColor_(e); if (!t.length) throw Error(e + " is not a valid RGB color"); return t }, goog.color.hexToRgbStyle = function (e) { return goog.color.rgbStyle_(goog.color.hexToRgb(e)) }, goog.color.hexTripletRe_ = /#(.)(.)(.)/, goog.color.normalizeHex = function (e) { if (!goog.color.isValidHexColor_(e)) throw Error("'" + e + "' is not a valid hex color"); return 4 == e.length && (e = e.replace(goog.color.hexTripletRe_, "#$1$1$2$2$3$3")), e.toLowerCase() }, goog.color.hexToRgb = function (e) { e = goog.color.normalizeHex(e); return [parseInt(e.substr(1, 2), 16), parseInt(e.substr(3, 2), 16), e = parseInt(e.substr(5, 2), 16)] }, goog.color.rgbToHex = function (e, t, o) { if (e = Number(e), t = Number(t), o = Number(o), isNaN(e) || 0 > e || 255 < e || isNaN(t) || 0 > t || 255 < t || isNaN(o) || 0 > o || 255 < o) throw Error('"(' + e + "," + t + "," + o + '") is not a valid RGB color'); return "#" + (e = goog.color.prependZeroIfNecessaryHelper(e.toString(16))) + (t = goog.color.prependZeroIfNecessaryHelper(t.toString(16))) + (o = goog.color.prependZeroIfNecessaryHelper(o.toString(16))) }, goog.color.rgbArrayToHex = function (e) { return goog.color.rgbToHex(e[0], e[1], e[2]) }, goog.color.rgbToHsl = function (e, t, o) { e /= 255, t /= 255, o /= 255; var i = Math.max(e, t, o), n = Math.min(e, t, o), s = 0, r = 0, a = .5 * (i + n); return i != n && (i == e ? s = 60 * (t - o) / (i - n) : i == t ? s = 60 * (o - e) / (i - n) + 120 : i == o && (s = 60 * (e - t) / (i - n) + 240), r = 0 < a && .5 >= a ? (i - n) / (2 * a) : (i - n) / (2 - 2 * a)), [Math.round(s + 360) % 360, r, a] }, goog.color.rgbArrayToHsl = function (e) { return goog.color.rgbToHsl(e[0], e[1], e[2]) }, goog.color.hueToRgb_ = function (e, t, o) { return 0 > o ? o += 1 : 1 < o && (o -= 1), 1 > 6 * o ? e + 6 * (t - e) * o : 1 > 2 * o ? t : 2 > 3 * o ? e + 6 * (t - e) * (2 / 3 - o) : e }, goog.color.hslToRgb = function (e, t, o) { var i = 0, n = 0, s = 0; e /= 360; if (0 == t) i = n = s = 255 * o; else { var r = s = 0; s = 2 * o - (r = .5 > o ? o * (1 + t) : o + t - t * o), i = 255 * goog.color.hueToRgb_(s, r, e + 1 / 3), n = 255 * goog.color.hueToRgb_(s, r, e), s = 255 * goog.color.hueToRgb_(s, r, e - 1 / 3) } return [Math.round(i), Math.round(n), Math.round(s)] }, goog.color.hslArrayToRgb = function (e) { return goog.color.hslToRgb(e[0], e[1], e[2]) }, goog.color.validHexColorRe_ = /^#(?:[0-9a-f]{3}){1,2}$/i, goog.color.isValidHexColor_ = function (e) { return goog.color.validHexColorRe_.test(e) }, goog.color.normalizedHexColorRe_ = /^#[0-9a-f]{6}$/, goog.color.isNormalizedHexColor_ = function (e) { return goog.color.normalizedHexColorRe_.test(e) }, goog.color.rgbColorRe_ = /^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i, goog.color.isValidRgbColor_ = function (e) { if (o = e.match(goog.color.rgbColorRe_)) { e = Number(o[1]); var t = Number(o[2]), o = Number(o[3]); if (0 <= e && 255 >= e && 0 <= t && 255 >= t && 0 <= o && 255 >= o) return [e, t, o] } return [] }, goog.color.prependZeroIfNecessaryHelper = function (e) { return 1 == e.length ? "0" + e : e }, goog.color.prependHashIfNecessaryHelper = function (e) { return "#" == e.charAt(0) ? e : "#" + e }, goog.color.rgbStyle_ = function (e) { return "rgb(" + e.join(",") + ")" }, goog.color.hsvToRgb = function (e, t, o) { var i = 0, n = 0, s = 0; if (0 == t) s = n = i = o; else { var r = Math.floor(e / 60), a = e / 60 - r, g = (e = o * (1 - t), o * (1 - t * a)); t = o * (1 - t * (1 - a)); switch (r) { case 1: i = g, n = o, s = e; break; case 2: i = e, n = o, s = t; break; case 3: i = e, n = g, s = o; break; case 4: i = t, n = e, s = o; break; case 5: i = o, n = e, s = g; break; case 6: case 0: i = o, n = t, s = e } } return [Math.floor(i), Math.floor(n), Math.floor(s)] }, goog.color.rgbToHsv = function (e, t, o) { var i = Math.max(Math.max(e, t), o); if ((s = Math.min(Math.min(e, t), o)) == i) s = e = 0; else { var n = i - s, s = n / i; 0 > (e = 60 * (e == i ? (t - o) / n : t == i ? 2 + (o - e) / n : 4 + (e - t) / n)) && (e += 360), 360 < e && (e -= 360) } return [e, s, i] }, goog.color.rgbArrayToHsv = function (e) { return goog.color.rgbToHsv(e[0], e[1], e[2]) }, goog.color.hsvArrayToRgb = function (e) { return goog.color.hsvToRgb(e[0], e[1], e[2]) }, goog.color.hexToHsl = function (e) { return e = goog.color.hexToRgb(e), goog.color.rgbToHsl(e[0], e[1], e[2]) }, goog.color.hslToHex = function (e, t, o) { return goog.color.rgbArrayToHex(goog.color.hslToRgb(e, t, o)) }, goog.color.hslArrayToHex = function (e) { return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0], e[1], e[2])) }, goog.color.hexToHsv = function (e) { return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e)) }, goog.color.hsvToHex = function (e, t, o) { return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e, t, o)) }, goog.color.hsvArrayToHex = function (e) { return goog.color.hsvToHex(e[0], e[1], e[2]) }, goog.color.hslDistance = function (e, t) { var o, i; return o = .5 >= e[2] ? e[1] * e[2] : e[1] * (1 - e[2]), i = .5 >= t[2] ? t[1] * t[2] : t[1] * (1 - t[2]), (e[2] - t[2]) * (e[2] - t[2]) + o * o + i * i - 2 * o * i * Math.cos(2 * (e[0] / 360 - t[0] / 360) * Math.PI) }, goog.color.blend = function (e, t, o) { return o = goog.math.clamp(o, 0, 1), [Math.round(o * e[0] + (1 - o) * t[0]), Math.round(o * e[1] + (1 - o) * t[1]), Math.round(o * e[2] + (1 - o) * t[2])] }, goog.color.darken = function (e, t) { return goog.color.blend([0, 0, 0], e, t) }, goog.color.lighten = function (e, t) { return goog.color.blend([255, 255, 255], e, t) }, goog.color.highContrast = function (e, t) { for (var o = [], i = 0; i < t.length; i++)o.push({ color: t[i], diff: goog.color.yiqBrightnessDiff_(t[i], e) + goog.color.colorDiff_(t[i], e) }); return o.sort(function (e, t) { return t.diff - e.diff }), o[0].color }, goog.color.yiqBrightness_ = function (e) { return Math.round((299 * e[0] + 587 * e[1] + 114 * e[2]) / 1e3) }, goog.color.yiqBrightnessDiff_ = function (e, t) { return Math.abs(goog.color.yiqBrightness_(e) - goog.color.yiqBrightness_(t)) }, goog.color.colorDiff_ = function (e, t) { return Math.abs(e[0] - t[0]) + Math.abs(e[1] - t[1]) + Math.abs(e[2] - t[2]) }, lime.fill = {}, lime.fill.Fill = function () { goog.events.EventTarget.call(this) }, goog.inherits(lime.fill.Fill, goog.events.EventTarget), lime.fill.Fill.prototype.initForSprite = goog.nullFunction, lime.fill.parse = function (e) { return e[0] instanceof lime.fill.Fill ? e[0] : (goog.isArray(e) || (e = goog.array.toArray(arguments)), 2 < e.length ? new lime.fill.Color(e) : !goog.isString(e[0]) || "rgb(" != e[0].substring(0, 4) && "rgba(" != e[0].substring(0, 5) && "#" != e[0].substring(0, 1) ? new lime.fill.Image(e[0]) : new lime.fill.Color(e[0])) }, lime.fill.Fill.prototype.setDOMStyle = goog.nullFunction, lime.fill.Fill.prototype.setCanvasStyle = goog.nullFunction, goog.color.alpha = {}, goog.color.alpha.parse = function (e) { var t = {}, o = (e = "" + e, goog.color.prependHashIfNecessaryHelper(e)); if (goog.color.alpha.isValidAlphaHexColor_(o)) return t.hex = goog.color.alpha.normalizeAlphaHex_(o), t.type = "hex", t; if ((o = goog.color.alpha.isValidRgbaColor_(e)).length) return t.hex = goog.color.alpha.rgbaArrayToHex(o), t.type = "rgba", t; if ((o = goog.color.alpha.isValidHslaColor_(e)).length) return t.hex = goog.color.alpha.hslaArrayToHex(o), t.type = "hsla", t; throw Error(e + " is not a valid color string") }, goog.color.alpha.hexToRgbaStyle = function (e) { return goog.color.alpha.rgbaStyle_(goog.color.alpha.hexToRgba(e)) }, goog.color.alpha.extractHexColor = function (e) { if (goog.color.alpha.isValidAlphaHexColor_(e)) return e = goog.color.prependHashIfNecessaryHelper(e), goog.color.alpha.normalizeAlphaHex_(e).substring(0, 7); throw Error(e + " is not a valid 8-hex color string") }, goog.color.alpha.extractAlpha = function (e) { if (goog.color.alpha.isValidAlphaHexColor_(e)) return e = goog.color.prependHashIfNecessaryHelper(e), goog.color.alpha.normalizeAlphaHex_(e).substring(7, 9); throw Error(e + " is not a valid 8-hex color string") }, goog.color.alpha.hexQuadrupletRe_ = /#(.)(.)(.)(.)/, goog.color.alpha.normalizeAlphaHex_ = function (e) { if (!goog.color.alpha.isValidAlphaHexColor_(e)) throw Error("'" + e + "' is not a valid alpha hex color"); return 5 == e.length && (e = e.replace(goog.color.alpha.hexQuadrupletRe_, "#$1$1$2$2$3$3$4$4")), e.toLowerCase() }, goog.color.alpha.hexToRgba = function (e) { e = goog.color.alpha.normalizeAlphaHex_(e); return [parseInt(e.substr(1, 2), 16), parseInt(e.substr(3, 2), 16), parseInt(e.substr(5, 2), 16), (e = parseInt(e.substr(7, 2), 16)) / 255] }, goog.color.alpha.rgbaToHex = function (e, t, o, i) { var n = Math.floor(255 * i); if (isNaN(n) || 0 > n || 255 < n) throw Error('"(' + e + "," + t + "," + o + "," + i + '") is not a valid RGBA color'); return i = goog.color.prependZeroIfNecessaryHelper(n.toString(16)), goog.color.rgbToHex(e, t, o) + i }, goog.color.alpha.hslaToHex = function (e, t, o, i) { var n = Math.floor(255 * i); if (isNaN(n) || 0 > n || 255 < n) throw Error('"(' + e + "," + t + "," + o + "," + i + '") is not a valid HSLA color'); return i = goog.color.prependZeroIfNecessaryHelper(n.toString(16)), goog.color.hslToHex(e, t / 100, o / 100) + i }, goog.color.alpha.rgbaArrayToHex = function (e) { return goog.color.alpha.rgbaToHex(e[0], e[1], e[2], e[3]) }, goog.color.alpha.rgbaToRgbaStyle = function (e, t, o, i) { if (isNaN(e) || 0 > e || 255 < e || isNaN(t) || 0 > t || 255 < t || isNaN(o) || 0 > o || 255 < o || isNaN(i) || 0 > i || 1 < i) throw Error('"(' + e + "," + t + "," + o + "," + i + ')" is not a valid RGBA color'); return goog.color.alpha.rgbaStyle_([e, t, o, i]) }, goog.color.alpha.rgbaArrayToRgbaStyle = function (e) { return goog.color.alpha.rgbaToRgbaStyle(e[0], e[1], e[2], e[3]) }, goog.color.alpha.hslaArrayToHex = function (e) { return goog.color.alpha.hslaToHex(e[0], e[1], e[2], e[3]) }, goog.color.alpha.hslaArrayToRgbaStyle = function (e) { return goog.color.alpha.hslaToRgbaStyle(e[0], e[1], e[2], e[3]) }, goog.color.alpha.hslaToRgbaStyle = function (e, t, o, i) { return goog.color.alpha.rgbaStyle_(goog.color.alpha.hslaToRgba(e, t, o, i)) }, goog.color.alpha.hslaToRgba = function (e, t, o, i) { return goog.color.hslToRgb(e, t / 100, o / 100).concat(i) }, goog.color.alpha.rgbaToHsla = function (e, t, o, i) { return goog.color.rgbToHsl(e, t, o).concat(i) }, goog.color.alpha.rgbaArrayToHsla = function (e) { return goog.color.alpha.rgbaToHsla(e[0], e[1], e[2], e[3]) }, goog.color.alpha.validAlphaHexColorRe_ = /^#(?:[0-9a-f]{4}){1,2}$/i, goog.color.alpha.isValidAlphaHexColor_ = function (e) { return goog.color.alpha.validAlphaHexColorRe_.test(e) }, goog.color.alpha.normalizedAlphaHexColorRe_ = /^#[0-9a-f]{8}$/, goog.color.alpha.isNormalizedAlphaHexColor_ = function (e) { return goog.color.alpha.normalizedAlphaHexColorRe_.test(e) }, goog.color.alpha.rgbaColorRe_ = /^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i, goog.color.alpha.hslaColorRe_ = /^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i, goog.color.alpha.isValidRgbaColor_ = function (e) { if (i = e.match(goog.color.alpha.rgbaColorRe_)) { e = Number(i[1]); var t = Number(i[2]), o = Number(i[3]), i = Number(i[4]); if (0 <= e && 255 >= e && 0 <= t && 255 >= t && 0 <= o && 255 >= o && 0 <= i && 1 >= i) return [e, t, o, i] } return [] }, goog.color.alpha.isValidHslaColor_ = function (e) { if (i = e.match(goog.color.alpha.hslaColorRe_)) { e = Number(i[1]); var t = Number(i[2]), o = Number(i[3]), i = Number(i[4]); if (0 <= e && 360 >= e && 0 <= t && 100 >= t && 0 <= o && 100 >= o && 0 <= i && 1 >= i) return [e, t, o, i] } return [] }, goog.color.alpha.rgbaStyle_ = function (e) { return "rgba(" + e.join(",") + ")" }, goog.color.alpha.hsvaToHex = function (e, t, o, i) { return i = Math.floor(255 * i), goog.color.hsvArrayToHex([e, t, o]) + goog.color.prependZeroIfNecessaryHelper(i.toString(16)) }, goog.color.alpha.hsvaArrayToHex = function (e) { return goog.color.alpha.hsvaToHex(e[0], e[1], e[2], e[3]) }, lime.fill.Color = function (e) { lime.fill.Fill.call(this), this.a = 1, this.setColor(e) }, goog.inherits(lime.fill.Color, lime.fill.Fill), lime.fill.Color.prototype.id = "color", lime.fill.Color.prototype.getRgba = function () { var e = null; if (goog.isNumber(this.r) && goog.isNumber(this.g) && goog.isNumber(this.b)) e = [this.r, this.g, this.b, this.a]; else if (goog.isString(this.str)) { var t = goog.color.parse(this.str); "named" != t.type && (e = goog.color.hexToRgb(t.hex)), e.push(1) } return e }, lime.fill.Color.prototype.addBrightness = function (e) { return this.modifyColor(2, e) }, lime.fill.Color.prototype.modifyColor = function (e, t) { var o = t || .1, i = this.getRgba(); return i ? (i.pop(), (i = goog.color.rgbArrayToHsl(i))[e] += o, 1 < i[e] && (i[e] = 1), (i = goog.color.hslArrayToRgb(i)).push(this.a), this.setColor(i)) : this }, lime.fill.Color.prototype.addSaturation = function (e) { return this.modifyColor(1, e) }, lime.fill.Color.prototype.setColor = function (e) { var t = e; return goog.isString(e) ? (this.str = e, this) : (2 < arguments.length && (t = arguments), 3 <= t.length && (this.r = t[0], this.g = t[1], this.b = t[2]), 4 == t.length && (this.a = t[3]), this.str = 1 == this.a ? "rgb(" + this.r + "," + this.g + "," + this.b + ")" : "rgba(" + this.r + "," + this.g + "," + this.b + "," + this.a + ")", this) }, lime.fill.Color.prototype.setDOMStyle = function (e) { e.style.background = this.str }, lime.fill.Color.prototype.setCanvasStyle = function (e) { e.fillStyle = this.str }, lime.fill.Color.prototype.clone = function () { var e = new lime.fill.Color(""); return e.r = this.r, e.g = this.g, e.b = this.b, e.a = this.a, e.str = this.str, e }, lime.fill.Stroke = function (e, t) { lime.fill.Fill.call(this); var o = goog.isArray(e) ? e : goog.array.toArray(arguments); this.width_ = o[0] || 1, o.shift(), this.setColor.apply(this, o) }, goog.inherits(lime.fill.Stroke, lime.fill.Fill), lime.fill.Stroke.prototype.id = "stroke", lime.fill.Stroke.prototype.setDOMStyle = function (e) { e.style.border = this.width_ + "px solid " + this.color_.str }, lime.fill.Stroke.prototype.setCanvasStyle = function (e) { e.strokeStyle = this.color_.str, e.lineWidth = this.width_ }, lime.fill.Stroke.prototype.getWidth = function () { return this.width_ }, lime.fill.Stroke.prototype.setWidth = function (e) { return this.width_ = e, this }, lime.fill.Stroke.prototype.getColor = function () { return this.color_ }, lime.fill.Stroke.prototype.setColor = function (e) { var t = goog.array.toArray(arguments); return t[0] instanceof lime.fill.Color ? this.color_ = t[0] : (this.color_ = new lime.fill.Color("#000"), t.length && this.color_.setColor.apply(this.color_, t)), this }, lime.fill.Stroke.prototype.clone = function () { var e = new lime.fill.Stroke; return e.width_ = this.width_, e.color_ = this.color_, e }, lime.fill.Image = function (e) { lime.fill.Fill.call(this), e && goog.isFunction(e.data) && (e = e.data()), goog.isString(e) ? (this.url_ = e, 50 < this.url_.length && (this.url_ = this.url_.substr(-50)), lime.fill.Image.loadedImages_[this.url_] ? this.image_ = lime.fill.Image.loadedImages_[this.url_] : (this.image_ = new Image, this.image_.src = e)) : (this.url_ = e.src, 50 < this.url_.length && (this.url_ = this.url_.substr(-50)), this.image_ = lime.fill.Image.loadedImages_[this.url_] ? lime.fill.Image.loadedImages_[this.url_] : e), this.isLoaded() || this.addLoadHandler_(), lime.fill.Image.loadedImages_[this.url_] = this.image_ }, goog.inherits(lime.fill.Image, lime.fill.Fill), lime.fill.Image.loadedImages_ = {}, lime.fill.Image.prototype.id = "image", lime.fill.Image.prototype.initForSprite = function (e) { var t = e.getSize(), o = this; !t.width && !t.height && (this.isLoaded() ? e.setSize(this.image_.width, this.image_.height) : goog.events.listen(this, goog.events.EventType.LOAD, function () { var e = this.getSize(); !e.width && !e.height && this.setSize(o.image_.width, o.image_.height) }, !1, e)), this.isLoaded() || goog.events.listen(this, goog.events.EventType.LOAD, function () { e.setDirty(lime.Dirty.CONTENT) }, !1, this) }, lime.fill.Image.prototype.addLoadHandler_ = function () { goog.events.listen(this.image_, goog.events.EventType.LOAD, this.imageLoadedHandler_, !1, this) }, lime.fill.Image.prototype.imageLoadedHandler_ = function (e) { this.dispatchEvent(e) }, lime.fill.Image.prototype.getImageElement = function () { return this.image_ }, lime.fill.Image.prototype.isLoaded = function () { return !(!this.image_ || !this.image_.width || !this.image_.height) }, lime.fill.Image.prototype.setSize = function (e, t, o) { return goog.isNumber(e) && (e = new goog.math.Size(e, t), t = o || !1), this.size_ = e, this.size_perc_ = t, this }, lime.fill.Image.prototype.setOffset = function (e, t, o) { return goog.isNumber(e) && (e = new goog.math.Coordinate(e, t), t = o || !1), this.offset_ = e, this.offset_perc_ = t, this }, lime.fill.Image.prototype.getPixelSizeAndOffset = function (e) { e = e.getSize().clone(), this.size_ && (this.size_perc_ ? (e.width *= this.size_.width, e.height *= this.size_.height) : e = this.size_); var t = new goog.math.Coordinate(0, 0); return this.offset_ && (this.offset_perc_ ? (t.x = e.width * this.offset_.x, t.y = e.height * this.offset_.y) : t = this.offset_), [e, t] }, lime.fill.Image.prototype.setDOMBackgroundProp_ = function (e, t) { var o = (i = this.getPixelSizeAndOffset(t))[0], i = i[1], n = t.getRelativeQuality(); e.style[lime.style.getCSSproperty("BackgroundSize")] = o.width * n + "px " + o.height * n + "px", o = t.stroke_ ? t.stroke_.width_ : 0, e.style.backgroundPosition = i.x * n - o + "px " + (i.y * n - o) + "px", this.qualityRenderer && (e.style.imageRendering = "optimizeQuality") }, lime.fill.Image.prototype.setDOMStyle = function (e, t) { e.style.background = "url(" + this.image_.src + ")", this.setDOMBackgroundProp_(e, t) }, lime.fill.Image.prototype.setCanvasStyle = function (e, t) { var o = t.getSize(), i = t.getFrame(); if (o.width && o.height) try { var n = this.getImageElement(), s = this.getPixelSizeAndOffset(t), r = s[0], a = s[1], g = e.createPattern(n, "repeat"), l = r.width / n.width, d = r.height / n.height; e.save(), e.translate(i.left + a.x, i.top + a.y), e.scale(l, d), e.fillStyle = g, e.fillRect(-a.x / l, -a.y / d, o.width / l, o.height / d), e.restore() } catch (e) { } }, lime.Renderer.CANVAS.SPRITE = {}, lime.Renderer.DOM.SPRITE = {}, lime.Sprite = function () { lime.Node.call(this), this.stroke_ = this.fill_ = null }, goog.inherits(lime.Sprite, lime.Node), lime.Sprite.prototype.id = "sprite", lime.Sprite.prototype.supportedRenderers = [lime.Renderer.DOM.makeSubRenderer(lime.Renderer.DOM.SPRITE), lime.Renderer.CANVAS.makeSubRenderer(lime.Renderer.CANVAS.SPRITE)], lime.Sprite.prototype.getFill = function () { return this.fill_ }, lime.Sprite.prototype.setFill = function (e, t, o, i) { return this.fill_ = lime.fill.parse(goog.array.toArray(arguments)), this.fill_.initForSprite(this), this.setDirty(lime.Dirty.CONTENT), this }, lime.Sprite.prototype.getStroke = function () { return this.stroke_ }, lime.Sprite.prototype.setStroke = function (e) { return e && !(e instanceof lime.fill.Stroke) && (e = new lime.fill.Stroke(goog.array.toArray(arguments))), this.stroke_ = e, this.setDirty(lime.Dirty.CONTENT), this }, lime.Sprite.prototype.getCanvasContextName_ = function () { var e = 0; return function () { return goog.isDef(this.canvasContextName_) || (this.canvasContextName_ = "limedc" + e++), this.canvasContextName_ } }(), lime.Renderer.DOM.SPRITE.draw = function (e) { goog.isNull(this.fill_) || this.fill_.setDOMStyle(e, this), goog.isNull(this.stroke_) ? goog.style.setStyle(e, "border-width", 0) : this.stroke_.setDOMStyle(e, this) }, lime.Renderer.CANVAS.SPRITE.draw = function (e) { var t = this.getSize(), o = this.fill_, i = this.stroke_; if (o || i) { var n = this.getFrame(); o && (o.setCanvasStyle(e, this), "image" != o.id && "frame" != o.id && e.fillRect(n.left, n.top, t.width, t.height)), i && (i.setCanvasStyle(e, this), "sprite" == this.id || "label" == this.id) && (o = i.width_ / 2, e.strokeRect(n.left + o, n.top + o, t.width - 2 * o, t.height - 2 * o)) } }, lime.Node.prototype.getPosition = function () { return this.position_ }, lime.Node.prototype.localToScreen = function (e) { return this.inTree_ ? this.getParent().localToScreen(this.localToParent(e)) : e }, goog.provide("lime.audio.Audio"), goog.require("goog.events"), goog.require("goog.events.EventTarget"), goog.require("lime.userAgent"), lime.audio.Audio = function (e) { goog.events.EventTarget.call(this), e && goog.isFunction(e.data) && (e = e.data()), this.loaded_ = !1, this.playing_ = !1, goog.userAgent.GECKO && /\.mp3$/.test(e) && (e = e.replace(/\.mp3$/, ".ogg")), lime.audio.AudioContext ? (this.volume_ = 1, this.prepareContext_(), this.loadBuffer(e, goog.bind(this.bufferLoadedHandler_, this))) : (this.baseElement = document.createElement("audio"), this.baseElement.preload = !0, this.baseElement.loop = !1, this.baseElement.src = e, this.baseElement.load(), this.baseElement.addEventListener("ended", goog.bind(this.onEnded_, this)), this.loadInterval = setInterval(goog.bind(this.loadHandler_, this), 10), this.loaded_ = !1) }, goog.inherits(lime.audio.Audio, goog.events.EventTarget), lime.audio.AudioContext = goog.global.AudioContext || goog.global.webkitAudioContext, lime.audio._buffers = {}, lime.audio.supportsMultiChannel = lime.audio.AudioContext || !(lime.userAgent.IOS || lime.userAgent.WINPHONE), lime.audio.Audio.prototype.prepareContext_ = function () { if (!lime.audio.context) { var e = lime.audio.context = new lime.audio.AudioContext; (lime.audio.masterGain = e.createGain()).connect(e.destination) } }, lime.audio.Audio.prototype.loadBuffer = function (e, t) { var o = lime.audio._buffers; if (o[e] && o[e].buffer) t(o[e].buffer, e); else if (o[e]) o[e].push(t); else { o[e] = [t]; var i = new XMLHttpRequest; i.open("GET", e, !0), i.responseType = "arraybuffer", i.onload = function () { lime.audio.context.decodeAudioData(i.response, function (t) { if (!t) return console.error("Error decoding file:", e); var i = o[e]; o[e] = { buffer: t }; for (var n = 0; n < i.length; n++)i[n](t, e) }, function (e) { console.error("Error decoding file", e) }) }, i.onerror = function () { console.error("XHR error loading file:", e) }, i.send() } }, lime.audio.Audio.prototype.bufferLoadedHandler_ = function (e, t) { this.buffer = e, this.loaded_ = !0; var o = new goog.events.Event("loaded"); o.event = null, this.dispatchEvent(o), this.autoplay_ && this.play.apply(this, this.autoplay_) }, lime.audio.Audio.prototype.onEnded_ = function (e) { this.playing_ = !1; var t = new goog.events.Event("ended"); t.event = e, this.dispatchEvent(t), this.playPosition_ = 0; var o = lime.audio.AudioContext ? this.playTime_ + this.buffer.duration - this.playPositionCache - .05 : 0; if (this.next_) for (var i = 0; i < this.next_.length; i++)this.next_[i][0].play(this.next_[i][1], o); else !1 !== t.returnValue_ && this.loop_ && this.play(this.loop_, o) }, lime.audio.Audio.prototype.loadHandler_ = function () { this.baseElement.readyState > 2 && (this.bufferLoadedHandler_(), clearTimeout(this.loadInterval)), this.baseElement.error && clearTimeout(this.loadInterval), lime.userAgent.IOS && 0 == this.baseElement.readyState && (this.bufferLoadedHandler_(), clearTimeout(this.loadInterval)) }, lime.audio.Audio.prototype.isLoaded = function () { return this.loaded_ }, lime.audio.Audio.prototype.isPlaying = function () { return this.playing_ }, lime.audio.Audio.prototype.play = function (e) { if (this.isLoaded() || (this.autoplay_ = goog.array.toArray(arguments)), this.isLoaded() && !this.isPlaying() && !lime.audio.getMute()) { if (lime.audio.AudioContext) { this.source && this.source.playbackState == this.source.FINISHED_STATE && (this.playPosition_ = 0), this.source = lime.audio.context.createBufferSource(), this.source.buffer = this.buffer, this.gain = lime.audio.context.createGain(), this.gain.connect(lime.audio.masterGain), this.source.connect(this.gain), this.playTime_ = lime.audio.context.currentTime; var t = arguments[1] || 0; this.playPosition_ > 0 ? this.source.start(t, this.playPosition_, this.buffer.duration - this.playPosition_) : this.source.start(t), this.playPositionCache = this.playPosition_, this.endTimeout_ = setTimeout(goog.bind(this.onEnded_, this), 1e3 * (this.buffer.duration - (this.playPosition_ || 0)) - 150) } else this.baseElement.play(); this.playing_ = !0, this.loop_ = !!e, -1 == lime.audio._playQueue.indexOf(this) && lime.audio._playQueue.push(this) } }, lime.audio.Audio.prototype.stop = function () { this.isLoaded() || (this.autoplay_ = null), this.isPlaying() && (lime.audio.AudioContext ? (clearTimeout(this.endTimeout_), this.playPosition_ = lime.audio.context.currentTime - this.playTime_ + (this.playPosition_ || 0), this.playPosition_ > this.buffer.duration && (this.playPosition_ = 0), this.gain.disconnect(lime.audio.masterGain), this.source = null) : this.baseElement.pause(), this.playing_ = !1) }, lime.audio._isMute = !1, lime.audio._playQueue = [], lime.audio.getMute = function () { return lime.audio._isMute }, lime.audio.setMute = function (e) { if (e && !lime.audio._isMute) { for (var t = 0; t < lime.audio._playQueue.length; t++)lime.audio._playQueue[t].stop(); lime.audio._playQueue = [] } lime.audio._isMute = e }, lime.audio.Audio.prototype.setVolume = function (e) { lime.audio.AudioContext ? (this.volume_ = e, this.gain && (this.gain.gain.value = e)) : this.baseElement.volume = e }, lime.audio.Audio.prototype.getVolume = function () { return lime.audio.AudioContext ? this.volume_ : this.baseElement.volume }; var imgArray = new Array; imgArray[0] = new Image, imgArray[0].src = "images/blacksmith1.png", imgArray[1] = new Image, imgArray[1].src = "images/blacksmith2.png", imgArray[2] = new Image, imgArray[2].src = "images/blacksmith3.png", imgArray[3] = new Image, imgArray[3].src = "images/blacksmith4.png", imgArray[4] = new Image, imgArray[4].src = "images/blacksmith5.png", imgArray[5] = new Image, imgArray[5].src = "images/blacksmith6.png", imgArray[6] = new Image, imgArray[6].src = "images/blacksmith7.png", imgArray[7] = new Image, imgArray[7].src = "images/blacksmith8.png", imgArray[8] = new Image, imgArray[8].src = "images/blacksmith9.png", imgArray[9] = new Image, imgArray[9].src = "images/blacksmith10.png", imgArray[10] = new Image, imgArray[10].src = "images/blacksmith11.png", imgArray[11] = new Image, imgArray[11].src = "images/blacksmith12.png", imgArray[12] = new Image, imgArray[12].src = "images/blacksmith13.png", imgArray[13] = new Image, imgArray[13].src = "images/blacksmith14.png", imgArray[14] = new Image, imgArray[14].src = "images/UI/CoverImg.png", imgArray[15] = new Image, imgArray[15].src = "images/UI/greySound.png", imgArray[16] = new Image, imgArray[16].src = "images/UI/greySoundOff.png"; var imgArray2 = new Array; imgArray2[0] = new Image, imgArray2[0].src = "images/artiGrow1.png", imgArray2[1] = new Image, imgArray2[1].src = "images/artiGrow2.png", imgArray2[2] = new Image, imgArray2[2].src = "images/plowed.png", imgArray2[3] = new Image, imgArray2[3].src = "images/tomatoGrow1.png", imgArray2[4] = new Image, imgArray2[4].src = "images/tomatoGrow2.png", imgArray2[5] = new Image, imgArray2[5].src = "images/pepperGrow1.png", imgArray2[6] = new Image, imgArray2[6].src = "images/pepperGrow2.png", imgArray2[7] = new Image, imgArray2[7].src = "images/cornGrow1.png", imgArray2[8] = new Image, imgArray2[8].src = "images/cornGrow2.png", imgArray2[9] = new Image, imgArray2[9].src = "images/eggplantGrow1.png", imgArray2[10] = new Image, imgArray2[10].src = "images/eggplantGrow2.png", imgArray2[11] = new Image, imgArray2[11].src = "images/carrotGrow1.png", imgArray2[12] = new Image, imgArray2[12].src = "images/carrotGrow2.png", imgArray2[13] = new Image, imgArray2[13].src = "images/hayGrow1.png", imgArray2[14] = new Image, imgArray2[14].src = "images/hayGrow2.png"; var imgArray3 = new Array; imgArray3[0] = new Image, imgArray3[0].src = "images/livestockPens/chicken_down1.png", imgArray3[1] = new Image, imgArray3[1].src = "images/livestockPens/chicken_down2.png", imgArray3[2] = new Image, imgArray3[2].src = "images/livestockPens/chicken_down3.png", imgArray3[3] = new Image, imgArray3[3].src = "images/livestockPens/chicken_eatLeft1.png", imgArray3[4] = new Image, imgArray3[4].src = "images/livestockPens/chicken_eatLeft2.png", imgArray3[5] = new Image, imgArray3[5].src = "images/livestockPens/chicken_eatLeft3.png", imgArray3[6] = new Image, imgArray3[6].src = "images/livestockPens/chicken_eatLeft4.png", imgArray3[7] = new Image, imgArray3[7].src = "images/livestockPens/chicken_eatRight1.png", imgArray3[8] = new Image, imgArray3[8].src = "images/livestockPens/chicken_eatRight2.png", imgArray3[9] = new Image, imgArray3[9].src = "images/livestockPens/chicken_up1.png", imgArray3[10] = new Image, imgArray3[10].src = "images/livestockPens/chicken_up2.png", imgArray3[11] = new Image, imgArray3[11].src = "images/livestockPens/chicken_up3.png", imgArray3[12] = new Image, imgArray3[12].src = "images/livestockPens/chicken_walkLeft1.png", imgArray3[13] = new Image, imgArray3[13].src = "images/livestockPens/chicken_walkLeft2.png", imgArray3[14] = new Image, imgArray3[14].src = "images/livestockPens/chicken_walkLeft3.png", imgArray3[15] = new Image, imgArray3[15].src = "images/livestockPens/chicken_walkRight1.png", imgArray3[16] = new Image, imgArray3[16].src = "images/livestockPens/chicken_walkRight2.png", imgArray3[17] = new Image, imgArray3[17].src = "images/livestockPens/chicken_walkRight3.png", imgArray3[18] = new Image, imgArray3[18].src = "images/livestockPens/chicken_walkRight4.png", imgArray3[19] = new Image, imgArray3[19].src = "images/livestockPens/eggs.png", imgArray3[20] = new Image, imgArray3[20].src = "images/livestockPens/hams.png", imgArray3[21] = new Image, imgArray3[21].src = "images/livestockPens/pig_Left3.png"; var imgArray4 = new Array; imgArray4[0] = new Image, imgArray4[0].src = "images/Orchard/girlF1.png", imgArray4[1] = new Image, imgArray4[1].src = "images/Orchard/girlF2.png", imgArray4[2] = new Image, imgArray4[2].src = "images/Orchard/girlF3.png", imgArray4[3] = new Image, imgArray4[3].src = "images/Orchard/girlUp1.png", imgArray4[4] = new Image, imgArray4[4].src = "images/Orchard/girlUp2.png", imgArray4[5] = new Image, imgArray4[5].src = "images/Orchard/girlUp3.png", imgArray4[6] = new Image, imgArray4[6].src = "images/Orchard/girlR1.png", imgArray4[7] = new Image, imgArray4[7].src = "images/Orchard/girlL1.png", imgArray4[8] = new Image, imgArray4[8].src = "images/Orchard/prune_trees.png", imgArray4[9] = new Image, imgArray4[9].src = "images/Orchard/fertilize_trees.png", imgArray4[10] = new Image, imgArray4[10].src = "images/Orchard/growing3_trees.png", imgArray4[11] = new Image, imgArray4[11].src = "images/Orchard/growing4_trees.png", imgArray4[12] = new Image, imgArray4[12].src = "images/Orchard/ready_Apples.png", imgArray4[13] = new Image, imgArray4[13].src = "images/Orchard/ready_treesPear.png", imgArray4[14] = new Image, imgArray4[14].src = "images/Orchard/treeBlockO.png", imgArray4[15] = new Image, imgArray4[15].src = "images/Orchard/OrchardBack4.png", imgArray4[16] = new Image, imgArray4[16].src = "images/Orchard/growing22_trees.png"; var imgArray5 = new Array; imgArray5[0] = new Image, imgArray5[0].src = "images/UI/tut1.png", imgArray5[1] = new Image, imgArray5[1].src = "images/UI/tut2.png", imgArray5[2] = new Image, imgArray5[2].src = "images/UI/tut3.png", imgArray5[3] = new Image, imgArray5[3].src = "images/UI/tut4.png", imgArray5[4] = new Image, imgArray5[4].src = "images/UI/tut5.png", imgArray5[5] = new Image, imgArray5[5].src = "images/UI/tut6.png", imgArray5[6] = new Image, imgArray5[6].src = "images/UI/tut7.png", imgArray5[7] = new Image, imgArray5[7].src = "images/UI/tut8.png"; var imgArray6 = new Array; imgArray6[0] = new Image, imgArray6[0].src = "images/UI/barn1.png", imgArray6[1] = new Image, imgArray6[1].src = "images/UI/barn2.png", imgArray6[2] = new Image, imgArray6[2].src = "images/UI/barn3.png", imgArray6[3] = new Image, imgArray6[3].src = "images/UI/barn4.png", imgArray6[4] = new Image, imgArray6[4].src = "images/UI/barn5.png", imgArray6[5] = new Image, imgArray6[5].src = "images/bare_land.png", imgArray6[6] = new Image, imgArray6[6].src = "images/plowed.png"; var moneyBefore = 0, farming = { EMPTY: 0, PLOWED: 1, GROWING: 2, READY: 3, Land: function (e, t, o, i, n) { lime.Sprite.call(this), this.setAnchorPoint(0, 0), this.setSize(e.tile_size, e.tile_size), this.setFill(imgArray6[5]), 3 == n && this.setFill("images/Orchard/prune_trees.png"), 32 == n && this.setFill("images/Orchard/prune_trees.png"), 5 == n && this.setFill("images/vinyard/grapes_ClearBrush.png"), this.state = farming.EMPTY; var s = this; this.crop, goog.math.Coordinate(this); goog.events.listen(this, ["mousedown", "touchstart"], function (r) { 32 == n && (t.currentCrop = 9), 3 == n && (t.currentCrop = 8); var a = e.crops[t.currentCrop].grow1; moneyBefore = player.money, r.event.stopPropagation(), s.state == farming.EMPTY ? (s.setFill("images/plowed.png"), s.state = farming.PLOWED, 3 == n && s.setFill("images/Orchard/fertilize_trees.png"), 32 == n && s.setFill("images/Orchard/fertilize_trees.png"), 5 == n && s.setFill("images/vinyard/grapes_Fertilize.png")) : s.state == farming.PLOWED && player.money >= e.crops[t.currentCrop].cost ? (s.setFill("images/" + a), s.state = farming.GROWING, s.crop = t.currentCrop, s.ripeTime = 2e3 * e.crops[t.currentCrop].time_to_ripe, s.deathTime = 2e3 * e.crops[t.currentCrop].time_to_death, player.money = player.money - e.crops[t.currentCrop].cost, e.updateMoney(), e.displayCost(o, i, e.crops[t.currentCrop].cost)) : s.state == farming.PLOWED && player.money < e.crops[t.currentCrop].cost ? e.displayCost(o, i, e.crops[t.currentCrop].cost + " Required") : s.state == farming.READY && (s.setFill("images/bare_land.png"), 3 == n && s.setFill("images/Orchard/prune_trees.png"), 32 == n && s.setFill("images/Orchard/prune_trees.png"), 5 == n && s.setFill("images/vinyard/grapes_ClearBrush.png"), s.state = farming.EMPTY, player.cropsStored[s.crop].stored += 1, pickedEver += 1, e.updateMoney(), e.updateHarvest(o, i, s.crop), e.updateStored(), e.haySize()) }), 3 == n && s.state == farming.EMPTY && s.setFill("images/Orchard/prune_trees.png"), 32 == n && s.state == farming.EMPTY && s.setFill("images/Orchard/prune_trees.png"), 5 == n && s.state == farming.EMPTY && s.setFill("images/vinyard/grapes_ClearBrush.png"), dt = 2e3, lime.scheduleManager.scheduleWithDelay(function () { this.state == farming.GROWING ? 0 >= this.ripeTime ? (this.state = farming.READY, this.setFill("images/" + e.crops[this.crop].image)) : this.ripeTime -= 2e3 : this.state == farming.READY && (0 >= this.deathTime ? (this.state = farming.EMPTY, this.setFill("images/bare_land.png")) : this.deathTime -= 2e3), 8 == e.crops[this.crop] && this.deathTime < 0 && this.setFill("images/Orchard/prune_trees.png"), 9 == e.crops[this.crop] && this.deathTime < 0 && this.setFill("images/Orchard/prune_trees.png"), 12 == e.crops[this.crop] && this.deathTime < 0 && this.setFill("images/vinyard/grapes_ClearBrush.png"), this.state == farming.GROWING && (9e3 >= this.ripeTime ? this.setFill("images/" + e.crops[this.crop].grow2) : this.deathTime -= 2e3), 3 == n && s.state == farming.EMPTY && s.setFill("images/Orchard/prune_trees.png"), 32 == n && s.state == farming.EMPTY && s.setFill("images/Orchard/prune_trees.png"), 5 == n && s.state == farming.EMPTY && s.setFill("images/vinyard/grapes_ClearBrush.png") }, this, dt) } }; goog.inherits(farming.Land, lime.Sprite), lime.Scene = function () { lime.Node.call(this), this.setAnchorPoint(0, 0), this.domClassName = "lime-scene", this.createDomElement() }, goog.inherits(lime.Scene, lime.Node), lime.Scene.prototype.getScene = function () { return this }, lime.Scene.prototype.measureContents = function () { return this.getFrame() }, lime.Button = function (e, t) { lime.Layer.call(this), this.domClassName = "lime-button", goog.isDef(e) && this.setUpState(e), goog.isDef(t) && this.setDownState(t); var o = this; goog.events.listen(this, ["mousedown", "touchstart", "touchmove"], function (e) { o.setState(lime.Button.State.DOWN), e.swallow("mousemove", function (e) { o.hitTest(e) ? o.setState(lime.Button.State.DOWN) : o.setState(lime.Button.State.UP) }), e.swallow("touchmove", function (e) { o.hitTest(e) || (o.setState(lime.Button.State.UP), e.release()) }), e.swallow(["mouseup", "touchend"], function (e) { o.hitTest(e) && o.dispatchEvent({ type: lime.Button.Event.CLICK }), this.setState(lime.Button.State.UP) }) }) }, goog.inherits(lime.Button, lime.Layer), lime.Button.State = { UP: 0, DOWN: 1 }, lime.Button.Event = { UP: "up", DOWN: "down", CLICK: "click" }, lime.Button.prototype.setUpState = function (e) { return this.upstate = e, this.appendChild(this.upstate), this.state_ = -1, this.setState(lime.Button.State.UP) }, lime.Button.prototype.setDownState = function (e) { return this.downstate = e, this.appendChild(e), this.state_ = -1, this.setState(lime.Button.State.UP) }, lime.Button.prototype.getState = function () { return this.state_ }, lime.Button.prototype.setState = function (e) { if (e == this.state_) return this; this.state_ == lime.Button.State.UP && e == lime.Button.State.DOWN && this.dispatchEvent({ type: lime.Button.Event.DOWN }), this.state_ == lime.Button.State.DOWN && e == lime.Button.State.UP && this.dispatchEvent({ type: lime.Button.Event.UP }); var t = this.upstate; return goog.isDef(this.downstate) && (lime.Button.State.DOWN == e ? t = this.downstate : this.downstate.setHidden(!0)), t != this.upstate && this.upstate.setHidden(!0), t.setHidden(!1), this.state_ = e, this }, lime.Renderer.CANVAS.ROUNDEDRECT = {}, lime.Renderer.DOM.ROUNDEDRECT = {}, lime.RoundedRect = function () { lime.Sprite.call(this), this.setRadius(5) }, goog.inherits(lime.RoundedRect, lime.Sprite), lime.RoundedRect.prototype.id = "roundedrect", lime.RoundedRect.prototype.supportedRenderers = [lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.ROUNDEDRECT), lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.ROUNDEDRECT)], lime.RoundedRect.prototype.getRadius = function () { return this.radius_ }, lime.RoundedRect.prototype.getUnitPercentage = function () { return this.unitPercentage_ }, lime.RoundedRect.prototype.setRadius = function (e, t) { return this.unitPercentage_ = t || !1, this.radius_ = e, this }, lime.Renderer.DOM.ROUNDEDRECT.draw = function (e) { this.getSize(), lime.Renderer.DOM.SPRITE.draw.call(this, e), lime.style.setBorderRadius(e, [this.radius_ * this.getQuality(), this.radius_ * this.getQuality()]) }, lime.Renderer.CANVAS.ROUNDEDRECT.draw = function (e) { this.getSize(), this.getFill(); var t = this.getFrame(), o = this.getRadius(), i = t.left, n = t.top, s = t.right - t.left; t = t.bottom - t.top; e.save(), e.beginPath(), e.moveTo(i + o, n), e.lineTo(i + s - o, n), e.quadraticCurveTo(i + s, n, i + s, n + o), e.lineTo(i + s, n + t - o), e.quadraticCurveTo(i + s, n + t, i + s - o, n + t), e.lineTo(i + o, n + t), e.quadraticCurveTo(i, n + t, i, n + t - o), e.lineTo(i, n + o), e.quadraticCurveTo(i, n, i + o, n), e.closePath(), e.clip(), lime.Renderer.CANVAS.SPRITE.draw.call(this, e), this.stroke_ && (e.lineWidth *= 2, e.stroke()), e.restore() }, lime.Renderer.CANVAS.LABEL = {}, lime.Renderer.DOM.LABEL = {}, lime.Label = function (e) { lime.Sprite.call(this), this.setText(e), this.setFontFamily(lime.Label.defaultFont), this.setFontSize(14), this.setFontColor("#000"), this.setAlign("center"), this.setFontWeight("400"), this.setPadding(0), this.setLineHeight(1.15), this.setShadow(null), this.setFill(255, 255, 255, 0) }, goog.inherits(lime.Label, lime.Sprite), lime.Label.prototype.id = "label", lime.Label.defaultFont = "Arial", lime.Label.prototype.supportedRenderers = [lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.LABEL), lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.LABEL)], function () { var e; lime.Label.prototype.measureText = function () { goog.isDef(e) || (e = document.createElement("canvas").getContext("2d")); var t = this.getLineHeight() * this.getFontSize(); e.font = this.getFontSize() + "px " + this.getFontFamily(); var o = e.measureText(this.text_); o = goog.userAgent.WEBKIT ? o.width : o.width + 1; lime.userAgent.IOS5 && (o += 1); var i = this.stroke_ ? this.stroke_.width_ : 0; return new goog.math.Size(this.padding_[1] + this.padding_[3] + o + 2 * i, this.padding_[0] + this.padding_[2] + t + 2 * i) } }(), lime.Label.prototype.getSize = function () { var e = lime.Node.prototype.getSize.call(this); return e && (e.width || e.height) ? e : this.measureText() }, lime.Label.prototype.getText = function () { return this.text_ }, lime.Label.prototype.setText = function (e) { return this.text_ = e + "", this.setDirty(lime.Dirty.CONTENT), delete this.words_, this }, lime.Label.prototype.getFontFamily = function () { return this.fontFamily_ }, lime.Label.prototype.setFontWeight = function (e) { return this.fontWeight_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getFontWeight = function () { return this.fontWeight_ }, lime.Label.prototype.setFontFamily = function (e) { return this.fontFamily_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getFontSize = function () { return this.fontSize_ }, lime.Label.prototype.setFontSize = function (e) { return this.fontSize_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getFontColor = function () { return this.fontColor_ }, lime.Label.prototype.setFontColor = function (e) { return this.fontColor_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getPadding = function () { return this.padding_ }, lime.Label.prototype.setPadding = function (e, t, o, i) { return e = [e, e, e, e], goog.isDef(t) && (e[1] = e[3] = t), goog.isDef(o) && (e[2] = o), goog.isDef(i) && (e[3] = i), this.padding_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.setLineHeight = function (e, t) { return this.lineHeightAbsolute_ = t || !1, this.lineHeight_ = e, this }, lime.Label.prototype.getLineHeight = function () { var e = Math.abs(this.getShadowOffset().y) + 2 * this.shadowBlur_; return this.lineHeightAbsolute_ ? (this.lineHeight_ + e) / this.getFontSize() : this.lineHeight_ + e / this.getFontSize() }, lime.Label.prototype.getAlign = function () { return this.align_ }, lime.Label.prototype.setAlign = function (e) { return this.align_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.setShadow = function (e, t, o, i) { return 1 == arguments.length && goog.isNull(e) ? (this.setShadowColor("#ccc"), this.setShadowBlur(0), this.setShadowOffset(0, 0)) : 2 == arguments.length ? (this.setShadowColor(e), this.setShadowBlur(t), this.setShadowOffset(new goog.math.Vec2(0, 0))) : 3 == arguments.length ? (this.setShadowColor(e), this.setShadowBlur(t), this.setShadowOffset(o)) : (this.setShadowColor(e), this.setShadowBlur(t), this.setShadowOffset(o, i)), this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.hasShadow_ = function () { return this.shadowBlur_ || this.shadowOffset_.x || this.shadowOffset_.y }, lime.Label.prototype.getShadowColor = function () { return this.shadowColor_ }, lime.Label.prototype.getShadowOffset = function () { return this.shadowOffset_ }, lime.Label.prototype.setShadowColor = function (e) { return this.shadowColor_ = e, this }, lime.Label.prototype.setShadowBlur = function (e) { return this.shadowBlur_ = e, this }, lime.Label.prototype.setShadowOffset = function (e, t) { return this.shadowOffset_ = 2 == arguments.length ? new goog.math.Vec2(arguments[0], arguments[1]) : e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getShadowBlur = function () { return this.shadowBlur_ }, lime.Label.prototype.calcWordsArray = function () { var e = [], t = this.text_.length, o = this.text_.match(goog.userAgent.GECKO ? /[\s\.]+/g : /[\s-\.]+/g), i = 0; if (o) for (var n = 0; n < o.length; n++) { var s = o[n]; s = this.text_.indexOf(s, i) + s.length; e.push(this.text_.substring(i, s)), i = s } return i != t && e.push(this.text_.substring(i, t)), e }, lime.Label.prototype.wrapText = function (e, t) { for (var o = [], i = "", n = this.words_, s = 0; s < n.length; s++)"" == i ? i = n[s] : e.measureText(goog.string.trim(i + n[s])).width > t ? (o.push(goog.string.trim(i)), i = n[s]) : i += n[s]; return o.push(i), o }, lime.Label.prototype.update = function () { this.getDirty() & lime.Dirty.CONTENT && delete this.lastDrawnWidth_, lime.Node.prototype.update.apply(this, arguments) }, lime.Renderer.DOM.LABEL.draw = function (e) { lime.Renderer.DOM.SPRITE.draw.call(this, e); var t = e.style; this.dirty_ & lime.Dirty.CONTENT && goog.dom.setTextContent(e, this.text_), this.dirty_ & lime.Dirty.FONT && (t.lineHeight = this.getLineHeight(), t.padding = goog.array.map(this.padding_, function (e) { return e * this.getRelativeQuality() }, this).join("px ") + "px", t.color = this.getFontColor(), t.fontFamily = this.getFontFamily(), t.fontSize = this.getFontSize() * this.getRelativeQuality() + "px", t.fontWeight = this.getFontWeight(), t.textAlign = this.getAlign(), t.textShadow = this.hasShadow_() ? this.getShadowColor() + " " + this.getShadowOffset().x + "px " + this.getShadowOffset().y + "px " + this.getShadowBlur() + "px" : "") }, lime.Renderer.CANVAS.LABEL.draw = function (e) { lime.Renderer.CANVAS.SPRITE.draw.call(this, e); var t = this.getFrame(), o = -t.left - this.padding_[3] + t.right - this.padding_[1] + Math.abs(this.getShadowOffset().x) + Math.abs(2 * this.getShadowBlur()), i = 0; this.words_ || (this.words_ = this.calcWordsArray(), i = 1); var n = this.stroke_ ? this.stroke_.width_ : 0; e.save(); var s = this.getAlign(); if ("left" == s ? e.translate(t.left + this.padding_[3] + n, t.top + this.padding_[0] + n) : "right" == s ? e.translate(t.right - this.padding_[1] - n, t.top + this.padding_[0] + n) : "center" == s && e.translate(.5 * (t.left + this.padding_[3] + t.right - this.padding_[1]), t.top + this.padding_[0] + n), t = this.getLineHeight(), e.fillStyle = this.getFontColor(), e.font = this.getFontWeight() + " " + this.getFontSize() + "px/" + t + " " + this.getFontFamily(), e.textAlign = s, e.textBaseline = "top", this.hasShadow_() && (e.shadowColor = this.getShadowColor(), e.shadowOffsetX = this.getShadowOffset().x, e.shadowOffsetY = this.getShadowOffset().y, e.shadowBlur = this.getShadowBlur()), (i || o != this.lastDrawnWidth_) && (this.lines_ = this.wrapText(e, o), this.lastDrawnWidth_ = o), this.lines_) for (o = t * this.getFontSize(), i = (goog.isDef(this.getShadowBlur()) ? Math.abs(this.getShadowBlur()) : 0) + (goog.isDef(this.getShadowOffset()) ? Math.abs(this.getShadowOffset().y) / 2 : 0), o = goog.userAgent.WEBKIT ? Math.floor(o) : Math.round(o), s = 0; s < this.lines_.length; s++)e.fillText(this.lines_[s], 0, o * s + i - .5); e.restore() }, lime.Label.installFont = function (e, t, o) { goog.style.installStyles('@font-face{font-family: "' + e + '";src: url(' + t + ') format("' + (o || "truetype") + '");})') }, lime.fill.LinearGradient = function () { lime.fill.Fill.call(this), this.colors_ = [], this.setDirection(0, 0, 0, 1) }, goog.inherits(lime.fill.LinearGradient, lime.fill.Fill), lime.fill.LinearGradient.prototype.id = "lineargradient", lime.fill.LinearGradient.prototype.initForSprite = function (e) { (goog.userAgent.OPERA || goog.userAgent.IE) && e.setRenderer(lime.Renderer.CANVAS) }, lime.fill.LinearGradient.prototype.setDirection = function (e, t, o, i) { return this.points_ = [e, t, o, i], this }, lime.fill.LinearGradient.prototype.addColorStop = function (e, t) { var o = goog.array.toArray(arguments); return o.shift(), this.colors_.push([e, lime.fill.parse(o)]), this }, lime.fill.LinearGradient.prototype.formatColorStop_ = function (e) { return goog.userAgent.WEBKIT ? "color-stop(" + e[0] + ", " + e[1].str + ")" : e[1].str + " " + 100 * e[0] * this.rate + "%" }, lime.fill.LinearGradient.prototype.setDOMStyle = function (e, t) { var o, i = t.getFrame(); o = i.right - i.left; var n = i.bottom - i.top; if (!goog.userAgent.WEBKIT) { var s = (this.points_[2] - this.points_[0]) * o, r = (this.points_[1] - this.points_[3]) * n, a = i.left + o * this.points_[0], g = i.top + n * this.points_[1], l = Math.atan2(r, s), d = -r / s; 1 / 0 == d && (d = Math.pow(10, 10)), d = d * (i = ((i = 0 < l && l < Math.PI / 2 ? [i.right, i.top] : 0 < l ? [i.left, i.top] : l > -Math.PI / 2 ? [i.right, i.bottom] : [i.left, i.bottom])[1] + 1 / d * i[0] - g + d * a) / (d + 1 / d)) + g - a * d, i -= a, d -= g, this.rate = Math.sqrt((s * s + r * r) / (i * i + d * d)) } s = goog.array.map(this.colors_, this.formatColorStop_, this), o = goog.userAgent.WEBKIT ? "-webkit-gradient(linear," + 100 * this.points_[0] + "% " + 100 * this.points_[1] + "%," + 100 * this.points_[2] + "% " + 100 * this.points_[3] + "%," + s.join(",") + ")" : "linear-gradient(" + 100 * this.points_[0] + "% " + 100 * this.points_[1] + "% " + Math.atan2((this.points_[1] - this.points_[3]) * n, (this.points_[2] - this.points_[0]) * o) + "rad," + s.join(",") + ")", goog.userAgent.GECKO && (o = "-moz-" + o), e.style.background = o }, lime.fill.LinearGradient.prototype.setCanvasStyle = function (e, t) { for (var o = this.points_, i = (s = t.getFrame()).right - s.left, n = s.bottom - s.top, s = (o = e.createLinearGradient(s.left + i * o[0], s.top + n * o[1], s.left + i * o[2], s.top + n * o[3]), 0); s < this.colors_.length; s++)o.addColorStop(this.colors_[s][0], this.colors_[s][1].str); e.fillStyle = o }, lime.GlossyButton = function (e) { lime.Button.call(this, this.makeState_(e), this.makeState_(e)), this.borderWidth = 2, this.setText(e), this.setColor("#62be00") }, goog.inherits(lime.GlossyButton, lime.Button), lime.GlossyButton.prototype.makeState_ = function (e) { var t = new lime.RoundedRect; return t.inner = new lime.RoundedRect, t.label = new lime.Label(e).setAlign("center").setFontFamily('"Trebuchet MS"').setFontColor("#010101").setFontSize(17), t.appendChild(t.inner), t.inner.appendChild(t.label), t }, lime.GlossyButton.prototype.setColor = function (e) { return e = lime.fill.parse(e), goog.array.forEach([this.upstate, this.downstate], function (t) { var o = t == this.downstate ? e.clone().addSaturation(-.2) : e; t.setFill(o); var i = (new lime.fill.LinearGradient).setDirection(0, 0, 0, 1); i.addColorStop(0, o.clone().addBrightness(.13)), i.addColorStop(.5, o.clone().addBrightness(.05)), i.addColorStop(.52, o), i.addColorStop(1, o), t.inner.setFill(i) }, this), this }, lime.GlossyButton.prototype.setText = function (e) { return this.upstate.label.setText(e), this.downstate.label.setText(e), this }, lime.GlossyButton.prototype.setSize = function (e, t) { if (this.upstate) { this.upstate.setSize.apply(this.upstate, arguments); var o = this.upstate.getSize(); goog.array.forEach([this.upstate, this.downstate], function (e) { e.setSize(o); var t = o.clone(); t.width -= this.borderWidth, t.height -= this.borderWidth, e.inner.setSize(t) }, this) } return this }, lime.GlossyButton.prototype.getSize = function () { return this.upstate.getSize() }, lime.CoverNode = function () { lime.Node.call(this); var e = this.baseElement; this.baseElement = document.createElement("canvas"), goog.dom.replaceNode(this.baseElement, e), this.context = this.baseElement.getContext("2d"), goog.dom.classes.add(this.baseElement, "lime-cover") }, goog.inherits(lime.CoverNode, lime.Node), lime.CoverNode.prototype.update = function () { if (this.director) { var e = goog.style.getSize(this.director.baseElement.parentNode), t = this.baseElement.style, o = this.director.getScale(), i = this.getQuality(); t.width = e.width + "px", t.height = e.height + "px", this.baseElement.width = e.width / o.x * i, this.baseElement.height = e.height / o.y * i, this.updateRect_ ? this.setNeedsRedrawInRect(this.updateRect_) : this.setNeedsRedraw() } }, lime.CoverNode.prototype.setNeedsRedraw = function () { this.setNeedsRedrawInRect(this.director.getBounds(new goog.math.Box(0, this.baseElement.width / this.getQuality(), this.baseElement.height / this.getQuality(), 0))) }, lime.CoverNode.prototype.setNeedsRedrawInRect = function (e) { var t = this.director, o = this.getQuality(), i = t.getScale(); t = t.getPosition(); this.context.save(), this.context.scale(o, o), this.context.translate(t.x / i.x, t.y / i.y), this.drawInRect(e), this.context.restore() }, lime.helper = {}, lime.helper.PauseScene = function () { lime.Scene.call(this), this.domElement.style.cssText = "background:rgba(255,255,255,.8)" }, goog.inherits(lime.helper.PauseScene, lime.Scene), goog.fx = {}, goog.fx.easing = {}, goog.fx.easing.easeIn = function (e) { return e * e * e }, goog.fx.easing.easeOut = function (e) { return 1 - Math.pow(1 - e, 3) }, goog.fx.easing.inAndOut = function (e) { return 3 * e * e - 2 * e * e * e }, lime.scheduleManager = new function () { this.taskStack_ = [], this.active_ = !1, this.intervalID_ = 0, this.displayRate_ = 1e3 / 30, this.lastRunTime_ = 0 }, lime.scheduleManager.Task = function (e, t) { this.delta = this.maxdelta = e, this.limit = goog.isDef(t) ? t : -1, this.functionStack_ = [] }, lime.scheduleManager.Task.prototype.step_ = function (e) { if (this.functionStack_.length) if (this.delta > e) this.delta -= e; else { var t = this.maxdelta + e - this.delta; this.delta = this.maxdelta - (e - this.delta), 0 > this.delta && (this.delta = 0); var o; for (e = this.functionStack_.length; 0 <= --e;)(o = this.functionStack_[e]) && o[0] && goog.isFunction(o[1]) && o[1].call(o[2], t); -1 != this.limit && (this.limit-- , 0 == this.limit && lime.scheduleManager.unschedule(o[1], o[2])) } }, lime.scheduleManager.taskStack_.push(new lime.scheduleManager.Task(0)), lime.scheduleManager.USE_ANIMATION_FRAME = goog.global.mozRequestAnimationFrame || goog.global.webkitRequestAnimationFrame, lime.scheduleManager.getDisplayRate = function () { return this.displayRate_ }, lime.scheduleManager.setDisplayRate = function (e) { this.displayRate_ = e, this.active_ && (lime.scheduleManager.disable_(), lime.scheduleManager.activate_()) }, lime.scheduleManager.schedule = function (e, t, o) { o = goog.isDef(o) ? o : this.taskStack_[0], goog.array.insert(o.functionStack_, [1, e, t]), goog.array.insert(this.taskStack_, o), this.active_ || lime.scheduleManager.activate_() }, lime.scheduleManager.unschedule = function (e, t) { for (var o = this.taskStack_.length; 0 <= --o;) { for (var i, n = this.taskStack_[o], s = n.functionStack_, r = s.length; 0 <= --r;)(i = s[r])[1] == e && i[2] == t && goog.array.remove(s, i); 0 == s.length && 0 != o && goog.array.remove(this.taskStack_, n) } 1 == this.taskStack_.length && 0 == this.taskStack_[0].functionStack_.length && lime.scheduleManager.disable_() }, lime.scheduleManager.activate_ = function () { this.active_ || (this.lastRunTime_ = goog.now(), lime.scheduleManager.USE_ANIMATION_FRAME ? goog.global.mozRequestAnimationFrame ? 11 <= goog.userAgent.VERSION ? (this.animationFrameHandlerBinded_ = goog.bind(lime.scheduleManager.animationFrameHandler_, this), goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_)) : (goog.global.mozRequestAnimationFrame(), this.beforePaintHandlerBinded_ = goog.bind(lime.scheduleManager.beforePaintHandler_, this), goog.global.addEventListener("MozBeforePaint", this.beforePaintHandlerBinded_, !1)) : (this.animationFrameHandlerBinded_ = goog.bind(lime.scheduleManager.animationFrameHandler_, this), goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_)) : this.intervalID_ = setInterval(goog.bind(lime.scheduleManager.stepTimer_, this), lime.scheduleManager.getDisplayRate()), this.active_ = !0) }, lime.scheduleManager.disable_ = function () { this.active_ && (lime.scheduleManager.USE_ANIMATION_FRAME ? goog.global.mozRequestAnimationFrame ? 11 <= goog.userAgent.VERSION ? goog.global.mozCancelRequestAnimationFrame(this.animationFrameHandlerBinded_) : goog.global.removeEventListener("MozBeforePaint", this.beforePaintHandlerBinded_, !1) : goog.global.webkitCancelRequestAnimationFrame(this.animationFrameHandlerBinded_) : clearInterval(this.intervalID_), this.active_ = !1) }, lime.scheduleManager.animationFrameHandler_ = function (e) { var t, o = goog.global.performance; o && (t = o.now || o.webkitNow) ? e = o.timing.navigationStart + t.call(o) : e || (e = goog.now()), 0 > (o = e - this.lastRunTime_) && (o = 1), lime.scheduleManager.dispatch_(o), this.lastRunTime_ = e, goog.global.requestAnimationFrame ? goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_) : goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_) }, lime.scheduleManager.beforePaintHandler_ = function (e) { lime.scheduleManager.dispatch_(e.timeStamp - this.lastRunTime_), this.lastRunTime_ = e.timeStamp, goog.global.mozRequestAnimationFrame() }, lime.scheduleManager.stepTimer_ = function () { var e = goog.now(), t = e - this.lastRunTime_; 0 > t && (t = 1), lime.scheduleManager.dispatch_(t), this.lastRunTime_ = e }, lime.scheduleManager.dispatch_ = function (e) { for (var t = this.taskStack_.length; 0 <= --t;)this.taskStack_[t].step_(e); 1 == lime.transformSet_ && /Firefox\/4./.test(goog.userAgent.getUserAgentString()) && !lime.FF4_USE_HW_ACCELERATION && (lime.scheduleManager.odd_ ? (document.body.style.MozTransform = "", lime.scheduleManager.odd_ = 0) : (document.body.style.MozTransform = "scale(1,1)", lime.scheduleManager.odd_ = 1), lime.transformSet_ = 0) }, lime.scheduleManager.changeDirectorActivity = function (e, t) { for (var o, i, n, s, r = this.taskStack_.length; 0 <= --r;)for (s = (o = this.taskStack_[r]).functionStack_.length; 0 <= --s;)i = (n = o.functionStack_[s])[2], goog.isFunction(i.getDirector) && ((i = i.getDirector()) == e && (n[0] = t)) }, lime.scheduleManager.callAfter = function (e, t, o) { lime.scheduleManager.scheduleWithDelay(e, t, o, 1) }, lime.scheduleManager.scheduleWithDelay = function (e, t, o, i) { o = new lime.scheduleManager.Task(o, i), lime.scheduleManager.schedule(e, t, o) }, lime.animation = {}, lime.animation.Animation = function () { goog.events.EventTarget.call(this), this.targets = [], this.initTargets_ = [], this.targetProp_ = {}, this.isPlaying_ = !1, this.duration_ = 1, this.ease = lime.animation.Easing.EASEINOUT, this.status_ = 0 }, goog.inherits(lime.animation.Animation, goog.events.EventTarget), lime.animation.Animation.prototype.scope = "", lime.animation.Event = { START: "start", STOP: "stop" }, lime.animation.Animation.prototype.getDuration = function () { return this.duration_ }, lime.animation.Animation.prototype.setDuration = function (e) { return this.duration_ = e, this }, lime.animation.Animation.prototype.setEasing = function (e) { return this.ease = e, this }, lime.animation.Animation.prototype.getEasing = function () { return this.ease }, lime.animation.Animation.prototype.addTarget = function (e) { return goog.array.insert(this.targets, e), this }, lime.animation.Animation.prototype.removeTarget = function (e) { return goog.array.remove(this.targets, e), this }, lime.animation.Animation.prototype.play = function () { this.playTime_ = 0, this.firstFrame_ = this.status_ = 1, lime.scheduleManager.schedule(this.step_, this), this.dispatchEvent({ type: lime.animation.Event.START }) }, lime.animation.Animation.prototype.stop = function () { if (0 != this.status_) { var e = this.initTargets_; if (this.useTransitions() && this.clearTransition) for (var t = e.length; 0 <= --t;)this.clearTransition(e[t]); this.initTargets_ = [], this.targetProp_ = {}, this.status_ = 0, lime.scheduleManager.unschedule(this.step_, this), this.dispatchEvent({ type: lime.animation.Event.STOP }) } }, lime.animation.Animation.prototype.makeTargetProp = function () { return {} }, lime.animation.Animation.prototype.getTargetProp = function (e) { var t = goog.getUid(e); return goog.isDef(this.targetProp_[t]) || (this.initTarget(e), this.targetProp_[t] = this.makeTargetProp(e)), this.targetProp_[t] }, lime.animation.Animation.prototype.initTarget = function (e) { lime.animation.actionManager.register(this, e), this.status_ = 1, goog.array.insert(this.initTargets_, e), this.speed_ && !this.speedCalcDone_ && this.calcDurationFromSpeed_ && this.calcDurationFromSpeed_() }, lime.animation.Animation.prototype.getDirector = function () { return this.targets[0] ? this.targets[0].getDirector() : null }, lime.animation.Animation.prototype.step_ = function (e) { this.speed_ && !this.speedCalcDone_ && this.calcDurationFromSpeed_ && this.calcDurationFromSpeed_(), this.firstFrame_ && (delete this.firstFrame_, e = 1), this.playTime_ += e, this.dt_ = e, e = this.playTime_ / (1e3 * this.duration_), (isNaN(e) || 1 <= e) && (e = 1), 1 == (e = this.updateAll(e, this.targets)) && this.stop() }, lime.animation.Animation.prototype.updateAll = function (e, t) { e = this.getEasing()[0](e), isNaN(e) && (e = 1); for (var o = t.length; 0 <= --o;)this.update(e, t[o]); return e }, lime.animation.Animation.prototype.useTransitions = function () { return 0 < this.duration_ && lime.style.isTransitionsSupported && this.optimizations_ && !lime.userAgent.ANDROID && !goog.userAgent.GECKO }, lime.animation.Animation.prototype.enableOptimizations = function (e) { return this.optimizations_ = !goog.isDef(e) || e, this }, lime.animation.Animation.prototype.cloneParam = function (e) { return this.setDuration(e.getDuration()).enableOptimizations(e.optimizations_) }, lime.animation.Animation.prototype.reverse = function () { throw "Reverseform not supported for this animation" }, lime.animation.actionManager = new function () { this.actions = {} }, lime.animation.actionManager.register = function (e, t) { if (e.scope.length) { var o = goog.getUid(t); goog.isDef(this.actions[o]) || (this.actions[o] = {}), goog.isDef(this.actions[o][e.scope]) && this.actions[o][e.scope].stop(), this.actions[o][e.scope] = e } }, lime.animation.actionManager.stopAll = function (e) { if (e = goog.getUid(e), goog.isDef(this.actions[e])) for (var t in this.actions[e]) this.actions[e][t].stop(), delete this.actions[e][t] }, function () { var e = 0, t = 0, o = 0, i = 0, n = 0, s = 0; lime.animation.getEasingFunction = function (r, a, g, l) { return [function (d) { return e = 1 - (o = 3 * r) - (t = 3 * (g - r) - o), i = 1 - (s = 3 * a) - (n = 3 * (l - a) - s), d = function (i, n) { var s, r, a, g; for (a = i, r = 0; 8 > r; r++) { if ((0 <= (g = ((e * a + t) * a + o) * a - i) ? g : 0 - g) < n) return a; if (1e-6 > (0 <= (s = (3 * e * a + 2 * t) * a + o) ? s : 0 - s)) break; a -= g / s } if ((a = i) < (s = 0)) return s; if (a > (r = 1)) return r; for (; s < r && !((0 <= (g = ((e * a + t) * a + o) * a) - i ? g - i : 0 - (g - i)) < n);)i > g ? s = a : r = a, a = .5 * (r - s) + s; return a }(d, 5e-5), ((i * d + n) * d + s) * d }, r, a, g, l] } }(), lime.animation.Easing = { EASE: lime.animation.getEasingFunction(.25, .1, .25, 1), LINEAR: lime.animation.getEasingFunction(0, 0, 1, 1), EASEIN: lime.animation.getEasingFunction(.42, 0, 1, 1), EASEOUT: lime.animation.getEasingFunction(0, 0, .58, 1), EASEINOUT: lime.animation.getEasingFunction(.42, 0, .58, 1) }, lime.animation.MoveTo = function (e, t) { lime.animation.Animation.call(this), this.position_ = 2 == arguments.length ? new goog.math.Coordinate(arguments[0], arguments[1]) : e }, goog.inherits(lime.animation.MoveTo, lime.animation.Animation), lime.animation.MoveTo.prototype.scope = "move", lime.animation.MoveTo.prototype.setSpeed = function (e) { return this.speed_ = e, delete this.speedCalcDone_, this }, lime.animation.MoveTo.prototype.makeTargetProp = function (e) { var t = e.getPosition(), o = new goog.math.Coordinate(this.position_.x - t.x, this.position_.y - t.y); return this.useTransitions() && (e.addTransition(lime.Transition.POSITION, this.position_, this.duration_, this.getEasing()), e.setDirty(lime.Dirty.POSITION)), { startpos: t, delta: o } }, lime.animation.MoveTo.prototype.calcDurationFromSpeed_ = function () { if (this.speed_ && this.targets.length) { var e = this.targets[0].getPosition(); e = new goog.math.Coordinate(this.position_.x - e.x, this.position_.y - e.y); this.setDuration(this.speed_ * goog.math.Coordinate.distance(e, new goog.math.Coordinate(0, 0)) / 100), this.speedCalcDone_ = 1 } }, lime.animation.MoveTo.prototype.update = function (e, t) { if (0 != this.status_) { var o = this.getTargetProp(t); t.setPosition(o.startpos.x + o.delta.x * e, o.startpos.y + o.delta.y * e) } }, lime.animation.MoveTo.prototype.clearTransition = function (e) { this.useTransitions() && (e.clearTransition(lime.Transition.POSITION), e.setDirty(lime.Dirty.POSITION)) }, lime.events = {}, lime.events.Drag = function (e, t, o, i) { goog.events.EventTarget.call(this), this.target = i || e.targetObject, this.dropTargets_ = [], this.dropIndex_ = -1, this.y = this.x = 0, t || (t = this.target.localToScreen(new goog.math.Coordinate(0, 0)), this.x = e.screenPosition.x - t.x, this.y = e.screenPosition.y - t.y), e.swallow(["touchmove", "mousemove"], goog.bind(this.moveHandler_, this)), e.swallow(["touchend", "touchcancel", "mouseup"], goog.bind(this.releaseHandler_, this)), this.setBounds(o || null), this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.START)) }, goog.inherits(lime.events.Drag, goog.events.EventTarget), lime.events.Drag.Event = { START: "start", END: "end", MOVE: "move", CHANGE: "change", DROP: "drop", CANCEL: "cancel" }, lime.events.Drag.prototype.disposeInternal = function () { lime.events.Drag.superClass_.disposeInternal.call(this), this.dropTargets_ = this.target = this.event_ = null }, lime.events.Drag.prototype.getBounds = function () { return this.bounds_ }, lime.events.Drag.prototype.setBounds = function (e) { this.bounds_ = e }, lime.events.Drag.prototype.moveHandler_ = function (e) { (e = e.screenPosition.clone()).x -= this.x, e.y -= this.y; e = this.target.getParent().screenToLocal(e); var t = this.getBounds(); goog.isDefAndNotNull(t) && (e.x < t.left ? e.x = t.left : e.x > t.right && (e.x = t.right), e.y < t.top ? e.y = t.top : e.y > t.bottom && (e.y = t.bottom)), this.target.setPosition(e), this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.MOVE)); e = -1, t = goog.math.Rect.createFromBox(this.target.getFrame()); for (var o = [], i = 0; i < this.dropTargets_.length; i++) { var n = this.dropTargets_[i]; if (!goog.isFunction(n.confirmTargetActive) || n.confirmTargetActive(this.target)) { var s = n.getFrame(), r = n.localToNode(new goog.math.Coordinate(s.left, s.top), this.target); n = n.localToNode(new goog.math.Coordinate(s.right, s.bottom), this.target), r = goog.math.Rect.createFromBox(new goog.math.Box(Math.min(r.y, n.y), Math.max(r.x, n.x), Math.max(r.y, n.y), Math.min(n.x, r.x))); (n = goog.math.Rect.intersection(t, r)) && o.push([n.width * n.height / (r.width * r.height), i]) } } o.length && (e = (o = o.sort(function (e, t) { return t[0] - e[0] }))[0][1]), e != this.dropIndex_ && (-1 != this.dropIndex_ && goog.isFunction(this.dropTargets_[this.dropIndex_].hideDropHighlight) && this.dropTargets_[this.dropIndex_].hideDropHighlight(), this.dropIndex_ = e, -1 != this.dropIndex_ && goog.isFunction(this.dropTargets_[this.dropIndex_].showDropHighlight) && this.dropTargets_[this.dropIndex_].showDropHighlight(), (e = new goog.events.Event(lime.events.Drag.Event.CHANGE)).activeDropTarget = -1 != this.dropIndex_ ? this.dropTargets_[this.dropIndex_] : null, this.dispatchEvent(e)) }, lime.events.Drag.prototype.releaseHandler_ = function () { if (-1 != this.dropIndex_) { var e = new goog.events.Event(lime.events.Drag.Event.DROP); if (e.activeDropTarget = this.dropTargets_[this.dropIndex_], goog.isFunction(e.activeDropTarget.showDropHighlight) && e.activeDropTarget.hideDropHighlight(), this.dispatchEvent(e), !e.propagationStopped_) { var t = e.activeDropTarget.getParent().localToNode(e.activeDropTarget.getPosition(), this.target.getParent()); t = new lime.animation.MoveTo(t).setDuration(.5).enableOptimizations(); this.target.runAction(t), goog.isFunction(e.moveEndedCallback) && goog.events.listen(t, lime.animation.Event.STOP, e.moveEndedCallback, !1, this.target) } } else this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.CANCEL)); this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.END)), lime.scheduleManager.callAfter(this.dispose, this, 100) }, lime.events.Drag.prototype.addDropTarget = function (e) { this.dropTargets_.push(e) }, lime.events.Event = function (e) { this.dispatcher_ = e, this.identifier = 0 }, lime.events.Event.prototype.swallow = function (e, t, o) { e = goog.isArray(e) ? e : [e]; for (var i = 0; i < e.length; i++)this.dispatcher_.swallow(this, e[i], t); o && this.event.stopPropagation() }, lime.events.Event.prototype.release = function (e) { var t = goog.isDef(e), o = goog.isArray(e) ? e : [e]; if (e = this.dispatcher_.swallows[this.identifier]) { var i = this; (e = goog.array.filter(e, function (e) { return !(!goog.isDef(i.targetObject) || e[0] == i.targetObject && (!t || goog.array.contains(o, e[1]))) || (goog.events.unlisten(e[0], e[1], e[2]), !1) })).length ? this.dispatcher_.swallows[this.identifier] = e : delete this.dispatcher_.swallows[this.identifier] } }, lime.events.Event.prototype.startDrag = function (e, t, o) { return new lime.events.Drag(this, e, t, o) }, lime.events.Event.prototype.clone = function () { var e = new lime.events.Event(this.dispatcher_); return goog.object.extend(e, this), e }, lime.events.EventDispatcher = function (e) { this.director = e, this.handlers = {}, this.swallows = {} }, lime.events.EventDispatcher.prototype.register = function (e, t) { goog.isDef(this.handlers[t]) ? goog.array.contains(this.handlers[t], e) || (this.handlers[t].push(e), this.handlers[t].sort(lime.Node.compareNode)) : (this.handlers[t] = [e], goog.events.listen("touch" == t.substring(0, 5) && e != this.director ? document : "key" == t.substring(0, 3) ? window : this.director.domElement.parentNode, t, this, !1, this)) }, lime.events.EventDispatcher.prototype.release = function (e, t) { goog.isDef(this.handlers[t]) && (goog.array.remove(this.handlers[t], e), this.handlers[t].length || (goog.events.unlisten(this.director.domElement.parentNode, t, this, !1, this), delete this.handlers[t])) }, lime.events.EventDispatcher.prototype.updateDispatchOrder = function (e) { for (var t in this.handlers) { var o = this.handlers[t]; goog.array.contains(o, e) && o.sort(lime.Node.compareNode) } }, lime.events.EventDispatcher.prototype.swallow = function (e, t, o) { var i = e.identifier; goog.isDef(this.swallows[i]) || (this.swallows[i] = []), this.swallows[i].push([e.targetObject, t, o]), goog.events.listen(e.targetObject, t, goog.nullFunction) }, lime.events.EventDispatcher.prototype.handleEvent = function (e) { if (goog.isDef(this.handlers[e.type])) { for (var t = this.handlers[e.type].slice(), o = !1, i = 0, n = 0; !n;) { var s = new lime.events.Event(this); if (s.type = e.type, s.event = e, "touch" == e.type.substring(0, 5)) { var r = e.getBrowserEvent().changedTouches[i]; s.screenPosition = new goog.math.Coordinate(r.pageX, r.pageY), s.identifier = r.identifier, ++i >= e.getBrowserEvent().changedTouches.length && (n = 1) } else s.screenPosition = new goog.math.Coordinate(e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, e.clientY + document.body.scrollTop + document.documentElement.scrollTop), n = 1; if (goog.isDef(this.swallows[s.identifier])) { r = this.swallows[s.identifier]; for (var a = 0; a < r.length; a++)if (r[a][1] == e.type || goog.isArray(r[a][1]) && goog.array.contains(r[a][1], e.type)) { var g = r[a][0]; s.targetObject = g, s.position = g.screenToLocal(s.screenPosition), r[a][2].call(g, s), o = !0 } "touchend" != e.type && "touchcancel" != e.type && "mouseup" != e.type && "keyup" != e.type || (delete s.targetObject, s.release()) } else for (a = 0; a < t.length && (g = t[a], this.director.getCurrentScene() != g.getScene() && g != this.director || g.getHidden() || !g.inTree_ || (s.targetObject = g, !g.hitTest(s) && "key" != e.type.substring(0, 3)) || (s.targetObject = g, g.dispatchEvent(s), o = !0, !s.event.propagationStopped_)); a++); } o && e.preventDefault() } }, goog.dom.ViewportSizeMonitor = function (e) { goog.events.EventTarget.call(this), this.window_ = e || window, this.listenerKey_ = goog.events.listen(this.window_, goog.events.EventType.RESIZE, this.handleResize_, !1, this), this.size_ = goog.dom.getViewportSize(this.window_), this.isPollingRequired_() && (this.windowSizePollInterval_ = window.setInterval(goog.bind(this.checkForSizeChange_, this), goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE)) }, goog.inherits(goog.dom.ViewportSizeMonitor, goog.events.EventTarget), goog.dom.ViewportSizeMonitor.getInstanceForWindow = function (e) { e = e || window; var t = goog.getUid(e); return goog.dom.ViewportSizeMonitor.windowInstanceMap_[t] = goog.dom.ViewportSizeMonitor.windowInstanceMap_[t] || new goog.dom.ViewportSizeMonitor(e) }, goog.dom.ViewportSizeMonitor.removeInstanceForWindow = function (e) { e = goog.getUid(e || window), goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]), delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[e] }, goog.dom.ViewportSizeMonitor.windowInstanceMap_ = {}, goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE = 500, goog.dom.ViewportSizeMonitor.prototype.listenerKey_ = null, goog.dom.ViewportSizeMonitor.prototype.window_ = null, goog.dom.ViewportSizeMonitor.prototype.size_ = null, goog.dom.ViewportSizeMonitor.prototype.windowSizePollInterval_ = null, goog.dom.ViewportSizeMonitor.prototype.isPollingRequired_ = function () { return goog.userAgent.WEBKIT && goog.userAgent.WINDOWS || goog.userAgent.OPERA && this.window_.self != this.window_.top }, goog.dom.ViewportSizeMonitor.prototype.getSize = function () { return this.size_ ? this.size_.clone() : null }, goog.dom.ViewportSizeMonitor.prototype.disposeInternal = function () { goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this), this.listenerKey_ && (goog.events.unlistenByKey(this.listenerKey_), this.listenerKey_ = null), this.windowSizePollInterval_ && (window.clearInterval(this.windowSizePollInterval_), this.windowSizePollInterval_ = null), this.size_ = this.window_ = null }, goog.dom.ViewportSizeMonitor.prototype.handleResize_ = function () { this.checkForSizeChange_() }, goog.dom.ViewportSizeMonitor.prototype.checkForSizeChange_ = function () { var e = goog.dom.getViewportSize(this.window_); goog.math.Size.equals(e, this.size_) || (this.size_ = e, this.dispatchEvent(goog.events.EventType.RESIZE)) }, lime.transitions = {}, lime.transitions.Transition = function (e, t) { goog.events.EventTarget.call(this), this.duration_ = 1, this.outgoing_ = e, this.incoming_ = t, this.finished_ = !1 }, goog.inherits(lime.transitions.Transition, goog.events.EventTarget), lime.transitions.Transition.prototype.getDuration = function () { return this.duration_ }, lime.transitions.Transition.prototype.setDuration = function (e) { return this.duration_ = e, this }, lime.transitions.Transition.prototype.setFinishCallback = function () { return goog.DEBUG && console && console.warn && console.warn("Transition.prototype.setFinishCallback() is deprecated. Use event listeners."), this }, lime.transitions.Transition.prototype.start = function () { this.incoming_.setPosition(new goog.math.Coordinate(0, 0)), this.incoming_.setHidden(!1), this.finish() }, lime.transitions.Transition.prototype.finish = function () { this.dispatchEvent(new goog.events.Event("end")), this.finished_ = !0, this.incoming_ = this.outgoing_ = null }, lime.Director = function (e, t, o) { if (lime.Node.call(this), this.inTree_ = !0, this.setAnchorPoint(0, 0), this.sceneStack_ = [], this.coverStack_ = [], this.domClassName = "lime-director", this.createDomElement(), e.appendChild(this.domElement), goog.userAgent.WEBKIT && goog.userAgent.MOBILE && (this.coverElementBelow = document.createElement("div"), goog.dom.classes.add(this.coverElementBelow, "lime-cover-below"), goog.dom.insertSiblingBefore(this.coverElementBelow, this.domElement), this.coverElementAbove = document.createElement("div"), goog.dom.classes.add(this.coverElementAbove, "lime-cover-above"), goog.dom.insertSiblingAfter(this.coverElementAbove, this.domElement)), "absolute" != e.style.position && (e.style.position = "relative"), e.style.overflow = "hidden", e == document.body) { goog.style.installStyles("html,body{margin:0;padding:0;height:100%;}"); var i = document.createElement("meta"); i.name = "viewport"; var n = "width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no"; if (/android/i.test(navigator.userAgent) && (n += ",target-densityDpi=device-dpi"), i.content = n, document.getElementsByTagName("head").item(0).appendChild(i), goog.userAgent.MOBILE && !goog.global.navigator.standalone) { var s = this; setTimeout(function () { window.scrollTo(0, 0), s.invalidateSize_() }, 100) } } var r; e = goog.style.getSize(e); this.setSize(new goog.math.Size(r = t || e.width || lime.Director.DEFAULT_WIDTH, o || e.height * r / e.width || lime.Director.DEFAULT_HEIGHT)), this.setDisplayFPS(goog.DEBUG), this.setPaused(!1), t = new goog.dom.ViewportSizeMonitor, goog.events.listen(t, goog.events.EventType.RESIZE, this.invalidateSize_, !1, this), goog.events.listen(goog.global, "orientationchange", this.invalidateSize_, !1, this), lime.scheduleManager.schedule(this.step_, this), this.eventDispatcher = new lime.events.EventDispatcher(this), goog.events.listen(this, ["touchmove", "touchstart"], function (e) { e.event.preventDefault() }, !1, this), goog.events.listen(this, ["mouseup", "touchend", "mouseout", "touchcancel"], function () { }, !1), this.invalidateSize_(), goog.DEBUG && goog.events.listen(goog.global, "keyup", this.keyUpHandler_, !1, this) }, goog.inherits(lime.Director, lime.Node), lime.Director.FPS_INTERVAL = 100, lime.Director.DEFAULT_WIDTH = 400, lime.Director.DEFAULT_HEIGHT = 400, lime.Director.prototype.isPaused = function () { return this.isPaused_ }, lime.Director.prototype.setPaused = function (e) { return this.isPaused_ = e, lime.scheduleManager.changeDirectorActivity(this, !e), this.isPaused_ ? (this.pauseScene = new (this.pauseClassFactory || lime.helper.PauseScene), this.pushScene(this.pauseScene)) : this.pauseScene && (this.popScene(), delete this.pauseScene), this }, lime.Director.prototype.isDisplayFPS = function () { return this.displayFPS_ }, lime.Director.prototype.setDisplayFPS = function (e) { return this.displayFPS_ && !e ? goog.dom.removeNode(this.fpsElement_) : !this.displayFPS_ && e && (this.accumDt_ = this.frames_ = 0, this.fpsElement_ = goog.dom.createDom("div"), goog.dom.classes.add(this.fpsElement_, "lime-fps"), this.domElement.parentNode.appendChild(this.fpsElement_)), this.displayFPS_ = e, this }, lime.Director.prototype.getCurrentScene = function () { return this.sceneStack_.length ? this.sceneStack_[this.sceneStack_.length - 1] : null }, lime.Director.prototype.getDirector = function () { return this }, lime.Director.prototype.getScene = function () { return null }, lime.Director.prototype.step_ = function (e) { this.isDisplayFPS() && (this.frames_++ , this.accumDt_ += e, this.accumDt_ > lime.Director.FPS_INTERVAL && (this.fps = 1e3 * this.frames_ / this.accumDt_, goog.dom.setTextContent(this.fpsElement_, this.fps.toFixed(2)), this.accumDt_ = this.frames_ = 0)), lime.updateDirtyObjects() }, lime.Director.prototype.replaceScene = function (e, t, o) { e.setSize(this.getSize().clone()); t = t || lime.transitions.Transition; var i = null; this.sceneStack_.length && (i = this.sceneStack_[this.sceneStack_.length - 1]); for (var n = [], s = this.sceneStack_.length; 0 <= --s;)this.sceneStack_[s].wasRemovedFromTree(), n.push(this.sceneStack_[s].domElement), this.sceneStack_[s].parent_ = null; return this.sceneStack_.length = 0, this.sceneStack_.push(e), e.domElement.style.display = "none", this.domElement.appendChild(e.domElement), e.parent_ = this, e.wasAddedToTree(), e = new t(i, e), goog.events.listenOnce(e, "end", function () { for (var e = n.length; 0 <= --e;)goog.dom.removeNode(n[e]); n.length = 0 }, !1, this), goog.isDef(o) && e.setDuration(o), e.start(), e }, lime.Director.prototype.updateLayout = function () { this.dirty_ &= ~lime.Dirty.LAYOUT }, lime.Director.prototype.pushScene = function (e, t, o) { var i; if (e.setSize(this.getSize().clone()), goog.isDef(t) && this.sceneStack_.length && (i = new t(i = this.sceneStack_[this.sceneStack_.length - 1], e), goog.isDef(o) && i.setDuration(o), e.domElement.style.display = "none"), this.sceneStack_.push(e), this.domElement.appendChild(e.domElement), e.parent_ = this, e.wasAddedToTree(), i) return i.start(), i }, lime.Director.prototype.popScene = function () { this.sceneStack_.length && (this.sceneStack_[this.sceneStack_.length - 1].wasRemovedFromTree(), this.sceneStack_[this.sceneStack_.length - 1].parent_ = null, goog.dom.removeNode(this.sceneStack_[this.sceneStack_.length - 1].domElement), this.sceneStack_.pop()) }, lime.Director.prototype.addCover = function (e, t) { goog.userAgent.WEBKIT && goog.userAgent.MOBILE ? t ? this.coverElementAbove.appendChild(e.domElement) : this.coverElementBelow.appendChild(e.domElement) : t ? goog.dom.insertSiblingAfter(e.domElement, this.domElement) : goog.dom.insertSiblingBefore(e.domElement, this.domElement), e.director = this, this.coverStack_.push(e) }, lime.Director.prototype.removeCover = function (e) { goog.array.remove(this.coverStack_, e), goog.dom.removeNode(e.domElement) }, lime.Director.prototype.getBounds = function (e) { var t = this.getPosition(), o = this.getScale(); return new goog.math.Box(e.top - t.y / o.y, e.right - t.x / o.x, e.bottom - t.y / o.y, e.left - t.x / o.x) }, lime.Director.prototype.screenToLocal = function (e) { return (e = e.clone()).x -= this.domOffset.x + this.position_.x, e.y -= this.domOffset.y + this.position_.y, e.x /= this.scale_.x, e.y /= this.scale_.y, e }, lime.Director.prototype.localToScreen = function (e) { return (e = e.clone()).x *= this.scale_.x, e.y *= this.scale_.y, e.x += this.domOffset.x + this.position_.x, e.y += this.domOffset.y + this.position_.y, e }, lime.Director.prototype.update = function () { lime.Node.prototype.update.call(this); for (var e = this.coverStack_.length; 0 <= --e;)this.coverStack_[e].update() }, lime.Director.prototype.invalidateSize_ = function () { var e = goog.style.getSize(this.domElement.parentNode); this.domElement.parentNode == document.body && (window.scrollTo(0, 0), goog.isNumber(window.innerHeight) && (e.height = window.innerHeight)); var t = this.getSize().clone().scaleToFit(e); this.setScale(t.width / this.getSize().width), e.aspectRatio() < t.aspectRatio() ? this.setPosition(0, (e.height - t.height) / 2) : this.setPosition((e.width - t.width) / 2, 0), this.updateDomOffset_(), goog.userAgent.MOBILE && this.domElement.parentNode == document.body && (this.overflowStyle_ && goog.style.uninstallStyles(this.overflowStyle_), this.overflowStyle_ = goog.style.installStyles("html{height:" + (e.height + 120) + "px;overflow:hidden;}")) }, lime.Director.prototype.makeMobileWebAppCapable = function () { var e = document.createElement("meta"); e.name = "apple-mobile-web-app-capable", e.content = "yes", document.getElementsByTagName("head").item(0).appendChild(e), (e = document.createElement("meta")).name = "apple-mobile-web-app-status-bar-style", e.content = "black", document.getElementsByTagName("head").item(0).appendChild(e), e = !1, goog.isDef(localStorage) && localStorage.setItem("_lime_visited", !0) }, lime.Director.prototype.updateDomOffset_ = function () { this.domOffset = goog.style.getPageOffset(this.domElement.parentNode) }, lime.Director.prototype.keyUpHandler_ = function (e) { e.altKey && "d" == String.fromCharCode(e.keyCode).toLowerCase() && (this.debugModeOn_ ? (goog.style.uninstallStyles(this.debugModeOn_), this.debugModeOn_ = null) : this.debugModeOn_ = goog.style.installStyles(".lime-scene div,.lime-scene img,.lime-scene canvas{border: 1px solid #c00;}"), e.stopPropagation(), e.preventDefault()) }, lime.Director.prototype.hitTest = function (e) { return e && e.screenPosition && (e.position = this.screenToLocal(e.screenPosition)), !0 }, lime.Node.prototype.setHidden = function (e) { return this.hidden_ = e, this.setDirty(lime.Dirty.VISIBILITY), this.autoHide_ = 0, this }, goog.provide("lime.transitions.MoveInDown"), goog.provide("lime.transitions.MoveInLeft"), goog.provide("lime.transitions.MoveInRight"), goog.provide("lime.transitions.MoveInUp"), goog.provide("lime.transitions.SlideIn"), goog.provide("lime.transitions.SlideInDown"), goog.provide("lime.transitions.SlideInLeft"), goog.provide("lime.transitions.SlideInRight"), goog.provide("lime.transitions.SlideInUp"), goog.require("goog.math.Coordinate"), goog.require("lime.Sprite"), goog.require("lime.animation.Animation"), goog.require("lime.animation.MoveBy"), lime.animation.MoveBy = function (e, t) { lime.animation.Animation.call(this), 2 == arguments.length ? this.delta_ = new goog.math.Coordinate(arguments[0], arguments[1]) : this.delta_ = e }, goog.inherits(lime.animation.MoveBy, lime.animation.Animation), lime.animation.MoveBy.prototype.scope = "move", lime.animation.MoveBy.prototype.setSpeed = function (e) { return this.speed_ = e, this.calcDurationFromSpeed_(), this }, lime.animation.MoveBy.prototype.makeTargetProp = function (e) { return this.useTransitions() && (e.addTransition(lime.Transition.POSITION, goog.math.Coordinate.sum(e.getPosition(), this.delta_), this.duration_, this.getEasing()), e.setDirty(lime.Dirty.POSITION)), { startpos: e.getPosition() } }, lime.animation.MoveBy.prototype.calcDurationFromSpeed_ = function () { this.speed_ && (this.setDuration(this.speed_ * goog.math.Coordinate.distance(this.delta_, new goog.math.Coordinate(0, 0)) / 100), this.speedCalcDone_ = 1) }, lime.animation.MoveBy.prototype.update = function (e, t) { if (0 != this.status_) { var o = this.getTargetProp(t); t.setPosition(o.startpos.x + this.delta_.x * e, o.startpos.y + this.delta_.y * e) } }, lime.animation.MoveBy.prototype.clearTransition = function (e) { this.useTransitions() && (e.clearTransition(lime.Transition.POSITION), e.setDirty(lime.Dirty.POSITION)) }, lime.animation.MoveBy.prototype.reverse = function () { var e = this.delta_.clone(); return e.x *= -1, e.y *= -1, new lime.animation.MoveBy(e).cloneParam(this) }, goog.require("lime.transitions.Transition"), lime.transitions.SlideIn = function (e, t, o) { goog.base(this, e, t), this.mode_ = lime.transitions.SlideIn.Mode.LEFT, this.movein_ = o || !1 }, goog.inherits(lime.transitions.SlideIn, lime.transitions.Transition), lime.transitions.SlideIn.Mode = { LEFT: 0, UP: 1, RIGHT: 2, DOWN: 4 }, lime.transitions.SlideIn.prototype.start = function () { var e = this.incoming_.getSize(), t = new goog.math.Coordinate(0, 0); switch (this.mode_) { case lime.transitions.SlideIn.Mode.LEFT: this.incoming_.setPosition(-e.width, 0), t.x = e.width; break; case lime.transitions.SlideIn.Mode.UP: this.incoming_.setPosition(0, -e.height), t.y = e.height; break; case lime.transitions.SlideIn.Mode.RIGHT: this.incoming_.setPosition(e.width, 0), t.x = -e.width; break; case lime.transitions.SlideIn.Mode.DOWN: this.incoming_.setPosition(0, e.height), t.y = -e.height }this.incoming_.setHidden(!1); var o = new lime.animation.MoveBy(t).setDuration(this.getDuration()); this.outgoing_ && !this.movein_ && o.addTarget(this.outgoing_), o.addTarget(this.incoming_), goog.events.listen(o, lime.animation.Event.STOP, this.finish, !1, this), o.play() }, lime.transitions.SlideIn.prototype.finish = function () { this.outgoing_ && this.outgoing_.setPosition(0, 0), lime.transitions.Transition.prototype.finish.call(this) }, lime.transitions.SlideIn.prototype.setMode = function (e) { return this.mode_ = e, this }, lime.transitions.SlideInLeft = lime.transitions.SlideIn, lime.transitions.SlideInUp = function (e, t, o) { goog.base(this, e, t, o), this.setMode(lime.transitions.SlideIn.Mode.UP) }, goog.inherits(lime.transitions.SlideInUp, lime.transitions.SlideIn), lime.transitions.SlideInRight = function (e, t, o) { goog.base(this, e, t, o), this.setMode(lime.transitions.SlideIn.Mode.RIGHT) }, goog.inherits(lime.transitions.SlideInRight, lime.transitions.SlideIn), lime.transitions.SlideInDown = function (e, t, o) { goog.base(this, e, t, o), this.setMode(lime.transitions.SlideIn.Mode.DOWN) }, goog.inherits(lime.transitions.SlideInDown, lime.transitions.SlideIn), lime.transitions.MoveInLeft = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInLeft, lime.transitions.SlideInLeft), lime.transitions.MoveInUp = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInUp, lime.transitions.SlideInUp), lime.transitions.MoveInRight = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInRight, lime.transitions.SlideInRight), lime.transitions.MoveInDown = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInDown, lime.transitions.SlideInDown); var sceneBefore = 1, player = { playerLevel: 1, barnLevel: 1, pastureLevel: 1, fields: 2, farms: 1, tools: 50, money: 500, currentCrop: 0, treesP: 0, cropsStored: [{ name: "Tomatoes", stored: 0 }, { name: "Carrots", stored: 0 }, { name: "Artichoke", stored: 0 }, { name: "Eggplant", stored: 0 }, { name: "Peppers", stored: 0 }, { name: "Corn", stored: 0 }, { name: "Hay", stored: 0 }, { name: "Milk", stored: 0 }, { name: "Apple", stored: 0 }, { name: "Pear", stored: 0 }, { name: "Pork", stored: 0 }, { name: "Eggs", stored: 0 }, { name: "Grapes", stored: 0 }, { name: "Jelly", stored: 0 }] }; void 0 === localStorage.GuiGhostFarms_player && localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), player = JSON.parse(localStorage.getItem("GuiGhostFarms_player")), console.log(player); var starCash = 0; void 0 === localStorage.starCash && (localStorage.starCash = 0, starCash = 0), starCash = parseInt(localStorage.starCash); var fsClicked = 0, orchardTreeBlock = 1, vinyardBlocks = 1, vinyardBlocks2 = 1, vinyardHouseLevel = 1; void 0 === localStorage.GuiGhostFarms_vinyardBlocks && (localStorage.GuiGhostFarms_vinyardBlocks = 1), vinyardBlocks = localStorage.getItem.GuiGhostFarms_vinyardBlocks, void 0 === localStorage.GuiGhostFarms_vinyardBlocks2 && (localStorage.GuiGhostFarms_vinyardBlocks2 = 1), vinyardBlocks2 = localStorage.getItem.GuiGhostFarms_vinyardBlocks2, void 0 === localStorage.GuiGhostFarms_vinyardHouseLevel && (localStorage.GuiGhostFarms_vinyardHouseLevel = 1), vinyardHouseLevel = parseInt(localStorage.GuiGhostFarms_vinyardHouseLevel), void 0 === localStorage.GuiGhostFarms_orchardTreeBlock && (localStorage.GuiGhostFarms_orchardTreeBlock = 1), orchardTreeBlock = parseInt(localStorage.GuiGhostFarms_orchardTreeBlock); var coopLevel = 1; void 0 === localStorage.GuiGhostFarms_coopLevel && (localStorage.GuiGhostFarms_coopLevel = 1), coopLevel = parseInt(localStorage.GuiGhostFarms_coopLevel); var dayCount = 1; void 0 === localStorage.GuiGhostFarms_dayCount && (localStorage.GuiGhostFarms_dayCount = 1), dayCount = parseInt(localStorage.GuiGhostFarms_dayCount); var yearCount = 1; void 0 === localStorage.GuiGhostFarms_yearCount && (localStorage.GuiGhostFarms_yearCount = 1), yearCount = parseInt(localStorage.GuiGhostFarms_yearCount); var toolsEver = 0; void 0 === localStorage.GuiGhostFarms_toolsEver && (localStorage.GuiGhostFarms_toolsEver = 0), toolsEver = parseInt(localStorage.GuiGhostFarms_toolsEver); var pickedEver = 0; void 0 === localStorage.GuiGhostFarms_pickedEver && (localStorage.GuiGhostFarms_pickedEver = 0), pickedEver = parseInt(localStorage.GuiGhostFarms_pickedEver); var moneyEver = 0; void 0 === localStorage.GuiGhostFarms_moneyEver && (localStorage.GuiGhostFarms_moneyEver = 0), moneyEver = parseInt(localStorage.GuiGhostFarms_moneyEver); var boughtStarCash = !1; void 0 === localStorage.GuiGhostFarms_boughtStarCash && (localStorage.GuiGhostFarms_boughtStarCash = !1), boughtStarCash = parseInt(localStorage.GuiGhostFarms_boughtStarCash); var tutSeen = 0; void 0 === localStorage.GuiGhostFarms_tutSeen && localStorage.setItem("GuiGhostFarms_tutSeen", 0), console.log("initial checkTut =" + tutSeen), tutSeen = parseInt(localStorage.GuiGhostFarms_tutSeen), console.log("2nd checkTut =" + tutSeen); var compassVisible = !1; farming.start = function () { var e = { width: 310, height: 540, tile_size: 30, num_tiles_x: 4, num_tiles_y: 4, landLayer_w: 320, landLayer_h: 388, controlsLayer_w: 320, controlsLayer_h: 70, costPlowing: 0, shop_margin_x: 50, shop_margin_y: 35 }, t = { money: 500, currentCrop: 0 }; e.crops = [{ name: "Tomatoes  ", cost: 5, revenue: 10, time_to_ripe: 20, time_to_death: 60, image: "tomato.png", harvest: "tomato2.png", grow1: "tomatoGrow1.png", grow2: "tomatoGrow2.png", stored: 0 }, { name: "Carrots    ", cost: 7, revenue: 15, time_to_ripe: 30, time_to_death: 60, image: "carrots.png", harvest: "carrots2.png", grow1: "carrotGrow1.png", grow2: "carrotGrow2.png", stored: 0 }, { name: "Artichoke  ", cost: 10, revenue: 20, time_to_ripe: 40, time_to_death: 120, image: "artichoke.png", harvest: "artichoke2.png", grow1: "artiGrow1.png", grow2: "artiGrow2.png", stored: 0 }, { name: "Eggplant ", cost: 12, revenue: 24, time_to_ripe: 50, time_to_death: 180, image: "eggplant.png", harvest: "eggplant2.png", grow1: "eggplantGrow1.png", grow2: "eggplantGrow2.png", stored: 0 }, { name: "Peppers  ", cost: 15, revenue: 30, time_to_ripe: 60, time_to_death: 240, image: "peppers.png", harvest: "peppers2.png", grow1: "pepperGrow1.png", grow2: "pepperGrow2.png", stored: 0 }, { name: "Corn  ", cost: 17, revenue: 35, time_to_ripe: 75, time_to_death: 280, image: "corn.png", harvest: "corn2.png", grow1: "cornGrow1.png", grow2: "cornGrow2.png", stored: 0 }, { name: "Hay  ", cost: 5, revenue: 10, time_to_ripe: 30, time_to_death: 280, image: "hay.png", harvest: "hayCartFull.png", grow1: "hayGrow1.png", grow2: "hayGrow2.png", stored: 0 }, { name: "Milk  ", cost: 12, revenue: 25, time_to_ripe: 60, time_to_death: 22280, image: "milk.png", harvest: "milk.png", grow1: "milk.png", grow2: "milk.png", stored: 0 }, { name: "Apple", cost: 10, revenue: 20, time_to_ripe: 60, time_to_death: 100, image: "Orchard/ready_Apples.png", harvest: "apple.png", grow1: "Orchard/growing2_trees.png", grow2: "Orchard/growing3_trees.png", stored: 0 }, { name: "Pear", cost: 15, revenue: 30, time_to_ripe: 50, time_to_death: 100, image: "Orchard/ready_treesPear.png", harvest: "pear.png", grow1: "Orchard/growing22_trees.png", grow2: "Orchard/growing4_trees.png", stored: 0 }, { name: "Pork", cost: 20, revenue: 40, time_to_ripe: 60, time_to_death: 100, image: "livestockPens/hams.png", harvest: "livestockPens/hams.png", grow1: "livestockPens/hams.png", grow2: "livestockPens/hams.png", stored: 0 }, { name: "Eggs", cost: 5, revenue: 10, time_to_ripe: 60, time_to_death: 100, image: "livestockPens/eggs.png", harvest: "livestockPens/eggs.png", grow1: "livestockPens/eggs.png", grow2: "livestockPens/eggs.png", stored: 0 }, { name: "Grapes", cost: 10, revenue: 20, time_to_ripe: 50, time_to_death: 100, image: "vinyard/grapes_ready.png", harvest: "vinyard/grapes2.png", grow1: "vinyard/grapes_Grow1.png", grow2: "vinyard/grapes_Grow2.png", stored: 0 }, { name: "Jelly", cost: 30, revenue: 40, time_to_ripe: 60, time_to_death: 100, image: "vinyard/jelly.png", harvest: "vinyard/jelly.png", grow1: "vinyard/jelly.png", grow2: "vinyard/jelly.png", stored: 0 }], e.barnyard = [{ name: "yard", image: "grass.png" }, { name: "road", image: "vertRoad.png" }, { name: "sacks", image: "sacks.png" }, { name: "market", image: "market2.png" }, { name: "vertFence", image: "vertFence.png" }, { name: "horizFence", image: "horizFence.png" }, { name: "shelter1", image: "shelter1.png" }, { name: "shelter2", image: "shelter2.png" }, { name: "crate1", image: "eggplantCrate.png" }, { name: "crate2", image: "cornCrate.png" }, { name: "well", image: "well2.png" }, { name: "anvil", image: "anvil1.png" }, { name: "anvil2", image: "anvil2.png" }, { name: "trees1", image: "leftTrees.png" }, { name: "trees2", image: "rightTrees.png" }, { name: "horizRoad", image: "horizRoad.png" }, { name: "toolTable", image: "toolTable.png" }, { name: "forge", image: "forge1.png" }, { name: "gateFence", image: "gateFence.png" }], e.barnlevel = [{ name: "Basic Shed", image: "barn1.png" }, { name: "Small Barn", image: "barn2.png" }, { name: "Large Barn", image: "barn3.png" }, { name: "XLarge Barn", image: "barn4.png" }, { name: "Double Silo Barn", image: "barn5.png" }, { name: "Pasture", image: "pasture.png" }], e.PastureUpgrades = [{ name: "Feed Stall", image: "FeedBinsLeft.png" }, { name: "Feed Stall 2", image: "FeedBinsRight.png" }], e.pasture = [{ name: "pond1", image: "water.png" }, { name: "dairyBarnP", image: "dairyBarn.png" }, { name: "vertBridge", image: "bridgeVert.png" }, { name: "pTree1", image: "pTree1.png" }, { name: "pTree2", image: "pTree2.png" }, { name: "dirtRoad", image: "dirt.png" }, { name: "cowEatR4", image: "cow_eatR4.png" }, { name: "cowForward1", image: "cow_eatF3.png" }, { name: "rocks1", image: "rocks.png" }, { name: "treeBlockP", image: "treeBlockP.png" }, { name: "cowEatR1", image: "cow_eatR1.png" }, { name: "cowEatR2", image: "cow_eatR2.png" }, { name: "cowEatR4", image: "cow_eatR4.png" }, { name: "cowWalkLeft1", image: "cowLeft1.png" }, { name: "cowWalkLeft2", image: "cowLeft2.png" }, { name: "cowWalkLeft3", image: "cowLeft3.png" }, { name: "cowWalkLeft4", image: "cowLeft4.png" }, { name: "cowRight1", image: "cowRight1.png" }, { name: "cowRight2", image: "cowRight2.png" }], e.orchard = [{ name: "waterfallMtn", image: "Orchard/OrchardBack4.png" }, { name: "shack", image: "FeedBinsRight.png" }], e.waterfallImg = [{ name: "waterfall1", image: "Orchard/waterfall1.png" }, { name: "waterfall2", image: "Orchard/waterfall2.png" }, { name: "waterfall3", image: "Orchard/waterfall3.png" }, { name: "waterfall4", image: "Orchard/waterfall4.png" }, { name: "movingWater1", image: "Orchard/waterMoving1.png" }, { name: "movingWater2", image: "Orchard/waterMoving2.png" }], e.achievements = { 0: !1, 1: !1, 2: !1, 3: !1, 4: !1, 5: !1, 6: !1, 7: !1, 8: !1, 9: !1, 10: !1, 11: !1, 12: !1, 13: !1, 14: !1, 15: !1, 16: !1 }, void 0 === localStorage.GuiGhostFarms_achievements && localStorage.setItem("GuiGhostFarms_achievements", JSON.stringify(e.achievements)), e.achievements = JSON.parse(localStorage.getItem("GuiGhostFarms_achievements")), e.achieveText = [{ index: 0, title: "Harvester I", sub: "Harvested 500 crops", reward: 5 }, { index: 1, title: "Harvester II", sub: "Harvested 5000 crops", reward: 10 }, { index: 2, title: "Expansion", sub: "Purchased another acre", reward: 5 }, { index: 3, title: "Carpenter", sub: "Upgraded Barn to Max", reward: 10 }, { index: 4, title: "Blacksmith I", sub: "Made 500 Tools", reward: 5 }, { index: 5, title: "Blacksmith II", sub: "Made 5000 Tools", reward: 10 }, { index: 6, title: "Patience", sub: "Played for 1 farm year", reward: 5 }, { index: 7, title: "Acreage", sub: "Own all 5 acres", reward: 10 }, { index: 8, title: "Jelly Making", sub: "Unlock Jelly production", reward: 10 }, { index: 9, title: "Lumberjack", sub: "Clear all Forests", reward: 10 }, { index: 10, title: "Breakfast Time", sub: "100 Ham and 100 Eggs", reward: 5 }, { index: 11, title: "Balanced Diet", sub: "10 of every crop", reward: 10 }, { index: 12, title: "Milk Master", sub: "Upgrade Dairy to max", reward: 5 }, { index: 13, title: "Merchant", sub: "Earn $5000 at Market", reward: 5 }, { index: 14, title: "Crossover", sub: "Buy $ with StarCash", reward: 10 }, { index: 15, title: "Back for More", sub: "Play 10 farm years", reward: 50 }], e.sceneBefore = 1; var o = [{ name: "Home", owned: 0, cost: 0, text: "Home Sweet Home" }, { name: "Dairy", owned: 0, cost: 2500, text: "MOOOOOO.....Got Milk?" }, { name: "Orchard", owned: 0, cost: 5e3, text: "Apples and Pears" }, { name: "Vineyard", owned: 0, cost: 7500, text: "Grapes & Jelly - YUM!" }, { name: "StockPens", owned: 0, cost: 1e4, text: "Livestock Pens" }]; void 0 === localStorage.GuiGhostFarms_acres && localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)), o = JSON.parse(localStorage.getItem("GuiGhostFarms_acres")), e.sceneBefore = 1, dt = 1e4, lime.scheduleManager.scheduleWithDelay(function () { player.tools = player.tools + 2 + player.barnLevel, toolsEver += 2 + parseInt(player.barnLevel), localStorage.GuiGhostFarms_toolsEver = toolsEver, e.updateTools() }, this, dt); var i = new lime.audio.Audio("audio/farming2.mp3"); i.play(!0); var n = new lime.audio.Audio("audio/blacksmith2.mp3"), s = new lime.audio.Audio("audio/cow1.mp3"), r = new lime.audio.Audio("audio/waterfallSound.mp3"), a = new lime.audio.Audio("audio/nice.mp3"), g = new lime.audio.Audio("audio/chickens.mp3"), l = new lime.audio.Audio("audio/snort.mp3"), d = new lime.audio.Audio("audio/ofarm.mp3"), p = new lime.audio.Audio("audio/pig3.mp3"), c = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 436).setSize(320, 25).setFill("images/" + e.barnyard[15].image), h = new lime.Director(document.body, e.width, e.height); h.makeMobileWebAppCapable(), h.setDisplayFPS(!1); var m = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), u = (new lime.Layer).setAnchorPoint(0, 0), f = (new lime.Layer).setAnchorPoint(0, 0); m.appendChild(u), m.appendChild(f); var y = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.controlsLayer_w, e.controlsLayer_h - 22).setFill("#8b008b"); f.appendChild(y); var v = (new lime.Sprite).setPosition(155, 11).setSize(150, 22).setFill("images/UI/topMenuPlain.png"); f.appendChild(v); var S = (new lime.Label).setText("$ " + player.money).setFontColor("#E8FC08").setPosition(e.controlsLayer_w - 45, 21); for (f.appendChild(S), x = 0; x < 6; x++)storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70 + 30 * x, 20).setFill("images/" + e.crops[x].harvest).setSize(20, 20), f.appendChild(storedIcon); var _ = (new lime.Label).setPosition(80, 41).setSize(20, 16).setText(player.cropsStored[0].stored).setFontSize(12).setFontColor("#E8FC08"); f.appendChild(_); var P = (new lime.Label).setPosition(110, 41).setSize(20, 16).setText(player.cropsStored[1].stored).setFontSize(12).setFontColor("#E8FC08"); f.appendChild(P); var C = (new lime.Label).setPosition(140, 41).setSize(20, 16).setText(player.cropsStored[2].stored).setFontSize(12).setFontColor("#E8FC08"); f.appendChild(C); var w = (new lime.Label).setPosition(170, 41).setSize(20, 16).setText(player.cropsStored[3].stored).setFontSize(12).setFontColor("#E8FC08"); f.appendChild(w); var A = (new lime.Label).setPosition(200, 41).setSize(20, 16).setText(player.cropsStored[4].stored).setFontSize(12).setFontColor("#E8FC08"); f.appendChild(A); var T = (new lime.Label).setPosition(230, 41).setSize(20, 16).setText(player.cropsStored[5].stored).setFontSize(12).setFontColor("#E8FC08"); f.appendChild(T), e.updateStored = function () { _.setText(player.cropsStored[0].stored), P.setText(player.cropsStored[1].stored), C.setText(player.cropsStored[2].stored), w.setText(player.cropsStored[3].stored), A.setText(player.cropsStored[4].stored), T.setText(player.cropsStored[5].stored), ar.setText(player.cropsStored[5].stored), Fs.setText(player.cropsStored[5].stored), Ct.setText(player.cropsStored[6].stored), wt.setText(player.cropsStored[7].stored), Li.setText(player.cropsStored[8].stored), gr.setText(player.cropsStored[8].stored), Es.setText(player.cropsStored[8].stored), Di.setText(player.cropsStored[9].stored), bs.setText(player.cropsStored[10].stored), Is.setText(player.cropsStored[11].stored), ha.setText(player.cropsStored[12].stored), ma.setText(player.cropsStored[13].stored) }; var F = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h).setFill("#0D0D0D"); f.appendChild(F); var E = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 473).setSize(30, 30).setFill("images/UI/gearButton.png"); f.appendChild(E); var b = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 505).setSize(30, 30).setFill(imgArray[15]); f.appendChild(b); var I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 473).setSize(30, 30).setFill("images/greenTrophy.png"); f.appendChild(I); var L = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 505).setSize(30, 30).setFill("images/UI/fbButton.png"); f.appendChild(L); var D = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(135, 445).setSize(35, 35).setFill("images/UI/compass2.png"); f.appendChild(D); var R = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); f.appendChild(R); var O = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); R.appendChild(O); var k = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); R.appendChild(k); var N = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); R.appendChild(N); var z = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); R.appendChild(z); var B = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); R.appendChild(B); var M = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); R.appendChild(M), R.setHidden(!0); var H = 0; function U() { compassVisible = !0, 0 == o[1].owned && (B.setFill("images/UI/lockBtn.png"), en.setFill("images/UI/lockBtn.png"), Ko.setFill("images/UI/lockBtn.png"), Na.setFill("images/UI/lockBtn.png"), Fr.setFill("images/UI/lockBtn.png")), 0 == o[2].owned && (O.setFill("images/UI/lockBtn.png"), Xi.setFill("images/UI/lockBtn.png"), Wo.setFill("images/UI/lockBtn.png"), Da.setFill("images/UI/lockBtn.png"), Cr.setFill("images/UI/lockBtn.png")), 0 == o[3].owned && (N.setFill("images/UI/lockBtn.png"), Ji.setFill("images/UI/lockBtn.png"), Yo.setFill("images/UI/lockBtn.png"), Oa.setFill("images/UI/lockBtn.png"), Ar.setFill("images/UI/lockBtn.png")), 0 == o[4].owned && (k.setFill("images/UI/lockBtn.png"), Qi.setFill("images/UI/lockBtn.png"), Vo.setFill("images/UI/lockBtn.png"), Ra.setFill("images/UI/lockBtn.png"), wr.setFill("images/UI/lockBtn.png")), R.setHidden(!1), qi.setHidden(!1), Go.setHidden(!1), La.setHidden(!1), Pr.setHidden(!1), ta.setHidden(!0), na.setHidden(!0) } function G() { qi.setHidden(!0), R.setHidden(!0), Go.setHidden(!0), La.setHidden(!0), Pr.setHidden(!0), compassVisible = !1, 1 == Br && (Zr.setHidden(!1), ea.setHidden(!1), ta.setHidden(!1)), 1 == Mr && (oa.setHidden(!1), ia.setHidden(!1), na.setHidden(!1)) } goog.events.listen(D, ["mousedown", "touchstart"], function () { U() }), goog.events.listen(M, ["mousedown", "touchstart"], function () { G() }), goog.events.listen(z, ["mousedown", "touchstart"], function () { G() }), goog.events.listen(B, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (e.sceneBefore = 2, G(), s.play(), Tl(), _o = t.currentCrop, t.currentCrop = 6, h.replaceScene(ht, lime.transitions.SlideInLeft)) }), goog.events.listen(O, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (e.sceneBefore = 3, r.play(), G(), _o = t.currentCrop, t.currentCrop = 8, h.replaceScene(Xo, lime.transitions.SlideInRight), H = t.currentCrop) }), goog.events.listen(N, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (G(), e.sceneBefore = 4, h.replaceScene(br, lime.transitions.SlideInLeft), H = t.currentCrop, _o = t.currentCrop, t.currentCrop = 12, Tl()) }), goog.events.listen(k, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (H = t.currentCrop, G(), e.sceneBefore = 5, h.replaceScene(ps, lime.transitions.SlideInRight), r.stop(), g.play(), l.play(), setTimeout(function () { d.play() }, 5e3), Tl()) }), goog.events.listen(b, ["mousedown", "touchstart"], function () { var e = lime.audio.getMute(); console.log("muted " + e), e ? (lime.audio.setMute(!1), i.play(!0), Al(2)) : (lime.audio.setMute(!0), Al(1)) }), goog.events.listen(I, ["mousedown", "touchstart"], function () { wl(sceneBefore = 1) }), goog.events.listen(L, ["mousedown", "touchstart"], function () { El() }); var W = 0; e.updateMoney = function () { player.money < 0 && (player.money = moneyBefore), t.money = player.money, S.setText("$ " + player.money), xt.setText("$ " + player.money), bn.setText("$ " + player.money), fs.setText("$ " + player.money), bi.setText("$ " + player.money), Rr.setText("$ " + player.money), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_dayCount", dayCount), localStorage.setItem("GuiGhostFarms_yearCount", yearCount), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", parseInt(moneyEver)), player.money < 5 && 0 == W && (Xe.setHidden(!1), Je.setHidden(!1), Qe.setHidden(!1), W = 1) }; var V = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 9).setSize(20, 20).setFill("images/toolsIcon.png"), Y = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(39, 21); f.appendChild(V), f.appendChild(Y); var j = (new lime.Label).setFontSize(10).setPosition(35, 40).setSize(60, 13).setFill("#C14825").setText("Day " + dayCount).setFontColor("#ffffff"); f.appendChild(j); var K = (new lime.Label).setFontSize(10).setPosition(275, 40).setSize(60, 13).setFill("#C14825").setText("Year " + yearCount).setFontColor("#ffffff"); f.appendChild(K), setInterval(function () { e.updateDates() }, 2e3), e.updateDates = function () { (dayCount += 1) > 365 && (yearCount += 1, dayCount = 1, K.setText("Year " + yearCount), Tt.setText("Year " + yearCount), zi.setText("Year " + yearCount), Ls.setText("Year " + yearCount), fa.setText("Year " + yearCount)), j.setText("Day " + dayCount), At.setText("Day " + dayCount), Ni.setText("Day " + dayCount), xs.setText("Day " + dayCount), ua.setText("Day " + dayCount) }, e.updateTools = function () { Y.setText(player.tools), Y.setFontColor("#4dff4d"), V.setSize(25, 25), Lt.setSize(25, 25), Oi.setSize(25, 25), Dt.setText(player.tools), Dt.setFontColor("#4dff4d"), ki.setText(player.tools), ki.setFontColor("#4dff4d"), Ps.setText(player.tools), Ps.setFontColor("#4dff4d"), zr.setText(player.tools), zr.setFontColor("#4dff4d"), $.setHidden(!1), setTimeout(function () { $.setPosition(55, 105), $.setOpacity(.6), V.setSize(20, 20), Lt.setSize(20, 20), Oi.setSize(20, 20), _s.setSize(20, 20), Nr.setSize(20, 20) }, 250), setTimeout(function () { $.setPosition(55, 100), $.setOpacity(.8), V.setSize(25, 25), Lt.setSize(25, 25), Oi.setSize(25, 25), _s.setSize(25, 25), Nr.setSize(25, 25) }, 500), setTimeout(function () { Y.setFontColor("#E8FC08"), Dt.setFontColor("#E8FC08"), ki.setFontColor("#E8FC08"), zr.setFontColor("#E8FC08"), $.setFontColor("#E8FC08"), $.setPosition(55, 95), $.setOpacity(.9), V.setSize(20, 20), Lt.setSize(20, 20), Oi.setSize(20, 20), _s.setSize(20, 20), Nr.setSize(20, 20) }, 750), setTimeout(function () { $.setPosition(55, 90), $.setOpacity(.8) }, 1e3), setTimeout(function () { $.setPosition(55, 85), $.setOpacity(.6) }, 1250), setTimeout(function () { $.setHidden(!0), $.setPosition(55, 110), $.setOpacity(.2) }, 1500) }; var $ = (new lime.Label).setText("+" + (2 + player.barnLevel) + " Tools").setFontWeight(600).setFontColor("#E8FC08").setPosition(55, 110).setOpacity(.4); f.appendChild($), $.setHidden(!0); var q = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 15, e.height / 2).setFill("images/" + e.crops[0].harvest).setSize(26, 21); f.appendChild(q), q.setHidden(!0), e.updateHarvest = function (t, o, i) { q.setPosition(t, o), q.setFill("images/" + e.crops[i].harvest), q.setHidden(!1), Ao.setPosition(t, o), Ao.setHidden(!1), an.setPosition(t, o), an.setFill("images/" + e.crops[i].harvest), an.setHidden(!1), Sa.setPosition(t, o), an.setFill("images/" + e.crops[12].harvest), Sa.setHidden(!1); var n = (t - 130) / 7, s = (o - 80) / 7, r = t - n, a = o - s; for (f = 0; f < 7; f++)setTimeout(function () { q.setPosition(r, a), Ao.setPosition(r, a), an.setPosition(r, a), Sa.setPosition(r, a), r -= n, a -= s }, 70 * f + 1), f > 4 && (fadeAdj = "0." + (12 - f), q.setOpacity(fadeAdj), Ao.setOpacity(fadeAdj), an.setOpacity(fadeAdj), Sa.setOpacity(fadeAdj)), setTimeout(function () { q.setOpacity(1), q.setHidden(!0), Ao.setOpacity(1), Ao.setHidden(!0), an.setOpacity(1), an.setHidden(!0), Sa.setOpacity(1), Sa.setHidden(!0) }, 800) }, e.displayCost = function (e, t, o) { pt.setHidden(!1), pt.setPosition(e + 35, t), pt.setText("-$" + o), setTimeout(function () { pt.setHidden(!0) }, 500) }; var X = t.currentCrop, Q = (new lime.Label).setText("Planting " + e.crops[0].name).setFontColor("#E8FC08").setFontSize(12).setPosition(155, e.height - e.controlsLayer_h / 2 - 12); f.appendChild(Q); var J = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(133, e.height - e.controlsLayer_h / 2 - 5).setFill("images/" + e.crops[X].harvest).setSize(1.2 * e.tile_size, 1.2 * e.tile_size); f.appendChild(J); var Z = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(214, e.height - e.controlsLayer_h - 4).setSize(90, 65).setFill("images/" + e.barnyard[3].image); f.appendChild(Z), goog.events.listen(Z, ["mousedown", "touchstart"], function () { e.sceneBefore = 1, h.replaceScene(wn, lime.transitions.SlideInDown), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored) }); var ee = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 45).setSize(e.controlsLayer_w, e.landLayer_h + 35).setFill("images/" + e.barnyard[0].image); u.appendChild(ee); var te = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(144, 60).setSize(21, 440).setFill("images/" + e.barnyard[1].image); u.appendChild(te); var oe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(3, 93).setSize(300, 79).setFill("images/" + e.barnyard[10].image); u.appendChild(oe); var ie = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(75, 65).setSize(40, 22).setFill("images/" + e.barnyard[2].image); u.appendChild(ie); var ne = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(190, 72).setSize(40, 22).setFill("images/" + e.barnyard[2].image); u.appendChild(ne); var se = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(197, 74).setSize(40, 22).setFill("images/" + e.barnyard[2].image); u.appendChild(se); var re = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 33).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(re); var ae = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 33).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ae); var ge = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ge); var le = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(le); var de = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(de); var pe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(pe); var ce = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 293).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ce); var he = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 293).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(he); var me = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 383).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(me); var ue = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 383).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ue); var fe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 35).setSize(315, 30).setFill("images/" + e.barnyard[5].image); u.appendChild(fe); var ye = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 410).setSize(315, 30).setFill("images/" + e.barnyard[5].image); u.appendChild(ye); var ve = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(15, 15); c.appendChild(ve), ve = (new lime.GlossyButton).setColor("#8b008b").setText("< Dairy").setPosition(42, 12).setSize(80, 15), c.appendChild(ve); var Se = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(285, 10).setSize(15, 15); c.appendChild(Se), Se = (new lime.GlossyButton).setColor("#8b008b").setText("Orchard >").setPosition(265, 12).setSize(80, 15), c.appendChild(Se), u.appendChild(c); var _e = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 414).setSize(43, 50).setFill("images/UI/forSaleDairy.png"); u.appendChild(_e); var Pe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(260, 414).setSize(43, 50).setFill("images/UI/forSaleOrchard.png"); u.appendChild(Pe); var Ce = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(132, 265).setSize(44, 49).setFill("images/UI/changeSeeds2.png"); u.appendChild(Ce); var we = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(4, 52).setSize(84, 99).setFill("images/" + e.barnyard[17].image); u.appendChild(we); var Ae = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(65, 89).setSize(22, 22).setFill("images/" + e.barnyard[12].image); u.appendChild(Ae); var Te = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 111).setSize(19, 22).setFill("images/" + e.barnyard[16].image); u.appendChild(Te); var Fe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88.5, 4).setSize(132, 155).setFill("images/" + e.barnlevel[player.barnLevel - 1].image); u.appendChild(Fe); var Ee = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(234, 27).setSize(68, 87).setFill("images/house1.png"); u.appendChild(Ee); var be = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 75).setSize(26, 26).setFill("images/blacksmith2.png"); u.appendChild(be); var Ie = 0; for (lime.scheduleManager.scheduleWithDelay(function () { (Ie += 1) >= 20 && (Ie = 1), Ie < 15 && be.setFill("images/blacksmith" + Ie + ".png"), 4 == Ie && be.setPosition(50, 80), 5 == Ie && be.setPosition(50, 85), 6 == Ie && be.setPosition(50, 90), 7 == Ie && be.setPosition(40, 90), 8 == Ie && be.setPosition(35, 95), 9 == Ie && be.setPosition(30, 100), 10 == Ie && be.setPosition(35, 105), 11 == Ie && be.setPosition(40, 100), 12 == Ie && be.setPosition(45, 95), 13 == Ie && be.setPosition(50, 90), 14 == Ie && (be.setPosition(50, 85), 1 == sceneBefore && n.play()), 15 == Ie && (be.setPosition(50, 80), be.setFill("images/blacksmith13.png")), 16 == Ie && (be.setPosition(50, 75), be.setFill("images/blacksmith1.png")), 17 == Ie && (be.setPosition(50, 75), be.setFill("images/blacksmith2.png")), 18 == Ie && (be.setPosition(50, 77), be.setFill("images/blacksmith1.png")), 19 == Ie && (be.setPosition(50, 77), be.setFill("images/blacksmith2.png"), Pl()) }, this, 300), f = 0; f < e.num_tiles_x; f++)for (var xe = 0; xe < e.num_tiles_y; xe++) { var Le = f * e.tile_size + 8, De = xe * e.tile_size + 181, Re = new farming.Land(e, t, Le, De).setPosition(f * e.tile_size + 8, xe * e.tile_size + 166); u.appendChild(Re), Le = f * e.tile_size + 171; var Oe = new farming.Land(e, t, Le, De).setPosition(f * e.tile_size + 181, xe * e.tile_size + 166); u.appendChild(Oe), Le = f * e.tile_size + 19, De = xe * e.tile_size + 296; var ke = new farming.Land(e, t, Le, De).setPosition(f * e.tile_size + 8, xe * e.tile_size + 296); u.appendChild(ke), Le = f * e.tile_size + 171; var Ne = new farming.Land(e, t, Le, De).setPosition(f * e.tile_size + 181, xe * e.tile_size + 296); u.appendChild(Ne), player.fields < 2 && (ke.setHidden(!1), player.fields < 3 && Ne.setHidden(!1)) } var ze = (new lime.GlossyButton).setColor("#663300").setText("Unlock").setPosition(65, 353).setSize(124, 130).setOpacity(.8), Be = (new lime.GlossyButton).setColor("#663300").setText("Unlock").setPosition(244, 354).setSize(124, 130).setOpacity(.8), Me = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(115, 50).setSize(80, 140).setFontWeight(600).setText("Lvl " + player.barnLevel + "/5"), He = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(137, 66).setSize(36, 42).setFill("images/toolUp1.png"); if (lime.scheduleManager.scheduleWithDelay(function () { var e = He.getPosition(); e.y -= 5, e.y < 59 && (e.y = 66), He.setPosition(e) }, this, 500), parseInt(player.barnLevel) >= 5 && He.setHidden(!0), u.appendChild(Me), u.appendChild(He), player.fields < 3) { u.appendChild(ze); var Ue = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 295).setSize(110, 120).setFill("images/" + e.barnyard[13].image); u.appendChild(Ue); var Ge = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(12, 335).setSize(110, 120).setText("Clear the Forest"); u.appendChild(Ge); var We = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 355).setSize(35, 35).setFill("images/tools50.png"); u.appendChild(We) } if (player.fields < 4) { u.appendChild(Be); var Ve = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(179, 295).setSize(120, 120).setFill("images/" + e.barnyard[14].image); u.appendChild(Ve); var Ye = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(182, 335).setSize(120, 120).setText("Clear the Forest"); u.appendChild(Ye); var je = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(225, 355).setSize(35, 35).setFill("images/tools50.png"); u.appendChild(je) } var Ke = 1, $e = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(48, 130).setSize(210, 220).setFill("images/UI/tut1.png"); u.appendChild($e); var qe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 210).setSize(35, 35).setFill("images/UI/nextButton.png"); $e.appendChild(qe), goog.events.listen(qe, ["mousedown", "touchstart"], function () { Ke <= 7 && $e.setFill(imgArray5[Ke]), Ke >= 8 && ($e.setHidden(!0), tutSeen = 1, localStorage.setItem("GuiGhostFarms_tutSeen", 1)), Ke += 1, console.log("tutstep = " + Ke) }, { passive: !1 }), e.checkTutSeen = function () { console.log("hit the check tutSeen = " + tutSeen), 1 == tutSeen && $e.setHidden(!0) }, e.checkTutSeen(); var Xe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 100).setSize(210, 220).setFill("images/UI/outOfCash.png"); u.appendChild(Xe); var Qe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(122, 212).setSize(75, 35).setFill("images/UI/buyStarCash.png"); Xe.appendChild(Qe); var Je = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 212).setSize(75, 35).setFill("images/UI/marketBtn.png"); Xe.appendChild(Je); var Ze = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(89, 212).setSize(35, 35).setFill("images/UI/XButton.png"); Xe.appendChild(Ze), Xe.setHidden(!0), Je.setHidden(!0), Qe.setHidden(!0), goog.events.listen(Qe, ["mousedown", "touchstart"], function () { Xe.setHidden(!0), Je.setHidden(!0), Qe.setHidden(!0), h.replaceScene(mn, lime.transitions.SlideInUp) }, { passive: !1 }), goog.events.listen(Je, ["mousedown", "touchstart"], function () { Xe.setHidden(!0), Je.setHidden(!0), Qe.setHidden(!0), h.replaceScene(wn, lime.transitions.SlideInDown) }, { passive: !1 }), goog.events.listen(Ze, ["mousedown", "touchstart"], function () { Xe.setHidden(!0), Je.setHidden(!0), Qe.setHidden(!0) }, { passive: !1 }); var et = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 140).setSize(210, 220).setFill("images/UI/saleBack.png"); u.appendChild(et); var tt = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000000").setPosition(45, 145).setSize(125, 60).setFontSize(20).setText("Dairy Farm $2500"); et.appendChild(tt); var ot = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FF0000").setPosition(55, 195).setSize(110, 60).setFontSize(10).setText("Earn more $ to buy"); et.appendChild(ot); var it = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 212).setSize(75, 35).setFill("images/UI/greenBuy.png"); et.appendChild(it); var nt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 212).setSize(35, 35).setFill("images/UI/XButton.png"); et.appendChild(nt), et.setHidden(!0); var st = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), rt = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#08fcef").setPosition(30, 35).setSize(150, 60).setFontSize(12).setText("Achieve Text"); st.appendChild(rt); var at = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(13, 160).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); st.appendChild(at); var gt = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#301934").setPosition(21, 186).setSize(190, 60).setFontSize(18).setText(" + "); st.appendChild(gt); var lt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); st.appendChild(lt), u.appendChild(st), st.setHidden(!0), goog.events.listen(lt, ["mousedown", "touchstart"], function () { st.setHidden(!0), Lo.setHidden(!0), Ta.setHidden(!0), gn.setHidden(!0), ur.setHidden(!0) }, { passive: !1 }), h.replaceScene(m), goog.events.listen(_e, ["mousedown", "touchstart"], function () { fsClicked = 1, et.setHidden(!1), tt.setText("Dairy Farm $2500"), player.money >= 2500 ? (ot.setHidden(!0), it.setHidden(!1)) : it.setHidden(!0) }, { passive: !1 }), goog.events.listen(Pe, ["mousedown", "touchstart"], function () { fsClicked = 2, et.setHidden(!1), player.money >= 2500 ? ot.setHidden(!0) : it.setHidden(!0), tt.setText("Fruit Orchard $2500") }, { passive: !1 }), goog.events.listen(it, ["mousedown", "touchstart"], function () { et.setHidden(!0), 1 == fsClicked && (player.money = player.money - 2500, e.updateMoney(), ve.setHidden(!1), _e.setHidden(!0), et.setHidden(!0), o[1].owned = 1), 2 == fsClicked && (player.money = player.money - 5e3, e.updateMoney(), Se.setHidden(!1), Pe.setHidden(!0), et.setHidden(!0), o[2].owned = 1), localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)) }, { passive: !1 }), goog.events.listen(nt, ["mousedown", "touchstart"], function () { sceneBefore = 1, et.setHidden(!0) }, { passive: !1 }), goog.events.listen(ze, ["mousedown", "touchstart"], function () { player.tools >= 50 && (player.fields = player.fields + 1, player.tools = player.tools - 50, console.log("cleared field 3 "), e.updateTools(), Ue.setHidden(!0), Ge.setHidden(!0), ze.setHidden(!0), We.setHidden(!0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player))) }, { passive: !1 }), goog.events.listen(Be, ["mousedown", "touchstart"], function () { player.tools >= 50 && (player.fields = player.fields + 1, player.tools = player.tools - 50, console.log("Cleared field 4 "), e.updateTools(), Ve.setHidden(!0), Ye.setHidden(!0), Be.setHidden(!0), je.setHidden(!0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver)) }, { passive: !1 }), goog.events.listen(Fe, ["mousedown", "touchstart"], function () { player.tools >= 100 && player.barnLevel < 6 && (He.setHidden(!0), player.barnLevel = player.barnLevel + 1, console.log("barn level is " + player.barnLevel), player.tools = player.tools - 100, localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), player.barnLevel > 5 && (player.barnLevel = 5), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver), Pl(), 2 == player.barnLevel && Fe.setFill(imgArray6[1]), 3 == player.barnLevel && Fe.setFill(imgArray6[2]), 4 == player.barnLevel && Fe.setFill(imgArray6[3]), 5 == player.barnLevel && Fe.setFill(imgArray6[4]), Me.setText("Lvl " + player.barnLevel + "/5"), player.barnLevel < 5 && He.setHidden(!1), e.updateTools()) }, { passive: !1 }), ke.setHidden(!1); var pt = (new lime.Label).setPosition(156, 180).setSize(30, 16).setText("-$50").setFontSize(14).setFontColor("#E8FC08"); u.appendChild(pt), pt.setHidden(!0); var ct = (new lime.Scene).setRenderer(lime.Renderer.CANVAS); u = (new lime.Layer).setAnchorPoint(0, 0), f = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#0D0D0D"); u.appendChild(f), ct.appendChild(u), f = (new lime.GlossyButton).setColor("#133242").setText("Back").setPosition(e.width / 2, e.height - 25).setSize(80, 40), u.appendChild(f), seedSceneBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, 40).setFill("#8b008b"), u.appendChild(seedSceneBack), seedSceneLabel = (new lime.Label).setText("Change Seeds to Plant ").setFontColor("#E8FC08").setFontSize(20).setPosition(155, 12), u.appendChild(seedSceneLabel), seedSceneLabel2 = (new lime.Label).setText("Select image to plant that crop ").setFontColor("#FFFFFF").setFontSize(12).setPosition(155, 31), u.appendChild(seedSceneLabel2), seedSceneSeeds1 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 1).setSize(40, 40).setFill("images/grain.png"), u.appendChild(seedSceneSeeds1), seedSceneSeeds2 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(265, 1).setSize(40, 40).setFill("images/grain.png"), u.appendChild(seedSceneSeeds2), goog.events.listen(Ce, ["mousedown", "touchstart"], function () { for (h.replaceScene(ct, lime.transitions.moveInRight), f = 0; f < player.barnLevel + 1; f++)F = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.shop_margin_x - 25, e.shop_margin_y + (e.shop_margin_y + e.tile_size) * f + 9 * f - 1 * f + 17).setFill("images/" + e.crops[f].harvest).setSize(35, 35), u.appendChild(F), xe = (new lime.Label).setText(e.crops[f].name + " (" + e.crops[f].time_to_ripe + " days) ").setFontColor("#E8FC08").setFontSize(22).setPosition(e.shop_margin_x + 130, 1.4 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * f + 7 * f - 1 * f + 17), u.appendChild(xe), xe = (new lime.Label).setText("Seeds: $" + e.crops[f].cost + " ").setFontColor("#133242").setFill("#C14825").setFontSize(16).setPosition(e.shop_margin_x + 80, 2.1 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * f + (9 * f - f) + 17), u.appendChild(xe), xe = (new lime.Label).setText("Market $" + e.crops[f].revenue + " ").setFontColor("#133242").setFill("#25C12A").setFontSize(16).setPosition(e.shop_margin_x + 190, 2.1 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * f + (9 * f - f) + 17), u.appendChild(xe), function (o, i) { goog.events.listen(o, ["mousedown", "touchstart"], function () { t.currentCrop = i, h.replaceScene(m, lime.transitions.moveInRight), J.setFill("images/" + e.crops[i].harvest), Q.setText("Planting " + e.crops[i].name), H = i, m.appendChild(J) }) }(F, f) }), goog.events.listen(f, ["mousedown", "touchstart"], function () { h.replaceScene(m, lime.transitions.moveInRight) }); var ht = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), mt = (new lime.Layer).setAnchorPoint(0, 0), ut = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height - 90).setFill("#0D0D0D"); ht.appendChild(ut), ht.appendChild(mt); var ft = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 40).setSize(e.controlsLayer_w, e.landLayer_h + 37).setFill("images/" + e.barnyard[0].image); mt.appendChild(ft); var yt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 435).setSize(320, 25).setFill("images/" + e.barnyard[15].image); mt.appendChild(yt); var vt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(15, 15); yt.appendChild(vt), vt = (new lime.GlossyButton).setColor("#8b008b").setText("< Vineyard").setPosition(42, 12).setSize(82, 15), yt.appendChild(vt), goog.events.listen(vt, ["mousedown", "touchstart"], function () { e.sceneBefore = 4, H = t.currentCrop, h.replaceScene(br, lime.transitions.SlideInLeft), t.currentCrop = 12, Tl() }); var St = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(285, 10).setSize(15, 15); yt.appendChild(St), St = (new lime.GlossyButton).setColor("#8b008b").setText("Home >").setPosition(265, 12).setSize(80, 15), yt.appendChild(St); y = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.controlsLayer_w, 50).setFill("#8b008b"); mt.appendChild(y); v = (new lime.Sprite).setPosition(155, 10).setSize(150, 22).setFill("images/UI/topMenuPlain.png"); mt.appendChild(v); var _t = (new lime.Sprite).setPosition(130, 28).setFill("images/" + e.crops[6].harvest).setSize(20, 20); mt.appendChild(_t); var Pt = (new lime.Sprite).setPosition(180, 26).setFill("images/" + e.crops[7].harvest).setSize(20, 20); mt.appendChild(Pt); var Ct = (new lime.Label).setPosition(131, 37).setSize(20, 16).setText(player.cropsStored[6].stored).setFontColor("#E8FC08"); mt.appendChild(Ct); var wt = (new lime.Label).setPosition(180, 37).setSize(20, 16).setText(player.cropsStored[7].stored).setFontColor("#E8FC08"); mt.appendChild(wt); var At = (new lime.Label).setFontSize(10).setPosition(35, 40).setSize(60, 13).setFill("#C14825").setText("Day " + dayCount).setFontColor("#ffffff"); mt.appendChild(At); var Tt = (new lime.Label).setFontSize(10).setPosition(275, 40).setSize(60, 13).setFill("#C14825").setText("Year " + yearCount).setFontColor("#ffffff"); mt.appendChild(Tt); F = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h).setFill("#0D0D0D"); mt.appendChild(F), menuP = (new lime.Sprite).setAnchorPoint(0, 0).setFill("images/UI/gearButton.png").setPosition(7, 473).setSize(30, 30), mt.appendChild(menuP); var Ft = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 473).setSize(30, 30).setFill("images/greenTrophy.png"); mt.appendChild(Ft); var Et = (new lime.Sprite).setFill("images/UI/fbButton.png").setAnchorPoint(0, 0).setPosition(42, 505).setSize(30, 30); mt.appendChild(Et), goog.events.listen(Et, ["mousedown", "touchstart"], function () { El() }); var bt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(135, 445).setSize(35, 35).setFill("images/UI/compass2.png"); mt.appendChild(bt); var It = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 505).setSize(30, 30).setFill(imgArray[15]); mt.appendChild(It), goog.events.listen(menuP, ["mousedown", "touchstart"], function () { e.sceneBefore = 2, h.replaceScene(mn, lime.transitions.SlideInUp) }), goog.events.listen(It, ["mousedown", "touchstart"], function () { var e = lime.audio.getMute(); console.log("muted " + e), e ? (lime.audio.setMute(!1), i.play(!0), Al(2)) : (lime.audio.setMute(!0), Al(1)) }), goog.events.listen(Ft, ["mousedown", "touchstart"], function () { wl(sceneBefore = 2) }); var xt = (new lime.Label).setText("$ " + player.money).setFontColor("#E8FC08").setPosition(270, 20); mt.appendChild(xt); var Lt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(20, 20).setFill("images/toolsIcon.png"), Dt = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(36, 20); mt.appendChild(Lt), mt.appendChild(Dt); t.currentCrop; var Rt = (new lime.Label).setText("Planting " + e.crops[6].name).setFontColor("#E8FC08").setFontSize(12).setPosition(e.controlsLayer_w / 2 - 5, e.height - e.controlsLayer_h / 2 - 12); mt.appendChild(Rt); var Ot = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 28, e.height - e.controlsLayer_h / 2 - 5).setFill("images/" + e.crops[6].harvest).setSize(48, 35); mt.appendChild(Ot); re = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 40).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(re); ae = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 40).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(ae); ge = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(ge); le = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(le); de = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(de); pe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(pe); ce = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 293).setSize(8, 55).setFill("images/" + e.barnyard[4].image); mt.appendChild(ce); he = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 293).setSize(8, 55).setFill("images/" + e.barnyard[4].image); mt.appendChild(he); var kt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 35).setSize(315, 29).setFill("images/" + e.barnyard[5].image); mt.appendChild(kt); var Nt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 315).setSize(315, 29).setFill("images/" + e.barnyard[5].image); mt.appendChild(Nt); var zt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 215).setSize(130, 80).setFill("images/Pasture/" + e.pasture[0].image); mt.appendChild(zt); var Bt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(59, 45).setSize(190, 137).setFill("images/Pasture/" + e.pasture[1].image); mt.appendChild(Bt); var Mt = (new lime.Label).setText("Lvl " + player.pastureLevel + "/3 ").setFontColor("#E8FC08").setFontWeight(600).setPosition(155, 70).setSize(100, 50), Ht = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(135, 69).setSize(36, 42).setFill("images/toolUp2.png"); lime.scheduleManager.scheduleWithDelay(function () { var e = Ht.getPosition(); e.y -= 5, e.y < 59 && (e.y = 66), Ht.setPosition(e) }, this, 500), mt.appendChild(Ht), mt.appendChild(Mt), player.pastureLevel >= 3 && (Ht.setHidden(!0), Mt.setHidden(!0)); var Ut = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(135, 210).setSize(38, 85).setFill("images/Pasture/" + e.pasture[2].image); mt.appendChild(Ut); re = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 250).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(re); ae = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(168, 250).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(ae); var Gt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(63, 100).setSize(8, 68).setFill("images/" + e.barnyard[4].image); mt.appendChild(Gt); var Wt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 100).setSize(8, 68).setFill("images/" + e.barnyard[4].image); mt.appendChild(Wt); var Vt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(68, 147).setSize(70, 25).setFill("images/" + e.barnyard[18].image); mt.appendChild(Vt); var Yt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(169, 147).setSize(70, 25).setFill("images/" + e.barnyard[18].image); mt.appendChild(Yt); var jt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(168, 160).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(jt); var Kt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 160).setSize(8, 90).setFill("images/" + e.barnyard[4].image); mt.appendChild(Kt); var $t = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 135).setSize(43, 56).setFill("images/Pasture/" + e.pasture[3].image); mt.appendChild($t); var qt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(228, 135).setSize(43, 56).setFill("images/Pasture/" + e.pasture[3].image); mt.appendChild(qt); var Xt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(164, 270).setSize(50, 57).setFill("images/Pasture/" + e.pasture[4].image); mt.appendChild(Xt); var Qt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 270).setSize(50, 57).setFill("images/Pasture/" + e.pasture[4].image); mt.appendChild(Qt); var Jt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(143, 170).setSize(20, 43).setFill("images/Pasture/" + e.pasture[5].image); mt.appendChild(Jt); var Zt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(143, 294).setSize(20, 27).setFill("images/Pasture/" + e.pasture[5].image); mt.appendChild(Zt); var eo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(270, 270).setSize(32, 16).setFill("images/Pasture/" + e.pasture[8].image); mt.appendChild(eo); var to = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(44, 185).setSize(32, 16).setFill("images/Pasture/" + e.pasture[8].image); mt.appendChild(to); var oo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(102, 413).setFill("images/" + e.crops[6].harvest).setSize(39, 27); mt.appendChild(oo); var io = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(178, 415).setSize(32, 16).setFill("images/Pasture/" + e.pasture[8].image); mt.appendChild(io); var no = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(175, 120).setSize(140, 200).setFill("images/Pasture/" + e.pasture[9].image); mt.appendChild(no); var so = (new lime.Label).setText("Clear Forest").setFontColor("#E8FC08").setFontWeight(600).setPosition(250, 285).setSize(90, 130); mt.appendChild(so); var ro = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 240).setSize(35, 35).setFill("images/tools500.png"); mt.appendChild(ro), player.treesP > 0 && (no.setHidden(!0), so.setHidden(!0), ro.setHidden(!0)); var ao = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(67, 230).setSize(54, 26).setFill("images/Pasture/" + e.pasture[6].image); mt.appendChild(ao); var go = (new lime.Sprite).setPosition(50, 290).setSize(22, 38).setFill("images/Pasture/" + e.pasture[7].image); mt.appendChild(go); var lo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(28, 193).setSize(80, 30).setFill("images/Pasture/" + e.pasture[13].image); mt.appendChild(lo); var po = 0, co = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(215, 285).setSize(58, 26).setFill("images/Pasture/" + e.pasture[6].image); mt.appendChild(co); var ho = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(225, 235).setSize(21, 36).setFill("images/Pasture/" + e.pasture[7].image); mt.appendChild(ho); var mo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(207, 193).setSize(80, 29).setFill("images/Pasture/" + e.pasture[18].image); mt.appendChild(mo), 0 == player.treesP && (co.setHidden(!0), ho.setHidden(!0), mo.setHidden(!0)); lime.scheduleManager.scheduleWithDelay(function () { (po += 1) >= 8 && (po = 1), 1 == player.treesP && (co.setHidden(!1), ho.setHidden(!1), mo.setHidden(!1)), 1 == po && (ao.setFill("images/Pasture/" + e.pasture[11].image), lo.setFill("images/Pasture/" + e.pasture[14].image), lo.setPosition(21, 193), go.setFill("images/Pasture/cow_eatF1.png"), 1 == player.treesP && (co.setFill("images/Pasture/" + e.pasture[10].image), mo.setFill("images/Pasture/" + e.pasture[17].image), mo.setPosition(214, 193), ho.setFill("images/Pasture/cow_eatF1.png"))), 2 == po && (ao.setFill("images/Pasture/" + e.pasture[10].image), lo.setFill("images/Pasture/" + e.pasture[15].image), lo.setPosition(14, 193), go.setFill("images/Pasture/cow_eatF2.png"), ho.setFill("images/Pasture/cow_eatF2.png"), 1 == player.treesP && (co.setFill("images/Pasture/" + e.pasture[11].image), mo.setFill("images/Pasture/" + e.pasture[18].image), mo.setPosition(221, 193))), 3 == po && (ao.setFill("images/Pasture/" + e.pasture[11].image), lo.setFill("images/Pasture/" + e.pasture[16].image), lo.setPosition(7, 193), 1 == player.treesP && (co.setFill("images/Pasture/" + e.pasture[6].image), mo.setFill("images/Pasture/" + e.pasture[17].image), mo.setPosition(228, 193))), 4 == po && (ao.setFill("images/Pasture/" + e.pasture[6].image), lo.setFill("images/Pasture/" + e.pasture[17].image), lo.setPosition(7, 193), go.setFill("images/Pasture/cow_eatF2.png"), ho.setFill("images/Pasture/cow_eatF3.png"), 1 == player.treesP && (co.setFill("images/Pasture/" + e.pasture[11].image), mo.setFill("images/Pasture/" + e.pasture[16].image), mo.setPosition(228, 193))), 5 == po && (ao.setFill("images/Pasture/" + e.pasture[11].image), lo.setFill("images/Pasture/" + e.pasture[18].image), lo.setPosition(14, 193), go.setFill("images/Pasture/cow_eatF1.png"), ho.setFill("images/Pasture/cow_eatF1.png"), 1 == player.treesP && (co.setFill("images/Pasture/" + e.pasture[6].image), mo.setFill("images/Pasture/" + e.pasture[15].image), mo.setPosition(221, 193))), 6 == po && (ao.setFill("images/Pasture/" + e.pasture[10].image), lo.setFill("images/Pasture/" + e.pasture[17].image), lo.setPosition(21, 193), go.setFill("images/Pasture/cow_eatF2.png"), ho.setFill("images/Pasture/cow_eatF2.png"), 1 == player.treesP && (co.setFill("images/Pasture/" + e.pasture[11].image), mo.setFill("images/Pasture/" + e.pasture[16].image), mo.setPosition(214, 193))), 7 == po && (ao.setFill("images/Pasture/" + e.pasture[11].image), lo.setFill("images/Pasture/" + e.pasture[18].image), lo.setPosition(28, 193), 1 == player.treesP && (co.setFill("images/Pasture/" + e.pasture[10].image), mo.setFill("images/Pasture/" + e.pasture[17].image), mo.setPosition(207, 193), ho.setFill("images/Pasture/cow_eatF1.png"))) }, this, 750), lime.scheduleManager.scheduleWithDelay(function () { 2 == sceneBefore && s.play(), 1 == o[1].owned && e.harvestMilk(), vinyardHouseLevel > 1 && e.makeJelly() }, this, 3e4), e.harvestMilk = function () { player.cropsStored[6].stored >= player.pastureLevel + player.treesP && (player.cropsStored[6].stored = player.cropsStored[6].stored - (player.pastureLevel + player.treesP), player.cropsStored[7].stored = player.cropsStored[7].stored + (player.pastureLevel + player.treesP), count6.setText(player.cropsStored[6].stored), Ct.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), wt.setText(player.cropsStored[7].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), e.haySize()) }, e.makeJelly = function () { player.cropsStored[12].stored >= 2 && (player.cropsStored[12].stored = player.cropsStored[12].stored - 2, player.cropsStored[13].stored = player.cropsStored[13].stored + 1, count12.setText(player.cropsStored[12].stored), ha.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), ma.setText(player.cropsStored[13].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver), Pl(), setTimeout(function () { aa.setHidden(!1), aa.setPosition(145, 320), aa.setOpacity(1) }, 500), setTimeout(function () { aa.setHidden(!1), aa.setPosition(145, 310), aa.setOpacity(.8) }, 1e3), setTimeout(function () { aa.setHidden(!1), aa.setPosition(145, 300), aa.setOpacity(.6) }, 1500), setTimeout(function () { aa.setHidden(!1), aa.setPosition(145, 290), aa.setOpacity(.4) }, 2e3), setTimeout(function () { aa.setHidden(!1), aa.setPosition(145, 280), aa.setOpacity(.2) }, 2500), setTimeout(function () { aa.setHidden(!0) }, 3e3)) }, e.haySize = function () { player.cropsStored[6].stored <= 0 && (Po.setHidden(!0), Co.setHidden(!0)), player.cropsStored[6].stored >= 1 && Po.setHidden(!1), player.cropsStored[6].stored >= 2 && Co.setHidden(!1), player.cropsStored[6].stored >= 12 && Po.setSize(30, 15), player.cropsStored[6].stored >= 24 && Co.setSize(30, 15), player.cropsStored[6].stored >= 50 && Po.setSize(40, 20), player.cropsStored[6].stored >= 75 && Po.setSize(40, 20), player.cropsStored[6].stored >= 85 && Po.setSize(50, 25), player.cropsStored[6].stored >= 100 && Po.setSize(50, 25) }; var uo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 55).setSize(59, 83).setFill("images/Pasture/" + e.PastureUpgrades[0].image); mt.appendChild(uo); var fo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(243, 55).setSize(59, 83).setFill("images/Pasture/" + e.PastureUpgrades[1].image); for (mt.appendChild(fo), uo.setHidden(!0), fo.setHidden(!0), player.pastureLevel > 1 && (uo.setHidden(!1), player.pastureLevel > 2 && fo.setHidden(!1)), f = 0; f < e.num_tiles_x; f++)for (xe = 0; xe < 2; xe++) { Le = f * e.tile_size + 12, De = xe * e.tile_size + 352; var yo = new farming.Land(e, t, Le, De).setPosition(f * e.tile_size + 12, xe * e.tile_size + 352); mt.appendChild(yo), Le = f * e.tile_size + 175; var vo = new farming.Land(e, t, Le, De).setPosition(f * e.tile_size + 175, xe * e.tile_size + 352); mt.appendChild(vo) } var So = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(143, 345).setSize(21, 92).setFill("images/Pasture/" + e.pasture[5].image); mt.appendChild(So); var _o = t.currentCrop, Po = (new lime.Sprite).setPosition(98, 138).setSize(20, 10).setFill("images/Pasture/hayPile.png"); mt.appendChild(Po); var Co = (new lime.Sprite).setPosition(211, 138).setSize(20, 10).setFill("images/Pasture/hayPile.png"); mt.appendChild(Co); var wo = (new lime.Sprite).setPosition(266, 312).setSize(11, 6).setFill("images/Pasture/hayPile.png"); mt.appendChild(wo); var Ao = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 19, e.height / 2 + 100).setFill("images/" + e.crops[6].image).setSize(26, 21); mt.appendChild(Ao), Ao.setHidden(!0); var To = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 414).setSize(50, 50).setFill("images/UI/forSaleVineyard.png"); mt.appendChild(To); var Fo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 100).setSize(210, 220).setFill("images/UI/saleBack.png"); mt.appendChild(Fo); var Eo = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000000").setPosition(50, 145).setSize(115, 60).setFontSize(22).setText("Vineyard $7500"); Fo.appendChild(Eo); var bo = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FF0000").setPosition(55, 195).setSize(110, 60).setFontSize(10).setText("Earn more $ to buy"); Fo.appendChild(bo); var Io = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 212).setSize(75, 35).setFill("images/UI/greenBuy.png"); Fo.appendChild(Io); var xo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 212).setSize(35, 35).setFill("images/UI/XButton.png"); Fo.appendChild(xo), Fo.setHidden(!0), goog.events.listen(To, ["mousedown", "touchstart"], function () { fsClicked = 3, Fo.setHidden(!1), player.money >= 7500 ? (bo.setHidden(!0), Io.setHidden(!1)) : Io.setHidden(!0), Eo.setText("Vineyard $7500") }, { passive: !1 }), goog.events.listen(Io, ["mousedown", "touchstart"], function () { Fo.setHidden(!0), player.money = player.money - 7500, e.updateMoney(), vt.setHidden(!1), To.setHidden(!0), Fo.setHidden(!0), o[3].owned = 1, localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)) }, { passive: !1 }), goog.events.listen(xo, ["mousedown", "touchstart"], function () { Fo.setHidden(!0) }, { passive: !1 }); var Lo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), Do = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#08fcef").setPosition(30, 35).setSize(150, 60).setFontSize(12).setText("Achieve Text"); Lo.appendChild(Do); var Ro = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(13, 160).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); Lo.appendChild(Ro); var Oo = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#301934").setPosition(21, 186).setSize(190, 60).setFontSize(18).setText(" + "); Lo.appendChild(Oo); var ko = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); Lo.appendChild(ko), mt.appendChild(Lo), Lo.setHidden(!0), goog.events.listen(ko, ["mousedown", "touchstart"], function () { st.setHidden(!0), Lo.setHidden(!0), Ta.setHidden(!0), gn.setHidden(!0), ur.setHidden(!0) }, { passive: !1 }); var No = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(62, 145).setSize(180, 200).setFill("images/UI/shortage.png"); mt.appendChild(No); var zo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 195).setSize(40, 40).setFill("images/UI/checkButton.png"); No.appendChild(zo); var Bo = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(5, 120).setSize(170, 40).setFontSize(14).setText("Livestock Hungry!"); No.appendChild(Bo); var Mo = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FFFFFF").setPosition(2, 140).setSize(175, 40).setFontSize(12).setText("Cows eat HAY to produce MILK. Grow some in the fields below"); No.appendChild(Mo); var Ho = (new lime.Sprite).setPosition(90, 180).setFill("images/" + e.crops[6].harvest).setSize(25, 25); No.appendChild(Ho); var Uo = (new lime.Label).setPosition(104, 186).setSize(20, 16).setText(player.cropsStored[6].stored).setFontColor("#E8FC08"); No.appendChild(Uo), No.setHidden(!0), goog.events.listen(zo, ["mousedown", "touchstart"], function () { No.setHidden(!0) }); var Go = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); mt.appendChild(Go); var Wo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); Go.appendChild(Wo); var Vo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); Go.appendChild(Vo); var Yo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); Go.appendChild(Yo); var jo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); Go.appendChild(jo); var Ko = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); Go.appendChild(Ko); var $o = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); Go.appendChild($o), Go.setHidden(!0), goog.events.listen(bt, ["mousedown", "touchstart"], function () { U() }), goog.events.listen($o, ["mousedown", "touchstart"], function () { G() }), goog.events.listen(jo, ["mousedown", "touchstart"], function () { compassVisible && (t.currentCrop = H, G(), e.sceneBefore = 1, h.replaceScene(m, lime.transitions.SlideInRight)) }), goog.events.listen(Ko, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (G(), e.sceneBefore = 2, t.currentCrop = 6) }), goog.events.listen(Wo, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (_o = t.currentCrop, t.currentCrop = 8, e.sceneBefore = 3, r.play(), G(), h.replaceScene(Xo, lime.transitions.SlideInRight)) }), goog.events.listen(Yo, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (G(), e.sceneBefore = 4, h.replaceScene(br, lime.transitions.SlideInLeft), r.stop(), _o = t.currentCrop, t.currentCrop = 12, Tl()) }), goog.events.listen(Vo, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (G(), e.sceneBefore = 5, h.replaceScene(ps, lime.transitions.SlideInRight), r.stop(), g.play(), l.play(), setTimeout(function () { d.play() }, 5e3), Tl()) }); var qo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(216, e.height - e.controlsLayer_h - 4).setSize(90, 65).setFill("images/" + e.barnyard[3].image); mt.appendChild(qo), goog.events.listen(qo, ["mousedown", "touchstart"], function () { e.sceneBefore = 2, h.replaceScene(wn, lime.transitions.SlideInDown), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored) }), goog.events.listen(ve, ["mousedown", "touchstart"], function () { h.replaceScene(ht, lime.transitions.SlideInLeft), _o = t.currentCrop, t.currentCrop = 6, sceneBefore = 2, s.play(), Tl() }), goog.events.listen(St, ["mousedown", "touchstart"], function () { h.replaceScene(m, lime.transitions.SlideInRight), t.currentCrop = _o, sceneBefore = 1 }), goog.events.listen(so, ["mousedown", "touchstart"], function () { player.tools >= 500 && (player.tools = player.tools - 500, player.treesP = 1, console.log("cleared trees on right Pasture "), e.updateTools(), so.setHidden(!0), no.setHidden(!0), ro.setHidden(!0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player))) }, { passive: !1 }), goog.events.listen(Ht, ["mousedown", "touchstart"], function () { player.tools >= 250 && parseInt(player.pastureLevel) <= 3 && (player.pastureLevel = parseInt(player.pastureLevel) + 1, console.log("pasture level is " + parseInt(player.pastureLevel)), player.tools = player.tools - 250, localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), player.pastureLevel > 3 && (player.pastureLevel = 3), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), player.pastureLevel >= 2 && uo.setHidden(!1), player.pastureLevel >= 3 && (fo.setHidden(!1), Mt.setHidden(!0), Ht.setHidden(!0), Pl()), e.updateTools()) }, { passive: !1 }); var Xo = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Qo = (new lime.Layer).setAnchorPoint(0, 0), Jo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height - 5).setFill("#0D0D0D"); Xo.appendChild(Jo), Xo.appendChild(Qo); var Zo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 40).setSize(e.controlsLayer_w, e.landLayer_h + 37).setFill("images/" + e.barnyard[0].image); Qo.appendChild(Zo); var ei = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 44).setSize(310, 420).setFill("images/" + e.orchard[0].image); Qo.appendChild(ei); var ti = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 435).setSize(109, 25).setFill("images/" + e.barnyard[15].image); Qo.appendChild(ti); var oi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(152, 435).setSize(170, 25).setFill("images/" + e.barnyard[15].image); Qo.appendChild(oi); e.tile_size, e.tile_size; var ii = new farming.Land(e, t, 5, 195, 3).setPosition(5, 195); ii.setSize(40, 50), Qo.appendChild(ii); var ni = new farming.Land(e, t, 65, 195, 3).setPosition(65, 195); ni.setSize(40, 50), Qo.appendChild(ni); var si = new farming.Land(e, t, 5, 250, 3).setPosition(5, 250); si.setSize(40, 50), Qo.appendChild(si); var ri = new farming.Land(e, t, 65, 250, 3).setPosition(65, 250); ri.setSize(40, 50), Qo.appendChild(ri); var ai = new farming.Land(e, t, 5, 310, 3).setPosition(5, 310); ai.setSize(40, 50), Qo.appendChild(ai); var gi = new farming.Land(e, t, 65, 310, 3).setPosition(65, 310); gi.setSize(40, 50), Qo.appendChild(gi); var li = new farming.Land(e, t, 5, 365, 3).setPosition(5, 365); li.setSize(40, 50), Qo.appendChild(li); var di = new farming.Land(e, t, 65, 365, 3).setPosition(65, 365); di.setSize(40, 50), Qo.appendChild(di); var pi = new farming.Land(e, t, 215, 245, 32).setPosition(215, 245); pi.setSize(40, 50), Qo.appendChild(pi); var ci = new farming.Land(e, t, 250, 180, 32).setPosition(250, 180); ci.setSize(40, 50), Qo.appendChild(ci); var hi = new farming.Land(e, t, 160, 310, 32).setPosition(160, 310); hi.setSize(40, 50), Qo.appendChild(hi); var mi = new farming.Land(e, t, 160, 375, 32).setPosition(160, 375); mi.setSize(40, 50), Qo.appendChild(mi); var ui = new farming.Land(e, t, 215, 375, 32).setPosition(215, 375); ui.setSize(40, 50), Qo.appendChild(ui); var fi = new farming.Land(e, t, 270, 375, 32).setPosition(270, 375); fi.setSize(40, 50), Qo.appendChild(fi); var yi = new farming.Land(e, t, 215, 310, 32).setPosition(215, 310); yi.setSize(40, 50), Qo.appendChild(yi); var vi = new farming.Land(e, t, 270, 310, 32).setPosition(270, 310); vi.setSize(40, 50), Qo.appendChild(vi); var Si = new farming.Land(e, t, 270, 245, 32).setPosition(270, 245); Si.setSize(40, 50), Qo.appendChild(Si); var _i = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(155, 88).setSize(36, 75).setFill("images/" + e.waterfallImg[0].image); Qo.appendChild(_i); var Pi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(120, 290).setSize(22, 44).setFill("images/" + e.waterfallImg[4].image); Qo.appendChild(Pi); var Ci = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(120, 350).setSize(22, 44).setFill("images/" + e.waterfallImg[4].image); Qo.appendChild(Ci), e.waterAnim = function () { var t = 0, o = 0; setInterval(function () { t > 3 && (t = 0), o > 3 && (o = 0), _i.setFill("images/" + e.waterfallImg[t].image), 0 == o && (Pi.setFill("images/" + e.waterfallImg[5].image), Ci.setFill("images/" + e.waterfallImg[5].image)), o > 1 && (Pi.setFill("images/" + e.waterfallImg[4].image), Ci.setFill("images/" + e.waterfallImg[4].image)), t += 1, o += 1 }, 400) }, e.waterAnim(); var wi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(158, 150).setSize(150, 280).setFill("images/Orchard/treeBlockO.png"); Qo.appendChild(wi); var Ai = (new lime.Label).setText("Clear Forest").setFontColor("#E8FC08").setFontWeight(600).setPosition(240, 350).setSize(90, 160); Qo.appendChild(Ai); var Ti = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(225, 290).setSize(35, 35).setFill("images/tools500.png"); Qo.appendChild(Ti), orchardTreeBlock > 1 && (wi.setHidden(!0), Ai.setHidden(!0), Ti.setHidden(!0)), goog.events.listen(Ai, ["mousedown", "touchstart"], function () { console.log("inside click2 " + player.tools), player.tools >= 500 && (player.tools = player.tools - 500, console.log("inside click2"), e.updateTools(), orchardTreeBlock = 2, localStorage.GuiGhostFarms_orchardTreeBlock = 2, wi.setHidden(!0), Ai.setHidden(!0), Ti.setHidden(!0)) }); var Fi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.controlsLayer_w, 46).setFill("#8b008b"); Qo.appendChild(Fi); var Ei = (new lime.Sprite).setPosition(155, 10).setSize(150, 22).setFill("images/UI/topMenuPlain.png"); Qo.appendChild(Ei); var bi = (new lime.Label).setText("$ " + player.money).setFontColor("#E8FC08").setPosition(270, 20); Qo.appendChild(bi); var Ii = (new lime.Sprite).setPosition(135, 28).setFill("images/" + e.crops[8].harvest).setSize(20, 20); Qo.appendChild(Ii); var xi = (new lime.Sprite).setPosition(175, 26).setFill("images/" + e.crops[9].harvest).setSize(20, 20); Qo.appendChild(xi); var Li = (new lime.Label).setPosition(134, 38).setSize(20, 16).setText(player.cropsStored[8].stored).setFontColor("#E8FC08"); Qo.appendChild(Li); var Di = (new lime.Label).setPosition(174, 38).setSize(20, 16).setText(player.cropsStored[9].stored).setFontColor("#E8FC08"); Qo.appendChild(Di); var Ri = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 448).setSize(15, 15); Qo.appendChild(Ri); var Oi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(20, 20).setFill("images/toolsIcon.png"), ki = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(36, 20); Qo.appendChild(Oi), Qo.appendChild(ki); var Ni = (new lime.Label).setFontSize(10).setPosition(35, 40).setSize(60, 13).setFill("#C14825").setText("Day " + dayCount).setFontColor("#ffffff"); Qo.appendChild(Ni); var zi = (new lime.Label).setFontSize(10).setPosition(275, 40).setSize(60, 13).setFill("#C14825").setText("Year " + yearCount).setFontColor("#ffffff"); Qo.appendChild(zi); var Bi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(44, 230).setSize(25, 26).setFill("images/Orchard/girlF1.png"); Qo.appendChild(Bi); var Mi = 1; e.moveGirl = function () { (Mi += 1) > 53 && (Mi = 1), 2 == Mi && (Bi.setPosition(44, 235), Bi.setFill("images/Orchard/girlF2.png")), 3 == Mi && (Bi.setPosition(44, 240), Bi.setFill("images/Orchard/girlF3.png")), 4 == Mi && (Bi.setPosition(44, 245), Bi.setFill("images/Orchard/girlF2.png")), 5 == Mi && (Bi.setPosition(44, 250), Bi.setFill("images/Orchard/girlF1.png")), 6 == Mi && (Bi.setPosition(44, 255), Bi.setFill("images/Orchard/girlF2.png")), 7 == Mi && (Bi.setPosition(44, 260), Bi.setFill("images/Orchard/girlF3.png")), 8 == Mi && (Bi.setPosition(44, 265), Bi.setFill("images/Orchard/girlF2.png")), 9 == Mi && (Bi.setPosition(44, 270), Bi.setFill("images/Orchard/girlF1.png")), 10 == Mi && (Bi.setPosition(44, 275), Bi.setFill("images/Orchard/girlF2.png")), 11 == Mi && (Bi.setPosition(44, 280), Bi.setFill("images/Orchard/girlF3.png")), 12 == Mi && (Bi.setPosition(44, 285), Bi.setFill("images/Orchard/girlF2.png")), 13 == Mi && (Bi.setPosition(44, 290), Bi.setFill("images/Orchard/girlF1.png")), 14 == Mi && (Bi.setPosition(44, 295), Bi.setFill("images/Orchard/girlF2.png")), 15 == Mi && (Bi.setPosition(44, 300), Bi.setFill("images/Orchard/girlF3.png")), 16 == Mi && (Bi.setPosition(44, 305), Bi.setFill("images/Orchard/girlF2.png")), 17 == Mi && (Bi.setPosition(44, 310), Bi.setFill("images/Orchard/girlF1.png")), 18 == Mi && (Bi.setPosition(44, 315), Bi.setFill("images/Orchard/girlF2.png")), 19 == Mi && (Bi.setPosition(44, 320), Bi.setFill("images/Orchard/girlF3.png")), 20 == Mi && (Bi.setPosition(44, 325), Bi.setFill("images/Orchard/girlF2.png")), 21 == Mi && (Bi.setPosition(44, 330), Bi.setFill("images/Orchard/girlF1.png")), 22 == Mi && (Bi.setPosition(44, 335), Bi.setFill("images/Orchard/girlF2.png")), 23 == Mi && (Bi.setPosition(44, 340), Bi.setFill("images/Orchard/girlF3.png")), 24 == Mi && (Bi.setPosition(44, 345), Bi.setFill("images/Orchard/girlF2.png")), 25 == Mi && (Bi.setPosition(44, 350), Bi.setFill("images/Orchard/girlF1.png")), 26 == Mi && (Bi.setPosition(44, 350), Bi.setFill("images/Orchard/girlL1.png")), 27 == Mi && (Bi.setPosition(44, 350), Bi.setFill("images/Orchard/girlF1.png")), 28 == Mi && (Bi.setPosition(44, 350), Bi.setFill("images/Orchard/girlR1.png")), 29 == Mi && (Bi.setPosition(44, 345), Bi.setFill("images/Orchard/girlUp1.png")), 30 == Mi && (Bi.setPosition(44, 345), Bi.setFill("images/Orchard/girlUp2.png")), 31 == Mi && (Bi.setPosition(44, 340), Bi.setFill("images/Orchard/girlUp3.png")), 32 == Mi && (Bi.setPosition(44, 335), Bi.setFill("images/Orchard/girlUp2.png")), 33 == Mi && (Bi.setPosition(44, 330), Bi.setFill("images/Orchard/girlUp1.png")), 34 == Mi && (Bi.setPosition(44, 325), Bi.setFill("images/Orchard/girlUp2.png")), 35 == Mi && (Bi.setPosition(44, 320), Bi.setFill("images/Orchard/girlUp3.png")), 36 == Mi && (Bi.setPosition(44, 315), Bi.setFill("images/Orchard/girlUp2.png")), 37 == Mi && (Bi.setPosition(44, 310), Bi.setFill("images/Orchard/girlUp1.png")), 38 == Mi && (Bi.setPosition(44, 305), Bi.setFill("images/Orchard/girlUp2.png")), 39 == Mi && (Bi.setPosition(44, 300), Bi.setFill("images/Orchard/girlUp3.png")), 40 == Mi && (Bi.setPosition(44, 295), Bi.setFill("images/Orchard/girlUp2.png")), 41 == Mi && (Bi.setPosition(44, 290), Bi.setFill("images/Orchard/girlUp3.png")), 42 == Mi && (Bi.setPosition(44, 285), Bi.setFill("images/Orchard/girlUp2.png")), 43 == Mi && (Bi.setPosition(44, 280), Bi.setFill("images/Orchard/girlUp1.png")), 44 == Mi && (Bi.setPosition(44, 275), Bi.setFill("images/Orchard/girlUp2.png")), 45 == Mi && (Bi.setPosition(44, 270), Bi.setFill("images/Orchard/girlUp3.png")), 46 == Mi && (Bi.setPosition(44, 265), Bi.setFill("images/Orchard/girlUp2.png")), 47 == Mi && (Bi.setPosition(44, 260), Bi.setFill("images/Orchard/girlUp1.png")), 48 == Mi && (Bi.setPosition(44, 255), Bi.setFill("images/Orchard/girlUp2.png")), 49 == Mi && (Bi.setPosition(44, 250), Bi.setFill("images/Orchard/girlUp3.png")), 50 == Mi && (Bi.setPosition(44, 245), Bi.setFill("images/Orchard/girlUp2.png")), 51 == Mi && (Bi.setPosition(44, 240), Bi.setFill("images/Orchard/girlUp1.png")), 52 == Mi && (Bi.setPosition(44, 235), Bi.setFill("images/Orchard/girlUp2.png")), 53 == Mi && (Bi.setPosition(44, 230), Bi.setFill("images/Orchard/girlR1.png")) }, lime.scheduleManager.scheduleWithDelay(function () { e.moveGirl() }, this, 300), Ri = (new lime.GlossyButton).setColor("#8b008b").setText("< Home").setPosition(42, 448).setSize(80, 15), Qo.appendChild(Ri), roadRightO = (new lime.GlossyButton).setColor("#8b008b").setText("StockPens >").setPosition(255, 448).setSize(90, 15), Qo.appendChild(roadRightO); var Hi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(260, 414).setSize(43, 50).setFill("images/UI/forSaleStockPens.png"); Qo.appendChild(Hi); var Ui = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 150).setSize(210, 220).setFill("images/UI/saleBack.png"); Qo.appendChild(Ui); var Gi = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000000").setPosition(50, 145).setSize(115, 60).setFontSize(22).setText("StockPens $10,000"); Ui.appendChild(Gi); var Wi = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FF0000").setPosition(55, 195).setSize(110, 60).setFontSize(10).setText("Earn more $ to buy"); Ui.appendChild(Wi); var Vi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 212).setSize(75, 35).setFill("images/UI/greenBuy.png"); Ui.appendChild(Vi); var Yi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 212).setSize(35, 35).setFill("images/UI/XButton.png"); Ui.appendChild(Yi), Ui.setHidden(!0), goog.events.listen(Hi, ["mousedown", "touchstart"], function () { fsClicked = 4, Ui.setHidden(!1), player.money >= 1e4 ? (Wi.setHidden(!0), Vi.setHidden(!1)) : Vi.setHidden(!0), Gi.setText("StockPens $10,000") }, { passive: !1 }), goog.events.listen(Vi, ["mousedown", "touchstart"], function () { Ui.setHidden(!0), player.money = player.money - 1e4, e.updateMoney(), roadRightO.setHidden(!1), Hi.setHidden(!0), Ui.setHidden(!0), o[4].owned = 1, localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)) }, { passive: !1 }), goog.events.listen(Yi, ["mousedown", "touchstart"], function () { Ui.setHidden(!0) }, { passive: !1 }); var ji = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 473).setSize(30, 30).setFill("images/UI/gearButton.png"); Qo.appendChild(ji); var Ki = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 505).setSize(30, 30).setFill("images/UI/fbButton.png"); Qo.appendChild(Ki), goog.events.listen(Ki, ["mousedown", "touchstart"], function () { El() }); var $i = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(126, 445).setSize(35, 35).setFill("images/UI/compass2.png"); Qo.appendChild($i); var qi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); Qo.appendChild(qi); var Xi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); qi.appendChild(Xi); var Qi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); qi.appendChild(Qi); var Ji = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); qi.appendChild(Ji); var Zi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); qi.appendChild(Zi); var en = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); qi.appendChild(en); var tn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); qi.appendChild(tn), qi.setHidden(!0), goog.events.listen($i, ["mousedown", "touchstart"], function () { U() }), goog.events.listen(tn, ["mousedown", "touchstart"], function () { G() }), goog.events.listen(Zi, ["mousedown", "touchstart"], function () { compassVisible && (t.currentCrop = H, t.currentCrop > 5 && (t.currentCrop = 0), G(), e.sceneBefore = 1, r.stop(), h.replaceScene(m, lime.transitions.SlideInLeft)) }), goog.events.listen(en, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (e.sceneBefore = 2, r.stop(), G(), s.play(), Tl(), _o = t.currentCrop, t.currentCrop = 6, h.replaceScene(ht, lime.transitions.SlideInLeft)) }), goog.events.listen(Xi, ["mousedown", "touchstart"], function () { 1 == o[2].owned && G() }), goog.events.listen(Ji, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (G(), e.sceneBefore = 4, h.replaceScene(br, lime.transitions.SlideInLeft), r.stop(), _o = t.currentCrop, t.currentCrop = 12, Tl()) }), goog.events.listen(Qi, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (G(), e.sceneBefore = 5, _o = t.currentCrop, t.currentCrop = 12, h.replaceScene(ps, lime.transitions.SlideInRight), r.stop(), g.play(), l.play(), setTimeout(function () { d.play() }, 5e3), Tl()) }); var on = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 505).setSize(30, 30).setFill(imgArray[15]); Qo.appendChild(on); var nn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 473).setSize(30, 30).setFill("images/greenTrophy.png"); Qo.appendChild(nn), goog.events.listen(on, ["mousedown", "touchstart"], function () { var e = lime.audio.getMute(); console.log("muted " + e), e ? (lime.audio.setMute(!1), i.play(!0), r.play(!0), on.setFill(imgArray[15]), Al(2)) : (lime.audio.setMute(!0), Al(1)) }), goog.events.listen(nn, ["mousedown", "touchstart"], function () { wl(sceneBefore = 3) }); t.currentCrop; var sn = (new lime.Label).setText("Tending " + e.crops[8].name + " Trees").setFontColor("#E8FC08").setFontSize(12).setPosition(e.controlsLayer_w / 2 - 15, e.height - e.controlsLayer_h / 2 - 12); Qo.appendChild(sn); var rn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 35, e.height - e.controlsLayer_h / 2 - 5).setFill("images/" + e.crops[8].harvest).setSize(1.2 * e.tile_size, 1.2 * e.tile_size); Qo.appendChild(rn); var an = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 15, e.height / 2).setFill("images/" + e.crops[8].harvest).setSize(26, 21); Qo.appendChild(an), an.setHidden(!0); var gn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), ln = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#08fcef").setPosition(30, 35).setSize(150, 60).setFontSize(12).setText("Achieve Text"); gn.appendChild(ln); var dn = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(13, 160).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); gn.appendChild(dn); var pn = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#301934").setPosition(21, 186).setSize(190, 60).setFontSize(18).setText(" + "); gn.appendChild(pn); var cn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); gn.appendChild(cn), Qo.appendChild(gn), gn.setHidden(!0), goog.events.listen(cn, ["mousedown", "touchstart"], function () { st.setHidden(!0), Lo.setHidden(!0), Ta.setHidden(!0), gn.setHidden(!0), ur.setHidden(!0) }, { passive: !1 }); var hn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(214, e.height - e.controlsLayer_h - 4).setSize(90, 65).setFill("images/" + e.barnyard[3].image); Qo.appendChild(hn), goog.events.listen(ji, ["mousedown", "touchstart"], function () { e.sceneBefore = 3, h.replaceScene(mn, lime.transitions.SlideInUp) }), goog.events.listen(roadRightO, ["mousedown", "touchstart"], function () { e.sceneBefore = 5, h.replaceScene(ps, lime.transitions.SlideInRight), r.stop(), g.play(), l.play(), setTimeout(function () { d.play() }, 5e3), Tl() }), goog.events.listen(hn, ["mousedown", "touchstart"], function () { e.sceneBefore = 3, h.replaceScene(wn, lime.transitions.SlideInDown), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored) }); var mn = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), un = (new lime.Layer).setAnchorPoint(0, 0), fn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#0D0D0D"); mn.appendChild(fn), mn.appendChild(un); var yn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 10).setSize(300, 520).setFill("images/CoverImg.png"); un.appendChild(yn); var vn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, 175).setSize(e.width / 2 + 40, 50).setFill("#663300"); vn = (new lime.GlossyButton).setColor("#4dff4d").setText("Save & Quit").setPosition(150, 175).setSize(e.width / 2 + 40, 50), un.appendChild(vn); var Sn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 4 - 20, 325).setSize(e.width / 2 + 40, 50).setFill("#663300"); Sn = (new lime.GlossyButton).setColor("#6600ff").setText("$500 for 5 StarCash").setPosition(150, 325).setSize(e.width / 2 + 50, 50), un.appendChild(Sn); var _n = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 4 - 20, 250).setSize(e.width / 2 + 40, 50).setFill("#663300"); _n = (new lime.GlossyButton).setColor("#ff0000").setText("Clear Data (start over)").setPosition(150, 250).setSize(e.width / 2 + 40, 50), un.appendChild(_n); var Pn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 4 - 20, 400).setSize(e.width / 2 + 40, 50).setFill("#663300"); Pn = (new lime.GlossyButton).setColor("#663300").setText("Back to Game").setPosition(150, 400).setSize(e.width / 2 + 40, 50), un.appendChild(Pn); var Cn = (new lime.Label).setText("+500 = $" + player.money).setFontColor("#E8FC08").setPosition(150, 125).setFontSize(30); un.appendChild(Cn), Cn.setHidden(!0), goog.events.listen(E, ["mousedown", "touchstart"], function () { h.replaceScene(mn, lime.transitions.SlideInUp), e.sceneBefore = 1 }), goog.events.listen(Se, ["mousedown", "touchstart"], function () { h.replaceScene(Xo, lime.transitions.SlideInRight), sceneBefore = 3, r.play(!0), H = t.currentCrop, _o = t.currentCrop, t.currentCrop = 8 }), goog.events.listen(Ri, ["mousedown", "touchstart"], function () { h.replaceScene(m, lime.transitions.SlideInLeft), sceneBefore = 1, r.stop(), t.currentCrop = _o }), goog.events.listen(vn, ["mousedown", "touchstart"], function () { localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), window.open("../", "_self"), localStorage.setItem("GuiGhostFarms_dayCount", dayCount), localStorage.setItem("GuiGhostFarms_yearCount", yearCount), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver) }), goog.events.listen(_n, ["mousedown", "touchstart"], function () { localStorage.removeItem("GuiGhostFarms_player"), localStorage.removeItem("GuiGhostFarms_vinyardBlocks"), localStorage.removeItem("GuiGhostFarms_vinyardBlocks2"), localStorage.removeItem("GuiGhostFarms_vinyardHouseLevel"), localStorage.removeItem("GuiGhostFarms_orchardTreeBlock"), localStorage.removeItem("GuiGhostFarms_dayCount"), localStorage.removeItem("GuiGhostFarms_yearCount"), localStorage.removeItem("GuiGhostFarms_toolsEver"), localStorage.removeItem("GuiGhostFarms_pickedEver"), localStorage.removeItem("GuiGhostFarms_moneyEver"), localStorage.removeItem("GuiGhostFarms_achievements"), localStorage.removeItem("GuiGhostFarms_acres"), localStorage.removeItem("GuiGhostFarms_boughtStarCash"), localStorage.removeItem("GuiGhostFarms_coopLevel"), window.open("../", "_self") }), goog.events.listen(Sn, ["mousedown", "touchstart"], function () { starCash > 5 && (boughtStarCash = !0, player.money += 500, e.updateMoney(), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), starCash -= 5, localStorage.setItem("starCash", starCash), Cn.setHidden(!1), Cn.setText("+500 = $" + player.money)) }), goog.events.listen(Pn, ["mousedown", "touchstart"], function () { 1 == parseInt(e.sceneBefore) && h.replaceScene(m, lime.transitions.SlideInDown), 2 == e.sceneBefore && h.replaceScene(ht, lime.transitions.SlideInDown), 3 == e.sceneBefore && h.replaceScene(Xo, lime.transitions.SlideInDown), 4 == e.sceneBefore && (h.replaceScene(br, lime.transitions.SlideInDown), Tl()), 5 == e.sceneBefore && (h.replaceScene(ps, lime.transitions.SlideInDown), g.play(), l.play(), setTimeout(function () { d.play() }, 1e3), setTimeout(function () { p.play() }, 2e3)) }); var wn = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), An = (new lime.Layer).setAnchorPoint(0, 0), Tn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#0D0D0D"); wn.appendChild(Tn), wn.appendChild(An); var Fn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 6).setSize(300, e.height - 50).setFill("images/UI/farmersMarket.png"); An.appendChild(Fn); var En = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 2 - 50, 510).setSize(50, 50).setFill("#663300"); En = (new lime.GlossyButton).setColor("#663300").setText("Back to Game").setPosition(150, 510).setSize(e.width / 2, 50), An.appendChild(En); var bn = (new lime.Label).setText("$ " + player.money).setFontColor("#E8FC08").setPosition(e.controlsLayer_w - 65, 50).setFontSize(18); An.appendChild(bn); var In = 120, xn = 0, Ln = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88, In).setSize(64, 44).setFill("#663300"); An.appendChild(Ln), count0 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(100, In + 15), An.appendChild(count0), g0 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g0), i0 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(120, In + 35), An.appendChild(i0), xn = 1; var Dn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(160, 120).setSize(64, 44).setFill("#663300"); An.appendChild(Dn), count1 = (new lime.Label).setText(player.cropsStored[1].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(180, In + 15), An.appendChild(count1), g1 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, In).setFill("images/" + e.crops[1].harvest).setSize(30, 30), An.appendChild(g1), i1 = (new lime.Label).setText("$" + e.crops[1].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(190, In + 35), An.appendChild(i1), In += 50, xn = 2; var Rn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88, In).setSize(64, 44).setFill("#663300"); An.appendChild(Rn), count2 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(100, In + 15), An.appendChild(count2), g3 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g3), i3 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(120, In + 35), An.appendChild(i3), xn = 3; var On = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(160, In).setSize(64, 44).setFill("#663300"); An.appendChild(On), count3 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(180, In + 15), An.appendChild(count3), g4 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g4), i4 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(190, In + 35), An.appendChild(i4), In += 50, xn = 4; var kn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88, In).setSize(64, 44).setFill("#663300"); An.appendChild(kn), count4 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(100, In + 15), An.appendChild(count4), g5 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g5), i5 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(120, In + 35), An.appendChild(i5), xn = 5; var Nn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(160, In).setSize(64, 44).setFill("#663300"); An.appendChild(Nn), count5 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(180, In + 15), An.appendChild(count5), g6 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g6), i6 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(190, In + 35), An.appendChild(i6), In += 50, xn = 6; var zn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88, In).setSize(64, 44).setFill("#663300"); An.appendChild(zn), count6 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(100, In + 15), An.appendChild(count6), g7 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g7), i7 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(120, In + 35), An.appendChild(i7), xn = 7; var Bn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(160, In).setSize(64, 44).setFill("#663300"); An.appendChild(Bn), count7 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(180, In + 15), An.appendChild(count7), g8 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g8), i8 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(190, In + 35), An.appendChild(i8), In += 50, xn = 8; var Mn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88, In).setSize(64, 44).setFill("#663300"); An.appendChild(Mn), count8 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(100, In + 15), An.appendChild(count8), g9 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g9), i9 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(120, In + 35), An.appendChild(i9), xn = 9; var Hn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(160, In).setSize(64, 44).setFill("#663300"); An.appendChild(Hn), count9 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(180, In + 15), An.appendChild(count9), g10 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g10), i10 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(190, In + 35), An.appendChild(i10), xn = 10, In += 50, xn = 10; var Un = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88, In).setSize(64, 44).setFill("#663300"); An.appendChild(Un), count10 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(100, In + 15), An.appendChild(count10), g11 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g11), i11 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(120, In + 35), An.appendChild(i11), xn = 11; var Gn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(160, In).setSize(64, 44).setFill("#663300"); An.appendChild(Gn), count11 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(180, In + 15), An.appendChild(count11), g12 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g12), i12 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(190, In + 35), An.appendChild(i12), In += 50, xn = 12; var Wn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(88, In).setSize(64, 44).setFill("#663300"); An.appendChild(Wn), count12 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(100, In + 15), An.appendChild(count12), g13 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, In).setFill("images/" + e.crops[xn].harvest).setSize(25, 30), An.appendChild(g13), i13 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(120, In + 35), An.appendChild(i13), xn = 13; var Vn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(160, In).setSize(64, 44).setFill("#663300"); An.appendChild(Vn), count13 = (new lime.Label).setText(player.cropsStored[xn].stored).setFontSize(16).setFontColor("#1aff1a").setPosition(180, In + 15), An.appendChild(count13), g14 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, In).setFill("images/" + e.crops[xn].harvest).setSize(30, 30), An.appendChild(g14), i14 = (new lime.Label).setText("$" + e.crops[xn].revenue + " each").setFontColor("#E8FC08").setFontSize(12).setPosition(190, In + 35), An.appendChild(i14); var Yn = 0, jn = 0, Kn = 0, $n = 0, qn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("images/UI/blocker.png"); An.appendChild(qn); var Xn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 150).setSize(250, 250).setFill("images/UI/blankBack.png"); qn.appendChild(Xn); var Qn = (new lime.Label).setText("$ Sell Crop $").setFontColor("#E8FC08").setFontSize(26).setPosition(125, 90); Xn.appendChild(Qn); var Jn = (new lime.Label).setText(jn + "/" + Yn).setFontColor("#E8FC08").setFontSize(22).setPosition(55, 170); Xn.appendChild(Jn); var Zn = (new lime.Label).setText(" $0 ").setFontColor("#E8FC08").setFontSize(22).setPosition(190, 170); Xn.appendChild(Zn); var es = (new lime.Label).setText("Sell For").setFontColor("#ffffff").setFontSize(18).setPosition(190, 140); Xn.appendChild(es); var ts = (new lime.Label).setText("Stock").setFontColor("#ffffff").setFontSize(18).setPosition(55, 140); Xn.appendChild(ts); var os = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(105, 120).setFill("images/" + e.crops[xn].harvest).setSize(40, 40); Xn.appendChild(os); var is = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(65, 195).setFill("images/UI/sellBtn.png").setSize(120, 40); Xn.appendChild(is); var ns = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(20, 195).setFill("images/UI/downBtn.png").setSize(40, 40); Xn.appendChild(ns); var ss = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(188, 195).setFill("images/UI/upBtn.png").setSize(40, 40); Xn.appendChild(ss); var rs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 240).setFill("images/UI/XButton.png").setSize(60, 60); Xn.appendChild(rs), qn.setHidden(!0), goog.events.listen(rs, ["mousedown", "touchstart"], function () { qn.setHidden(!0) }), goog.events.listen(ss, ["mousedown", "touchstart"], function () { console.log(Kn), e.cropUp(Kn) }), goog.events.listen(ns, ["mousedown", "touchstart"], function () { e.cropDown(Kn) }), goog.events.listen(En, ["mousedown", "touchstart"], function () { Pl(), 1 == parseInt(e.sceneBefore) && h.replaceScene(m, lime.transitions.SlideInUp), 2 == e.sceneBefore && h.replaceScene(ht, lime.transitions.SlideInUp), 3 == e.sceneBefore && h.replaceScene(Xo, lime.transitions.SlideInUp), 4 == e.sceneBefore && h.replaceScene(br, lime.transitions.SlideInUp), 5 == e.sceneBefore && (h.replaceScene(ps, lime.transitions.SlideInUp), g.play(), l.play()) }); goog.events.listen(Ln, ["mousedown", "touchstart"], function () { e.updateCropsandCash(0) }), goog.events.listen(Dn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(1) }), goog.events.listen(Rn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(2) }), goog.events.listen(On, ["mousedown", "touchstart"], function () { e.updateCropsandCash(3) }), goog.events.listen(kn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(4) }), goog.events.listen(Nn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(5) }), goog.events.listen(zn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(6) }), goog.events.listen(Bn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(7) }), goog.events.listen(Mn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(8) }), goog.events.listen(Hn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(9) }), goog.events.listen(Un, ["mousedown", "touchstart"], function () { e.updateCropsandCash(10) }), goog.events.listen(Gn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(11) }), goog.events.listen(Wn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(12) }), goog.events.listen(Vn, ["mousedown", "touchstart"], function () { e.updateCropsandCash(13) }), e.updateCropsandCash = function (t) { var o = qn.getHidden(); player.cropsStored[t].stored > 0 && o && (Kn = parseInt(t), console.log("crop = " + t), Yn = player.cropsStored[t].stored, jn = player.cropsStored[t].stored, $n = e.crops[t].revenue * player.cropsStored[t].stored, Zn.setText($n), Jn.setText(jn + "/" + Yn), os.setFill("images/" + e.crops[t].harvest), qn.setHidden(!1), goog.events.listen(is, ["mousedown", "touchstart"], function () { var t = qn.getHidden(); console.log("isITvisible? = " + t), console.log("howmanysellBtn added listener"), t || (console.log("howmanysellBtn is not hidden- sell"), e.finalSale(Kn)) })) }, e.hideRowBacks = function () { }, e.cropDown = function (t) { (jn -= 1) <= 1 && (jn = 1), $n = e.crops[t].revenue * jn, console.log(" cropSaleCurrent " + jn), Jn.setText(jn + "/" + Yn), Zn.setText($n) }, e.cropUp = function (t) { (jn += 1) >= Yn && (jn = Yn), $n = e.crops[t].revenue * jn, Jn.setText(jn + "/" + Yn), Zn.setText($n) }, e.interMedSale = function (t) { e.finalSale(t) }, e.finalSale = function (t) { var o = player.money + $n; isNaN(o) || (player.money = player.money + $n), console.log(" cropSaleCurrent final sale" + jn), moneyEver += $n, localStorage.GuiGhostFarms_moneyEver = moneyEver, a.play(), qn.setHidden(!0), !0, player.cropsStored[t].stored = player.cropsStored[t].stored - jn, count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), qn.setHidden(!0), e.updateMoney(), is.removeEventListener("mousedown", function () { console.log("howmanysellBtn removed listener") }), e.updateStored() }; var as = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), gs = (new lime.Layer).setAnchorPoint(0, 0); introFill1 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height), as.appendChild(gs), gs.appendChild(introFill1), playGameBtn = (new lime.GlossyButton).setColor("#663300").setText("").setPosition(150, 210).setSize(e.width / 2 + 10, 70), gs.appendChild(playGameBtn); var ls = (new lime.Label).setText("PLAY").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150, 210).setFontSize(36); gs.appendChild(ls), moreGameBtn = (new lime.GlossyButton).setColor("#663300").setText("More Games").setPosition(150, 300).setSize(e.width / 2 + 20, 50), gs.appendChild(moreGameBtn); var ds = (new lime.Sprite).setPosition(157, 260).setSize(300, 490).setFill("images/UI/CoverImg.png"); as.appendChild(ds), goog.events.listen(playGameBtn, ["mousedown", "touchstart"], function () { h.replaceScene(m, lime.transitions.SlideInUp), sceneBefore = 1, i.play(!0), n.play(), e.checkTutSeen() }), goog.events.listen(moreGameBtn, ["mousedown", "touchstart"], function () { window.open("http://guighostgames.com/index.html", "_self") }), h.replaceScene(as), document.getElementById("loadingGG").style.display = "none"; var ps = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), cs = (new lime.Layer).setAnchorPoint(0, 0), hs = (new lime.Sprite).setPosition(0, 0).setSize(e.width, e.height).setFill("#663300"); ps.appendChild(cs), cs.appendChild(hs), 5 != sceneBefore && (g.stop(), l.stop(), d.stop(), p.stop()); var ms = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.controlsLayer_w, e.controlsLayer_h + 10).setFill("#8b008b"); cs.appendChild(ms); var us = (new lime.Sprite).setPosition(155, 10).setSize(150, 22).setFill("images/UI/topMenuPlain.png"); cs.appendChild(us); var fs = (new lime.Label).setText("$ " + player.money).setFontColor("#E8FC08").setPosition(270, 20); cs.appendChild(fs); var ys = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 45).setSize(e.controlsLayer_w, 420).setFill("images/livestockPens/livestockPensBack3.png"); coopLevel > 1 && ys.setFill("images/livestockPens/livestockPensBackUpCoop.png"), cs.appendChild(ys); var vs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(105, 210).setSize(39, 42).setFill("images/toolUp3.png"); cs.appendChild(vs), lime.scheduleManager.scheduleWithDelay(function () { var e = vs.getPosition(); e.y += 5, e.y > 215 && (e.y = 210), vs.setPosition(e) }, this, 500), goog.events.listen(vs, ["mousedown", "touchstart"], function () { player.tools > 500 && (ys.setFill("images/livestockPens/livestockPensBackUpCoop.png"), player.tools = player.tools - 500, e.updateTools(), coopLevel = 2, localStorage.GuiGhostFarms_coopLevel = 2, vs.setHidden(!0), Os.setHidden(!1)) }); var Ss = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 436).setSize(245, 25).setFill("images/" + e.barnyard[15].image); cs.appendChild(Ss), roadLeftLS = (new lime.GlossyButton).setColor("#8b008b").setText("<Orchard").setPosition(45, 12).setSize(80, 15), Ss.appendChild(roadLeftLS); var _s = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(20, 20).setFill("images/toolsIcon.png"), Ps = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(36, 20); cs.appendChild(_s), cs.appendChild(Ps); var Cs = (new lime.Sprite).setPosition(90, 28).setFill("images/" + e.crops[5].harvest).setSize(25, 20); cs.appendChild(Cs); var ws = (new lime.Sprite).setPosition(125, 28).setFill("images/" + e.crops[8].harvest).setSize(25, 20); cs.appendChild(ws); var As = (new lime.Sprite).setPosition(170, 28).setFill("images/" + e.crops[10].harvest).setSize(25, 20); cs.appendChild(As); var Ts = (new lime.Sprite).setPosition(205, 26).setFill("images/" + e.crops[11].harvest).setSize(20, 20); cs.appendChild(Ts); var Fs = (new lime.Label).setPosition(90, 38).setSize(20, 16).setText(player.cropsStored[5].stored).setFontColor("#E8FC08"); cs.appendChild(Fs); var Es = (new lime.Label).setPosition(125, 38).setSize(20, 16).setText(player.cropsStored[8].stored).setFontColor("#E8FC08"); cs.appendChild(Es); var bs = (new lime.Label).setPosition(170, 38).setSize(20, 16).setText(player.cropsStored[10].stored).setFontColor("#E8FC08"); cs.appendChild(bs); var Is = (new lime.Label).setPosition(205, 38).setSize(20, 16).setText(player.cropsStored[11].stored).setFontColor("#E8FC08"); cs.appendChild(Is); var xs = (new lime.Label).setFontSize(10).setPosition(35, 40).setSize(60, 13).setFill("#C14825").setText("Day " + dayCount).setFontColor("#ffffff"); cs.appendChild(xs); var Ls = (new lime.Label).setFontSize(10).setPosition(275, 40).setSize(60, 13).setFill("#C14825").setText("Year " + yearCount).setFontColor("#ffffff"); cs.appendChild(Ls); var Ds = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h).setFill("#0D0D0D"); cs.appendChild(Ds); var Rs = (new lime.Sprite).setPosition(90, 282).setFill("images/livestockPens/egg3.png").setSize(17, 13); cs.appendChild(Rs); var Os = (new lime.Sprite).setPosition(123, 292).setFill("images/livestockPens/egg3.png").setSize(17, 13); cs.appendChild(Os), coopLevel < 2 && Os.setHidden(!0), 2 == coopLevel && vs.setHidden(!0); var ks = (new lime.Sprite).setPosition(155, 282).setFill("images/livestockPens/egg3.png").setSize(17, 13); cs.appendChild(ks); var Ns = (new lime.Sprite).setPosition(159, 285).setFill("images/livestockPens/stars4.png").setSize(25, 30); cs.appendChild(Ns); var zs = 0, Bs = { egg1: !1, egg2: !1, egg3: !1 }, Ms = { egg1: !1, egg2: !1, egg3: !1 }, Hs = 0, Us = 1, Gs = 0; e.sparkles = function () { lime.scheduleManager.scheduleWithDelay(function () { Hs += 1, 2 == (Us += 1) ? (Ns.setHidden(!0), 0 == Bs[Rs] && 0 == Gs && Rs.setPosition(90, 279), 0 == Bs[Os] && 0 == Gs && Os.setPosition(123, 292), 0 == Bs[ks] && 0 == Gs && ks.setPosition(159, 279)) : (Ns.setHidden(!1), Us = 1, 0 == Bs[Rs] && 0 == Gs && Rs.setPosition(90, 282), 0 == Bs[Os] && 0 == Gs && Os.setPosition(123, 289), 0 == Bs[ks] && 0 == Gs && ks.setPosition(159, 282)), Ns.setHidden(!0), Hs > 3 && (Hs = 0) }, this, 500) }, e.sparkles(), e.LivestockHarvest = function () { lime.scheduleManager.scheduleWithDelay(function () { zs += 1, player.cropsStored[5].stored >= 1 && (2 == zs && (Rs.setHidden(!1), Bs[Rs] = !1, player.cropsStored[5].stored = player.cropsStored[5].stored - 1), 3 == zs && (ks.setHidden(!1), Bs[ks] = !1, player.cropsStored[5].stored = player.cropsStored[5].stored - 1), 4 == zs && coopLevel > 1 && (Os.setHidden(!1), Bs[Os] = !1, player.cropsStored[5].stored = player.cropsStored[5].stored - 1), zs > 5 && (zs = 0), Fs.setText(player.cropsStored[5].stored), ar.setText(player.cropsStored[5].stored)) }, this, 15e3) }, e.LivestockHarvest(), goog.events.listen(Rs, ["mousedown", "touchstart"], function () { e.eggClick(1) }), goog.events.listen(Os, ["mousedown", "touchstart"], function () { e.eggClick(2) }), goog.events.listen(ks, ["mousedown", "touchstart"], function () { e.eggClick(3) }), e.eggClick = function (e) { 1 == e && (Ms[Rs] = !0, player.cropsStored[11].stored = player.cropsStored[11].stored + 3, Bs[Rs] = !0, zs = 0, Gs = 1, count11.setText(player.cropsStored[11].stored), Is.setText(player.cropsStored[11].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), setTimeout(function () { Rs.setPosition(90, 272) }, 100), setTimeout(function () { Rs.setPosition(90, 262) }, 200), setTimeout(function () { Rs.setPosition(90, 242) }, 300), setTimeout(function () { Rs.setPosition(90, 222) }, 400), setTimeout(function () { Rs.setPosition(90, 182) }, 500), setTimeout(function () { Rs.setPosition(90, 150) }, 600), setTimeout(function () { Rs.setPosition(90, 130) }, 700), setTimeout(function () { Rs.setPosition(90, 120) }, 730), setTimeout(function () { Rs.setPosition(90, 110) }, 760), setTimeout(function () { Rs.setPosition(90, 100) }, 790), setTimeout(function () { Rs.setPosition(90, 90) }, 820), setTimeout(function () { Rs.setPosition(90, 70) }, 850), setTimeout(function () { Rs.setPosition(90, 50) }, 875), setTimeout(function () { Rs.setHidden(!0), Gs = 0, Ms[Rs] = !1 }, 900), setTimeout(function () { Rs.setPosition(90, 282) }, 1e3)), 2 == e && (player.cropsStored[11].stored = player.cropsStored[11].stored + 3, Gs = 2, zs = 0, Ms[Os] = !0, count11.setText(player.cropsStored[11].stored), Is.setText(player.cropsStored[11].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), setTimeout(function () { Os.setPosition(123, 282) }, 100), setTimeout(function () { Os.setPosition(123, 272) }, 150), setTimeout(function () { Os.setPosition(123, 262) }, 200), setTimeout(function () { Os.setPosition(123, 252) }, 100), setTimeout(function () { Os.setPosition(123, 242) }, 300), setTimeout(function () { Os.setPosition(123, 222) }, 400), setTimeout(function () { Os.setPosition(123, 182) }, 500), setTimeout(function () { Os.setPosition(123, 150) }, 600), setTimeout(function () { Os.setPosition(123, 130) }, 700), setTimeout(function () { Os.setPosition(123, 120) }, 730), setTimeout(function () { Os.setPosition(123, 110) }, 760), setTimeout(function () { Os.setPosition(123, 100) }, 790), setTimeout(function () { Os.setPosition(123, 90) }, 820), setTimeout(function () { Os.setPosition(123, 70) }, 850), setTimeout(function () { Os.setPosition(123, 50) }, 875), setTimeout(function () { Os.setHidden(!0), Gs = 0, Ms[Os] = !1 }, 900), setTimeout(function () { Os.setPosition(123, 292) }, 1e3)), 3 == e && (player.cropsStored[11].stored = player.cropsStored[11].stored + 3, Gs = 3, zs = 0, Ms[ks] = !0, count11.setText(player.cropsStored[11].stored), Is.setText(player.cropsStored[11].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), setTimeout(function () { ks.setPosition(155, 272) }, 100), setTimeout(function () { ks.setPosition(155, 262) }, 200), setTimeout(function () { ks.setPosition(155, 242) }, 300), setTimeout(function () { ks.setPosition(155, 222) }, 400), setTimeout(function () { ks.setPosition(155, 182) }, 500), setTimeout(function () { ks.setPosition(155, 150) }, 600), setTimeout(function () { ks.setPosition(155, 130) }, 700), setTimeout(function () { ks.setPosition(155, 120) }, 730), setTimeout(function () { ks.setPosition(155, 110) }, 760), setTimeout(function () { ks.setPosition(155, 100) }, 790), setTimeout(function () { ks.setPosition(155, 90) }, 820), setTimeout(function () { ks.setPosition(155, 70) }, 850), setTimeout(function () { ks.setPosition(155, 50) }, 875), setTimeout(function () { ks.setHidden(!0), Gs = 0, Ms[ks] = !1 }, 900), setTimeout(function () { ks.setPosition(155, 282) }, 1e3)) }; var Ws = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(175, 350).setSize(23, 22).setFill("images/livestockPens/chicken_eatLeft1.png"); cs.appendChild(Ws); var Vs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 315).setSize(23, 22).setFill("images/livestockPens/chicken_eatLeft1.png"); cs.appendChild(Vs); var Ys = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(156, 309).setSize(23, 22).setFill("images/livestockPens/chicken_eatLeft1.png"); cs.appendChild(Ys); var js = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 180).setSize(37, 25).setFill("images/livestockPens/pig_Left3.png"); cs.appendChild(js); var Ks = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, 100).setSize(22, 33).setFill("images/livestockPens/pig_down1.png"); cs.appendChild(Ks); var $s = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, 135).setSize(21, 33).setFill("images/livestockPens/pig_down1.png"); cs.appendChild($s), goog.events.listen(js, ["mousedown", "touchstart"], function () { l.play() }), goog.events.listen(Ks, ["mousedown", "touchstart"], function () { d.play() }), goog.events.listen($s, ["mousedown", "touchstart"], function () { p.play() }); var qs = 0; e.movechicken = function () { lime.scheduleManager.scheduleWithDelay(function () { ++qs > 30 && (qs = 1), 1 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft1.png"), Vs.setFill("images/livestockPens/chicken_eatLeft2.png"), Vs.setPosition(100, 315), Ys.setFill("images/livestockPens/chicken_eatLeft2.png"), Ks.setSize(20, 33)), 2 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft2.png"), Vs.setFill("images/livestockPens/chicken_eatLeft3.png"), Vs.setPosition(100, 315), Ys.setFill("images/livestockPens/chicken_eatLeft3.png"), js.setFill("images/livestockPens/pig_right1.png"), Ks.setFill("images/livestockPens/pig_down2.png"), Ks.setPosition(160, 115), $s.setFill("images/livestockPens/pig_down2.png")), 3 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft3.png"), Vs.setFill("images/livestockPens/chicken_eatLeft2.png"), Vs.setPosition(100, 315), Ys.setFill("images/livestockPens/chicken_eatLeft2.png")), 4 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft2.png"), Vs.setFill("images/livestockPens/chicken_eatLeft2.png"), Vs.setPosition(100, 315), Ys.setFill("images/livestockPens/chicken_eatLeft3.png"), js.setFill("images/livestockPens/pig_right2.png"), js.setPosition(160, 180), $s.setFill("images/livestockPens/pig_down3.png")), 5 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft3.png"), Vs.setFill("images/livestockPens/chicken_walkLeft1.png"), Vs.setPosition(95, 315), Ys.setFill("images/livestockPens/chicken_eatLeft2.png")), 6 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft4.png"), Vs.setFill("images/livestockPens/chicken_walkLeft2.png"), Vs.setPosition(90, 315), Ys.setFill("images/livestockPens/chicken_eatLeft3.png"), js.setFill("images/livestockPens/pig_right3.png"), js.setPosition(150, 180)), 7 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft1.png"), Vs.setFill("images/livestockPens/chicken_walkLeft3.png"), Vs.setPosition(85, 315), Ys.setFill("images/livestockPens/chicken_eatLeft2.png")), 8 == qs && (Ws.setFill("images/livestockPens/chicken_walkLeft1.png"), Ws.setPosition(170, 350), Vs.setFill("images/livestockPens/chicken_walkLeft2.png"), Vs.setPosition(80, 315), Ys.setFill("images/livestockPens/chicken_eatLeft2.png"), Ks.setFill("images/livestockPens/pig_down3.png"), Ks.setPosition(160, 120), $s.setFill("images/livestockPens/pig_down2.png")), 9 == qs && (Ws.setFill("images/livestockPens/chicken_walkLeft2.png"), Ws.setPosition(165, 350), Vs.setFill("images/livestockPens/chicken_walkLeft1.png"), Vs.setPosition(75, 315), Ys.setFill("images/livestockPens/chicken_eatLeft3.png"), js.setFill("images/livestockPens/pig_right2.png"), js.setPosition(140, 180)), 10 == qs && (Ws.setFill("images/livestockPens/chicken_walkLeft3.png"), Ws.setPosition(160, 350), Vs.setFill("images/livestockPens/chicken_walkLeft2.png"), Vs.setPosition(70, 315), Ys.setFill("images/livestockPens/chicken_eatLeft2.png"), Ks.setPosition(160, 125), Ks.setFill("images/livestockPens/pig_down2.png")), 11 == qs && (Ws.setFill("images/livestockPens/chicken_walkLeft1.png"), Ws.setPosition(155, 350), Vs.setFill("images/livestockPens/chicken_up1.png"), Vs.setPosition(70, 315), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), js.setFill("images/livestockPens/pig_right3.png")), 12 == qs && (Ws.setFill("images/livestockPens/chicken_walkLeft2.png"), Ws.setPosition(150, 350), Vs.setFill("images/livestockPens/chicken_up2.png"), Vs.setPosition(70, 310), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), Ks.setPosition(160, 130), Ks.setFill("images/livestockPens/pig_down1.png"), $s.setFill("images/livestockPens/pig_down1.png")), 13 == qs && (Ws.setFill("images/livestockPens/chicken_walkLeft3.png"), Ws.setPosition(145, 350), Vs.setFill("images/livestockPens/chicken_up3.png"), Vs.setPosition(70, 305), Ys.setFill("images/livestockPens/chicken_eatLeft1.png")), 14 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft2.png"), Vs.setFill("images/livestockPens/chicken_walkRight1.png"), Vs.setPosition(70, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), Ks.setFill("images/livestockPens/pig_down2.png"), Ks.setPosition(160, 135)), 15 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft3.png"), Vs.setFill("images/livestockPens/chicken_walkRight2.png"), Vs.setPosition(75, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png")), 16 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft2.png"), Vs.setFill("images/livestockPens/chicken_walkRight3.png"), Vs.setPosition(80, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png")), 17 == qs && (Ws.setFill("images/livestockPens/chicken_eatLeft3.png"), Vs.setFill("images/livestockPens/chicken_walkRight3.png"), Vs.setPosition(80, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), js.setFill("images/livestockPens/pig_right2.png"), Ks.setSize(39, 21), Ks.setPosition(150, 147), Ks.setFill("images/livestockPens/pig_right2.png"), $s.setFill("images/livestockPens/pig_down2.png")), 18 == qs && (Ws.setFill("images/livestockPens/chicken_down3.png"), Vs.setFill("images/livestockPens/chicken_walkRight1.png"), Vs.setPosition(85, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), Ks.setSize(20, 33), Ks.setFill("images/livestockPens/pig_up2.png"), Ks.setPosition(150, 130), $s.setFill("images/livestockPens/pig_down3.png")), 19 == qs && (Ws.setFill("images/livestockPens/chicken_walkRight1.png"), Ws.setPosition(145, 350), Vs.setFill("images/livestockPens/chicken_walkRight2.png"), Vs.setPosition(90, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), $s.setFill("images/livestockPens/pig_down2.png")), 20 == qs && (Ws.setFill("images/livestockPens/chicken_walkRight2.png"), Ws.setPosition(150, 350), Vs.setFill("images/livestockPens/chicken_walkRight3.png"), Vs.setPosition(95, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), Ks.setSize(20, 33), Ks.setFill("images/livestockPens/pig_up1.png"), Ks.setPosition(150, 120), $s.setFill("images/livestockPens/pig_down3.png")), 21 == qs && (Ws.setFill("images/livestockPens/chicken_walkRight3.png"), Ws.setPosition(155, 350), Vs.setFill("images/livestockPens/chicken_walkRight2.png"), Vs.setPosition(100, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png")), 22 == qs && (Ws.setFill("images/livestockPens/chicken_walkRight1.png"), Ws.setPosition(160, 350), Vs.setFill("images/livestockPens/chicken_eatRight1.png"), Vs.setPosition(100, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), js.setFill("images/livestockPens/pig_Left3.png"), $s.setFill("images/livestockPens/pig_down2.png")), 23 == qs && (Ws.setFill("images/livestockPens/chicken_walkRight2.png"), Ws.setPosition(165, 350), Vs.setFill("images/livestockPens/chicken_eatRight2.png"), Vs.setPosition(100, 300), Ys.setFill("images/livestockPens/chicken_eatLeft1.png")), 24 == qs && (Ws.setFill("images/livestockPens/chicken_walkRight3.png"), Ws.setPosition(170, 350), Vs.setFill("images/livestockPens/chicken_eatRight1.png"), Vs.setPosition(100, 300), Ys.setFill("images/livestockPens/chicken_eatLeft2.png"), Ks.setFill("images/livestockPens/pig_up2.png"), Ks.setPosition(150, 117), $s.setFill("images/livestockPens/pig_down3.png")), 25 == qs && (Ws.setFill("images/livestockPens/chicken_eatRight1.png"), Ws.setPosition(175, 350), Vs.setFill("images/livestockPens/chicken_down2.png"), Vs.setPosition(100, 300), Ys.setFill("images/livestockPens/chicken_eatLeft3.png")), 26 == qs && (Ws.setFill("images/livestockPens/chicken_eatRight2.png"), Ws.setPosition(175, 350), Vs.setFill("images/livestockPens/chicken_down1.png"), Vs.setPosition(100, 305), Ys.setFill("images/livestockPens/chicken_eatLeft2.png"), Ks.setFill("images/livestockPens/pig_up3.png"), Ks.setPosition(150, 115)), 27 == qs && (Ws.setFill("images/livestockPens/chicken_eatRight1.png"), Ws.setPosition(175, 350), Vs.setFill("images/livestockPens/chicken_down2.png"), Vs.setPosition(100, 310), Ys.setFill("images/livestockPens/chicken_eatLeft3.png"), js.setFill("images/livestockPens/pig_walkLeft1.png"), js.setPosition(150, 180), Ks.setFill("images/livestockPens/pig_up1.png"), Ks.setPosition(150, 110)), 28 == qs && (Ws.setFill("images/livestockPens/chicken_eatRight2.png"), Ws.setPosition(175, 350), Vs.setFill("images/livestockPens/chicken_eatLeft1.png"), Vs.setPosition(100, 315), Ys.setFill("images/livestockPens/chicken_eatLeft2.png")), 29 == qs && (Ws.setFill("images/livestockPens/chicken_down1.png"), Vs.setFill("images/livestockPens/chicken_eatLeft2.png"), js.setFill("images/livestockPens/pig_walkLeft2.png"), Ys.setFill("images/livestockPens/chicken_eatLeft2.png"), js.setPosition(160, 180), Ks.setFill("images/livestockPens/pig_up2.png"), Ks.setPosition(150, 105)), 30 == qs && (Ws.setFill("images/livestockPens/chicken_down1.png"), Vs.setFill("images/livestockPens/chicken_eatLeft3.png"), Ys.setFill("images/livestockPens/chicken_eatLeft1.png"), Ks.setSize(39, 21), Ks.setPosition(150, 105), Ks.setFill("images/livestockPens/pig_Left3.png")) }, this, 250) }, e.movechicken(); var Xs = (new lime.Label).setText("+ 2 Ham").setFontWeight(600).setFontColor("#E8FC08").setPosition(155, 110).setOpacity(.9).setSize(200, 20); cs.appendChild(Xs); var Qs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 95).setSize(35, 24).setFill("images/" + e.crops[10].harvest); cs.appendChild(Qs), Xs.setHidden(!0), Qs.setHidden(!0); var Js = 0, Zs = 0; lime.scheduleManager.scheduleWithDelay(function () { Js += 1; var e = Xs.getPosition().y - 5; e < 70 && (e = 110), Js > 240 && player.cropsStored[8].stored >= 1 && (Xs.setHidden(!1), Xs.setPosition(155, e), Qs.setHidden(!1), Qs.setPosition(95, e - 15), 0 == Zs && (Zs = 1, player.cropsStored[10].stored = player.cropsStored[10].stored + 2, player.cropsStored[8].stored = player.cropsStored[8].stored - 1, count8.setText(player.cropsStored[8].stored), Li.setText(player.cropsStored[8].stored), Es.setText(player.cropsStored[8].stored), gr.setText(player.cropsStored[8].stored), count10.setText(player.cropsStored[10].stored), bs.setText(player.cropsStored[10].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)))), Js > 248 && (Js = 0, Xs.setHidden(!0), Zs = 0, Qs.setHidden(!0)) }, this, 250); var er = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(60, 145).setSize(180, 200).setFill("images/UI/shortage.png"); cs.appendChild(er); var tr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 195).setSize(40, 40).setFill("images/UI/checkButton.png"); er.appendChild(tr); var or = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(5, 120).setSize(170, 40).setFontSize(14).setText("Livestock Hungry!"); er.appendChild(or); var ir = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FFFFFF").setPosition(2, 140).setSize(175, 40).setFontSize(10).setText("CHICKENS eat CORN to lay EGGS"); er.appendChild(ir); var nr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FFFFFF").setPosition(2, 155).setSize(175, 40).setFontSize(10).setText("PIGS eat APPLES to yield HAM"); er.appendChild(nr); var sr = (new lime.Sprite).setPosition(50, 180).setFill("images/" + e.crops[5].harvest).setSize(25, 25); er.appendChild(sr); var rr = (new lime.Sprite).setPosition(120, 180).setFill("images/" + e.crops[8].harvest).setSize(25, 25); er.appendChild(rr); var ar = (new lime.Label).setPosition(64, 186).setSize(20, 16).setText(player.cropsStored[5].stored).setFontColor("#E8FC08"); er.appendChild(ar); var gr = (new lime.Label).setPosition(134, 186).setSize(20, 16).setText(player.cropsStored[8].stored).setFontColor("#E8FC08"); er.appendChild(gr), er.setHidden(!0), goog.events.listen(tr, ["mousedown", "touchstart"], function () { er.setHidden(!0) }); var lr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(214, e.height - e.controlsLayer_h - 4).setSize(90, 65).setFill("images/" + e.barnyard[3].image); cs.appendChild(lr), goog.events.listen(lr, ["mousedown", "touchstart"], function () { e.sceneBefore = 5, h.replaceScene(wn, lime.transitions.SlideInDown), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored) }); var dr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 473).setSize(30, 30).setFill("images/UI/gearButton.png"); cs.appendChild(dr), goog.events.listen(dr, ["mousedown", "touchstart"], function () { sceneBefore = 5, h.replaceScene(mn, lime.transitions.SlideInUp) }); var pr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 505).setSize(30, 30).setFill(imgArray[15]); cs.appendChild(pr); var cr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 473).setSize(30, 30).setFill("images/greenTrophy.png"); cs.appendChild(cr); var hr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 505).setSize(30, 30).setFill("images/UI/fbButton.png"); cs.appendChild(hr), goog.events.listen(pr, ["mousedown", "touchstart"], function () { var e = lime.audio.getMute(); console.log("muted " + e), e ? (lime.audio.setMute(!1), i.play(!0), Al(2)) : (lime.audio.setMute(!0), Al(1)) }), goog.events.listen(hr, ["mousedown", "touchstart"], function () { El() }), goog.events.listen(cr, ["mousedown", "touchstart"], function () { wl(sceneBefore = 5) }); var mr = (new lime.Label).setText("Raising Chickens and Pigs").setFontColor("#E8FC08").setPosition(148, 525).setSize(125, 75); cs.appendChild(mr), goog.events.listen(roadLeftLS, ["mousedown", "touchstart"], function () { h.replaceScene(Xo, lime.transitions.SlideInLeft), sceneBefore = 3, r.play(), g.stop(), l.stop(), d.stop(), p.stop() }); var ur = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), fr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#08fcef").setPosition(30, 35).setSize(150, 60).setFontSize(12).setText("Achieve Text"); ur.appendChild(fr); var yr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(13, 160).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); ur.appendChild(yr); var vr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#301934").setPosition(21, 186).setSize(190, 60).setFontSize(18).setText(" + "); ur.appendChild(vr); var Sr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); ur.appendChild(Sr), cs.appendChild(ur), ur.setHidden(!0), goog.events.listen(Sr, ["mousedown", "touchstart"], function () { st.setHidden(!0), Lo.setHidden(!0), Ta.setHidden(!0), gn.setHidden(!0), ur.setHidden(!0) }, { passive: !1 }); var _r = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 445).setSize(35, 35).setFill("images/UI/compass2.png"); cs.appendChild(_r); var Pr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); cs.appendChild(Pr); var Cr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); Pr.appendChild(Cr); var wr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); Pr.appendChild(wr); var Ar = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); Pr.appendChild(Ar); var Tr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); Pr.appendChild(Tr); var Fr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); Pr.appendChild(Fr); var Er = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); Pr.appendChild(Er), Pr.setHidden(!0), goog.events.listen(_r, ["mousedown", "touchstart"], function () { U() }), goog.events.listen(Er, ["mousedown", "touchstart"], function () { G() }), goog.events.listen(Tr, ["mousedown", "touchstart"], function () { compassVisible && (t.currentCrop = H, G(), e.sceneBefore = 1, r.stop(), h.replaceScene(m, lime.transitions.SlideInLeft), g.stop(), l.stop(), d.stop()) }), goog.events.listen(Fr, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (G(), e.sceneBefore = 2, t.currentCrop = 6, h.replaceScene(ht, lime.transitions.SlideInLeft), g.stop(), l.stop(), d.stop()) }), goog.events.listen(Cr, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (e.sceneBefore = 3, G(), t.currentCrop = 8, h.replaceScene(Xo, lime.transitions.SlideInLeft), r.play(), g.stop(), l.stop(), d.stop()) }), goog.events.listen(Ar, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (G(), e.sceneBefore = 4, h.replaceScene(br, lime.transitions.SlideInLeft), r.stop(), _o = t.currentCrop, t.currentCrop = 12, Tl(), g.stop(), l.stop(), d.stop()) }), goog.events.listen(wr, ["mousedown", "touchstart"], function () { 1 == o[4].owned && G() }); var br = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Ir = (new lime.Layer).setAnchorPoint(0, 0), xr = (new lime.Sprite).setPosition(0, 0).setSize(e.width, e.height).setFill("#663300"); br.appendChild(Ir), Ir.appendChild(xr); var Lr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.controlsLayer_w, e.controlsLayer_h - 20).setFill("#8b008b"); Ir.appendChild(Lr); var Dr = (new lime.Sprite).setPosition(155, 10).setSize(150, 22).setFill("images/UI/topMenuPlain.png"); Ir.appendChild(Dr); var Rr = (new lime.Label).setText("$ " + player.money).setFontColor("#E8FC08").setPosition(270, 20); Ir.appendChild(Rr); var Or = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 45).setSize(e.controlsLayer_w, 423).setFill("images/vinyard/vinyardBack5.png"); Ir.appendChild(Or); var kr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(225, 436).setSize(100, 25).setFill("images/" + e.barnyard[15].image); Ir.appendChild(kr), roadRightV = (new lime.GlossyButton).setColor("#8b008b").setText("Dairy >").setPosition(48, 12).setSize(75, 15), kr.appendChild(roadRightV); var Nr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(20, 20).setFill("images/toolsIcon.png"), zr = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(36, 20); Ir.appendChild(Nr), Ir.appendChild(zr); var Br = localStorage.getItem("GuiGhostFarms_vinyardBlocks"), Mr = localStorage.getItem("GuiGhostFarms_vinyardBlocks2"); console.log(Br), console.log(Mr); e.tile_size, e.tile_size; var Hr = new farming.Land(e, t, 80, 110, 5).setPosition(80, 110); Hr.setSize(45, 50), Ir.appendChild(Hr); var Ur = new farming.Land(e, t, 135, 100, 5).setPosition(135, 100); Ur.setSize(45, 50), Ir.appendChild(Ur); var Gr = new farming.Land(e, t, 200, 95, 5).setPosition(200, 95); Gr.setSize(45, 50), Ir.appendChild(Gr); var Wr = new farming.Land(e, t, 260, 105, 5).setPosition(260, 105); Wr.setSize(45, 50), Ir.appendChild(Wr), 1 == Mr && (Hr.setHidden(!0), Ur.setHidden(!0), Gr.setHidden(!0), Wr.setHidden(!0)), 2 == Mr && (Hr.setHidden(!1), Ur.setHidden(!1), Gr.setHidden(!1), Wr.setHidden(!1)); var Vr = new farming.Land(e, t, 105, 200, 5).setPosition(105, 200); Vr.setSize(45, 50), Ir.appendChild(Vr); var Yr = new farming.Land(e, t, 175, 215, 5).setPosition(175, 215); Yr.setSize(45, 50), Ir.appendChild(Yr); var jr = new farming.Land(e, t, 240, 228, 5).setPosition(240, 228); jr.setSize(45, 50), Ir.appendChild(jr); var Kr = new farming.Land(e, t, 45, 210, 5).setPosition(45, 210); Kr.setSize(45, 50), Ir.appendChild(Kr), 1 == Br && (Vr.setHidden(!0), Yr.setHidden(!0), jr.setHidden(!0), Kr.setHidden(!0)); var $r = new farming.Land(e, t, 75, 370, 5).setPosition(75, 370); $r.setSize(45, 50), Ir.appendChild($r); var qr = new farming.Land(e, t, 25, 350, 5).setPosition(25, 350); qr.setSize(45, 50), Ir.appendChild(qr); var Xr = new farming.Land(e, t, 126, 360, 5).setPosition(126, 360); Xr.setSize(45, 50), Ir.appendChild(Xr); var Qr = new farming.Land(e, t, 219, 315, 5).setPosition(219, 315); Qr.setSize(45, 50), Ir.appendChild(Qr); var Jr = new farming.Land(e, t, 262, 350, 5).setPosition(262, 350); Jr.setSize(45, 50), Ir.appendChild(Jr); var Zr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, 195).setSize(240, 105).setFill("images/vinyard/treeBlock1.png"); Ir.appendChild(Zr); var ea = (new lime.Label).setText("Clear Forest").setFontColor("#E8FC08").setFontWeight(600).setPosition(170, 280).setSize(90, 130); Ir.appendChild(ea); var ta = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, 240).setSize(35, 35).setFill("images/tools500.png"); br.appendChild(ta), Zr.setHidden(!0), ea.setHidden(!0), ta.setHidden(!0), 1 == Br && (Zr.setHidden(!1), ea.setHidden(!1), ta.setHidden(!1)); var oa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, 78).setSize(235, 100).setFill("images/vinyard/treeBlock2.png"); Ir.appendChild(oa); var ia = (new lime.Label).setText("Clear Forest").setFontColor("#E8FC08").setFontWeight(600).setPosition(170, 165).setSize(90, 130); Ir.appendChild(ia); var na = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, 130).setSize(35, 35).setFill("images/tools500.png"); br.appendChild(na), oa.setHidden(!0), ia.setHidden(!0), na.setHidden(!0), 1 == Mr && (oa.setHidden(!1), ia.setHidden(!1), na.setHidden(!1)), goog.events.listen(ea, ["mousedown", "touchstart"], function () { console.log("inside click1 " + player.tools), player.tools >= 500 && (player.tools = player.tools - 500, e.updateTools(), e.vinyardBlocksControl(1), vinyardBlocks2 = 2, Br = 2, localStorage.GuiGhostFarms_vinyardBlocks = Br) }), goog.events.listen(ia, ["mousedown", "touchstart"], function () { console.log("inside click2 " + player.tools), player.tools >= 500 && (player.tools = player.tools - 500, console.log("inside click2"), e.updateTools(), e.vinyardBlocksControl(2), vinyardBlocks = 2, Mr = 2, localStorage.GuiGhostFarms_vinyardBlocks2 = Mr) }), e.vinyardBlocksControl = function (e) { 1 == e && (console.log("inside if 1"), Zr.setHidden(!0), ea.setHidden(!0), ta.setHidden(!0), Vr.setHidden(!1), Yr.setHidden(!1), jr.setHidden(!1), Kr.setHidden(!1)), 2 == e && (console.log("inside if 2"), oa.setHidden(!0), ia.setHidden(!0), na.setHidden(!0), Hr.setHidden(!1), Ur.setHidden(!1), Gr.setHidden(!1), Wr.setHidden(!1)) }; var sa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(62, 247).setSize(118, 115).setFill("images/vinyard/house4.png"); Ir.appendChild(sa); var ra = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(78, 275).setSize(39, 42).setFill("images/toolUp3.png"); Ir.appendChild(ra), vinyardHouseLevel > 1 && sa.setFill("images/vinyard/house4Upgrade2.png"), lime.scheduleManager.scheduleWithDelay(function () { var e = ra.getPosition(); e.y -= 5, e.y < 270 && (e.y = 275), ra.setPosition(e) }, this, 500), vinyardHouseLevel > 1 && ra.setHidden(!0), goog.events.listen(ra, ["mousedown", "touchstart"], function () { sa.setFill("images/vinyard/house4Upgrade2.png"), ra.setHidden(!0), vinyardHouseLevel = 2, ta.setHidden(!0), na.setHidden(!0), 1 == Br && ta.setHidden(!1), 1 == Mr && na.setHidden(!1), e.makeJelly(), localStorage.GuiGhostFarms_vinyardHouseLevel = vinyardHouseLevel }); var aa = (new lime.Label).setText("+ 1 Jelly").setFontWeight(600).setFontColor("#E8FC08").setPosition(145, 335).setOpacity(.4); Ir.appendChild(aa), aa.setHidden(!0); var ga = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h).setFill("#0D0D0D"); Ir.appendChild(ga); t.currentCrop; var la = (new lime.Label).setText("Growing " + e.crops[12].name).setFontColor("#E8FC08").setFontSize(12).setPosition(e.controlsLayer_w / 2 - 20, e.height - e.controlsLayer_h / 2 - 16); Ir.appendChild(la); var da = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 28, e.height - e.controlsLayer_h / 2 - 10).setFill("images/" + e.crops[12].harvest).setSize(30, 38); Ir.appendChild(da); var pa = (new lime.Sprite).setPosition(140, 28).setFill("images/" + e.crops[12].harvest).setSize(18, 25); Ir.appendChild(pa); var ca = (new lime.Sprite).setPosition(170, 27).setFill("images/" + e.crops[13].harvest).setSize(26, 26); Ir.appendChild(ca); var ha = (new lime.Label).setPosition(133, 40).setSize(20, 16).setText(player.cropsStored[12].stored).setFontColor("#E8FC08"); Ir.appendChild(ha); var ma = (new lime.Label).setPosition(182, 40).setSize(20, 16).setText(player.cropsStored[13].stored).setFontColor("#E8FC08"); Ir.appendChild(ma); var ua = (new lime.Label).setFontSize(10).setPosition(35, 40).setSize(60, 13).setFill("#C14825").setText("Day " + dayCount).setFontColor("#ffffff"); Ir.appendChild(ua); var fa = (new lime.Label).setFontSize(10).setPosition(275, 40).setSize(60, 13).setFill("#C14825").setText("Year " + yearCount).setFontColor("#ffffff"); Ir.appendChild(fa); var ya = (new lime.Sprite).setPosition(60, 350).setFill("images/vinyard/vinFarmer1.png").setSize(26, 26); Ir.appendChild(ya); var va = 0; lime.scheduleManager.scheduleWithDelay(function () { (va += 1) > 58 && (va = 1), va < 11 && ya.setFill("images/vinyard/vinFarmer" + va + ".png"), 2 == va && ya.setPosition(65, 350), 3 == va && ya.setPosition(70, 350), 4 == va && (ya.setPosition(75, 350), ya.setFill("images/vinyard/vinFarmer4.png")), 5 == va && ya.setPosition(75, 355), 6 == va && ya.setPosition(75, 360), 7 == va && (ya.setPosition(75, 365), ya.setFill("images/vinyard/vinFarmer4.png")), 8 == va && (ya.setPosition(75, 360), ya.setFill("images/vinyard/vinFarmer4.png")), 9 == va && ya.setPosition(75, 355), 10 == va && ya.setPosition(75, 350), 11 == va && (ya.setPosition(80, 350), ya.setFill("images/vinyard/vinFarmer1.png")), 12 == va && (ya.setPosition(85, 350), ya.setFill("images/vinyard/vinFarmer2.png")), 13 == va && (ya.setPosition(90, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 14 == va && (ya.setPosition(95, 350), ya.setFill("images/vinyard/vinFarmer1.png")), 15 == va && (ya.setPosition(100, 350), ya.setFill("images/vinyard/vinFarmer2.png")), 16 == va && (ya.setPosition(105, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 17 == va && (ya.setPosition(110, 350), ya.setFill("images/vinyard/vinFarmer1.png")), 18 == va && (ya.setPosition(115, 350), ya.setFill("images/vinyard/vinFarmer2.png")), 19 == va && (ya.setPosition(120, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 20 == va && (ya.setPosition(125, 350), ya.setFill("images/vinyard/vinFarmer1.png")), 21 == va && (ya.setPosition(130, 350), ya.setFill("images/vinyard/vinFarmer2.png")), 22 == va && (ya.setPosition(135, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 23 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer2.png")), 24 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer8.png")), 25 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer8.png")), 26 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 27 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 28 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 29 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer9.png")), 30 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 31 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 32 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 33 == va && (ya.setPosition(145, 350), ya.setFill("images/vinyard/vinFarmer1.png")), 34 == va && (ya.setPosition(150, 350), ya.setFill("images/vinyard/vinFarmer2.png")), 35 == va && (ya.setPosition(155, 350), ya.setFill("images/vinyard/vinFarmer3.png")), 36 == va && (ya.setPosition(160, 350), ya.setFill("images/vinyard/vinFarmer1.png")), 37 == va && (ya.setPosition(165, 350), ya.setFill("images/vinyard/vinFarmer2.png")), 38 == va && (ya.setPosition(165, 350), ya.setFill("images/vinyard/vinFarmer4.png")), 39 == va && (ya.setPosition(160, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 40 == va && (ya.setPosition(155, 350), ya.setFill("images/vinyard/vinFarmer17.png")), 41 == va && (ya.setPosition(150, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 42 == va && (ya.setPosition(145, 350), ya.setFill("images/vinyard/vinFarmer19.png")), 43 == va && (ya.setPosition(140, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 44 == va && (ya.setPosition(135, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 45 == va && (ya.setPosition(130, 350), ya.setFill("images/vinyard/vinFarmer17.png")), 46 == va && (ya.setPosition(125, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 47 == va && (ya.setPosition(120, 350), ya.setFill("images/vinyard/vinFarmer19.png")), 48 == va && (ya.setPosition(115, 350), ya.setFill("images/vinyard/vinFarmer17.png")), 49 == va && (ya.setPosition(110, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 50 == va && (ya.setPosition(105, 350), ya.setFill("images/vinyard/vinFarmer19.png")), 51 == va && (ya.setPosition(100, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 52 == va && (ya.setPosition(95, 350), ya.setFill("images/vinyard/vinFarmer17.png")), 53 == va && (ya.setPosition(90, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 54 == va && (ya.setPosition(85, 350), ya.setFill("images/vinyard/vinFarmer19.png")), 55 == va && (ya.setPosition(80, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 56 == va && (ya.setPosition(75, 350), ya.setFill("images/vinyard/vinFarmer17.png")), 57 == va && (ya.setPosition(70, 350), ya.setFill("images/vinyard/vinFarmer18.png")), 58 == va && (ya.setPosition(65, 350), ya.setFill("images/vinyard/vinFarmer4.png")) }, this, 250); var Sa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 15, e.height / 2).setFill("images/" + e.crops[12].harvest).setSize(26, 21); Ir.appendChild(Sa), Sa.setHidden(!0); var _a = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 473).setSize(30, 30).setFill("images/UI/gearButton.png"); Ir.appendChild(_a); var Pa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 505).setSize(30, 30).setFill(imgArray[15]); Ir.appendChild(Pa); var Ca = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 473).setSize(30, 30).setFill("images/greenTrophy.png"); Ir.appendChild(Ca); var wa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(42, 505).setSize(30, 30).setFill("images/UI/fbButton.png"); Ir.appendChild(wa), goog.events.listen(wa, ["mousedown", "touchstart"], function () { El() }), goog.events.listen(Pa, ["mousedown", "touchstart"], function () { var e = lime.audio.getMute(); console.log("muted " + e), e ? (lime.audio.setMute(!1), i.play(!0), Al(2)) : (lime.audio.setMute(!0), Al(1)) }), goog.events.listen(Ca, ["mousedown", "touchstart"], function () { wl(sceneBefore = 4) }), goog.events.listen(_a, ["mousedown", "touchstart"], function () { sceneBefore = 4, h.replaceScene(mn, lime.transitions.SlideInUp) }); var Aa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(214, e.height - e.controlsLayer_h - 4).setSize(90, 65).setFill("images/" + e.barnyard[3].image); Ir.appendChild(Aa), goog.events.listen(Aa, ["mousedown", "touchstart"], function () { e.sceneBefore = 4, h.replaceScene(wn, lime.transitions.SlideInDown), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored) }), goog.events.listen(roadRightV, ["mousedown", "touchstart"], function () { h.replaceScene(ht, lime.transitions.SlideInRight), sceneBefore = 2, t.currentCrop = 6 }); var Ta = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), Fa = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#08fcef").setPosition(30, 35).setSize(150, 60).setFontSize(12).setText("Achieve Text"); Ta.appendChild(Fa); var Ea = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(13, 160).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); Ta.appendChild(Ea); var ba = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#301934").setPosition(21, 186).setSize(190, 60).setFontSize(18).setText(" + "); Ta.appendChild(ba); var Ia = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); Ta.appendChild(Ia), Ir.appendChild(Ta), Ta.setHidden(!0), goog.events.listen(Ia, ["mousedown", "touchstart"], function () { st.setHidden(!0), Lo.setHidden(!0), Ta.setHidden(!0), gn.setHidden(!0), ur.setHidden(!0) }, { passive: !1 }); var xa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 445).setSize(35, 35).setFill("images/UI/compass2.png"); Ir.appendChild(xa); var La = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); Ir.appendChild(La); var Da = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); La.appendChild(Da); var Ra = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); La.appendChild(Ra); var Oa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); La.appendChild(Oa); var ka = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); La.appendChild(ka); var Na = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); La.appendChild(Na); var za = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); La.appendChild(za), La.setHidden(!0), goog.events.listen(xa, ["mousedown", "touchstart"], function () { U() }), goog.events.listen(za, ["mousedown", "touchstart"], function () { G() }), goog.events.listen(ka, ["mousedown", "touchstart"], function () { compassVisible && (G(), e.sceneBefore = 1, t.currentCrop = H, h.replaceScene(m, lime.transitions.SlideInRight)) }), goog.events.listen(Na, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (e.sceneBefore = 2, G(), s.play(), Tl(), t.currentCrop = 6, h.replaceScene(ht, lime.transitions.SlideInRight)) }), goog.events.listen(Da, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (e.sceneBefore = 3, r.play(), G(), _o = t.currentCrop, t.currentCrop = 8, h.replaceScene(Xo, lime.transitions.SlideInRight)) }), goog.events.listen(Oa, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && G() }), goog.events.listen(Ra, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (G(), e.sceneBefore = 5, h.replaceScene(ps, lime.transitions.SlideInRight), g.play(), l.play(), setTimeout(function () { d.play() }, 5e3), Tl()) }); var Ba = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(60, 145).setSize(180, 200).setFill("images/UI/shortage.png"); Ir.appendChild(Ba); var Ma = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 195).setSize(40, 40).setFill("images/UI/checkButton.png"); Ba.appendChild(Ma); var Ha = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(5, 120).setSize(170, 40).setFontSize(14).setText("Jelly Making Halted!"); Ba.appendChild(Ha); var Ua = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FFFFFF").setPosition(2, 140).setSize(175, 40).setFontSize(10).setText("You need to grow more GRAPES to make JELLY"); Ba.appendChild(Ua); var Ga = (new lime.Sprite).setPosition(85, 180).setFill("images/" + e.crops[12].harvest).setSize(20, 25); Ba.appendChild(Ga); var Wa = (new lime.Label).setPosition(105, 186).setSize(20, 16).setText(player.cropsStored[12].stored).setFontColor("#E8FC08"); Ba.appendChild(Wa), Ba.setHidden(!0), goog.events.listen(Ma, ["mousedown", "touchstart"], function () { Ba.setHidden(!0) }); var Va = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Ya = (new lime.Layer).setAnchorPoint(0, 0), ja = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#0D0D0D"); Va.appendChild(ja), Va.appendChild(Ya); var Ka = (new lime.Sprite).setAnchorPoint(0).setPosition(0, 0).setFill("images/UI/achieveBack.png").setSize(e.width, e.height); Ya.appendChild(Ka), backBtnAchieve = (new lime.GlossyButton).setColor("#663300").setText("Back").setPosition(e.width / 2, e.height - 20).setSize(80, 40), Ya.appendChild(backBtnAchieve); var $a = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 100).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild($a); var qa = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(75, 100).setText("Harvester I").setSize(152, 40); Ya.appendChild(qa); var Xa = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setFontSize(11).setPosition(80, 125).setText("Harvest 500 crops").setSize(152, 40); Ya.appendChild(Xa); var Qa = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 100).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ya.appendChild(Qa); var Ja = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 105).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(Ja); var Za = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 145).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(Za); var eg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(75, 145).setText("Harvester II").setSize(152, 40); Ya.appendChild(eg); var tg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(80, 170).setFontSize(11).setText("Harvest 5000 crops").setSize(152, 40); Ya.appendChild(tg); var og = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 145).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(og); var ig = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 150).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(ig); var ng = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 190).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(ng); var sg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(75, 190).setText("Expansion").setSize(152, 40); Ya.appendChild(sg); var rg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(80, 215).setFontSize(11).setText("Purchase another Acre").setSize(152, 40); Ya.appendChild(rg); var ag = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 190).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ya.appendChild(ag); var gg = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 195).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(gg); var lg = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 235).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(lg); var dg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(75, 235).setText("Carpenter").setSize(152, 40); Ya.appendChild(dg); var pg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(80, 260).setFontSize(11).setText("Upgrade Barn to Max").setSize(152, 40); Ya.appendChild(pg); var cg = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 235).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(cg); var hg = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 240).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(hg); var mg = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 100).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(mg); var ug = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(220, 100).setText("Blacksmith I").setSize(152, 40); Ya.appendChild(ug); var fg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 125).setFontSize(11).setText("Collect 500 Tools").setSize(152, 40); Ya.appendChild(fg); var yg = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 100).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ya.appendChild(yg); var vg = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 105).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(vg); var Sg = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 145).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(Sg); var _g = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(220, 145).setText("Blacksmith II").setSize(152, 40); Ya.appendChild(_g); var Pg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 170).setFontSize(11).setText("Collect 5000 Tools").setSize(152, 40); Ya.appendChild(Pg); var Cg = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 145).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(Cg); var wg = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 150).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(wg); var Ag = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 190).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(Ag); var Tg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(220, 190).setText("Patience").setSize(152, 40); Ya.appendChild(Tg); var Fg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 215).setFontSize(11).setText("Play for 1 Farm Year").setSize(152, 40); Ya.appendChild(Fg); var Eg = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 190).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ya.appendChild(Eg); var bg = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 195).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(bg); var Ig = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 235).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(Ig); var xg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(220, 235).setText("Acreage").setSize(152, 40); Ya.appendChild(xg); var Lg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 260).setFontSize(11).setText("Own all 5 Acres").setSize(152, 40); Ya.appendChild(Lg); var Dg = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 235).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(Dg); var Rg = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 240).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(Rg); var Og = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 280).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(Og); var kg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(75, 280).setText("Jelly Making").setSize(152, 40); Ya.appendChild(kg); var Ng = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(80, 305).setFontSize(11).setText("Unlock Jelly Production").setSize(152, 40); Ya.appendChild(Ng); var zg = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 280).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(zg); var Bg = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 285).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(Bg); var Mg = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 325).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(Mg); var Hg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(75, 325).setText("Lumberjack").setSize(152, 40); Ya.appendChild(Hg); var Ug = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(75, 350).setFontSize(11).setText("Clear all Forest Blocks").setSize(152, 40); Ya.appendChild(Ug); var Gg = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 325).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(Gg); var Wg = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 330).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(Wg); var Vg = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 370).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(Vg); var Yg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(72, 370).setText("Breakfast Time").setSize(152, 40); Ya.appendChild(Yg); var jg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(80, 395).setFontSize(11).setText("Obtain 100 Ham and Eggs").setSize(152, 40); Ya.appendChild(jg); var Kg = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 370).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ya.appendChild(Kg); var $g = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 375).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild($g); var qg = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 415).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(qg); var Xg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFill("#663300").setFontColor("#E8FC08").setPosition(72, 415).setText("Balanced Diet").setSize(152, 40); Ya.appendChild(Xg); var Qg = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(75, 440).setFontSize(11).setText("Obtain 10 of each Crop").setSize(152, 40); Ya.appendChild(Qg); var Jg = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 415).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(Jg); var Zg = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 420).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(Zg); var el = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 280).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(el); var tl = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(220, 280).setText("Milk Master").setSize(152, 40); Ya.appendChild(tl); var ol = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 305).setFontSize(11).setText("Upgrade Dairy to Max").setSize(152, 40); Ya.appendChild(ol); var il = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 280).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ya.appendChild(il); var nl = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 285).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(nl); var sl = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 325).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(sl); var rl = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(220, 325).setText("Merchant").setSize(152, 40); Ya.appendChild(rl); var al = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 350).setFontSize(11).setText("Earn $5000 at Market").setSize(152, 40); Ya.appendChild(al); var gl = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 325).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ya.appendChild(gl); var ll = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 330).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(ll); var dl = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 370).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(dl); var pl = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(220, 370).setText("Cross-Over").setSize(152, 40); Ya.appendChild(pl); var cl = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 395).setFontSize(11).setText("Buy $ with StarCash").setSize(152, 40); Ya.appendChild(cl); var hl = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 370).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ya.appendChild(hl); var ml = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 375).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(ml); var ul = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 415).setFill("images/UI/achieveTile.png").setSize(142, 40); Ya.appendChild(ul); var fl = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#E8FC08").setPosition(219, 415).setText("Back for More").setSize(152, 40); Ya.appendChild(fl); var yl = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#ffffff").setPosition(226, 440).setFontSize(11).setText("Play for 10 Farm Years").setSize(152, 40); Ya.appendChild(yl); var vl = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 415).setFill("images/UI/plus50StarCash.png").setSize(30, 29.5); Ya.appendChild(vl); var Sl = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 420).setFill("images/UI/check.png").setSize(16, 16); Ya.appendChild(Sl); var _l = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontColor("#5c00e6").setFontSize(18).setPosition(160, 470).setText(starCash).setSize(152, 40); function Pl() { var t = o[1].owned + o[2].owned + o[3].owned + o[4].owned; 0 == e.achievements[1] && pickedEver >= 500 && (e.achievements[1] = !0, Ja.setHidden(!1), starCash += 5, Cl(1)), 0 == e.achievements[2] && pickedEver >= 5e3 && (e.achievements[2] = !0, ig.setHidden(!1), starCash += 10, Cl(2)), 0 == e.achievements[3] && player.farms > 1 && (e.achievements[3] = !0, gg.setHidden(!1), starCash += 5, Cl(3)), 0 == e.achievements[4] && player.barnLevel >= 5 && (e.achievements[4] = !0, hg.setHidden(!1), starCash += 5, Cl(4)), 0 == e.achievements[5] && toolsEver >= 500 && (e.achievements[5] = !0, vg.setHidden(!1), starCash += 5, Cl(5)), 0 == e.achievements[6] && toolsEver >= 5e3 && (e.achievements[6] = !0, wg.setHidden(!1), starCash += 10, Cl(6)), 0 == e.achievements[7] && yearCount >= 2 && (e.achievements[7] = !0, bg.setHidden(!1), starCash += 5, Cl(7)), 0 == e.achievements[8] && t >= 4 && (e.achievements[8] = !0, Rg.setHidden(!1), starCash += 10, Cl(8)), 0 == e.achievements[9] && vinyardHouseLevel > 1 && (e.achievements[9] = !0, Bg.setHidden(!1), starCash += 10, Cl(9)), 0 == e.achievements[10] && orchardTreeBlock > 1 && vinyardBlocks > 1 && vinyardBlocks2 > 1 && player.fields >= 3 && (e.achievements[10] = !0, Wg.setHidden(!1), starCash += 5, Cl(10)), 0 == e.achievements[11] && player.cropsStored[10].stored >= 100 && player.cropsStored[11].stored >= 100 && (e.achievements[11] = !0, $g.setHidden(!1), starCash += 10, Cl(11)), 0 == e.achievements[12] && player.cropsStored[0] >= 1 && player.cropsStored[1] >= 1 && player.cropsStored[2] >= 1 && player.cropsStored[3] >= 1 && player.cropsStored[4] >= 1 && player.cropsStored[5] >= 1 && player.cropsStored[6] >= 1 && player.cropsStored[7] >= 1 && player.cropsStored[8] >= 1 && player.cropsStored[9] >= 1 && player.cropsStored[10] >= 1 && player.cropsStored[11] >= 1 && player.cropsStored[12] >= 1 && player.cropsStored[13] >= 1 && (e.achievements[12] = !0, Zg.setHidden(!1), starCash += 10, Cl(12)), 0 == e.achievements[13] && player.pastureLevel >= 3 && (e.achievements[13] = !0, nl.setHidden(!1), starCash += 5, Cl(13)), 0 == e.achievements[14] && moneyEver >= 5e3 && (e.achievements[14] = !0, ll.setHidden(!1), starCash += 5, Cl(14)), 0 == e.achievements[15] && 1 == boughtStarCash && (e.achievements[15] = !0, ml.setHidden(!1), starCash += 10, Cl(15)), 0 == e.achievements[16] && yearCount >= 10 && (e.achievements[16] = !0, Sl.setHidden(!1), starCash += 50, Cl(16)), _l.setText(starCash), localStorage.setItem("starCash", starCash), localStorage.setItem("GuiGhostFarms_achievements", JSON.stringify(e.achievements)) } function Cl(t) { st.setHidden(!1), Lo.setHidden(!1), gn.setHidden(!1), ur.setHidden(!1), Ta.setHidden(!1), rt.setText(" " + e.achieveText[t - 1].sub), Do.setText(" " + e.achieveText[t - 1].sub), ln.setText(" " + e.achieveText[t - 1].sub), fr.setText(" " + e.achieveText[t - 1].sub), Fa.setText(" " + e.achieveText[t - 1].sub), at.setText(e.achieveText[t - 1].title), Ro.setText(e.achieveText[t - 1].title), dn.setText(e.achieveText[t - 1].title), yr.setText(e.achieveText[t - 1].title), Ea.setText(e.achieveText[t - 1].title), gt.setText(" + " + e.achieveText[t - 1].reward), Oo.setText(" + " + e.achieveText[t - 1].reward), pn.setText(" + " + e.achieveText[t - 1].reward), vr.setText(" + " + e.achieveText[t - 1].reward), ba.setText(" + " + e.achieveText[t - 1].reward) } function wl(e) { h.replaceScene(Va, lime.transitions.SlideInDown) } function Al(e) { 1 == e ? (It.setFill(imgArray[16]), b.setFill(imgArray[16]), on.setFill(imgArray[16]), Pa.setFill(imgArray[16]), pr.setFill(imgArray[16])) : (It.setFill(imgArray[15]), b.setFill(imgArray[15]), on.setFill(imgArray[15]), Pa.setFill(imgArray[15]), pr.setFill(imgArray[15])) } function Tl() { (player.cropsStored[8].stored < 2 || player.cropsStored[5].stored < 2) && er.setHidden(!1), player.cropsStored[12].stored < 2 && vinyardHouseLevel > 1 && Ba.setHidden(!1), player.cropsStored[6].stored < 3 && No.setHidden(!1) } Ya.appendChild(_l), 0 == e.achievements[1] && Ja.setHidden(!0), 0 == e.achievements[2] && ig.setHidden(!0), 0 == e.achievements[3] && gg.setHidden(!0), 0 == e.achievements[4] && hg.setHidden(!0), 0 == e.achievements[5] && vg.setHidden(!0), 0 == e.achievements[6] && wg.setHidden(!0), 0 == e.achievements[7] && bg.setHidden(!0), 0 == e.achievements[8] && Rg.setHidden(!0), 0 == e.achievements[9] && Bg.setHidden(!0), 0 == e.achievements[10] && Wg.setHidden(!0), 0 == e.achievements[11] && $g.setHidden(!0), 0 == e.achievements[12] && Zg.setHidden(!0), 0 == e.achievements[13] && nl.setHidden(!0), 0 == e.achievements[14] && ll.setHidden(!0), 0 == e.achievements[15] && ml.setHidden(!0), 0 == e.achievements[16] && Sl.setHidden(!0), goog.events.listen(backBtnAchieve, ["mousedown", "touchstart"], function () { console.log(sceneBefore + " is scenebefore"), 1 == sceneBefore && (h.replaceScene(m, lime.transitions.SlideInUp), sceneBefore = 1), 2 == sceneBefore && (h.replaceScene(ht, lime.transitions.SlideInUp), sceneBefore = 2, t.currentCrop = 6), 3 == sceneBefore && (h.replaceScene(Xo, lime.transitions.SlideInUp), sceneBefore = 3, t.currentCrop = 8), 4 == sceneBefore && (h.replaceScene(br, lime.transitions.SlideInUp), sceneBefore = 4), 5 == sceneBefore && (h.replaceScene(ps, lime.transitions.SlideInUp), sceneBefore = 5) }), 0 == o[1].owned ? (_e.setHidden(!1), ve.setHidden(!0)) : (_e.setHidden(!0), ve.setHidden(!1)), 0 == o[2].owned ? (Pe.setHidden(!1), Se.setHidden(!0)) : (Pe.setHidden(!0), Se.setHidden(!1)), 0 == o[3].owned ? (To.setHidden(!1), vt.setHidden(!0)) : (To.setHidden(!0), vt.setHidden(!1)), 0 == o[4].owned ? (Hi.setHidden(!1), roadRightO.setHidden(!0)) : (Hi.setHidden(!0), roadRightO.setHidden(!1)); var Fl = 0; function El() { 1 == Fl ? (document.getElementById("fbshare").style.display = "none", Fl = 0) : (document.getElementById("fbshare").style.display = "block", Fl = 1) } };